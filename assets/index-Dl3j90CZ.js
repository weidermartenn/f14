var SP=Object.defineProperty;var tx=n=>{throw TypeError(n)};var EP=(n,e,t)=>e in n?SP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ne=(n,e,t)=>EP(n,typeof e!="symbol"?e+"":e,t),Vg=(n,e,t)=>e.has(n)||tx("Cannot "+t);var U=(n,e,t)=>(Vg(n,e,"read from private field"),t?t.call(n):e.get(n)),ft=(n,e,t)=>e.has(n)?tx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Le=(n,e,t,s)=>(Vg(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Cn=(n,e,t)=>(Vg(n,e,"access private method"),t);var Lf=(n,e,t,s)=>({set _(i){Le(n,e,i,t)},get _(){return U(n,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mn(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Xe={},na=[],fn=()=>{},rl=()=>!1,mo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Rp=n=>n.startsWith("onUpdate:"),Ye=Object.assign,Dp=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},wP=Object.prototype.hasOwnProperty,dt=(n,e)=>wP.call(n,e),ce=Array.isArray,sa=n=>Pa(n)==="[object Map]",yo=n=>Pa(n)==="[object Set]",cy=n=>Pa(n)==="[object Date]",hT=n=>Pa(n)==="[object RegExp]",we=n=>typeof n=="function",ke=n=>typeof n=="string",Qn=n=>typeof n=="symbol",mt=n=>n!==null&&typeof n=="object",Np=n=>(mt(n)||we(n))&&we(n.then)&&we(n.catch),Hb=Object.prototype.toString,Pa=n=>Hb.call(n),pT=n=>Pa(n).slice(8,-1),df=n=>Pa(n)==="[object Object]",Lp=n=>ke(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,tr=mn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gT=mn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Fp=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},TP=/-(\w)/g,Ct=Fp(n=>n.replace(TP,(e,t)=>t?t.toUpperCase():"")),CP=/\B([A-Z])/g,Nn=Fp(n=>n.replace(CP,"-$1").toLowerCase()),bo=Fp(n=>n.charAt(0).toUpperCase()+n.slice(1)),ia=Fp(n=>n?`on${bo(n)}`:""),In=(n,e)=>!Object.is(n,e),ra=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Ub=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Eu=n=>{const e=parseFloat(n);return isNaN(e)?n:e},wu=n=>{const e=ke(n)?Number(n):NaN;return isNaN(e)?n:e};let nx;const hf=()=>nx||(nx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),OP=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function kP(n){return OP.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function _P(n,e){return n+JSON.stringify(e,(t,s)=>typeof s=="function"?s.toString():s)}const AP={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},MP={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},PP={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},IP={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},RP={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},DP="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",zb=mn(DP),NP=zb,sx=2;function mT(n,e=0,t=n.length){if(e=Math.max(0,Math.min(e,n.length)),t=Math.max(0,Math.min(t,n.length)),e>t)return"";let s=n.split(/(\r?\n)/);const i=s.filter((a,l)=>l%2===1);s=s.filter((a,l)=>l%2===0);let r=0;const o=[];for(let a=0;a<s.length;a++)if(r+=s[a].length+(i[a]&&i[a].length||0),r>=e){for(let l=a-sx;l<=a+sx||t>r;l++){if(l<0||l>=s.length)continue;const c=l+1;o.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${s[l]}`);const u=s[l].length,f=i[l]&&i[l].length||0;if(l===a){const d=e-(r-(u+f)),h=Math.max(1,t>r?u-d:t-e);o.push("   |  "+" ".repeat(d)+"^".repeat(h))}else if(l>a){if(t>r){const d=Math.max(Math.min(t-r,u),1);o.push("   |  "+"^".repeat(d))}r+=u+f}}break}return o.join(`
`)}function Zl(n){if(ce(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=ke(s)?Wb(s):Zl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(ke(n)||mt(n))return n}const LP=/;(?![^(]*\))/g,FP=/:([^]+)/,$P=/\/\*[^]*?\*\//g;function Wb(n){const e={};return n.replace($P,"").split(LP).forEach(t=>{if(t){const s=t.split(FP);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function jP(n){if(!n)return"";if(ke(n))return n;let e="";for(const t in n){const s=n[t];if(ke(s)||typeof s=="number"){const i=t.startsWith("--")?t:Nn(t);e+=`${i}:${s};`}}return e}function pt(n){let e="";if(ke(n))e=n;else if(ce(n))for(let t=0;t<n.length;t++){const s=pt(n[t]);s&&(e+=s+" ")}else if(mt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function yT(n){if(!n)return null;let{class:e,style:t}=n;return e&&!ke(e)&&(n.class=pt(e)),t&&(n.style=Zl(t)),n}const BP="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",VP="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",HP="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",UP="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",bT=mn(BP),vT=mn(VP),xT=mn(HP),ST=mn(UP),ET="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wT=mn(ET),zP=mn(ET+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Kb(n){return!!n||n===""}const WP=/[>/="'\u0009\u000a\u000c\u0020]/,Hg={};function KP(n){if(Hg.hasOwnProperty(n))return Hg[n];const e=WP.test(n);return e&&console.error(`unsafe attribute name: ${n}`),Hg[n]=!e}const GP={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},XP=mn("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),JP=mn("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),YP=mn("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function qP(n){if(n==null)return!1;const e=typeof n;return e==="string"||e==="number"||e==="boolean"}const QP=/["'&<>]/;function ZP(n){const e=""+n,t=QP.exec(e);if(!t)return e;let s="",i,r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(s+=e.slice(o,r)),o=r+1,s+=i}return o!==r?s+e.slice(o,r):s}const eI=/^-?>|<!--|-->|--!>|<!-$/g;function tI(n){return n.replace(eI,"")}const TT=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function nI(n,e){return n.replace(TT,t=>e?t==='"'?'\\\\\\"':`\\\\${t}`:`\\${t}`)}function sI(n,e){if(n.length!==e.length)return!1;let t=!0;for(let s=0;t&&s<n.length;s++)t=or(n[s],e[s]);return t}function or(n,e){if(n===e)return!0;let t=cy(n),s=cy(e);if(t||s)return t&&s?n.getTime()===e.getTime():!1;if(t=Qn(n),s=Qn(e),t||s)return n===e;if(t=ce(n),s=ce(e),t||s)return t&&s?sI(n,e):!1;if(t=mt(n),s=mt(e),t||s){if(!t||!s)return!1;const i=Object.keys(n).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!or(n[o],e[o]))return!1}}return String(n)===String(e)}function pf(n,e){return n.findIndex(t=>or(t,e))}const CT=n=>!!(n&&n.__v_isRef===!0),Je=n=>ke(n)?n:n==null?"":ce(n)||mt(n)&&(n.toString===Hb||!we(n.toString))?CT(n)?Je(n.value):JSON.stringify(n,OT,2):String(n),OT=(n,e)=>CT(e)?OT(n,e.value):sa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[Ug(s,r)+" =>"]=i,t),{})}:yo(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Ug(t))}:Qn(e)?Ug(e):mt(e)&&!ce(e)&&!df(e)?String(e):e,Ug=(n,e="")=>{var t;return Qn(n)?`Symbol(${(t=n.description)!=null?t:e})`:n},iI=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:na,EMPTY_OBJ:Xe,NO:rl,NOOP:fn,PatchFlagNames:MP,PatchFlags:AP,ShapeFlags:PP,SlotFlags:IP,camelize:Ct,capitalize:bo,cssVarNameEscapeSymbolsRE:TT,def:Ub,escapeHtml:ZP,escapeHtmlComment:tI,extend:Ye,genCacheKey:_P,genPropsAccessExp:kP,generateCodeFrame:mT,getEscapedCssVarName:nI,getGlobalThis:hf,hasChanged:In,hasOwn:dt,hyphenate:Nn,includeBooleanAttr:Kb,invokeArrayFns:ra,isArray:ce,isBooleanAttr:zP,isBuiltInDirective:gT,isDate:cy,isFunction:we,isGloballyAllowed:zb,isGloballyWhitelisted:NP,isHTMLTag:bT,isIntegerKey:Lp,isKnownHtmlAttr:XP,isKnownMathMLAttr:YP,isKnownSvgAttr:JP,isMap:sa,isMathMLTag:xT,isModelListener:Rp,isObject:mt,isOn:mo,isPlainObject:df,isPromise:Np,isRegExp:hT,isRenderableAttrValue:qP,isReservedProp:tr,isSSRSafeAttrName:KP,isSVGTag:vT,isSet:yo,isSpecialBooleanAttr:wT,isString:ke,isSymbol:Qn,isVoidTag:ST,looseEqual:or,looseIndexOf:pf,looseToNumber:Eu,makeMap:mn,normalizeClass:pt,normalizeProps:yT,normalizeStyle:Zl,objectToString:Hb,parseStringStyle:Wb,propsToAttrMap:GP,remove:Dp,slotFlagsText:RP,stringifyStyle:jP,toDisplayString:Je,toHandlerKey:ia,toNumber:wu,toRawType:pT,toTypeString:Pa},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kn;class Gb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kn,!e&&Kn&&(this.index=(Kn.scopes||(Kn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Kn;try{return Kn=this,e()}finally{Kn=t}}}on(){Kn=this}off(){Kn=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function rI(n){return new Gb(n)}function kT(){return Kn}function oI(n,e=!1){Kn&&Kn.cleanups.push(n)}let wt;const zg=new WeakSet;class Tu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kn&&Kn.active&&Kn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zg.has(this)&&(zg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||AT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ix(this),MT(this);const e=wt,t=ii;wt=this,ii=!0;try{return this.fn()}finally{PT(this),wt=e,ii=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yb(e);this.deps=this.depsTail=void 0,ix(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uy(this)&&this.run()}get dirty(){return uy(this)}}let _T=0,Kc,Gc;function AT(n,e=!1){if(n.flags|=8,e){n.next=Gc,Gc=n;return}n.next=Kc,Kc=n}function Xb(){_T++}function Jb(){if(--_T>0)return;if(Gc){let e=Gc;for(Gc=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Kc;){let e=Kc;for(Kc=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function MT(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function PT(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),Yb(s),aI(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function uy(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(IT(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function IT(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Cu))return;n.globalVersion=Cu;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!uy(n)){n.flags&=-3;return}const t=wt,s=ii;wt=n,ii=!0;try{MT(n);const i=n.fn(n._value);(e.version===0||In(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{wt=t,ii=s,PT(n),n.flags&=-3}}function Yb(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)Yb(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function aI(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}function lI(n,e){n.effect instanceof Tu&&(n=n.effect.fn);const t=new Tu(n);e&&Ye(t,e);try{t.run()}catch(i){throw t.stop(),i}const s=t.run.bind(t);return s.effect=t,s}function cI(n){n.effect.stop()}let ii=!0;const RT=[];function vo(){RT.push(ii),ii=!1}function xo(){const n=RT.pop();ii=n===void 0?!0:n}function ix(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=wt;wt=void 0;try{e()}finally{wt=t}}}let Cu=0,uI=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class $p{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!wt||!ii||wt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==wt)t=this.activeLink=new uI(wt,this),wt.deps?(t.prevDep=wt.depsTail,wt.depsTail.nextDep=t,wt.depsTail=t):wt.deps=wt.depsTail=t,DT(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=wt.depsTail,t.nextDep=void 0,wt.depsTail.nextDep=t,wt.depsTail=t,wt.deps===t&&(wt.deps=s)}return t}trigger(e){this.version++,Cu++,this.notify(e)}notify(e){Xb();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Jb()}}}function DT(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)DT(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const fh=new WeakMap,oa=Symbol(""),fy=Symbol(""),Ou=Symbol("");function Rn(n,e,t){if(ii&&wt){let s=fh.get(n);s||fh.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new $p),i.map=s,i.key=t),i.track()}}function Gi(n,e,t,s,i,r){const o=fh.get(n);if(!o){Cu++;return}const a=l=>{l&&l.trigger()};if(Xb(),e==="clear")o.forEach(a);else{const l=ce(n),c=l&&Lp(t);if(l&&t==="length"){const u=Number(s);o.forEach((f,d)=>{(d==="length"||d===Ou||!Qn(d)&&d>=u)&&a(f)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(Ou)),e){case"add":l?c&&a(o.get("length")):(a(o.get(oa)),sa(n)&&a(o.get(fy)));break;case"delete":l||(a(o.get(oa)),sa(n)&&a(o.get(fy)));break;case"set":sa(n)&&a(o.get(oa));break}}Jb()}function fI(n,e){const t=fh.get(n);return t&&t.get(e)}function ja(n){const e=nt(n);return e===n?e:(Rn(e,"iterate",Ou),Cs(n)?e:e.map(Dn))}function jp(n){return Rn(n=nt(n),"iterate",Ou),n}const dI={__proto__:null,[Symbol.iterator](){return Wg(this,Symbol.iterator,Dn)},concat(...n){return ja(this).concat(...n.map(e=>ce(e)?ja(e):e))},entries(){return Wg(this,"entries",n=>(n[1]=Dn(n[1]),n))},every(n,e){return Ai(this,"every",n,e,void 0,arguments)},filter(n,e){return Ai(this,"filter",n,e,t=>t.map(Dn),arguments)},find(n,e){return Ai(this,"find",n,e,Dn,arguments)},findIndex(n,e){return Ai(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Ai(this,"findLast",n,e,Dn,arguments)},findLastIndex(n,e){return Ai(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Ai(this,"forEach",n,e,void 0,arguments)},includes(...n){return Kg(this,"includes",n)},indexOf(...n){return Kg(this,"indexOf",n)},join(n){return ja(this).join(n)},lastIndexOf(...n){return Kg(this,"lastIndexOf",n)},map(n,e){return Ai(this,"map",n,e,void 0,arguments)},pop(){return ac(this,"pop")},push(...n){return ac(this,"push",n)},reduce(n,...e){return rx(this,"reduce",n,e)},reduceRight(n,...e){return rx(this,"reduceRight",n,e)},shift(){return ac(this,"shift")},some(n,e){return Ai(this,"some",n,e,void 0,arguments)},splice(...n){return ac(this,"splice",n)},toReversed(){return ja(this).toReversed()},toSorted(n){return ja(this).toSorted(n)},toSpliced(...n){return ja(this).toSpliced(...n)},unshift(...n){return ac(this,"unshift",n)},values(){return Wg(this,"values",Dn)}};function Wg(n,e,t){const s=jp(n),i=s[e]();return s!==n&&!Cs(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const hI=Array.prototype;function Ai(n,e,t,s,i,r){const o=jp(n),a=o!==n&&!Cs(n),l=o[e];if(l!==hI[e]){const f=l.apply(n,r);return a?Dn(f):f}let c=t;o!==n&&(a?c=function(f,d){return t.call(this,Dn(f),d,n)}:t.length>2&&(c=function(f,d){return t.call(this,f,d,n)}));const u=l.call(o,c,s);return a&&i?i(u):u}function rx(n,e,t,s){const i=jp(n);let r=t;return i!==n&&(Cs(n)?t.length>3&&(r=function(o,a,l){return t.call(this,o,a,l,n)}):r=function(o,a,l){return t.call(this,o,Dn(a),l,n)}),i[e](r,...s)}function Kg(n,e,t){const s=nt(n);Rn(s,"iterate",Ou);const i=s[e](...t);return(i===-1||i===!1)&&Hp(t[0])?(t[0]=nt(t[0]),s[e](...t)):i}function ac(n,e,t=[]){vo(),Xb();const s=nt(n)[e].apply(n,t);return Jb(),xo(),s}const pI=mn("__proto__,__v_isRef,__isVue"),NT=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Qn));function gI(n){Qn(n)||(n=String(n));const e=nt(this);return Rn(e,"has",n),e.hasOwnProperty(n)}class LT{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?HT:VT:r?BT:jT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ce(e);if(!i){let l;if(o&&(l=dI[t]))return l;if(t==="hasOwnProperty")return gI}const a=Reflect.get(e,t,Gt(e)?e:s);return(Qn(t)?NT.has(t):pI(t))||(i||Rn(e,"get",t),r)?a:Gt(a)?o&&Lp(t)?a:a.value:mt(a)?i?Qb(a):Ia(a):a}}class FT extends LT{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const l=co(r);if(!Cs(s)&&!co(s)&&(r=nt(r),s=nt(s)),!ce(e)&&Gt(r)&&!Gt(s))return l?!1:(r.value=s,!0)}const o=ce(e)&&Lp(t)?Number(t)<e.length:dt(e,t),a=Reflect.set(e,t,s,Gt(e)?e:i);return e===nt(i)&&(o?In(s,r)&&Gi(e,"set",t,s):Gi(e,"add",t,s)),a}deleteProperty(e,t){const s=dt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&Gi(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!Qn(t)||!NT.has(t))&&Rn(e,"has",t),s}ownKeys(e){return Rn(e,"iterate",ce(e)?"length":oa),Reflect.ownKeys(e)}}class $T extends LT{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mI=new FT,yI=new $T,bI=new FT(!0),vI=new $T(!0),dy=n=>n,Ff=n=>Reflect.getPrototypeOf(n);function xI(n,e,t){return function(...s){const i=this.__v_raw,r=nt(i),o=sa(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=i[n](...s),u=t?dy:e?hy:Dn;return!e&&Rn(r,"iterate",l?fy:oa),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function $f(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function SI(n,e){const t={get(i){const r=this.__v_raw,o=nt(r),a=nt(i);n||(In(i,a)&&Rn(o,"get",i),Rn(o,"get",a));const{has:l}=Ff(o),c=e?dy:n?hy:Dn;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&Rn(nt(i),"iterate",oa),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=nt(r),a=nt(i);return n||(In(i,a)&&Rn(o,"has",i),Rn(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=nt(a),c=e?dy:n?hy:Dn;return!n&&Rn(l,"iterate",oa),a.forEach((u,f)=>i.call(r,c(u),c(f),o))}};return Ye(t,n?{add:$f("add"),set:$f("set"),delete:$f("delete"),clear:$f("clear")}:{add(i){!e&&!Cs(i)&&!co(i)&&(i=nt(i));const r=nt(this);return Ff(r).has.call(r,i)||(r.add(i),Gi(r,"add",i,i)),this},set(i,r){!e&&!Cs(r)&&!co(r)&&(r=nt(r));const o=nt(this),{has:a,get:l}=Ff(o);let c=a.call(o,i);c||(i=nt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?In(r,u)&&Gi(o,"set",i,r):Gi(o,"add",i,r),this},delete(i){const r=nt(this),{has:o,get:a}=Ff(r);let l=o.call(r,i);l||(i=nt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Gi(r,"delete",i,void 0),c},clear(){const i=nt(this),r=i.size!==0,o=i.clear();return r&&Gi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=xI(i,n,e)}),t}function Bp(n,e){const t=SI(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(dt(t,i)&&i in s?t:s,i,r)}const EI={get:Bp(!1,!1)},wI={get:Bp(!1,!0)},TI={get:Bp(!0,!1)},CI={get:Bp(!0,!0)},jT=new WeakMap,BT=new WeakMap,VT=new WeakMap,HT=new WeakMap;function OI(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kI(n){return n.__v_skip||!Object.isExtensible(n)?0:OI(pT(n))}function Ia(n){return co(n)?n:Vp(n,!1,mI,EI,jT)}function qb(n){return Vp(n,!1,bI,wI,BT)}function Qb(n){return Vp(n,!0,yI,TI,VT)}function _I(n){return Vp(n,!0,vI,CI,HT)}function Vp(n,e,t,s,i){if(!mt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=kI(n);if(o===0)return n;const a=new Proxy(n,o===2?s:t);return i.set(n,a),a}function qr(n){return co(n)?qr(n.__v_raw):!!(n&&n.__v_isReactive)}function co(n){return!!(n&&n.__v_isReadonly)}function Cs(n){return!!(n&&n.__v_isShallow)}function Hp(n){return n?!!n.__v_raw:!1}function nt(n){const e=n&&n.__v_raw;return e?nt(e):n}function Zb(n){return!dt(n,"__v_skip")&&Object.isExtensible(n)&&Ub(n,"__v_skip",!0),n}const Dn=n=>mt(n)?Ia(n):n,hy=n=>mt(n)?Qb(n):n;function Gt(n){return n?n.__v_isRef===!0:!1}function me(n){return UT(n,!1)}function Up(n){return UT(n,!0)}function UT(n,e){return Gt(n)?n:new AI(n,e)}class AI{constructor(e,t){this.dep=new $p,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:nt(e),this._value=t?e:Dn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Cs(e)||co(e);e=s?e:nt(e),In(e,t)&&(this._rawValue=e,this._value=s?e:Dn(e),this.dep.trigger())}}function MI(n){n.dep&&n.dep.trigger()}function re(n){return Gt(n)?n.value:n}function PI(n){return we(n)?n():re(n)}const II={get:(n,e,t)=>e==="__v_raw"?n:re(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return Gt(i)&&!Gt(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function ev(n){return qr(n)?n:new Proxy(n,II)}class RI{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new $p,{get:s,set:i}=e(t.track.bind(t),t.trigger.bind(t));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function tv(n){return new RI(n)}function DI(n){const e=ce(n)?new Array(n.length):{};for(const t in n)e[t]=zT(n,t);return e}class NI{constructor(e,t,s){this._object=e,this._key=t,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return fI(nt(this._object),this._key)}}class LI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function FI(n,e,t){return Gt(n)?n:we(n)?new LI(n):mt(n)&&arguments.length>1?zT(n,e,t):me(n)}function zT(n,e,t){const s=n[e];return Gt(s)?s:new NI(n,e,t)}class $I{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new $p(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&wt!==this)return AT(this,!0),!0}get value(){const e=this.dep.track();return IT(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jI(n,e,t=!1){let s,i;return we(n)?s=n:(s=n.get,i=n.set),new $I(s,i,t)}const BI={GET:"get",HAS:"has",ITERATE:"iterate"},VI={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},jf={},dh=new WeakMap;let Sr;function HI(){return Sr}function WT(n,e=!1,t=Sr){if(t){let s=dh.get(t);s||dh.set(t,s=[]),s.push(n)}}function UI(n,e,t=Xe){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=t,c=v=>i?v:Cs(v)||i===!1||i===0?Xi(v,1):Xi(v);let u,f,d,h,p=!1,g=!1;if(Gt(n)?(f=()=>n.value,p=Cs(n)):qr(n)?(f=()=>c(n),p=!0):ce(n)?(g=!0,p=n.some(v=>qr(v)||Cs(v)),f=()=>n.map(v=>{if(Gt(v))return v.value;if(qr(v))return c(v);if(we(v))return l?l(v,2):v()})):we(n)?e?f=l?()=>l(n,2):n:f=()=>{if(d){vo();try{d()}finally{xo()}}const v=Sr;Sr=u;try{return l?l(n,3,[h]):n(h)}finally{Sr=v}}:f=fn,e&&i){const v=f,S=i===!0?1/0:i;f=()=>Xi(v(),S)}const m=kT(),y=()=>{u.stop(),m&&m.active&&Dp(m.effects,u)};if(r&&e){const v=e;e=(...S)=>{v(...S),y()}}let b=g?new Array(n.length).fill(jf):jf;const x=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const S=u.run();if(i||p||(g?S.some((E,k)=>In(E,b[k])):In(S,b))){d&&d();const E=Sr;Sr=u;try{const k=[S,b===jf?void 0:g&&b[0]===jf?[]:b,h];l?l(e,3,k):e(...k),b=S}finally{Sr=E}}}else u.run()};return a&&a(x),u=new Tu(f),u.scheduler=o?()=>o(x,!1):x,h=v=>WT(v,!1,u),d=u.onStop=()=>{const v=dh.get(u);if(v){if(l)l(v,4);else for(const S of v)S();dh.delete(u)}},e?s?x(!0):b=u.run():o?o(x.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Xi(n,e=1/0,t){if(e<=0||!mt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Gt(n))Xi(n.value,e,t);else if(ce(n))for(let s=0;s<n.length;s++)Xi(n[s],e,t);else if(yo(n)||sa(n))n.forEach(s=>{Xi(s,e,t)});else if(df(n)){for(const s in n)Xi(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&Xi(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KT=[];function zI(n){KT.push(n)}function WI(){KT.pop()}function KI(n,e){}const GI={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},XI={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ec(n,e,t,s){try{return s?n(...s):n()}catch(i){Ra(i,e,t)}}function Ws(n,e,t,s){if(we(n)){const i=ec(n,e,t,s);return i&&Np(i)&&i.catch(r=>{Ra(r,e,t)}),i}if(ce(n)){const i=[];for(let r=0;r<n.length;r++)i.push(Ws(n[r],e,t,s));return i}}function Ra(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Xe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](n,l,c)===!1)return}a=a.parent}if(r){vo(),ec(r,null,10,[n,l,c]),xo();return}}JI(n,t,i,s,o)}function JI(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const Gn=[];let di=-1;const ul=[];let Er=null,Qa=0;const GT=Promise.resolve();let hh=null;function Da(n){const e=hh||GT;return n?e.then(this?n.bind(this):n):e}function YI(n){let e=di+1,t=Gn.length;for(;e<t;){const s=e+t>>>1,i=Gn[s],r=_u(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function nv(n){if(!(n.flags&1)){const e=_u(n),t=Gn[Gn.length-1];!t||!(n.flags&2)&&e>=_u(t)?Gn.push(n):Gn.splice(YI(e),0,n),n.flags|=1,XT()}}function XT(){hh||(hh=GT.then(JT))}function ku(n){ce(n)?ul.push(...n):Er&&n.id===-1?Er.splice(Qa+1,0,n):n.flags&1||(ul.push(n),n.flags|=1),XT()}function ox(n,e,t=di+1){for(;t<Gn.length;t++){const s=Gn[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;Gn.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ph(n){if(ul.length){const e=[...new Set(ul)].sort((t,s)=>_u(t)-_u(s));if(ul.length=0,Er){Er.push(...e);return}for(Er=e,Qa=0;Qa<Er.length;Qa++){const t=Er[Qa];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Er=null,Qa=0}}const _u=n=>n.id==null?n.flags&2?-1:1/0:n.id;function JT(n){try{for(di=0;di<Gn.length;di++){const e=Gn[di];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ec(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;di<Gn.length;di++){const e=Gn[di];e&&(e.flags&=-2)}di=-1,Gn.length=0,ph(),hh=null,(Gn.length||ul.length)&&JT()}}let Za,Bf=[];function YT(n,e){var t,s;Za=n,Za?(Za.enabled=!0,Bf.forEach(({event:i,args:r})=>Za.emit(i,...r)),Bf=[]):typeof window<"u"&&window.HTMLElement&&!((s=(t=window.navigator)==null?void 0:t.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{YT(r,e)}),setTimeout(()=>{Za||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Bf=[])},3e3)):Bf=[]}let sn=null,zp=null;function Au(n){const e=sn;return sn=n,zp=n&&n.type.__scopeId||null,e}function qI(n){zp=n}function QI(){zp=null}const ZI=n=>$s;function $s(n,e=sn,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&Sy(-1);const r=Au(e);let o;try{o=n(...i)}finally{Au(r),s._d&&Sy(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Vr(n,e){if(sn===null)return n;const t=yf(sn),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Xe]=e[i];r&&(we(r)&&(r={mounted:r,updated:r}),r.deep&&Xi(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function yi(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(vo(),Ws(l,t,8,[n.el,a,n,e]),xo())}}const qT=Symbol("_vte"),QT=n=>n.__isTeleport,Xc=n=>n&&(n.disabled||n.disabled===""),ax=n=>n&&(n.defer||n.defer===""),lx=n=>typeof SVGElement<"u"&&n instanceof SVGElement,cx=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,py=(n,e)=>{const t=n&&n.to;return ke(t)?e?e(t):null:t},ZT={name:"Teleport",__isTeleport:!0,process(n,e,t,s,i,r,o,a,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:g,createComment:m}}=c,y=Xc(e.props);let{shapeFlag:b,children:x,dynamicChildren:v}=e;if(n==null){const S=e.el=g(""),E=e.anchor=g("");h(S,t,s),h(E,t,s);const k=(w,O)=>{b&16&&(i&&i.isCE&&(i.ce._teleportTarget=w),u(x,w,O,i,r,o,a,l))},_=()=>{const w=e.target=py(e.props,p),O=eC(w,e,g,h);w&&(o!=="svg"&&lx(w)?o="svg":o!=="mathml"&&cx(w)&&(o="mathml"),y||(k(w,O),Rd(e,!1)))};y&&(k(t,E),Rd(e,!0)),ax(e.props)?Zt(()=>{_(),e.el.__isMounted=!0},r):_()}else{if(ax(e.props)&&!n.el.__isMounted){Zt(()=>{ZT.process(n,e,t,s,i,r,o,a,l,c),delete n.el.__isMounted},r);return}e.el=n.el,e.targetStart=n.targetStart;const S=e.anchor=n.anchor,E=e.target=n.target,k=e.targetAnchor=n.targetAnchor,_=Xc(n.props),w=_?t:E,O=_?S:k;if(o==="svg"||lx(E)?o="svg":(o==="mathml"||cx(E))&&(o="mathml"),v?(d(n.dynamicChildren,v,w,i,r,o,a),dv(n,e,!0)):l||f(n,e,w,O,i,r,o,a,!1),y)_?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):Vf(e,t,S,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const C=e.target=py(e.props,p);C&&Vf(e,C,null,c,0)}else _&&Vf(e,E,k,c,1);Rd(e,y)}},remove(n,e,t,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:f,props:d}=n;if(f&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Xc(d);for(let p=0;p<a.length;p++){const g=a[p];s(g,e,t,h,!!g.dynamicChildren)}}},move:Vf,hydrate:eR};function Vf(n,e,t,{o:{insert:s},m:i},r=2){r===0&&s(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,f=r===2;if(f&&s(o,e,t),(!f||Xc(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,t,2);f&&s(a,e,t)}function eR(n,e,t,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},f){const d=e.target=py(e.props,l);if(d){const h=Xc(e.props),p=d._lpa||d.firstChild;if(e.shapeFlag&16)if(h)e.anchor=f(o(n),e,a(n),t,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(n);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||eC(d,e,u,c),f(p&&o(p),e,d,t,s,i,r)}Rd(e,h)}return e.anchor&&o(e.anchor)}const tR=ZT;function Rd(n,e){const t=n.ctx;if(t&&t.ut){let s,i;for(e?(s=n.el,i=n.anchor):(s=n.targetStart,i=n.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}function eC(n,e,t,s){const i=e.targetStart=t(""),r=e.targetAnchor=t("");return i[qT]=r,n&&(s(i,n),s(r,n)),r}const wr=Symbol("_leaveCb"),Hf=Symbol("_enterCb");function sv(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ks(()=>{n.isMounted=!0}),tc(()=>{n.isUnmounting=!0}),n}const Ms=[Function,Array],iv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ms,onEnter:Ms,onAfterEnter:Ms,onEnterCancelled:Ms,onBeforeLeave:Ms,onLeave:Ms,onAfterLeave:Ms,onLeaveCancelled:Ms,onBeforeAppear:Ms,onAppear:Ms,onAfterAppear:Ms,onAppearCancelled:Ms},tC=n=>{const e=n.subTree;return e.component?tC(e.component):e},nR={name:"BaseTransition",props:iv,setup(n,{slots:e}){const t=_s(),s=sv();return()=>{const i=e.default&&Wp(e.default(),!0);if(!i||!i.length)return;const r=nC(i),o=nt(n),{mode:a}=o;if(s.isLeaving)return Gg(r);const l=ux(r);if(!l)return Gg(r);let c=_l(l,o,s,t,f=>c=f);l.type!==qt&&ar(l,c);let u=t.subTree&&ux(t.subTree);if(u&&u.type!==qt&&!ti(l,u)&&tC(t).type!==qt){let f=_l(u,o,s,t);if(ar(u,f),a==="out-in"&&l.type!==qt)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,t.job.flags&8||t.update(),delete f.afterLeave,u=void 0},Gg(r);a==="in-out"&&l.type!==qt?f.delayLeave=(d,h,p)=>{const g=iC(s,u);g[String(u.key)]=u,d[wr]=()=>{h(),d[wr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function nC(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==qt){e=t;break}}return e}const sC=nR;function iC(n,e){const{leavingVNodes:t}=n;let s=t.get(e.type);return s||(s=Object.create(null),t.set(e.type,s)),s}function _l(n,e,t,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=e,v=String(n.key),S=iC(t,n),E=(w,O)=>{w&&Ws(w,s,9,O)},k=(w,O)=>{const C=O[1];E(w,O),ce(w)?w.every(T=>T.length<=1)&&C():w.length<=1&&C()},_={mode:o,persisted:a,beforeEnter(w){let O=l;if(!t.isMounted)if(r)O=m||l;else return;w[wr]&&w[wr](!0);const C=S[v];C&&ti(n,C)&&C.el[wr]&&C.el[wr](),E(O,[w])},enter(w){let O=c,C=u,T=f;if(!t.isMounted)if(r)O=y||c,C=b||u,T=x||f;else return;let I=!1;const L=w[Hf]=j=>{I||(I=!0,j?E(T,[w]):E(C,[w]),_.delayedLeave&&_.delayedLeave(),w[Hf]=void 0)};O?k(O,[w,L]):L()},leave(w,O){const C=String(n.key);if(w[Hf]&&w[Hf](!0),t.isUnmounting)return O();E(d,[w]);let T=!1;const I=w[wr]=L=>{T||(T=!0,O(),L?E(g,[w]):E(p,[w]),w[wr]=void 0,S[C]===n&&delete S[C])};S[C]=n,h?k(h,[w,I]):I()},clone(w){const O=_l(w,e,t,s,i);return i&&i(O),O}};return _}function Gg(n){if(gf(n))return n=Ti(n),n.children=null,n}function ux(n){if(!gf(n))return QT(n.type)&&n.children?nC(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&we(t.default))return t.default()}}function ar(n,e){n.shapeFlag&6&&n.component?(n.transition=e,ar(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Wp(n,e=!1,t){let s=[],i=0;for(let r=0;r<n.length;r++){let o=n[r];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===st?(o.patchFlag&128&&i++,s=s.concat(Wp(o.children,e,a))):(e||o.type!==qt)&&s.push(a!=null?Ti(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function vt(n,e){return we(n)?Ye({name:n.name},e,{setup:n}):n}function sR(){const n=_s();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function rv(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function iR(n){const e=_s(),t=Up(null);if(e){const i=e.refs===Xe?e.refs={}:e.refs;Object.defineProperty(i,n,{enumerable:!0,get:()=>t.value,set:r=>t.value=r})}return t}function Mu(n,e,t,s,i=!1){if(ce(n)){n.forEach((p,g)=>Mu(p,e&&(ce(e)?e[g]:e),t,s,i));return}if(Qr(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Mu(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?yf(s.component):s.el,o=i?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Xe?a.refs={}:a.refs,f=a.setupState,d=nt(f),h=f===Xe?()=>!1:p=>dt(d,p);if(c!=null&&c!==l&&(ke(c)?(u[c]=null,h(c)&&(f[c]=null)):Gt(c)&&(c.value=null)),we(l))ec(l,a,12,[o,u]);else{const p=ke(l),g=Gt(l);if(p||g){const m=()=>{if(n.f){const y=p?h(l)?f[l]:u[l]:l.value;i?ce(y)&&Dp(y,r):ce(y)?y.includes(r)||y.push(r):p?(u[l]=[r],h(l)&&(f[l]=u[l])):(l.value=[r],n.k&&(u[n.k]=l.value))}else p?(u[l]=o,h(l)&&(f[l]=o)):g&&(l.value=o,n.k&&(u[n.k]=o))};o?(m.id=-1,Zt(m,t)):m()}}}let fx=!1;const Ba=()=>{fx||(console.error("Hydration completed but contains mismatches."),fx=!0)},rR=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",oR=n=>n.namespaceURI.includes("MathML"),Uf=n=>{if(n.nodeType===1){if(rR(n))return"svg";if(oR(n))return"mathml"}},ol=n=>n.nodeType===8;function aR(n){const{mt:e,p:t,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(x,v)=>{if(!v.hasChildNodes()){t(null,x,v),ph(),v._vnode=x;return}f(v.firstChild,x,null,null,null),ph(),v._vnode=x},f=(x,v,S,E,k,_=!1)=>{_=_||!!v.dynamicChildren;const w=ol(x)&&x.data==="[",O=()=>g(x,v,S,E,k,w),{type:C,ref:T,shapeFlag:I,patchFlag:L}=v;let j=x.nodeType;v.el=x,L===-2&&(_=!1,v.dynamicChildren=null);let D=null;switch(C){case Zr:j!==3?v.children===""?(l(v.el=i(""),o(x),x),D=x):D=O():(x.data!==v.children&&(Ba(),x.data=v.children),D=r(x));break;case qt:b(x)?(D=r(x),y(v.el=x.content.firstChild,x,S)):j!==8||w?D=O():D=r(x);break;case la:if(w&&(x=r(x),j=x.nodeType),j===1||j===3){D=x;const V=!v.children.length;for(let W=0;W<v.staticCount;W++)V&&(v.children+=D.nodeType===1?D.outerHTML:D.data),W===v.staticCount-1&&(v.anchor=D),D=r(D);return w?r(D):D}else O();break;case st:w?D=p(x,v,S,E,k,_):D=O();break;default:if(I&1)(j!==1||v.type.toLowerCase()!==x.tagName.toLowerCase())&&!b(x)?D=O():D=d(x,v,S,E,k,_);else if(I&6){v.slotScopeIds=k;const V=o(x);if(w?D=m(x):ol(x)&&x.data==="teleport start"?D=m(x,x.data,"teleport end"):D=r(x),e(v,V,null,S,E,Uf(V),_),Qr(v)&&!v.type.__asyncResolved){let W;w?(W=ve(st),W.anchor=D?D.previousSibling:V.lastChild):W=x.nodeType===3?Yp(""):ve("div"),W.el=x,v.component.subTree=W}}else I&64?j!==8?D=O():D=v.type.hydrate(x,v,S,E,k,_,n,h):I&128&&(D=v.type.hydrate(x,v,S,E,Uf(o(x)),k,_,n,f))}return T!=null&&Mu(T,null,E,v),D},d=(x,v,S,E,k,_)=>{_=_||!!v.dynamicChildren;const{type:w,props:O,patchFlag:C,shapeFlag:T,dirs:I,transition:L}=v,j=w==="input"||w==="option";if(j||C!==-1){I&&yi(v,null,S,"created");let D=!1;if(b(x)){D=MC(null,L)&&S&&S.vnode.props&&S.vnode.props.appear;const W=x.content.firstChild;D&&L.beforeEnter(W),y(W,x,S),v.el=x=W}if(T&16&&!(O&&(O.innerHTML||O.textContent))){let W=h(x.firstChild,v,x,S,E,k,_);for(;W;){zf(x,1)||Ba();const de=W;W=W.nextSibling,a(de)}}else if(T&8){let W=v.children;W[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(W=W.slice(1)),x.textContent!==W&&(zf(x,0)||Ba(),x.textContent=v.children)}if(O){if(j||!_||C&48){const W=x.tagName.includes("-");for(const de in O)(j&&(de.endsWith("value")||de==="indeterminate")||mo(de)&&!tr(de)||de[0]==="."||W)&&s(x,de,null,O[de],void 0,S)}else if(O.onClick)s(x,"onClick",null,O.onClick,void 0,S);else if(C&4&&qr(O.style))for(const W in O.style)O.style[W]}let V;(V=O&&O.onVnodeBeforeMount)&&us(V,S,v),I&&yi(v,null,S,"beforeMount"),((V=O&&O.onVnodeMounted)||I||D)&&BC(()=>{V&&us(V,S,v),D&&L.enter(x),I&&yi(v,null,S,"mounted")},E)}return x.nextSibling},h=(x,v,S,E,k,_,w)=>{w=w||!!v.dynamicChildren;const O=v.children,C=O.length;for(let T=0;T<C;T++){const I=w?O[T]:O[T]=fs(O[T]),L=I.type===Zr;x?(L&&!w&&T+1<C&&fs(O[T+1]).type===Zr&&(l(i(x.data.slice(I.children.length)),S,r(x)),x.data=I.children),x=f(x,I,E,k,_,w)):L&&!I.children?l(I.el=i(""),S):(zf(S,1)||Ba(),t(null,I,S,null,E,k,Uf(S),_))}return x},p=(x,v,S,E,k,_)=>{const{slotScopeIds:w}=v;w&&(k=k?k.concat(w):w);const O=o(x),C=h(r(x),v,O,S,E,k,_);return C&&ol(C)&&C.data==="]"?r(v.anchor=C):(Ba(),l(v.anchor=c("]"),O,C),C)},g=(x,v,S,E,k,_)=>{if(zf(x.parentElement,1)||Ba(),v.el=null,_){const C=m(x);for(;;){const T=r(x);if(T&&T!==C)a(T);else break}}const w=r(x),O=o(x);return a(x),t(null,v,O,w,S,E,Uf(O),k),S&&(S.vnode.el=v.el,Jp(S,v.el)),w},m=(x,v="[",S="]")=>{let E=0;for(;x;)if(x=r(x),x&&ol(x)&&(x.data===v&&E++,x.data===S)){if(E===0)return r(x);E--}return x},y=(x,v,S)=>{const E=v.parentNode;E&&E.replaceChild(x,v);let k=S;for(;k;)k.vnode.el===v&&(k.vnode.el=k.subTree.el=x),k=k.parent},b=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[u,f]}const dx="data-allow-mismatch",lR={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function zf(n,e){if(e===0||e===1)for(;n&&!n.hasAttribute(dx);)n=n.parentElement;const t=n&&n.getAttribute(dx);if(t==null)return!1;if(t==="")return!0;{const s=t.split(",");return e===0&&s.includes("children")?!0:t.split(",").includes(lR[e])}}const cR=hf().requestIdleCallback||(n=>setTimeout(n,1)),uR=hf().cancelIdleCallback||(n=>clearTimeout(n)),fR=(n=1e4)=>e=>{const t=cR(e,{timeout:n});return()=>uR(t)};function dR(n){const{top:e,left:t,bottom:s,right:i}=n.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return(e>0&&e<r||s>0&&s<r)&&(t>0&&t<o||i>0&&i<o)}const hR=n=>(e,t)=>{const s=new IntersectionObserver(i=>{for(const r of i)if(r.isIntersecting){s.disconnect(),e();break}},n);return t(i=>{if(i instanceof Element){if(dR(i))return e(),s.disconnect(),!1;s.observe(i)}}),()=>s.disconnect()},pR=n=>e=>{if(n){const t=matchMedia(n);if(t.matches)e();else return t.addEventListener("change",e,{once:!0}),()=>t.removeEventListener("change",e)}},gR=(n=[])=>(e,t)=>{ke(n)&&(n=[n]);let s=!1;const i=o=>{s||(s=!0,r(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},r=()=>{t(o=>{for(const a of n)o.removeEventListener(a,i)})};return t(o=>{for(const a of n)o.addEventListener(a,i,{once:!0})}),r};function mR(n,e){if(ol(n)&&n.data==="["){let t=1,s=n.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(ol(s))if(s.data==="]"){if(--t===0)break}else s.data==="["&&t++;s=s.nextSibling}}else e(n)}const Qr=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function yR(n){we(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:s,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:l}=n;let c=null,u,f=0;const d=()=>(f++,c=null,h()),h=()=>{let p;return c||(p=c=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),l)return new Promise((m,y)=>{l(g,()=>m(d()),()=>y(g),f+1)});throw g}).then(g=>p!==c&&c?c:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return vt({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,m){const y=r?()=>{const b=r(m,x=>mR(p,x));b&&(g.bum||(g.bum=[])).push(b)}:m;u?y():h().then(()=>!g.isUnmounted&&y())},get __asyncResolved(){return u},setup(){const p=tn;if(rv(p),u)return()=>Xg(u,p);const g=x=>{c=null,Ra(x,p,13,!s)};if(a&&p.suspense||Al)return h().then(x=>()=>Xg(x,p)).catch(x=>(g(x),()=>s?ve(s,{error:x}):null));const m=me(!1),y=me(),b=me(!!i);return i&&setTimeout(()=>{b.value=!1},i),o!=null&&setTimeout(()=>{if(!m.value&&!y.value){const x=new Error(`Async component timed out after ${o}ms.`);g(x),y.value=x}},o),h().then(()=>{m.value=!0,p.parent&&gf(p.parent.vnode)&&p.parent.update()}).catch(x=>{g(x),y.value=x}),()=>{if(m.value&&u)return Xg(u,p);if(y.value&&s)return ve(s,{error:y.value});if(t&&!b.value)return ve(t)}}})}function Xg(n,e){const{ref:t,props:s,children:i,ce:r}=e.vnode,o=ve(n,s,i);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const gf=n=>n.type.__isKeepAlive,bR={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=_s(),s=t.ctx;if(!s.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,r=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=s,d=f("div");s.activate=(b,x,v,S,E)=>{const k=b.component;c(b,x,v,0,a),l(k.vnode,b,x,v,k,a,S,b.slotScopeIds,E),Zt(()=>{k.isDeactivated=!1,k.a&&ra(k.a);const _=b.props&&b.props.onVnodeMounted;_&&us(_,k.parent,b)},a)},s.deactivate=b=>{const x=b.component;mh(x.m),mh(x.a),c(b,d,null,1,a),Zt(()=>{x.da&&ra(x.da);const v=b.props&&b.props.onVnodeUnmounted;v&&us(v,x.parent,b),x.isDeactivated=!0},a)};function h(b){Jg(b),u(b,t,a,!0)}function p(b){i.forEach((x,v)=>{const S=Oy(x.type);S&&!b(S)&&g(v)})}function g(b){const x=i.get(b);x&&(!o||!ti(x,o))?h(x):o&&Jg(o),i.delete(b),r.delete(b)}wn(()=>[n.include,n.exclude],([b,x])=>{b&&p(v=>Ac(b,v)),x&&p(v=>!Ac(x,v))},{flush:"post",deep:!0});let m=null;const y=()=>{m!=null&&(yh(t.subTree.type)?Zt(()=>{i.set(m,Wf(t.subTree))},t.subTree.suspense):i.set(m,Wf(t.subTree)))};return ks(y),Gp(y),tc(()=>{i.forEach(b=>{const{subTree:x,suspense:v}=t,S=Wf(x);if(b.type===S.type&&b.key===S.key){Jg(S);const E=S.component.da;E&&Zt(E,v);return}h(b)})}),()=>{if(m=null,!e.default)return o=null;const b=e.default(),x=b[0];if(b.length>1)return o=null,b;if(!lr(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let v=Wf(x);if(v.type===qt)return o=null,v;const S=v.type,E=Oy(Qr(v)?v.type.__asyncResolved||{}:S),{include:k,exclude:_,max:w}=n;if(k&&(!E||!Ac(k,E))||_&&E&&Ac(_,E))return v.shapeFlag&=-257,o=v,x;const O=v.key==null?S:v.key,C=i.get(O);return v.el&&(v=Ti(v),x.shapeFlag&128&&(x.ssContent=v)),m=O,C?(v.el=C.el,v.component=C.component,v.transition&&ar(v,v.transition),v.shapeFlag|=512,r.delete(O),r.add(O)):(r.add(O),w&&r.size>parseInt(w,10)&&g(r.values().next().value)),v.shapeFlag|=256,o=v,yh(x.type)?x:v}}},vR=bR;function Ac(n,e){return ce(n)?n.some(t=>Ac(t,e)):ke(n)?n.split(",").includes(e):hT(n)?(n.lastIndex=0,n.test(e)):!1}function rC(n,e){aC(n,"a",e)}function oC(n,e){aC(n,"da",e)}function aC(n,e,t=tn){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Kp(e,s,t),t){let i=t.parent;for(;i&&i.parent;)gf(i.parent.vnode)&&xR(s,e,t,i),i=i.parent}}function xR(n,e,t,s){const i=Kp(e,n,s,!0);nc(()=>{Dp(s[e],i)},t)}function Jg(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Wf(n){return n.shapeFlag&128?n.ssContent:n}function Kp(n,e,t=tn,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{vo();const a=va(t),l=Ws(e,t,n,o);return a(),xo(),l});return s?i.unshift(r):i.push(r),r}}const cr=n=>(e,t=tn)=>{(!Al||n==="sp")&&Kp(n,(...s)=>e(...s),t)},lC=cr("bm"),ks=cr("m"),ov=cr("bu"),Gp=cr("u"),tc=cr("bum"),nc=cr("um"),cC=cr("sp"),uC=cr("rtg"),fC=cr("rtc");function dC(n,e=tn){Kp("ec",n,e)}const av="components",SR="directives";function hC(n,e){return lv(av,n,!0,e)||n}const pC=Symbol.for("v-ndc");function ER(n){return ke(n)?lv(av,n,!1)||n:n||pC}function wR(n){return lv(SR,n)}function lv(n,e,t=!0,s=!1){const i=sn||tn;if(i){const r=i.type;if(n===av){const a=Oy(r,!1);if(a&&(a===e||a===Ct(e)||a===bo(Ct(e))))return r}const o=hx(i[n]||r[n],e)||hx(i.appContext[n],e);return!o&&s?r:o}}function hx(n,e){return n&&(n[e]||n[Ct(e)]||n[bo(Ct(e))])}function Yn(n,e,t,s){let i;const r=t&&t[s],o=ce(n);if(o||ke(n)){const a=o&&qr(n);let l=!1;a&&(l=!Cs(n),n=jp(n)),i=new Array(n.length);for(let c=0,u=n.length;c<u;c++)i[c]=e(l?Dn(n[c]):n[c],c,void 0,r&&r[c])}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=e(a+1,a,void 0,r&&r[a])}else if(mt(n))if(n[Symbol.iterator])i=Array.from(n,(a,l)=>e(a,l,void 0,r&&r[l]));else{const a=Object.keys(n);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(n[u],u,l,r&&r[l])}}else i=[];return t&&(t[s]=i),i}function TR(n,e){for(let t=0;t<e.length;t++){const s=e[t];if(ce(s))for(let i=0;i<s.length;i++)n[s[i].name]=s[i].fn;else s&&(n[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return n}function CR(n,e,t={},s,i){if(sn.ce||sn.parent&&Qr(sn.parent)&&sn.parent.ce)return e!=="default"&&(t.name=e),Y(),Os(st,null,[ve("slot",t,s&&s())],64);let r=n[e];r&&r._c&&(r._d=!1),Y();const o=r&&cv(r(t)),a=t.key||o&&o.key,l=Os(st,{key:(a&&!Qn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&n._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function cv(n){return n.some(e=>lr(e)?!(e.type===qt||e.type===st&&!cv(e.children)):!0)?n:null}function OR(n,e){const t={};for(const s in n)t[e&&/[A-Z]/.test(s)?`on:${s}`:ia(s)]=n[s];return t}const gy=n=>n?XC(n)?yf(n):gy(n.parent):null,Jc=Ye(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>gy(n.parent),$root:n=>gy(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>uv(n),$forceUpdate:n=>n.f||(n.f=()=>{nv(n.update)}),$nextTick:n=>n.n||(n.n=Da.bind(n.proxy)),$watch:n=>sD.bind(n)}),Yg=(n,e)=>n!==Xe&&!n.__isScriptSetup&&dt(n,e),my={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Yg(s,e))return o[e]=1,s[e];if(i!==Xe&&dt(i,e))return o[e]=2,i[e];if((c=n.propsOptions[0])&&dt(c,e))return o[e]=3,r[e];if(t!==Xe&&dt(t,e))return o[e]=4,t[e];yy&&(o[e]=0)}}const u=Jc[e];let f,d;if(u)return e==="$attrs"&&Rn(n.attrs,"get",""),u(n);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==Xe&&dt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,dt(d,e))return d[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return Yg(i,e)?(i[e]=t,!0):s!==Xe&&dt(s,e)?(s[e]=t,!0):dt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!t[o]||n!==Xe&&dt(n,o)||Yg(e,o)||(a=r[0])&&dt(a,o)||dt(s,o)||dt(Jc,o)||dt(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:dt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},kR=Ye({},my,{get(n,e){if(e!==Symbol.unscopables)return my.get(n,e,n)},has(n,e){return e[0]!=="_"&&!zb(e)}});function _R(){return null}function AR(){return null}function MR(n){}function PR(n){}function IR(){return null}function RR(){}function DR(n,e){return null}function NR(){return gC().slots}function LR(){return gC().attrs}function gC(){const n=_s();return n.setupContext||(n.setupContext=qC(n))}function Pu(n){return ce(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function FR(n,e){const t=Pu(n);for(const s in e){if(s.startsWith("__skip"))continue;let i=t[s];i?ce(i)||we(i)?i=t[s]={type:i,default:e[s]}:i.default=e[s]:i===null&&(i=t[s]={default:e[s]}),i&&e[`__skip_${s}`]&&(i.skipFactory=!0)}return t}function $R(n,e){return!n||!e?n||e:ce(n)&&ce(e)?n.concat(e):Ye({},Pu(n),Pu(e))}function jR(n,e){const t={};for(const s in n)e.includes(s)||Object.defineProperty(t,s,{enumerable:!0,get:()=>n[s]});return t}function BR(n){const e=_s();let t=n();return wy(),Np(t)&&(t=t.catch(s=>{throw va(e),s})),[t,()=>va(e)]}let yy=!0;function VR(n){const e=uv(n),t=n.proxy,s=n.ctx;yy=!1,e.beforeCreate&&px(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:v,render:S,renderTracked:E,renderTriggered:k,errorCaptured:_,serverPrefetch:w,expose:O,inheritAttrs:C,components:T,directives:I,filters:L}=e;if(c&&HR(c,s,null),o)for(const V in o){const W=o[V];we(W)&&(s[V]=W.bind(t))}if(i){const V=i.call(t,t);mt(V)&&(n.data=Ia(V))}if(yy=!0,r)for(const V in r){const W=r[V],de=we(W)?W.bind(t,t):we(W.get)?W.get.bind(t,t):fn,Ue=!we(W)&&we(W.set)?W.set.bind(t):fn,Ne=nn({get:de,set:Ue});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Me=>Ne.value=Me})}if(a)for(const V in a)mC(a[V],s,t,V);if(l){const V=we(l)?l.call(t):l;Reflect.ownKeys(V).forEach(W=>{Yc(W,V[W])})}u&&px(u,n,"c");function D(V,W){ce(W)?W.forEach(de=>V(de.bind(t))):W&&V(W.bind(t))}if(D(lC,f),D(ks,d),D(ov,h),D(Gp,p),D(rC,g),D(oC,m),D(dC,_),D(fC,E),D(uC,k),D(tc,b),D(nc,v),D(cC,w),ce(O))if(O.length){const V=n.exposed||(n.exposed={});O.forEach(W=>{Object.defineProperty(V,W,{get:()=>t[W],set:de=>t[W]=de})})}else n.exposed||(n.exposed={});S&&n.render===fn&&(n.render=S),C!=null&&(n.inheritAttrs=C),T&&(n.components=T),I&&(n.directives=I),w&&rv(n)}function HR(n,e,t=fn){ce(n)&&(n=by(n));for(const s in n){const i=n[s];let r;mt(i)?"default"in i?r=Bs(i.from||s,i.default,!0):r=Bs(i.from||s):r=Bs(i),Gt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function px(n,e,t){Ws(ce(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function mC(n,e,t,s){let i=s.includes(".")?LC(t,s):()=>t[s];if(ke(n)){const r=e[n];we(r)&&wn(i,r)}else if(we(n))wn(i,n.bind(t));else if(mt(n))if(ce(n))n.forEach(r=>mC(r,e,t,s));else{const r=we(n.handler)?n.handler.bind(t):e[n.handler];we(r)&&wn(i,r,n)}}function uv(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!t&&!s?l=e:(l={},i.length&&i.forEach(c=>gh(l,c,o,!0)),gh(l,e,o)),mt(e)&&r.set(e,l),l}function gh(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&gh(n,r,t,!0),i&&i.forEach(o=>gh(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const a=UR[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const UR={data:gx,props:mx,emits:mx,methods:Mc,computed:Mc,beforeCreate:Un,created:Un,beforeMount:Un,mounted:Un,beforeUpdate:Un,updated:Un,beforeDestroy:Un,beforeUnmount:Un,destroyed:Un,unmounted:Un,activated:Un,deactivated:Un,errorCaptured:Un,serverPrefetch:Un,components:Mc,directives:Mc,watch:WR,provide:gx,inject:zR};function gx(n,e){return e?n?function(){return Ye(we(n)?n.call(this,this):n,we(e)?e.call(this,this):e)}:e:n}function zR(n,e){return Mc(by(n),by(e))}function by(n){if(ce(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Un(n,e){return n?[...new Set([].concat(n,e))]:e}function Mc(n,e){return n?Ye(Object.create(null),n,e):e}function mx(n,e){return n?ce(n)&&ce(e)?[...new Set([...n,...e])]:Ye(Object.create(null),Pu(n),Pu(e??{})):e}function WR(n,e){if(!n)return e;if(!e)return n;const t=Ye(Object.create(null),n);for(const s in e)t[s]=Un(n[s],e[s]);return t}function yC(){return{app:null,config:{isNativeTag:rl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KR=0;function GR(n,e){return function(s,i=null){we(s)||(s=Ye({},s)),i!=null&&!mt(i)&&(i=null);const r=yC(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:KR++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ZC,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&we(u.install)?(o.add(u),u.install(c,...f)):we(u)&&(o.add(u),u(c,...f))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,f){return f?(r.components[u]=f,c):r.components[u]},directive(u,f){return f?(r.directives[u]=f,c):r.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||ve(s,i);return h.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(h,u):n(h,u,d),l=!0,c._container=u,u.__vue_app__=c,yf(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ws(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,f){return r.provides[u]=f,c},runWithContext(u){const f=aa;aa=c;try{return u()}finally{aa=f}}};return c}}let aa=null;function Yc(n,e){if(tn){let t=tn.provides;const s=tn.parent&&tn.parent.provides;s===t&&(t=tn.provides=Object.create(s)),t[n]=e}}function Bs(n,e,t=!1){const s=tn||sn;if(s||aa){const i=aa?aa._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&we(e)?e.call(s&&s.proxy):e}}function XR(){return!!(tn||sn||aa)}const bC={},vC=()=>Object.create(bC),xC=n=>Object.getPrototypeOf(n)===bC;function JR(n,e,t,s=!1){const i={},r=vC();n.propsDefaults=Object.create(null),SC(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:qb(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function YR(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,a=nt(i),[l]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Xp(n.emitsOptions,d))continue;const h=e[d];if(l)if(dt(r,d))h!==r[d]&&(r[d]=h,c=!0);else{const p=Ct(d);i[p]=vy(l,a,p,h,n,!1)}else h!==r[d]&&(r[d]=h,c=!0)}}}else{SC(n,e,i,r)&&(c=!0);let u;for(const f in a)(!e||!dt(e,f)&&((u=Nn(f))===f||!dt(e,u)))&&(l?t&&(t[f]!==void 0||t[u]!==void 0)&&(i[f]=vy(l,a,f,void 0,n,!0)):delete i[f]);if(r!==a)for(const f in r)(!e||!dt(e,f))&&(delete r[f],c=!0)}c&&Gi(n.attrs,"set","")}function SC(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(tr(l))continue;const c=e[l];let u;i&&dt(i,u=Ct(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:Xp(n.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=nt(t),c=a||Xe;for(let u=0;u<r.length;u++){const f=r[u];t[f]=vy(i,l,f,c[f],n,!dt(c,f))}}return o}function vy(n,e,t,s,i,r){const o=n[t];if(o!=null){const a=dt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&we(l)){const{propsDefaults:c}=i;if(t in c)s=c[t];else{const u=va(i);s=c[t]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Nn(t))&&(s=!0))}return s}const qR=new WeakMap;function EC(n,e,t=!1){const s=t?qR:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},a=[];let l=!1;if(!we(n)){const u=f=>{l=!0;const[d,h]=EC(f,e,!0);Ye(o,d),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return mt(n)&&s.set(n,na),na;if(ce(r))for(let u=0;u<r.length;u++){const f=Ct(r[u]);yx(f)&&(o[f]=Xe)}else if(r)for(const u in r){const f=Ct(u);if(yx(f)){const d=r[u],h=o[f]=ce(d)||we(d)?{type:d}:Ye({},d),p=h.type;let g=!1,m=!0;if(ce(p))for(let y=0;y<p.length;++y){const b=p[y],x=we(b)&&b.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(m=!1)}else g=we(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||dt(h,"default"))&&a.push(f)}}const c=[o,a];return mt(n)&&s.set(n,c),c}function yx(n){return n[0]!=="$"&&!tr(n)}const wC=n=>n[0]==="_"||n==="$stable",fv=n=>ce(n)?n.map(fs):[fs(n)],QR=(n,e,t)=>{if(e._n)return e;const s=$s((...i)=>fv(e(...i)),t);return s._c=!1,s},TC=(n,e,t)=>{const s=n._ctx;for(const i in n){if(wC(i))continue;const r=n[i];if(we(r))e[i]=QR(i,r,s);else if(r!=null){const o=fv(r);e[i]=()=>o}}},CC=(n,e)=>{const t=fv(e);n.slots.default=()=>t},OC=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},ZR=(n,e,t)=>{const s=n.slots=vC();if(n.vnode.shapeFlag&32){const i=e._;i?(OC(s,e,t),t&&Ub(s,"_",i,!0)):TC(e,s)}else e&&CC(n,e)},eD=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=Xe;if(s.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:OC(i,e,t):(r=!e.$stable,TC(e,i)),o=e}else e&&(CC(n,e),o={default:1});if(r)for(const a in i)!wC(a)&&o[a]==null&&delete i[a]},Zt=BC;function kC(n){return AC(n)}function _C(n){return AC(n,aR)}function AC(n,e){const t=hf();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=fn,insertStaticContent:p}=n,g=(A,P,F,z=null,H=null,X=null,oe=void 0,Q=null,Z=!!P.dynamicChildren)=>{if(A===P)return;A&&!ti(A,P)&&(z=B(A),Me(A,H,X,!0),A=null),P.patchFlag===-2&&(Z=!1,P.dynamicChildren=null);const{type:J,ref:be,shapeFlag:le}=P;switch(J){case Zr:m(A,P,F,z);break;case qt:y(A,P,F,z);break;case la:A==null&&b(P,F,z,oe);break;case st:T(A,P,F,z,H,X,oe,Q,Z);break;default:le&1?S(A,P,F,z,H,X,oe,Q,Z):le&6?I(A,P,F,z,H,X,oe,Q,Z):(le&64||le&128)&&J.process(A,P,F,z,H,X,oe,Q,Z,fe)}be!=null&&H&&Mu(be,A&&A.ref,X,P||A,!P)},m=(A,P,F,z)=>{if(A==null)s(P.el=a(P.children),F,z);else{const H=P.el=A.el;P.children!==A.children&&c(H,P.children)}},y=(A,P,F,z)=>{A==null?s(P.el=l(P.children||""),F,z):P.el=A.el},b=(A,P,F,z)=>{[A.el,A.anchor]=p(A.children,P,F,z,A.el,A.anchor)},x=({el:A,anchor:P},F,z)=>{let H;for(;A&&A!==P;)H=d(A),s(A,F,z),A=H;s(P,F,z)},v=({el:A,anchor:P})=>{let F;for(;A&&A!==P;)F=d(A),i(A),A=F;i(P)},S=(A,P,F,z,H,X,oe,Q,Z)=>{P.type==="svg"?oe="svg":P.type==="math"&&(oe="mathml"),A==null?E(P,F,z,H,X,oe,Q,Z):w(A,P,H,X,oe,Q,Z)},E=(A,P,F,z,H,X,oe,Q)=>{let Z,J;const{props:be,shapeFlag:le,transition:pe,dirs:Ee}=A;if(Z=A.el=o(A.type,X,be&&be.is,be),le&8?u(Z,A.children):le&16&&_(A.children,Z,null,z,H,qg(A,X),oe,Q),Ee&&yi(A,null,z,"created"),k(Z,A,A.scopeId,oe,z),be){for(const ct in be)ct!=="value"&&!tr(ct)&&r(Z,ct,null,be[ct],X,z);"value"in be&&r(Z,"value",null,be.value,X),(J=be.onVnodeBeforeMount)&&us(J,z,A)}Ee&&yi(A,null,z,"beforeMount");const Be=MC(H,pe);Be&&pe.beforeEnter(Z),s(Z,P,F),((J=be&&be.onVnodeMounted)||Be||Ee)&&Zt(()=>{J&&us(J,z,A),Be&&pe.enter(Z),Ee&&yi(A,null,z,"mounted")},H)},k=(A,P,F,z,H)=>{if(F&&h(A,F),z)for(let X=0;X<z.length;X++)h(A,z[X]);if(H){let X=H.subTree;if(P===X||yh(X.type)&&(X.ssContent===P||X.ssFallback===P)){const oe=H.vnode;k(A,oe,oe.scopeId,oe.slotScopeIds,H.parent)}}},_=(A,P,F,z,H,X,oe,Q,Z=0)=>{for(let J=Z;J<A.length;J++){const be=A[J]=Q?Tr(A[J]):fs(A[J]);g(null,be,P,F,z,H,X,oe,Q)}},w=(A,P,F,z,H,X,oe)=>{const Q=P.el=A.el;let{patchFlag:Z,dynamicChildren:J,dirs:be}=P;Z|=A.patchFlag&16;const le=A.props||Xe,pe=P.props||Xe;let Ee;if(F&&ko(F,!1),(Ee=pe.onVnodeBeforeUpdate)&&us(Ee,F,P,A),be&&yi(P,A,F,"beforeUpdate"),F&&ko(F,!0),(le.innerHTML&&pe.innerHTML==null||le.textContent&&pe.textContent==null)&&u(Q,""),J?O(A.dynamicChildren,J,Q,F,z,qg(P,H),X):oe||W(A,P,Q,null,F,z,qg(P,H),X,!1),Z>0){if(Z&16)C(Q,le,pe,F,H);else if(Z&2&&le.class!==pe.class&&r(Q,"class",null,pe.class,H),Z&4&&r(Q,"style",le.style,pe.style,H),Z&8){const Be=P.dynamicProps;for(let ct=0;ct<Be.length;ct++){const R=Be[ct],N=le[R],$=pe[R];($!==N||R==="value")&&r(Q,R,N,$,H,F)}}Z&1&&A.children!==P.children&&u(Q,P.children)}else!oe&&J==null&&C(Q,le,pe,F,H);((Ee=pe.onVnodeUpdated)||be)&&Zt(()=>{Ee&&us(Ee,F,P,A),be&&yi(P,A,F,"updated")},z)},O=(A,P,F,z,H,X,oe)=>{for(let Q=0;Q<P.length;Q++){const Z=A[Q],J=P[Q],be=Z.el&&(Z.type===st||!ti(Z,J)||Z.shapeFlag&70)?f(Z.el):F;g(Z,J,be,null,z,H,X,oe,!0)}},C=(A,P,F,z,H)=>{if(P!==F){if(P!==Xe)for(const X in P)!tr(X)&&!(X in F)&&r(A,X,P[X],null,H,z);for(const X in F){if(tr(X))continue;const oe=F[X],Q=P[X];oe!==Q&&X!=="value"&&r(A,X,Q,oe,H,z)}"value"in F&&r(A,"value",P.value,F.value,H)}},T=(A,P,F,z,H,X,oe,Q,Z)=>{const J=P.el=A?A.el:a(""),be=P.anchor=A?A.anchor:a("");let{patchFlag:le,dynamicChildren:pe,slotScopeIds:Ee}=P;Ee&&(Q=Q?Q.concat(Ee):Ee),A==null?(s(J,F,z),s(be,F,z),_(P.children||[],F,be,H,X,oe,Q,Z)):le>0&&le&64&&pe&&A.dynamicChildren?(O(A.dynamicChildren,pe,F,H,X,oe,Q),(P.key!=null||H&&P===H.subTree)&&dv(A,P,!0)):W(A,P,F,be,H,X,oe,Q,Z)},I=(A,P,F,z,H,X,oe,Q,Z)=>{P.slotScopeIds=Q,A==null?P.shapeFlag&512?H.ctx.activate(P,F,z,oe,Z):L(P,F,z,H,X,oe,Z):j(A,P,Z)},L=(A,P,F,z,H,X,oe)=>{const Q=A.component=GC(A,z,H);if(gf(A)&&(Q.ctx.renderer=fe),JC(Q,!1,oe),Q.asyncDep){if(H&&H.registerDep(Q,D,oe),!A.el){const Z=Q.subTree=ve(qt);y(null,Z,P,F)}}else D(Q,A,P,F,H,X,oe)},j=(A,P,F)=>{const z=P.component=A.component;if(cD(A,P,F))if(z.asyncDep&&!z.asyncResolved){V(z,P,F);return}else z.next=P,z.update();else P.el=A.el,z.vnode=P},D=(A,P,F,z,H,X,oe)=>{const Q=()=>{if(A.isMounted){let{next:le,bu:pe,u:Ee,parent:Be,vnode:ct}=A;{const ae=PC(A);if(ae){le&&(le.el=ct.el,V(A,le,oe)),ae.asyncDep.then(()=>{A.isUnmounted||Q()});return}}let R=le,N;ko(A,!1),le?(le.el=ct.el,V(A,le,oe)):le=ct,pe&&ra(pe),(N=le.props&&le.props.onVnodeBeforeUpdate)&&us(N,Be,le,ct),ko(A,!0);const $=Dd(A),K=A.subTree;A.subTree=$,g(K,$,f(K.el),B(K),A,H,X),le.el=$.el,R===null&&Jp(A,$.el),Ee&&Zt(Ee,H),(N=le.props&&le.props.onVnodeUpdated)&&Zt(()=>us(N,Be,le,ct),H)}else{let le;const{el:pe,props:Ee}=P,{bm:Be,m:ct,parent:R,root:N,type:$}=A,K=Qr(P);if(ko(A,!1),Be&&ra(Be),!K&&(le=Ee&&Ee.onVnodeBeforeMount)&&us(le,R,P),ko(A,!0),pe&&rt){const ae=()=>{A.subTree=Dd(A),rt(pe,A.subTree,A,H,null)};K&&$.__asyncHydrate?$.__asyncHydrate(pe,A,ae):ae()}else{N.ce&&N.ce._injectChildStyle($);const ae=A.subTree=Dd(A);g(null,ae,F,z,A,H,X),P.el=ae.el}if(ct&&Zt(ct,H),!K&&(le=Ee&&Ee.onVnodeMounted)){const ae=P;Zt(()=>us(le,R,ae),H)}(P.shapeFlag&256||R&&Qr(R.vnode)&&R.vnode.shapeFlag&256)&&A.a&&Zt(A.a,H),A.isMounted=!0,P=F=z=null}};A.scope.on();const Z=A.effect=new Tu(Q);A.scope.off();const J=A.update=Z.run.bind(Z),be=A.job=Z.runIfDirty.bind(Z);be.i=A,be.id=A.uid,Z.scheduler=()=>nv(be),ko(A,!0),J()},V=(A,P,F)=>{P.component=A;const z=A.vnode.props;A.vnode=P,A.next=null,YR(A,P.props,z,F),eD(A,P.children,F),vo(),ox(A),xo()},W=(A,P,F,z,H,X,oe,Q,Z=!1)=>{const J=A&&A.children,be=A?A.shapeFlag:0,le=P.children,{patchFlag:pe,shapeFlag:Ee}=P;if(pe>0){if(pe&128){Ue(J,le,F,z,H,X,oe,Q,Z);return}else if(pe&256){de(J,le,F,z,H,X,oe,Q,Z);return}}Ee&8?(be&16&&_e(J,H,X),le!==J&&u(F,le)):be&16?Ee&16?Ue(J,le,F,z,H,X,oe,Q,Z):_e(J,H,X,!0):(be&8&&u(F,""),Ee&16&&_(le,F,z,H,X,oe,Q,Z))},de=(A,P,F,z,H,X,oe,Q,Z)=>{A=A||na,P=P||na;const J=A.length,be=P.length,le=Math.min(J,be);let pe;for(pe=0;pe<le;pe++){const Ee=P[pe]=Z?Tr(P[pe]):fs(P[pe]);g(A[pe],Ee,F,null,H,X,oe,Q,Z)}J>be?_e(A,H,X,!0,!1,le):_(P,F,z,H,X,oe,Q,Z,le)},Ue=(A,P,F,z,H,X,oe,Q,Z)=>{let J=0;const be=P.length;let le=A.length-1,pe=be-1;for(;J<=le&&J<=pe;){const Ee=A[J],Be=P[J]=Z?Tr(P[J]):fs(P[J]);if(ti(Ee,Be))g(Ee,Be,F,null,H,X,oe,Q,Z);else break;J++}for(;J<=le&&J<=pe;){const Ee=A[le],Be=P[pe]=Z?Tr(P[pe]):fs(P[pe]);if(ti(Ee,Be))g(Ee,Be,F,null,H,X,oe,Q,Z);else break;le--,pe--}if(J>le){if(J<=pe){const Ee=pe+1,Be=Ee<be?P[Ee].el:z;for(;J<=pe;)g(null,P[J]=Z?Tr(P[J]):fs(P[J]),F,Be,H,X,oe,Q,Z),J++}}else if(J>pe)for(;J<=le;)Me(A[J],H,X,!0),J++;else{const Ee=J,Be=J,ct=new Map;for(J=Be;J<=pe;J++){const Ae=P[J]=Z?Tr(P[J]):fs(P[J]);Ae.key!=null&&ct.set(Ae.key,J)}let R,N=0;const $=pe-Be+1;let K=!1,ae=0;const xe=new Array($);for(J=0;J<$;J++)xe[J]=0;for(J=Ee;J<=le;J++){const Ae=A[J];if(N>=$){Me(Ae,H,X,!0);continue}let ut;if(Ae.key!=null)ut=ct.get(Ae.key);else for(R=Be;R<=pe;R++)if(xe[R-Be]===0&&ti(Ae,P[R])){ut=R;break}ut===void 0?Me(Ae,H,X,!0):(xe[ut-Be]=J+1,ut>=ae?ae=ut:K=!0,g(Ae,P[ut],F,null,H,X,oe,Q,Z),N++)}const Pe=K?tD(xe):na;for(R=Pe.length-1,J=$-1;J>=0;J--){const Ae=Be+J,ut=P[Ae],Ce=Ae+1<be?P[Ae+1].el:z;xe[J]===0?g(null,ut,F,Ce,H,X,oe,Q,Z):K&&(R<0||J!==Pe[R]?Ne(ut,F,Ce,2):R--)}}},Ne=(A,P,F,z,H=null)=>{const{el:X,type:oe,transition:Q,children:Z,shapeFlag:J}=A;if(J&6){Ne(A.component.subTree,P,F,z);return}if(J&128){A.suspense.move(P,F,z);return}if(J&64){oe.move(A,P,F,fe);return}if(oe===st){s(X,P,F);for(let le=0;le<Z.length;le++)Ne(Z[le],P,F,z);s(A.anchor,P,F);return}if(oe===la){x(A,P,F);return}if(z!==2&&J&1&&Q)if(z===0)Q.beforeEnter(X),s(X,P,F),Zt(()=>Q.enter(X),H);else{const{leave:le,delayLeave:pe,afterLeave:Ee}=Q,Be=()=>s(X,P,F),ct=()=>{le(X,()=>{Be(),Ee&&Ee()})};pe?pe(X,Be,ct):ct()}else s(X,P,F)},Me=(A,P,F,z=!1,H=!1)=>{const{type:X,props:oe,ref:Q,children:Z,dynamicChildren:J,shapeFlag:be,patchFlag:le,dirs:pe,cacheIndex:Ee}=A;if(le===-2&&(H=!1),Q!=null&&Mu(Q,null,F,A,!0),Ee!=null&&(P.renderCache[Ee]=void 0),be&256){P.ctx.deactivate(A);return}const Be=be&1&&pe,ct=!Qr(A);let R;if(ct&&(R=oe&&oe.onVnodeBeforeUnmount)&&us(R,P,A),be&6)ht(A.component,F,z);else{if(be&128){A.suspense.unmount(F,z);return}Be&&yi(A,null,P,"beforeUnmount"),be&64?A.type.remove(A,P,F,fe,z):J&&!J.hasOnce&&(X!==st||le>0&&le&64)?_e(J,P,F,!1,!0):(X===st&&le&384||!H&&be&16)&&_e(Z,P,F),z&&lt(A)}(ct&&(R=oe&&oe.onVnodeUnmounted)||Be)&&Zt(()=>{R&&us(R,P,A),Be&&yi(A,null,P,"unmounted")},F)},lt=A=>{const{type:P,el:F,anchor:z,transition:H}=A;if(P===st){it(F,z);return}if(P===la){v(A);return}const X=()=>{i(F),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(A.shapeFlag&1&&H&&!H.persisted){const{leave:oe,delayLeave:Q}=H,Z=()=>oe(F,X);Q?Q(A.el,X,Z):Z()}else X()},it=(A,P)=>{let F;for(;A!==P;)F=d(A),i(A),A=F;i(P)},ht=(A,P,F)=>{const{bum:z,scope:H,job:X,subTree:oe,um:Q,m:Z,a:J}=A;mh(Z),mh(J),z&&ra(z),H.stop(),X&&(X.flags|=8,Me(oe,A,P,F)),Q&&Zt(Q,P),Zt(()=>{A.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},_e=(A,P,F,z=!1,H=!1,X=0)=>{for(let oe=X;oe<A.length;oe++)Me(A[oe],P,F,z,H)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const P=d(A.anchor||A.el),F=P&&P[qT];return F?d(F):P};let ie=!1;const ee=(A,P,F)=>{A==null?P._vnode&&Me(P._vnode,null,null,!0):g(P._vnode||null,A,P,null,null,null,F),P._vnode=A,ie||(ie=!0,ox(),ph(),ie=!1)},fe={p:g,um:Me,m:Ne,r:lt,mt:L,mc:_,pc:W,pbc:O,n:B,o:n};let We,rt;return e&&([We,rt]=e(fe)),{render:ee,hydrate:We,createApp:GR(ee,We)}}function qg({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ko({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function MC(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function dv(n,e,t=!1){const s=n.children,i=e.children;if(ce(s)&&ce(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Tr(i[r]),a.el=o.el),!t&&a.patchFlag!==-2&&dv(o,a)),a.type===Zr&&(a.el=o.el)}}function tD(n){const e=n.slice(),t=[0];let s,i,r,o,a;const l=n.length;for(s=0;s<l;s++){const c=n[s];if(c!==0){if(i=t[t.length-1],n[i]<c){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function PC(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:PC(e)}function mh(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const IC=Symbol.for("v-scx"),RC=()=>Bs(IC);function DC(n,e){return mf(n,null,e)}function nD(n,e){return mf(n,null,{flush:"post"})}function NC(n,e){return mf(n,null,{flush:"sync"})}function wn(n,e,t){return mf(n,e,t)}function mf(n,e,t=Xe){const{immediate:s,deep:i,flush:r,once:o}=t,a=Ye({},t),l=e&&s||!e&&r!=="post";let c;if(Al){if(r==="sync"){const h=RC();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=fn,h.resume=fn,h.pause=fn,h}}const u=tn;a.call=(h,p,g)=>Ws(h,u,p,g);let f=!1;r==="post"?a.scheduler=h=>{Zt(h,u&&u.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():nv(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=UI(n,e,a);return Al&&(c?c.push(d):l&&d()),d}function sD(n,e,t){const s=this.proxy,i=ke(n)?n.includes(".")?LC(s,n):()=>s[n]:n.bind(s,s);let r;we(e)?r=e:(r=e.handler,t=e);const o=va(this),a=mf(i,r.bind(s),t);return o(),a}function LC(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}function iD(n,e,t=Xe){const s=_s(),i=Ct(e),r=Nn(e),o=FC(n,i),a=tv((l,c)=>{let u,f=Xe,d;return NC(()=>{const h=n[i];In(u,h)&&(u=h,c())}),{get(){return l(),t.get?t.get(u):u},set(h){const p=t.set?t.set(h):h;if(!In(p,u)&&!(f!==Xe&&In(h,f)))return;const g=s.vnode.props;g&&(e in g||i in g||r in g)&&(`onUpdate:${e}`in g||`onUpdate:${i}`in g||`onUpdate:${r}`in g)||(u=h,c()),s.emit(`update:${e}`,p),In(h,p)&&In(h,f)&&!In(p,d)&&c(),f=h,d=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Xe:a,done:!1}:{done:!0}}}},a}const FC=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Ct(e)}Modifiers`]||n[`${Nn(e)}Modifiers`];function rD(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||Xe;let i=t;const r=e.startsWith("update:"),o=r&&FC(s,e.slice(7));o&&(o.trim&&(i=t.map(u=>ke(u)?u.trim():u)),o.number&&(i=t.map(Eu)));let a,l=s[a=ia(e)]||s[a=ia(Ct(e))];!l&&r&&(l=s[a=ia(Nn(e))]),l&&Ws(l,n,6,i);const c=s[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Ws(c,n,6,i)}}function $C(n,e,t=!1){const s=e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},a=!1;if(!we(n)){const l=c=>{const u=$C(c,e,!0);u&&(a=!0,Ye(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(mt(n)&&s.set(n,null),null):(ce(r)?r.forEach(l=>o[l]=null):Ye(o,r),mt(n)&&s.set(n,o),o)}function Xp(n,e){return!n||!mo(e)?!1:(e=e.slice(2).replace(/Once$/,""),dt(n,e[0].toLowerCase()+e.slice(1))||dt(n,Nn(e))||dt(n,e))}function Dd(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:g}=n,m=Au(n);let y,b;try{if(t.shapeFlag&4){const v=i||s,S=v;y=fs(c.call(S,v,u,f,h,d,p)),b=a}else{const v=e;y=fs(v.length>1?v(f,{attrs:a,slots:o,emit:l}):v(f,null)),b=e.props?a:aD(a)}}catch(v){qc.length=0,Ra(v,n,1),y=ve(qt)}let x=y;if(b&&g!==!1){const v=Object.keys(b),{shapeFlag:S}=x;v.length&&S&7&&(r&&v.some(Rp)&&(b=lD(b,r)),x=Ti(x,b,!1,!0))}return t.dirs&&(x=Ti(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&ar(x,t.transition),y=x,Au(m),y}function oD(n,e=!0){let t;for(let s=0;s<n.length;s++){const i=n[s];if(lr(i)){if(i.type!==qt||i.children==="v-if"){if(t)return;t=i}}else return}return t}const aD=n=>{let e;for(const t in n)(t==="class"||t==="style"||mo(t))&&((e||(e={}))[t]=n[t]);return e},lD=(n,e)=>{const t={};for(const s in n)(!Rp(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function cD(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return s?bx(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!Xp(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?bx(s,o,c):!0:!!o;return!1}function bx(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!Xp(t,r))return!0}return!1}function Jp({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const yh=n=>n.__isSuspense;let xy=0;const uD={name:"Suspense",__isSuspense:!0,process(n,e,t,s,i,r,o,a,l,c){if(n==null)dD(e,t,s,i,r,o,a,l,c);else{if(r&&r.deps>0&&!n.suspense.isInFallback){e.suspense=n.suspense,e.suspense.vnode=e,e.el=n.el;return}hD(n,e,t,s,i,o,a,l,c)}},hydrate:pD,normalize:gD},fD=uD;function Iu(n,e){const t=n.props&&n.props[e];we(t)&&t()}function dD(n,e,t,s,i,r,o,a,l){const{p:c,o:{createElement:u}}=l,f=u("div"),d=n.suspense=jC(n,i,s,e,f,t,r,o,a,l);c(null,d.pendingBranch=n.ssContent,f,null,s,d,r,o),d.deps>0?(Iu(n,"onPending"),Iu(n,"onFallback"),c(null,n.ssFallback,e,t,s,null,r,o),fl(d,n.ssFallback)):d.resolve(!1,!0)}function hD(n,e,t,s,i,r,o,a,{p:l,um:c,o:{createElement:u}}){const f=e.suspense=n.suspense;f.vnode=e,e.el=n.el;const d=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:y}=f;if(g)f.pendingBranch=d,ti(d,g)?(l(g,d,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0?f.resolve():m&&(y||(l(p,h,t,s,i,null,r,o,a),fl(f,h)))):(f.pendingId=xy++,y?(f.isHydrating=!1,f.activeBranch=g):c(g,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),m?(l(null,d,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0?f.resolve():(l(p,h,t,s,i,null,r,o,a),fl(f,h))):p&&ti(d,p)?(l(p,d,t,s,i,f,r,o,a),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0&&f.resolve()));else if(p&&ti(d,p))l(p,d,t,s,i,f,r,o,a),fl(f,d);else if(Iu(e,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=xy++,l(null,d,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0)f.resolve();else{const{timeout:b,pendingId:x}=f;b>0?setTimeout(()=>{f.pendingId===x&&f.fallback(h)},b):b===0&&f.fallback(h)}}function jC(n,e,t,s,i,r,o,a,l,c,u=!1){const{p:f,m:d,um:h,n:p,o:{parentNode:g,remove:m}}=c;let y;const b=mD(n);b&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const x=n.props?wu(n.props.timeout):void 0,v=r,S={vnode:n,parent:e,parentComponent:t,namespace:o,container:s,hiddenContainer:i,deps:0,pendingId:xy++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(E=!1,k=!1){const{vnode:_,activeBranch:w,pendingBranch:O,pendingId:C,effects:T,parentComponent:I,container:L}=S;let j=!1;S.isHydrating?S.isHydrating=!1:E||(j=w&&O.transition&&O.transition.mode==="out-in",j&&(w.transition.afterLeave=()=>{C===S.pendingId&&(d(O,L,r===v?p(w):r,0),ku(T))}),w&&(g(w.el)===L&&(r=p(w)),h(w,I,S,!0)),j||d(O,L,r,0)),fl(S,O),S.pendingBranch=null,S.isInFallback=!1;let D=S.parent,V=!1;for(;D;){if(D.pendingBranch){D.effects.push(...T),V=!0;break}D=D.parent}!V&&!j&&ku(T),S.effects=[],b&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),Iu(_,"onResolve")},fallback(E){if(!S.pendingBranch)return;const{vnode:k,activeBranch:_,parentComponent:w,container:O,namespace:C}=S;Iu(k,"onFallback");const T=p(_),I=()=>{S.isInFallback&&(f(null,E,O,T,w,null,C,a,l),fl(S,E))},L=E.transition&&E.transition.mode==="out-in";L&&(_.transition.afterLeave=I),S.isInFallback=!0,h(_,w,null,!0),L||I()},move(E,k,_){S.activeBranch&&d(S.activeBranch,E,k,_),S.container=E},next(){return S.activeBranch&&p(S.activeBranch)},registerDep(E,k,_){const w=!!S.pendingBranch;w&&S.deps++;const O=E.vnode.el;E.asyncDep.catch(C=>{Ra(C,E,0)}).then(C=>{if(E.isUnmounted||S.isUnmounted||S.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:T}=E;Ty(E,C,!1),O&&(T.el=O);const I=!O&&E.subTree.el;k(E,T,g(O||E.subTree.el),O?null:p(E.subTree),S,o,_),I&&m(I),Jp(E,T.el),w&&--S.deps===0&&S.resolve()})},unmount(E,k){S.isUnmounted=!0,S.activeBranch&&h(S.activeBranch,t,E,k),S.pendingBranch&&h(S.pendingBranch,t,E,k)}};return S}function pD(n,e,t,s,i,r,o,a,l){const c=e.suspense=jC(e,s,t,n.parentNode,document.createElement("div"),null,i,r,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function gD(n){const{shapeFlag:e,children:t}=n,s=e&32;n.ssContent=vx(s?t.default:t),n.ssFallback=s?vx(t.fallback):ve(qt)}function vx(n){let e;if(we(n)){const t=ba&&n._c;t&&(n._d=!1,Y()),n=n(),t&&(n._d=!0,e=Fn,VC())}return ce(n)&&(n=oD(n)),n=fs(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function BC(n,e){e&&e.pendingBranch?ce(n)?e.effects.push(...n):e.effects.push(n):ku(n)}function fl(n,e){n.activeBranch=e;const{vnode:t,parentComponent:s}=n;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;t.el=i,s&&s.subTree===t&&(s.vnode.el=i,Jp(s,i))}function mD(n){const e=n.props&&n.props.suspensible;return e!=null&&e!==!1}const st=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),la=Symbol.for("v-stc"),qc=[];let Fn=null;function Y(n=!1){qc.push(Fn=n?null:[])}function VC(){qc.pop(),Fn=qc[qc.length-1]||null}let ba=1;function Sy(n,e=!1){ba+=n,n<0&&Fn&&e&&(Fn.hasOnce=!0)}function HC(n){return n.dynamicChildren=ba>0?Fn||na:null,VC(),ba>0&&Fn&&Fn.push(n),n}function te(n,e,t,s,i,r){return HC(M(n,e,t,s,i,r,!0))}function Os(n,e,t,s,i){return HC(ve(n,e,t,s,i,!0))}function lr(n){return n?n.__v_isVNode===!0:!1}function ti(n,e){return n.type===e.type&&n.key===e.key}function yD(n){}const UC=({key:n})=>n??null,Nd=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ke(n)||Gt(n)||we(n)?{i:sn,r:n,k:e,f:!!t}:n:null);function M(n,e=null,t=null,s=0,i=null,r=n===st?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&UC(e),ref:e&&Nd(e),scopeId:zp,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:sn};return a?(hv(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=ke(t)?8:16),ba>0&&!o&&Fn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Fn.push(l),l}const ve=bD;function bD(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===pC)&&(n=qt),lr(n)){const a=Ti(n,e,!0);return t&&hv(a,t),ba>0&&!r&&Fn&&(a.shapeFlag&6?Fn[Fn.indexOf(n)]=a:Fn.push(a)),a.patchFlag=-2,a}if(CD(n)&&(n=n.__vccOpts),e){e=zC(e);let{class:a,style:l}=e;a&&!ke(a)&&(e.class=pt(a)),mt(l)&&(Hp(l)&&!ce(l)&&(l=Ye({},l)),e.style=Zl(l))}const o=ke(n)?1:yh(n)?128:QT(n)?64:mt(n)?4:we(n)?2:0;return M(n,e,t,s,i,o,r,!0)}function zC(n){return n?Hp(n)||xC(n)?Ye({},n):n:null}function Ti(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=n,c=e?KC(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&UC(c),ref:e&&e.ref?t&&r?ce(r)?r.concat(Nd(e)):[r,Nd(e)]:Nd(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==st?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ti(n.ssContent),ssFallback:n.ssFallback&&Ti(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&s&&ar(u,l.clone(u)),u}function Yp(n=" ",e=0){return ve(Zr,null,n,e)}function WC(n,e){const t=ve(la,null,n);return t.staticCount=e,t}function rn(n="",e=!1){return e?(Y(),Os(qt,null,n)):ve(qt,null,n)}function fs(n){return n==null||typeof n=="boolean"?ve(qt):ce(n)?ve(st,null,n.slice()):lr(n)?Tr(n):ve(Zr,null,String(n))}function Tr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ti(n)}function hv(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(ce(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),hv(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!xC(e)?e._ctx=sn:i===3&&sn&&(sn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:sn},t=32):(e=String(e),s&64?(t=16,e=[Yp(e)]):t=8);n.children=e,n.shapeFlag|=t}function KC(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=pt([e.class,s.class]));else if(i==="style")e.style=Zl([e.style,s.style]);else if(mo(i)){const r=e[i],o=s[i];o&&r!==o&&!(ce(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function us(n,e,t,s=null){Ws(n,e,7,[t,s])}const vD=yC();let xD=0;function GC(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||vD,r={uid:xD++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EC(s,i),emitsOptions:$C(s,i),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:s.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=rD.bind(null,r),n.ce&&n.ce(r),r}let tn=null;const _s=()=>tn||sn;let bh,Ey;{const n=hf(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};bh=e("__VUE_INSTANCE_SETTERS__",t=>tn=t),Ey=e("__VUE_SSR_SETTERS__",t=>Al=t)}const va=n=>{const e=tn;return bh(n),n.scope.on(),()=>{n.scope.off(),bh(e)}},wy=()=>{tn&&tn.scope.off(),bh(null)};function XC(n){return n.vnode.shapeFlag&4}let Al=!1;function JC(n,e=!1,t=!1){e&&Ey(e);const{props:s,children:i}=n.vnode,r=XC(n);JR(n,s,r,e),ZR(n,i,t);const o=r?SD(n,e):void 0;return e&&Ey(!1),o}function SD(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,my);const{setup:s}=t;if(s){vo();const i=n.setupContext=s.length>1?qC(n):null,r=va(n),o=ec(s,n,0,[n.props,i]),a=Np(o);if(xo(),r(),(a||n.sp)&&!Qr(n)&&rv(n),a){if(o.then(wy,wy),e)return o.then(l=>{Ty(n,l,e)}).catch(l=>{Ra(l,n,0)});n.asyncDep=o}else Ty(n,o,e)}else YC(n,e)}function Ty(n,e,t){we(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:mt(e)&&(n.setupState=ev(e)),YC(n,t)}let vh,Cy;function ED(n){vh=n,Cy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,kR))}}const wD=()=>!vh;function YC(n,e,t){const s=n.type;if(!n.render){if(!e&&vh&&!s.render){const i=s.template||uv(n).template;if(i){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ye(Ye({isCustomElement:r,delimiters:a},o),l);s.render=vh(i,c)}}n.render=s.render||fn,Cy&&Cy(n)}{const i=va(n);vo();try{VR(n)}finally{xo(),i()}}}const TD={get(n,e){return Rn(n,"get",""),n[e]}};function qC(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,TD),slots:n.slots,emit:n.emit,expose:e}}function yf(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(ev(Zb(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Jc)return Jc[t](n)},has(e,t){return t in e||t in Jc}})):n.proxy}function Oy(n,e=!0){return we(n)?n.displayName||n.name:n.name||e&&n.__name}function CD(n){return we(n)&&"__vccOpts"in n}const nn=(n,e)=>jI(n,e,Al);function bf(n,e,t){const s=arguments.length;return s===2?mt(e)&&!ce(e)?lr(e)?ve(n,null,[e]):ve(n,e):ve(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&lr(t)&&(t=[t]),ve(n,e,t))}function OD(){}function kD(n,e,t,s){const i=t[s];if(i&&QC(i,n))return i;const r=e();return r.memo=n.slice(),r.cacheIndex=s,t[s]=r}function QC(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(In(t[s],e[s]))return!1;return ba>0&&Fn&&Fn.push(n),!0}const ZC="3.5.13",_D=fn,AD=XI,MD=Za,PD=YT,ID={createComponentInstance:GC,setupComponent:JC,renderComponentRoot:Dd,setCurrentRenderingInstance:Au,isVNode:lr,normalizeVNode:fs,getComponentPublicInstance:yf,ensureValidVNode:cv,pushWarningContext:zI,popWarningContext:WI},RD=ID,DD=null,ND=null,LD=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ky;const xx=typeof window<"u"&&window.trustedTypes;if(xx)try{ky=xx.createPolicy("vue",{createHTML:n=>n})}catch{}const eO=ky?n=>ky.createHTML(n):n=>n,FD="http://www.w3.org/2000/svg",$D="http://www.w3.org/1998/Math/MathML",Vi=typeof document<"u"?document:null,Sx=Vi&&Vi.createElement("template"),jD={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?Vi.createElementNS(FD,n):e==="mathml"?Vi.createElementNS($D,n):t?Vi.createElement(n,{is:t}):Vi.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>Vi.createTextNode(n),createComment:n=>Vi.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Vi.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{Sx.innerHTML=eO(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const a=Sx.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},dr="transition",lc="animation",Ml=Symbol("_vtc"),tO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nO=Ye({},iv,tO),BD=n=>(n.displayName="Transition",n.props=nO,n),eo=BD((n,{slots:e})=>bf(sC,sO(n),e)),_o=(n,e=[])=>{ce(n)?n.forEach(t=>t(...e)):n&&n(...e)},Ex=n=>n?ce(n)?n.some(e=>e.length>1):n.length>1:!1;function sO(n){const e={};for(const T in n)T in tO||(e[T]=n[T]);if(n.css===!1)return e;const{name:t="v",type:s,duration:i,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=VD(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:v,onLeaveCancelled:S,onBeforeAppear:E=y,onAppear:k=b,onAppearCancelled:_=x}=e,w=(T,I,L,j)=>{T._enterCancelled=j,mr(T,I?u:a),mr(T,I?c:o),L&&L()},O=(T,I)=>{T._isLeaving=!1,mr(T,f),mr(T,h),mr(T,d),I&&I()},C=T=>(I,L)=>{const j=T?k:b,D=()=>w(I,T,L);_o(j,[I,D]),wx(()=>{mr(I,T?l:r),ci(I,T?u:a),Ex(j)||Tx(I,s,g,D)})};return Ye(e,{onBeforeEnter(T){_o(y,[T]),ci(T,r),ci(T,o)},onBeforeAppear(T){_o(E,[T]),ci(T,l),ci(T,c)},onEnter:C(!1),onAppear:C(!0),onLeave(T,I){T._isLeaving=!0;const L=()=>O(T,I);ci(T,f),T._enterCancelled?(ci(T,d),_y()):(_y(),ci(T,d)),wx(()=>{T._isLeaving&&(mr(T,f),ci(T,h),Ex(v)||Tx(T,s,m,L))}),_o(v,[T,L])},onEnterCancelled(T){w(T,!1,void 0,!0),_o(x,[T])},onAppearCancelled(T){w(T,!0,void 0,!0),_o(_,[T])},onLeaveCancelled(T){O(T),_o(S,[T])}})}function VD(n){if(n==null)return null;if(mt(n))return[Qg(n.enter),Qg(n.leave)];{const e=Qg(n);return[e,e]}}function Qg(n){return wu(n)}function ci(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Ml]||(n[Ml]=new Set)).add(e)}function mr(n,e){e.split(/\s+/).forEach(s=>s&&n.classList.remove(s));const t=n[Ml];t&&(t.delete(e),t.size||(n[Ml]=void 0))}function wx(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let HD=0;function Tx(n,e,t,s){const i=n._endId=++HD,r=()=>{i===n._endId&&s()};if(t!=null)return setTimeout(r,t);const{type:o,timeout:a,propCount:l}=iO(n,e);if(!o)return s();const c=o+"end";let u=0;const f=()=>{n.removeEventListener(c,d),r()},d=h=>{h.target===n&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),n.addEventListener(c,d)}function iO(n,e){const t=window.getComputedStyle(n),s=p=>(t[p]||"").split(", "),i=s(`${dr}Delay`),r=s(`${dr}Duration`),o=Cx(i,r),a=s(`${lc}Delay`),l=s(`${lc}Duration`),c=Cx(a,l);let u=null,f=0,d=0;e===dr?o>0&&(u=dr,f=o,d=r.length):e===lc?c>0&&(u=lc,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?dr:lc:null,d=u?u===dr?r.length:l.length:0);const h=u===dr&&/\b(transform|all)(,|$)/.test(s(`${dr}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function Cx(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,s)=>Ox(t)+Ox(n[s])))}function Ox(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function _y(){return document.body.offsetHeight}function UD(n,e,t){const s=n[Ml];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const xh=Symbol("_vod"),rO=Symbol("_vsh"),oO={beforeMount(n,{value:e},{transition:t}){n[xh]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):cc(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:s}){!e!=!t&&(s?e?(s.beforeEnter(n),cc(n,!0),s.enter(n)):s.leave(n,()=>{cc(n,!1)}):cc(n,e))},beforeUnmount(n,{value:e}){cc(n,e)}};function cc(n,e){n.style.display=e?n[xh]:"none",n[rO]=!e}function zD(){oO.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const aO=Symbol("");function WD(n){const e=_s();if(!e)return;const t=e.ut=(i=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Sh(r,i))},s=()=>{const i=n(e.proxy);e.ce?Sh(e.ce,i):Ay(e.subTree,i),t(i)};ov(()=>{ku(s)}),ks(()=>{wn(s,fn,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),nc(()=>i.disconnect())})}function Ay(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{Ay(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Sh(n.el,e);else if(n.type===st)n.children.forEach(t=>Ay(t,e));else if(n.type===la){let{el:t,anchor:s}=n;for(;t&&(Sh(t,e),t!==s);)t=t.nextSibling}}function Sh(n,e){if(n.nodeType===1){const t=n.style;let s="";for(const i in e)t.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;t[aO]=s}}const KD=/(^|;)\s*display\s*:/;function GD(n,e,t){const s=n.style,i=ke(t);let r=!1;if(t&&!i){if(e)if(ke(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Ld(s,a,"")}else for(const o in e)t[o]==null&&Ld(s,o,"");for(const o in t)o==="display"&&(r=!0),Ld(s,o,t[o])}else if(i){if(e!==t){const o=s[aO];o&&(t+=";"+o),s.cssText=t,r=KD.test(t)}}else e&&n.removeAttribute("style");xh in n&&(n[xh]=r?s.display:"",n[rO]&&(s.display="none"))}const kx=/\s*!important$/;function Ld(n,e,t){if(ce(t))t.forEach(s=>Ld(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=XD(n,e);kx.test(t)?n.setProperty(Nn(s),t.replace(kx,""),"important"):n[s]=t}}const _x=["Webkit","Moz","ms"],Zg={};function XD(n,e){const t=Zg[e];if(t)return t;let s=Ct(e);if(s!=="filter"&&s in n)return Zg[e]=s;s=bo(s);for(let i=0;i<_x.length;i++){const r=_x[i]+s;if(r in n)return Zg[e]=r}return e}const Ax="http://www.w3.org/1999/xlink";function Mx(n,e,t,s,i,r=wT(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Ax,e.slice(6,e.length)):n.setAttributeNS(Ax,e,t):t==null||r&&!Kb(t)?n.removeAttribute(e):n.setAttribute(e,r?"":Qn(t)?String(t):t)}function Px(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?eO(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=Kb(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function Ji(n,e,t,s){n.addEventListener(e,t,s)}function JD(n,e,t,s){n.removeEventListener(e,t,s)}const Ix=Symbol("_vei");function YD(n,e,t,s,i=null){const r=n[Ix]||(n[Ix]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=qD(e);if(s){const c=r[e]=eN(s,i);Ji(n,a,c,l)}else o&&(JD(n,a,o,l),r[e]=void 0)}}const Rx=/(?:Once|Passive|Capture)$/;function qD(n){let e;if(Rx.test(n)){e={};let s;for(;s=n.match(Rx);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Nn(n.slice(2)),e]}let em=0;const QD=Promise.resolve(),ZD=()=>em||(QD.then(()=>em=0),em=Date.now());function eN(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;Ws(tN(s,t.value),e,5,[s])};return t.value=n,t.attached=ZD(),t}function tN(n,e){if(ce(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Dx=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,nN=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?UD(n,s,o):e==="style"?GD(n,t,s):mo(e)?Rp(e)||YD(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sN(n,e,s,o))?(Px(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mx(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ke(s))?Px(n,Ct(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),Mx(n,e,s,o))};function sN(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Dx(e)&&we(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Dx(e)&&ke(t)?!1:e in n}const Nx={};/*! #__NO_SIDE_EFFECTS__ */function lO(n,e,t){const s=vt(n,e);df(s)&&Ye(s,e);class i extends qp{constructor(o){super(s,o,t)}}return i.def=s,i}/*! #__NO_SIDE_EFFECTS__ */const iN=(n,e)=>lO(n,e,xO),rN=typeof HTMLElement<"u"?HTMLElement:class{};class qp extends rN{constructor(e,t={},s=wh){super(),this._def=e,this._props=t,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==wh?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof qp){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Da(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:r,styles:o}=s;let a;if(r&&!ce(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=wu(this._props[l])),(a||(a=Object.create(null)))[Ct(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const s in t)dt(this,s)||Object.defineProperty(this,s,{get:()=>re(t[s])})}_resolveProps(e){const{props:t}=e,s=ce(t)?t:Object.keys(t||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i]);for(const i of s.map(Ct))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let s=t?this.getAttribute(e):Nx;const i=Ct(e);t&&this._numberProps&&this._numberProps[i]&&(s=wu(s)),this._setProp(i,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,s=!0,i=!1){if(t!==this._props[e]&&(t===Nx?delete this._props[e]:(this._props[e]=t,e==="key"&&this._app&&(this._app._ceVNode.key=t)),i&&this._instance&&this._update(),s)){const r=this._ob;r&&r.disconnect(),t===!0?this.setAttribute(Nn(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Nn(e),t+""):t||this.removeAttribute(Nn(e)),r&&r.observe(this,{attributes:!0})}}_update(){vO(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=ve(this._def,Ye(e,this._props));return this._instance||(t.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,df(o[0])?Ye({detail:o},o[0]):{detail:o}))};s.emit=(r,...o)=>{i(r,o),Nn(r)!==r&&i(Nn(r),o)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const s=this._nonce;for(let i=e.length-1;i>=0;i--){const r=document.createElement("style");s&&r.setAttribute("nonce",s),r.textContent=e[i],this.shadowRoot.prepend(r)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const s=t.nodeType===1&&t.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const i=e[s],r=i.getAttribute("name")||"default",o=this._slots[r],a=i.parentNode;if(o)for(const l of o){if(t&&l.nodeType===1){const c=t+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let f;for(;f=u.nextNode();)f.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function cO(n){const e=_s(),t=e&&e.ce;return t||null}function oN(){const n=cO();return n&&n.shadowRoot}function aN(n="$style"){{const e=_s();if(!e)return Xe;const t=e.type.__cssModules;if(!t)return Xe;const s=t[n];return s||Xe}}const uO=new WeakMap,fO=new WeakMap,Eh=Symbol("_moveCb"),Lx=Symbol("_enterCb"),lN=n=>(delete n.props.mode,n),cN=lN({name:"TransitionGroup",props:Ye({},nO,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=_s(),s=sv();let i,r;return Gp(()=>{if(!i.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!hN(i[0].el,t.vnode.el,o))return;i.forEach(uN),i.forEach(fN);const a=i.filter(dN);_y(),a.forEach(l=>{const c=l.el,u=c.style;ci(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[Eh]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",f),c[Eh]=null,mr(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=nt(n),a=sO(o);let l=o.tag||st;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),ar(u,_l(u,a,s,t)),uO.set(u,u.el.getBoundingClientRect()))}r=e.default?Wp(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&ar(u,_l(u,a,s,t))}return ve(l,null,r)}}}),dO=cN;function uN(n){const e=n.el;e[Eh]&&e[Eh](),e[Lx]&&e[Lx]()}function fN(n){fO.set(n,n.el.getBoundingClientRect())}function dN(n){const e=uO.get(n),t=fO.get(n),s=e.left-t.left,i=e.top-t.top;if(s||i){const r=n.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",n}}function hN(n,e,t){const s=n.cloneNode(),i=n[Ml];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=iO(s);return r.removeChild(s),o}const uo=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ce(e)?t=>ra(e,t):e};function pN(n){n.target.composing=!0}function Fx(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vs=Symbol("_assign"),Pl={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[Vs]=uo(i);const r=s||i.props&&i.props.type==="number";Ji(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=Eu(a)),n[Vs](a)}),t&&Ji(n,"change",()=>{n.value=n.value.trim()}),e||(Ji(n,"compositionstart",pN),Ji(n,"compositionend",Fx),Ji(n,"change",Fx))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[Vs]=uo(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Eu(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===l)||(n.value=l))}},pv={deep:!0,created(n,e,t){n[Vs]=uo(t),Ji(n,"change",()=>{const s=n._modelValue,i=Il(n),r=n.checked,o=n[Vs];if(ce(s)){const a=pf(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(yo(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(hO(n,r))})},mounted:$x,beforeUpdate(n,e,t){n[Vs]=uo(t),$x(n,e,t)}};function $x(n,{value:e,oldValue:t},s){n._modelValue=e;let i;if(ce(e))i=pf(e,s.props.value)>-1;else if(yo(e))i=e.has(s.props.value);else{if(e===t)return;i=or(e,hO(n,!0))}n.checked!==i&&(n.checked=i)}const gv={created(n,{value:e},t){n.checked=or(e,t.props.value),n[Vs]=uo(t),Ji(n,"change",()=>{n[Vs](Il(n))})},beforeUpdate(n,{value:e,oldValue:t},s){n[Vs]=uo(s),e!==t&&(n.checked=or(e,s.props.value))}},xa={deep:!0,created(n,{value:e,modifiers:{number:t}},s){const i=yo(e);Ji(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Eu(Il(o)):Il(o));n[Vs](n.multiple?i?new Set(r):r:r[0]),n._assigning=!0,Da(()=>{n._assigning=!1})}),n[Vs]=uo(s)},mounted(n,{value:e}){jx(n,e)},beforeUpdate(n,e,t){n[Vs]=uo(t)},updated(n,{value:e}){n._assigning||jx(n,e)}};function jx(n,e){const t=n.multiple,s=ce(e);if(!(t&&!s&&!yo(e))){for(let i=0,r=n.options.length;i<r;i++){const o=n.options[i],a=Il(o);if(t)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=pf(e,a)>-1}else o.selected=e.has(a);else if(or(Il(o),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Il(n){return"_value"in n?n._value:n.value}function hO(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const pO={created(n,e,t){Kf(n,e,t,null,"created")},mounted(n,e,t){Kf(n,e,t,null,"mounted")},beforeUpdate(n,e,t,s){Kf(n,e,t,s,"beforeUpdate")},updated(n,e,t,s){Kf(n,e,t,s,"updated")}};function gO(n,e){switch(n){case"SELECT":return xa;case"TEXTAREA":return Pl;default:switch(e){case"checkbox":return pv;case"radio":return gv;default:return Pl}}}function Kf(n,e,t,s,i){const o=gO(n.tagName,t.props&&t.props.type)[i];o&&o(n,e,t,s)}function gN(){Pl.getSSRProps=({value:n})=>({value:n}),gv.getSSRProps=({value:n},e)=>{if(e.props&&or(e.props.value,n))return{checked:!0}},pv.getSSRProps=({value:n},e)=>{if(ce(n)){if(e.props&&pf(n,e.props.value)>-1)return{checked:!0}}else if(yo(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},pO.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=gO(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const mN=["ctrl","shift","alt","meta"],yN={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>mN.some(t=>n[`${t}Key`]&&!e.includes(t))},to=(n,e)=>{const t=n._withMods||(n._withMods={}),s=e.join(".");return t[s]||(t[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=yN[e[o]];if(a&&a(i,e))return}return n(i,...r)})},bN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vN=(n,e)=>{const t=n._withKeys||(n._withKeys={}),s=e.join(".");return t[s]||(t[s]=i=>{if(!("key"in i))return;const r=Nn(i.key);if(e.some(o=>o===r||bN[o]===r))return n(i)})},mO=Ye({patchProp:nN},jD);let Qc,Bx=!1;function yO(){return Qc||(Qc=kC(mO))}function bO(){return Qc=Bx?Qc:_C(mO),Bx=!0,Qc}const vO=(...n)=>{yO().render(...n)},xN=(...n)=>{bO().hydrate(...n)},wh=(...n)=>{const e=yO().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=EO(s);if(!i)return;const r=e._component;!we(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,SO(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},xO=(...n)=>{const e=bO().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=EO(s);if(i)return t(i,!0,SO(i))},e};function SO(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function EO(n){return ke(n)?document.querySelector(n):n}let Vx=!1;const SN=()=>{Vx||(Vx=!0,gN(),zD())},EN=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:sC,BaseTransitionPropsValidators:iv,Comment:qt,DeprecationTypes:LD,EffectScope:Gb,ErrorCodes:GI,ErrorTypeStrings:AD,Fragment:st,KeepAlive:vR,ReactiveEffect:Tu,Static:la,Suspense:fD,Teleport:tR,Text:Zr,TrackOpTypes:BI,Transition:eo,TransitionGroup:dO,TriggerOpTypes:VI,VueElement:qp,assertNumber:KI,callWithAsyncErrorHandling:Ws,callWithErrorHandling:ec,camelize:Ct,capitalize:bo,cloneVNode:Ti,compatUtils:ND,computed:nn,createApp:wh,createBlock:Os,createCommentVNode:rn,createElementBlock:te,createElementVNode:M,createHydrationRenderer:_C,createPropsRestProxy:jR,createRenderer:kC,createSSRApp:xO,createSlots:TR,createStaticVNode:WC,createTextVNode:Yp,createVNode:ve,customRef:tv,defineAsyncComponent:yR,defineComponent:vt,defineCustomElement:lO,defineEmits:AR,defineExpose:MR,defineModel:RR,defineOptions:PR,defineProps:_R,defineSSRCustomElement:iN,defineSlots:IR,devtools:MD,effect:lI,effectScope:rI,getCurrentInstance:_s,getCurrentScope:kT,getCurrentWatcher:HI,getTransitionRawChildren:Wp,guardReactiveProps:zC,h:bf,handleError:Ra,hasInjectionContext:XR,hydrate:xN,hydrateOnIdle:fR,hydrateOnInteraction:gR,hydrateOnMediaQuery:pR,hydrateOnVisible:hR,initCustomFormatter:OD,initDirectivesForSSR:SN,inject:Bs,isMemoSame:QC,isProxy:Hp,isReactive:qr,isReadonly:co,isRef:Gt,isRuntimeOnly:wD,isShallow:Cs,isVNode:lr,markRaw:Zb,mergeDefaults:FR,mergeModels:$R,mergeProps:KC,nextTick:Da,normalizeClass:pt,normalizeProps:yT,normalizeStyle:Zl,onActivated:rC,onBeforeMount:lC,onBeforeUnmount:tc,onBeforeUpdate:ov,onDeactivated:oC,onErrorCaptured:dC,onMounted:ks,onRenderTracked:fC,onRenderTriggered:uC,onScopeDispose:oI,onServerPrefetch:cC,onUnmounted:nc,onUpdated:Gp,onWatcherCleanup:WT,openBlock:Y,popScopeId:QI,provide:Yc,proxyRefs:ev,pushScopeId:qI,queuePostFlushCb:ku,reactive:Ia,readonly:Qb,ref:me,registerRuntimeCompiler:ED,render:vO,renderList:Yn,renderSlot:CR,resolveComponent:hC,resolveDirective:wR,resolveDynamicComponent:ER,resolveFilter:DD,resolveTransitionHooks:_l,setBlockTracking:Sy,setDevtoolsHook:PD,setTransitionHooks:ar,shallowReactive:qb,shallowReadonly:_I,shallowRef:Up,ssrContextKey:IC,ssrUtils:RD,stop:cI,toDisplayString:Je,toHandlerKey:ia,toHandlers:OR,toRaw:nt,toRef:FI,toRefs:DI,toValue:PI,transformVNodeArgs:yD,triggerRef:MI,unref:re,useAttrs:LR,useCssModule:aN,useCssVars:WD,useHost:cO,useId:sR,useModel:iD,useSSRContext:RC,useShadowRoot:oN,useSlots:NR,useTemplateRef:iR,useTransitionState:sv,vModelCheckbox:pv,vModelDynamic:pO,vModelRadio:gv,vModelSelect:xa,vModelText:Pl,vShow:oO,version:ZC,warn:_D,watch:wn,watchEffect:DC,watchPostEffect:nD,watchSyncEffect:NC,withAsyncContext:BR,withCtx:$s,withDefaults:DR,withDirectives:Vr,withKeys:vN,withMemo:kD,withModifiers:to,withScopeId:ZI},Symbol.toStringTag,{value:"Module"})),wN="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='_1'%3e%3ctitle%3e%201%3c/title%3e%3cg%20stroke='null'%20id='svg_11'%3e%3cpath%20stroke='%23ffffff'%20id='svg_1'%20d='m15.07721,85.22714c0.37879,-28.0302%2031.43928,-32.42412%2031.13625,-70.45428'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(58.0776%2042.5782%2046.1363)'%20stroke='%23ffffff'%20id='svg_2'%20d='m29.37147,74.13282c0.30257,-21.80624%2026.65382,-26.4072%2026.41177,-55.99296'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(-1.17463%2050.4191%2073.5226)'%20stroke='%23ffffff'%20id='svg_7'%20d='m44.26256,84.72832c0.14105,-8.72805%2012.42508,-10.56961%2012.31224,-22.41144'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(-1.17463%2081.7826%2073.5226)'%20stroke='%23ffffff'%20id='svg_8'%20d='m75.62608,84.72832c0.14104,-8.72806%2012.42507,-10.56961%2012.31224,-22.41145'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(56.4777%2075.7603%2071.9324)'%20stroke='%23ffffff'%20id='svg_9'%20d='m71.74036,81.14625c6.26383,-9.08573%208.11151,-8.69085%208.03785,-18.42778'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='7'%20fill='none'/%3e%3cpath%20transform='rotate(0.765917%2068.9174%2069.889)'%20stroke='%23ffffff'%20id='svg_10'%20d='m64.89821,77.2818c0.09208,-5.75823%208.11151,-6.97317%208.03785,-14.78568'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='7'%20fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const el=typeof document<"u";function wO(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function TN(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&wO(n.default)}const yt=Object.assign;function tm(n,e){const t={};for(const s in e){const i=e[s];t[s]=ai(i)?i.map(n):n(i)}return t}const Zc=()=>{},ai=Array.isArray,TO=/#/g,CN=/&/g,ON=/\//g,kN=/=/g,_N=/\?/g,CO=/\+/g,AN=/%5B/g,MN=/%5D/g,OO=/%5E/g,PN=/%60/g,kO=/%7B/g,IN=/%7C/g,_O=/%7D/g,RN=/%20/g;function mv(n){return encodeURI(""+n).replace(IN,"|").replace(AN,"[").replace(MN,"]")}function DN(n){return mv(n).replace(kO,"{").replace(_O,"}").replace(OO,"^")}function My(n){return mv(n).replace(CO,"%2B").replace(RN,"+").replace(TO,"%23").replace(CN,"%26").replace(PN,"`").replace(kO,"{").replace(_O,"}").replace(OO,"^")}function NN(n){return My(n).replace(kN,"%3D")}function LN(n){return mv(n).replace(TO,"%23").replace(_N,"%3F")}function FN(n){return n==null?"":LN(n).replace(ON,"%2F")}function Ru(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const $N=/\/$/,jN=n=>n.replace($N,"");function nm(n,e,t="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=n(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=UN(s??e,t),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Ru(o)}}function BN(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Hx(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function VN(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&Rl(e.matched[s],t.matched[i])&&AO(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Rl(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function AO(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!HN(n[t],e[t]))return!1;return!0}function HN(n,e){return ai(n)?Ux(n,e):ai(e)?Ux(e,n):n===e}function Ux(n,e){return ai(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function UN(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Du;(function(n){n.pop="pop",n.push="push"})(Du||(Du={}));var eu;(function(n){n.back="back",n.forward="forward",n.unknown=""})(eu||(eu={}));function zN(n){if(!n)if(el){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),jN(n)}const WN=/^[^#]+#/;function KN(n,e){return n.replace(WN,"#")+e}function GN(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const Qp=()=>({left:window.scrollX,top:window.scrollY});function XN(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=GN(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zx(n,e){return(history.state?history.state.position-e:-1)+n}const Py=new Map;function JN(n,e){Py.set(n,e)}function YN(n){const e=Py.get(n);return Py.delete(n),e}let qN=()=>location.protocol+"//"+location.host;function MO(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let a=i.includes(n.slice(r))?n.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Hx(l,"")}return Hx(t,n)+s+i}function QN(n,e,t,s){let i=[],r=[],o=null;const a=({state:d})=>{const h=MO(n,location),p=t.value,g=e.value;let m=0;if(d){if(t.value=h,e.value=d,o&&o===p){o=null;return}m=g?d.position-g.position:0}else s(h);i.forEach(y=>{y(t.value,p,{delta:m,type:Du.pop,direction:m?m>0?eu.forward:eu.back:eu.unknown})})};function l(){o=t.value}function c(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(yt({},d.state,{scroll:Qp()}),"")}function f(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Wx(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?Qp():null}}function ZN(n){const{history:e,location:t}=window,s={value:MO(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const f=n.indexOf("#"),d=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+l:qN()+n+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){console.error(h),t[u?"replace":"assign"](d)}}function o(l,c){const u=yt({},e.state,Wx(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=yt({},i.value,e.state,{forward:l,scroll:Qp()});r(u.current,u,!0);const f=yt({},Wx(s.value,l,null),{position:u.position+1},c);r(l,f,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function eL(n){n=zN(n);const e=ZN(n),t=QN(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=yt({location:"",base:n,go:s,createHref:KN.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function tL(n){return typeof n=="string"||n&&typeof n=="object"}function PO(n){return typeof n=="string"||typeof n=="symbol"}const IO=Symbol("");var Kx;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Kx||(Kx={}));function Dl(n,e){return yt(new Error,{type:n,[IO]:!0},e)}function Mi(n,e){return n instanceof Error&&IO in n&&(e==null||!!(n.type&e))}const Gx="[^/]+?",nL={sensitive:!1,strict:!1,start:!0,end:!0},sL=/[.+*?^${}()[\]/\\]/g;function iL(n,e){const t=yt({},nL,e),s=[];let i=t.start?"^":"";const r=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(t.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(sL,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=d;r.push({name:p,repeatable:g,optional:m});const b=y||Gx;if(b!==Gx){h+=10;try{new RegExp(`(${b})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+v.message)}}let x=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(x=m&&c.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),i+=x,h+=20,m&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(t.strict&&t.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=r[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of n){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:m}=h,y=p in c?c[p]:"";if(ai(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=ai(y)?y.join("/"):y;if(!b)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function rL(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function RO(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=rL(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(Xx(s))return 1;if(Xx(i))return-1}return i.length-s.length}function Xx(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const oL={type:0,value:""},aL=/[a-zA-Z0-9_]/;function lL(n){if(!n)return[[]];if(n==="/")return[[oL]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(h){throw new Error(`ERR (${t})/"${c}": ${h}`)}let t=0,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function f(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){s=t,t=4;continue}switch(t){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),t=1):d();break;case 4:d(),t=s;break;case 1:l==="("?t=2:aL.test(l)?d():(f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function cL(n,e,t){const s=iL(lL(n.path),t),i=yt(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function uL(n,e){const t=[],s=new Map;e=Qx({strict:!1,end:!0,sensitive:!1},e);function i(f){return s.get(f)}function r(f,d,h){const p=!h,g=Yx(f);g.aliasOf=h&&h.record;const m=Qx(e,f),y=[g];if("alias"in f){const v=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of v)y.push(Yx(yt({},g,{components:h?h.record.components:g.components,path:S,aliasOf:h?h.record:g})))}let b,x;for(const v of y){const{path:S}=v;if(d&&S[0]!=="/"){const E=d.record.path,k=E[E.length-1]==="/"?"":"/";v.path=d.record.path+(S&&k+S)}if(b=cL(v,d,m),h?h.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),p&&f.name&&!qx(b)&&o(f.name)),DO(b)&&l(b),g.children){const E=g.children;for(let k=0;k<E.length;k++)r(E[k],b,h&&h.children[k])}h=h||b}return x?()=>{o(x)}:Zc}function o(f){if(PO(f)){const d=s.get(f);d&&(s.delete(f),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(f);d>-1&&(t.splice(d,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return t}function l(f){const d=hL(f,t);t.splice(d,0,f),f.record.name&&!qx(f)&&s.set(f.record.name,f)}function c(f,d){let h,p={},g,m;if("name"in f&&f.name){if(h=s.get(f.name),!h)throw Dl(1,{location:f});m=h.record.name,p=yt(Jx(d.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&Jx(f.params,h.keys.map(x=>x.name))),g=h.stringify(p)}else if(f.path!=null)g=f.path,h=t.find(x=>x.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=d.name?s.get(d.name):t.find(x=>x.re.test(d.path)),!h)throw Dl(1,{location:f,currentLocation:d});m=h.record.name,p=yt({},d.params,f.params),g=h.stringify(p)}const y=[];let b=h;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:y,meta:dL(y)}}n.forEach(f=>r(f));function u(){t.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Jx(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function Yx(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:fL(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function fL(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function qx(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function dL(n){return n.reduce((e,t)=>yt(e,t.meta),{})}function Qx(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}function hL(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;RO(n,e[r])<0?s=r:t=r+1}const i=pL(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function pL(n){let e=n;for(;e=e.parent;)if(DO(e)&&RO(n,e)===0)return e}function DO({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function gL(n){const e={};if(n===""||n==="?")return e;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(CO," "),o=r.indexOf("="),a=Ru(o<0?r:r.slice(0,o)),l=o<0?null:Ru(r.slice(o+1));if(a in e){let c=e[a];ai(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Zx(n){let e="";for(let t in n){const s=n[t];if(t=NN(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(ai(s)?s.map(r=>r&&My(r)):[s&&My(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function mL(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=ai(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const yL=Symbol(""),eS=Symbol(""),Zp=Symbol(""),yv=Symbol(""),Iy=Symbol("");function uc(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Cr(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Dl(4,{from:t,to:e})):d instanceof Error?l(d):tL(d)?l(Dl(2,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>n.call(s&&s.instances[i],e,t,c));let f=Promise.resolve(u);n.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function sm(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(wO(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Cr(u,t,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=TN(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Cr(h,t,s,o,a,i)()}))}}return r}function tS(n){const e=Bs(Zp),t=Bs(yv),s=nn(()=>{const l=re(n.to);return e.resolve(l)}),i=nn(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=t.matched;if(!u||!f.length)return-1;const d=f.findIndex(Rl.bind(null,u));if(d>-1)return d;const h=nS(l[c-2]);return c>1&&nS(u)===h&&f[f.length-1].path!==h?f.findIndex(Rl.bind(null,l[c-2])):d}),r=nn(()=>i.value>-1&&EL(t.params,s.value.params)),o=nn(()=>i.value>-1&&i.value===t.matched.length-1&&AO(t.params,s.value.params));function a(l={}){if(SL(l)){const c=e[re(n.replace)?"replace":"push"](re(n.to)).catch(Zc);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:nn(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function bL(n){return n.length===1?n[0]:n}const vL=vt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:tS,setup(n,{slots:e}){const t=Ia(tS(n)),{options:s}=Bs(Zp),i=nn(()=>({[sS(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[sS(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&bL(e.default(t));return n.custom?r:bf("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),xL=vL;function SL(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function EL(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!ai(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function nS(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const sS=(n,e,t)=>n??e??t,wL=vt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=Bs(Iy),i=nn(()=>n.route||s.value),r=Bs(eS,0),o=nn(()=>{let c=re(r);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=nn(()=>i.value.matched[o.value]);Yc(eS,nn(()=>o.value+1)),Yc(yL,a),Yc(Iy,i);const l=me();return wn(()=>[l.value,a.value,n.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Rl(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=n.name,f=a.value,d=f&&f.components[u];if(!d)return iS(t.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=bf(d,yt({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return iS(t.default,{Component:m,route:c})||m}}});function iS(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const TL=wL;function CL(n){const e=uL(n.routes,n),t=n.parseQuery||gL,s=n.stringifyQuery||Zx,i=n.history,r=uc(),o=uc(),a=uc(),l=Up(hr);let c=hr;el&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=tm.bind(null,B=>""+B),f=tm.bind(null,FN),d=tm.bind(null,Ru);function h(B,ie){let ee,fe;return PO(B)?(ee=e.getRecordMatcher(B),fe=ie):fe=B,e.addRoute(fe,ee)}function p(B){const ie=e.getRecordMatcher(B);ie&&e.removeRoute(ie)}function g(){return e.getRoutes().map(B=>B.record)}function m(B){return!!e.getRecordMatcher(B)}function y(B,ie){if(ie=yt({},ie||l.value),typeof B=="string"){const P=nm(t,B,ie.path),F=e.resolve({path:P.path},ie),z=i.createHref(P.fullPath);return yt(P,F,{params:d(F.params),hash:Ru(P.hash),redirectedFrom:void 0,href:z})}let ee;if(B.path!=null)ee=yt({},B,{path:nm(t,B.path,ie.path).path});else{const P=yt({},B.params);for(const F in P)P[F]==null&&delete P[F];ee=yt({},B,{params:f(P)}),ie.params=f(ie.params)}const fe=e.resolve(ee,ie),We=B.hash||"";fe.params=u(d(fe.params));const rt=BN(s,yt({},B,{hash:DN(We),path:fe.path})),A=i.createHref(rt);return yt({fullPath:rt,hash:We,query:s===Zx?mL(B.query):B.query||{}},fe,{redirectedFrom:void 0,href:A})}function b(B){return typeof B=="string"?nm(t,B,l.value.path):yt({},B)}function x(B,ie){if(c!==B)return Dl(8,{from:ie,to:B})}function v(B){return k(B)}function S(B){return v(yt(b(B),{replace:!0}))}function E(B){const ie=B.matched[B.matched.length-1];if(ie&&ie.redirect){const{redirect:ee}=ie;let fe=typeof ee=="function"?ee(B):ee;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=b(fe):{path:fe},fe.params={}),yt({query:B.query,hash:B.hash,params:fe.path!=null?{}:B.params},fe)}}function k(B,ie){const ee=c=y(B),fe=l.value,We=B.state,rt=B.force,A=B.replace===!0,P=E(ee);if(P)return k(yt(b(P),{state:typeof P=="object"?yt({},We,P.state):We,force:rt,replace:A}),ie||ee);const F=ee;F.redirectedFrom=ie;let z;return!rt&&VN(s,fe,ee)&&(z=Dl(16,{to:F,from:fe}),Ne(fe,fe,!0,!1)),(z?Promise.resolve(z):O(F,fe)).catch(H=>Mi(H)?Mi(H,2)?H:Ue(H):W(H,F,fe)).then(H=>{if(H){if(Mi(H,2))return k(yt({replace:A},b(H.to),{state:typeof H.to=="object"?yt({},We,H.to.state):We,force:rt}),ie||F)}else H=T(F,fe,!0,A,We);return C(F,fe,H),H})}function _(B,ie){const ee=x(B,ie);return ee?Promise.reject(ee):Promise.resolve()}function w(B){const ie=it.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(B):B()}function O(B,ie){let ee;const[fe,We,rt]=OL(B,ie);ee=sm(fe.reverse(),"beforeRouteLeave",B,ie);for(const P of fe)P.leaveGuards.forEach(F=>{ee.push(Cr(F,B,ie))});const A=_.bind(null,B,ie);return ee.push(A),_e(ee).then(()=>{ee=[];for(const P of r.list())ee.push(Cr(P,B,ie));return ee.push(A),_e(ee)}).then(()=>{ee=sm(We,"beforeRouteUpdate",B,ie);for(const P of We)P.updateGuards.forEach(F=>{ee.push(Cr(F,B,ie))});return ee.push(A),_e(ee)}).then(()=>{ee=[];for(const P of rt)if(P.beforeEnter)if(ai(P.beforeEnter))for(const F of P.beforeEnter)ee.push(Cr(F,B,ie));else ee.push(Cr(P.beforeEnter,B,ie));return ee.push(A),_e(ee)}).then(()=>(B.matched.forEach(P=>P.enterCallbacks={}),ee=sm(rt,"beforeRouteEnter",B,ie,w),ee.push(A),_e(ee))).then(()=>{ee=[];for(const P of o.list())ee.push(Cr(P,B,ie));return ee.push(A),_e(ee)}).catch(P=>Mi(P,8)?P:Promise.reject(P))}function C(B,ie,ee){a.list().forEach(fe=>w(()=>fe(B,ie,ee)))}function T(B,ie,ee,fe,We){const rt=x(B,ie);if(rt)return rt;const A=ie===hr,P=el?history.state:{};ee&&(fe||A?i.replace(B.fullPath,yt({scroll:A&&P&&P.scroll},We)):i.push(B.fullPath,We)),l.value=B,Ne(B,ie,ee,A),Ue()}let I;function L(){I||(I=i.listen((B,ie,ee)=>{if(!ht.listening)return;const fe=y(B),We=E(fe);if(We){k(yt(We,{replace:!0,force:!0}),fe).catch(Zc);return}c=fe;const rt=l.value;el&&JN(zx(rt.fullPath,ee.delta),Qp()),O(fe,rt).catch(A=>Mi(A,12)?A:Mi(A,2)?(k(yt(b(A.to),{force:!0}),fe).then(P=>{Mi(P,20)&&!ee.delta&&ee.type===Du.pop&&i.go(-1,!1)}).catch(Zc),Promise.reject()):(ee.delta&&i.go(-ee.delta,!1),W(A,fe,rt))).then(A=>{A=A||T(fe,rt,!1),A&&(ee.delta&&!Mi(A,8)?i.go(-ee.delta,!1):ee.type===Du.pop&&Mi(A,20)&&i.go(-1,!1)),C(fe,rt,A)}).catch(Zc)}))}let j=uc(),D=uc(),V;function W(B,ie,ee){Ue(B);const fe=D.list();return fe.length?fe.forEach(We=>We(B,ie,ee)):console.error(B),Promise.reject(B)}function de(){return V&&l.value!==hr?Promise.resolve():new Promise((B,ie)=>{j.add([B,ie])})}function Ue(B){return V||(V=!B,L(),j.list().forEach(([ie,ee])=>B?ee(B):ie()),j.reset()),B}function Ne(B,ie,ee,fe){const{scrollBehavior:We}=n;if(!el||!We)return Promise.resolve();const rt=!ee&&YN(zx(B.fullPath,0))||(fe||!ee)&&history.state&&history.state.scroll||null;return Da().then(()=>We(B,ie,rt)).then(A=>A&&XN(A)).catch(A=>W(A,B,ie))}const Me=B=>i.go(B);let lt;const it=new Set,ht={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:n,push:v,replace:S,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:de,install(B){const ie=this;B.component("RouterLink",xL),B.component("RouterView",TL),B.config.globalProperties.$router=ie,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>re(l)}),el&&!lt&&l.value===hr&&(lt=!0,v(i.location).catch(We=>{}));const ee={};for(const We in hr)Object.defineProperty(ee,We,{get:()=>l.value[We],enumerable:!0});B.provide(Zp,ie),B.provide(yv,qb(ee)),B.provide(Iy,l);const fe=B.unmount;it.add(B),B.unmount=function(){it.delete(B),it.size<1&&(c=hr,I&&I(),I=null,l.value=hr,lt=!1,V=!1),fe()}}};function _e(B){return B.reduce((ie,ee)=>ie.then(()=>w(ee)),Promise.resolve())}return ht}function OL(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(c=>Rl(c,a))?s.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>Rl(c,l))||i.push(l))}return[t,s,i]}function So(){return Bs(Zp)}function eg(n){return Bs(yv)}const kL="modulepreload",_L=function(n){return"/"+n},rS={},Nl=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=_L(l),l in rS)return;rS[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":kL,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},AL=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Nl(async()=>{const{default:s}=await Promise.resolve().then(()=>sc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class bv extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class ML extends bv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class PL extends bv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class IL extends bv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ry;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ry||(Ry={}));var RL=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class DL{constructor(e,{headers:t={},customFetch:s,region:i=Ry.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=AL(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return RL(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(p=>{throw new ML(p)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new PL(u);if(!u.ok)throw new IL(u);let d=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield u.json():d==="application/octet-stream"?h=yield u.blob():d==="text/event-stream"?h=u:d==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}function NO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function vf(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),t}var yn={},fc={},dc={},hc={},pc={},gc={},NL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ll=NL();const LL=Ll.fetch,LO=Ll.fetch.bind(Ll),FO=Ll.Headers,FL=Ll.Request,$L=Ll.Response,sc=Object.freeze(Object.defineProperty({__proto__:null,Headers:FO,Request:FL,Response:$L,default:LO,fetch:LL},Symbol.toStringTag,{value:"Module"})),jL=vf(sc);var Gf={},oS;function $O(){if(oS)return Gf;oS=1,Object.defineProperty(Gf,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Gf.default=n,Gf}var aS;function jO(){if(aS)return gc;aS=1;var n=gc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gc,"__esModule",{value:!0});const e=n(jL),t=n($O());class s{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=Object.assign({},this.headers),this.headers[r]=o,this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,d;let h=null,p=null,g=null,m=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=S:p=JSON.parse(S))}const x=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),v=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&v&&v.length>1&&(g=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{h=JSON.parse(x),Array.isArray(h)&&c.status===404&&(p=[],h=null,m=200,y="OK")}catch{c.status===404&&x===""?(m=204,y="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,m=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:p,count:g,status:m,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}}return gc.default=s,gc}var lS;function BO(){if(lS)return pc;lS=1;var n=pc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pc,"__esModule",{value:!0});const e=n(jO());class t extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${f};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pc.default=t,pc}var cS;function vv(){if(cS)return hc;cS=1;var n=hc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(hc,"__esModule",{value:!0});const e=n(BO());class t extends e.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return hc.default=t,hc}var uS;function VO(){if(uS)return dc;uS=1;var n=dc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(dc,"__esModule",{value:!0});const e=n(vv());class t{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=r,this.schema=o,this.fetch=a}select(i,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:r,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const f=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(f.length>0){const d=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:r}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const r="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return dc.default=t,dc}var mc={},yc={},fS;function BL(){return fS||(fS=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.version=void 0,yc.version="0.0.0-automated"),yc}var dS;function VL(){if(dS)return mc;dS=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.DEFAULT_HEADERS=void 0;const n=BL();return mc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},mc}var hS;function HL(){if(hS)return fc;hS=1;var n=fc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fc,"__esModule",{value:!0});const e=n(VO()),t=n(vv()),s=VL();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const d=new URL(`${this.url}/rpc/${o}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{d.searchParams.append(g,m)})):(f="POST",h=a);const p=Object.assign({},this.headers);return u&&(p.Prefer=`count=${u}`),new t.default({method:f,url:d,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return fc.default=i,fc}var pS;function UL(){if(pS)return yn;pS=1;var n=yn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yn,"__esModule",{value:!0}),yn.PostgrestError=yn.PostgrestBuilder=yn.PostgrestTransformBuilder=yn.PostgrestFilterBuilder=yn.PostgrestQueryBuilder=yn.PostgrestClient=void 0;const e=n(HL());yn.PostgrestClient=e.default;const t=n(VO());yn.PostgrestQueryBuilder=t.default;const s=n(vv());yn.PostgrestFilterBuilder=s.default;const i=n(BO());yn.PostgrestTransformBuilder=i.default;const r=n(jO());yn.PostgrestBuilder=r.default;const o=n($O());return yn.PostgrestError=o.default,yn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},yn}var zL=UL();const WL=NO(zL),{PostgrestClient:KL,PostgrestQueryBuilder:DX,PostgrestFilterBuilder:NX,PostgrestTransformBuilder:LX,PostgrestBuilder:FX,PostgrestError:$X}=WL,GL="2.11.2",XL={"X-Client-Info":`realtime-js/${GL}`},JL="1.0.0",HO=1e4,YL=1e3;var dl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(dl||(dl={}));var bs;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(bs||(bs={}));var Zs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Zs||(Zs={}));var Dy;(function(n){n.websocket="websocket"})(Dy||(Dy={}));var Ho;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ho||(Ho={}));class qL{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const i=t.getUint8(1),r=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class UO{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Et||(Et={}));const gS=(n,e,t={})=>{var s;const i=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=QL(o,n,e,i),r),{})},QL=(n,e,t,s)=>{const i=e.find(a=>a.name===n),r=i==null?void 0:i.type,o=t[n];return r&&!s.includes(r)?zO(r,o):Ny(o)},zO=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return n2(e,t)}switch(n){case Et.bool:return ZL(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return e2(e);case Et.json:case Et.jsonb:return t2(e);case Et.timestamp:return s2(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Ny(e);default:return Ny(e)}},Ny=n=>n,ZL=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},e2=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},t2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},n2=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let r;const o=n.slice(1,t);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>zO(e,a))}return n},s2=n=>typeof n=="string"?n.replace(" ","T"):n,WO=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class im{constructor(e,t,s={},i=HO){this.channel=e,this.event=t,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mS;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(mS||(mS={}));class tu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tu.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=tu.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tu.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,i){const r=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=r[c];if(f){const d=u.map(m=>m.presence_ref),h=f.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),g=f.filter(m=>d.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,t,s,i){const{joins:r,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const i=e[s];return"metas"in i?t[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[s]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yS;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(yS||(yS={}));var bS;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(bS||(bS={}));var Hi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class xv{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=bs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,Zs.join,this.params,this.timeout),this.rejoinTimer=new UO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bs.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zs.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new tu(this),this.broadcastEndpointURL=WO(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Hi.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Hi.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(Hi.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,p=[];for(let g=0;g<h;g++){const m=d[g],{filter:{event:y,schema:b,table:x,filter:v}}=m,S=u&&u[g];if(S&&S.event===y&&S.schema===b&&S.table===x&&S.filter===v)p.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),e==null||e(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Hi.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bs.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new im(this,Zs.leave,{},e);i.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(r),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new im(this,e,t,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Zs;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(h=>h.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(h=>{var p,g,m,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const v=h.id,S=(p=h.filter)===null||p===void 0?void 0:p.event;return v&&((g=t.ids)===null||g===void 0?void 0:g.includes(v))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const v=(b=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return v==="*"||v===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:g,table:m,commit_timestamp:y,type:b,errors:x}=p;d=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(p))}h.callback(d,s)})}_isClosed(){return this.state===bs.closed}_isJoined(){return this.state===bs.joined}_isJoining(){return this.state===bs.joining}_isLeaving(){return this.state===bs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const i=e.toLocaleLowerCase(),r={type:i,filter:t,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&xv.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zs.close,{},e)}_onError(e){this._on(Zs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=gS(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=gS(e.columns,e.old_record)),t}}const i2=()=>{},r2=typeof WebSocket<"u",o2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a2{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=XL,this.params={},this.timeout=HO,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=i2,this.conn=null,this.sendBuffer=[],this.serializer=new qL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Nl(async()=>{const{default:l}=await Promise.resolve().then(()=>sc);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Dy.websocket}`,this.httpEndpoint=WO(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,o)=>o(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new UO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(r2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new l2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Nl(async()=>{const{default:e}=await import("./browser-B7LPU0w0.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JL}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Ho.Connecting;case dl.open:return Ho.Open;case dl.closing:return Ho.Closing;default:return Ho.Closed}}isConnected(){return this.connectionState()===Ho.Open}channel(e,t={config:{}}){const s=new xv(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Zs.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(YL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:i,payload:r,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${s} ${i} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${s}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([o2],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class l2{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Sv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ln(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class c2 extends Sv{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ly extends Sv{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var u2=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const KO=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Nl(async()=>{const{default:s}=await Promise.resolve().then(()=>sc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},f2=()=>u2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nl(()=>Promise.resolve().then(()=>sc),void 0)).Response:Response}),Fy=n=>{if(Array.isArray(n))return n.map(t=>Fy(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const i=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=Fy(s)}),e};var Na=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const rm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),d2=(n,e,t)=>Na(void 0,void 0,void 0,function*(){const s=yield f2();n instanceof s&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new c2(rm(i),n.status||500))}).catch(i=>{e(new Ly(rm(i),i))}):e(new Ly(rm(n),n))}),h2=(n,e,t,s)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),t))};function xf(n,e,t,s,i,r){return Na(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,h2(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>d2(l,a,s))})})}function Th(n,e,t,s){return Na(this,void 0,void 0,function*(){return xf(n,"GET",e,t,s)})}function Or(n,e,t,s,i){return Na(this,void 0,void 0,function*(){return xf(n,"POST",e,s,i,t)})}function p2(n,e,t,s,i){return Na(this,void 0,void 0,function*(){return xf(n,"PUT",e,s,i,t)})}function g2(n,e,t,s){return Na(this,void 0,void 0,function*(){return xf(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function GO(n,e,t,s,i){return Na(this,void 0,void 0,function*(){return xf(n,"DELETE",e,s,i,t)})}var is=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const m2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y2{constructor(e,t={},s,i){this.url=e,this.headers=t,this.bucketId=s,this.fetch=KO(i)}uploadOrUpdate(e,t,s,i){return is(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},vS),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}upload(e,t,s){return is(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,i){return is(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:vS.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield f.json();return f.ok?{data:{path:r,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(ln(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return is(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const r=yield Or(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Sv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}update(e,t,s){return is(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return is(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}copy(e,t,s){return is(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,s){return is(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Or(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,s){return is(this,void 0,void 0,function*(){try{const i=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}download(e,t){return is(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Th(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}info(e){return is(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Th(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Fy(s),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}exists(e){return is(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield g2(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ln(s)&&s instanceof Ly){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),i=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&i.push(r);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return is(this,void 0,void 0,function*(){try{return{data:yield GO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}list(e,t,s){return is(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},m2),t),{prefix:e||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const b2="2.7.1",v2={"X-Client-Info":`storage-js/${b2}`};var Va=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class x2{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},v2),t),this.fetch=KO(s)}listBuckets(){return Va(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ln(e))return{data:null,error:e};throw e}})}getBucket(e){return Va(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Va(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Va(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Va(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Va(this,void 0,void 0,function*(){try{return{data:yield GO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}}class S2 extends x2{constructor(e,t={},s){super(e,t,s)}from(e){return new y2(this.url,this.headers,e,this.fetch)}}const E2="2.48.0";let Pc="";typeof Deno<"u"?Pc="deno":typeof document<"u"?Pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pc="react-native":Pc="node";const w2={"X-Client-Info":`supabase-js-${Pc}/${E2}`},T2={headers:w2},C2={schema:"public"},O2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k2={};var _2=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const A2=n=>{let e;return n?e=n:typeof fetch>"u"?e=LO:e=fetch,(...t)=>e(...t)},M2=()=>typeof Headers>"u"?FO:Headers,P2=(n,e,t)=>{const s=A2(t),i=M2();return(r,o)=>_2(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))})};var I2=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};function R2(n){return n.replace(/\/$/,"")}function D2(n,e){const{db:t,auth:s,realtime:i,global:r}=n,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),r),accessToken:()=>I2(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const XO="2.67.3",N2="http://localhost:9999",L2="supabase.auth.token",F2={"X-Client-Info":`gotrue-js/${XO}`},xS=10,$y="X-Supabase-Api-Version",JO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $2(n){return Math.round(Date.now()/1e3)+n}function j2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ui=()=>typeof window<"u"&&typeof document<"u",Ao={tested:!1,writable:!1},nu=()=>{if(!ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ao.tested)return Ao.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ao.tested=!0,Ao.writable=!0}catch{Ao.tested=!0,Ao.writable=!1}return Ao.writable};function B2(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return t.searchParams.forEach((s,i)=>{e[i]=s}),e}const YO=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Nl(async()=>{const{default:s}=await Promise.resolve().then(()=>sc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},V2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",qO=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Xf=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Jf=async(n,e)=>{await n.removeItem(e)};function H2(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,i,r,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),s=o<<2|a>>4,i=(a&15)<<4|l>>2,r=(l&3)<<6|c,t=t+String.fromCharCode(s),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&r!=0&&(t=t+String.fromCharCode(r));return t}class tg{constructor(){this.promise=new tg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}tg.promiseConstructor=Promise;function SS(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(H2(s))}async function U2(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function z2(n,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function W2(n){return("0"+n.toString(16)).substr(-2)}function K2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let i="";for(let r=0;r<56;r++)i+=t.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,W2).join("")}async function G2(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}function X2(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function J2(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await G2(n);return X2(t)}async function Ha(n,e,t=!1){const s=K2();let i=s;t&&(i+="/PASSWORD_RECOVERY"),await qO(n,`${e}-code-verifier`,i);const r=await J2(s);return[r,s===r?"plain":"s256"]}const Y2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q2(n){const e=n.headers.get($y);if(!e||!e.match(Y2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ev extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function He(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Q2 extends Ev{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Z2(n){return He(n)&&n.name==="AuthApiError"}class QO extends Ev{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class La extends Ev{constructor(e,t,s,i){super(e,s,i),this.name=t,this.status=s}}class yr extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eF(n){return He(n)&&n.name==="AuthSessionMissingError"}class om extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yf extends La{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qf extends La{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tF(n){return He(n)&&n.name==="AuthImplicitGrantRedirectError"}class ES extends La{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jy extends La{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function am(n){return He(n)&&n.name==="AuthRetryableFetchError"}class wS extends La{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var nF=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const Fo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),sF=[502,503,504];async function TS(n){var e;if(!V2(n))throw new jy(Fo(n),0);if(sF.includes(n.status))throw new jy(Fo(n),n.status);let t;try{t=await n.json()}catch(r){throw new QO(Fo(r),r)}let s;const i=q2(n);if(i&&i.getTime()>=JO["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new wS(Fo(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new yr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new wS(Fo(t),n.status,t.weak_password.reasons);throw new Q2(Fo(t),n.status||500,s)}const iF=(n,e,t,s)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),t))};async function et(n,e,t,s){var i;const r=Object.assign({},s==null?void 0:s.headers);r[$y]||(r[$y]=JO["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rF(n,e,t+a,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function rF(n,e,t,s,i,r){const o=iF(e,s,i,r);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new jy(Fo(l),0)}if(a.ok||await TS(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await TS(l)}}function br(n){var e;let t=null;cF(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=$2(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function CS(n){const e=br(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ir(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function oF(n){return{data:n,error:null}}function aF(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r}=n,o=nF(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lF(n){return n}function cF(n){return n.access_token&&n.refresh_token&&n.expires_in}var uF=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};class fF{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=YO(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ir})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=uF(e,["options"]),i=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aF,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(He(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ir})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:lF});if(u.error)throw u.error;const f=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(He(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ir})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ir})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ir})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:s}}catch(t){if(He(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}}}const dF={getItem:n=>nu()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{nu()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{nu()&&globalThis.localStorage.removeItem(n)}};function OS(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function hF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ua={debug:!!(globalThis&&nu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pF extends ZO{}async function gF(n,e,t){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new pF(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ua.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}hF();const mF={url:N2,storageKey:L2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},bc=30*1e3,kS=3;async function _S(n,e,t){return await t()}class Nu{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nu.nextInstanceID,Nu.nextInstanceID+=1,this.instanceID>0&&ui()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=YO(i.fetch),this.lock=i.lock||_S,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ui()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=gF:this.lock=_S,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:nu()?this.storage=dF:(this.memoryStorage={},this.storage=OS(this.memoryStorage)):(this.memoryStorage={},this.storage=OS(this.memoryStorage)),ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=B2(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),ui()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(t,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),tF(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return He(t)?{error:t}:{error:new QO("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,i;try{const r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:br}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,s,i;try{let r;if("email"in e){const{email:u,password:f,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ha(this.storage,this.storageKey)),r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},xform:br})}else if("phone"in e){const{phone:u,password:f,options:d}=e;r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:br})}else throw new Yf("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:a}=e;t=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:CS})}else if("phone"in e){const{phone:r,password:o,options:a}=e;t=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:CS})}else throw new Yf("You must provide either an email or phone number and a password");const{data:s,error:i}=t;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new om}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Xf(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(t??"").split("/");try{const{data:r,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:br});if(await Jf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new om}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(He(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:s,token:i,access_token:r,nonce:o}=e,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:br}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new om}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ha(this.storage,this.storageKey));const{error:f}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Yf("You must provide either an email or phone number.")}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let i,r;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:br});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ha(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:oF})}catch(r){if(He(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new yr;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(He(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await et(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await et(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Yf("You must provide either an email or phone number and a type")}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ir}):await this._useSession(async t=>{var s,i,r;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Ir})})}catch(t){if(He(t))return eF(t)&&(await this._removeSession(),await Jf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new yr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ha(this.storage,this.storageKey));const{data:c,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ir});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return SS(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const t=Date.now()/1e3;let s=t,i=!0,r=null;const o=SS(e.access_token);if(o.exp&&(s=o.exp,i=s<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(He(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new yr;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ui())throw new qf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ES("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ES("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new qf("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let d=u+f;l&&(d=parseInt(l));const h=d-u;h*1e3<=bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=d-f;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:g,error:m}=await this._getUser(r);if(m)throw m;const y={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:f,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(s){if(He(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Z2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Jf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=j2(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,i;try{const{data:{session:r},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ha(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(He(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:f,error:d}=r;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ui()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(He(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await z2(async i=>(i>0&&await U2(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(i,r)=>{const o=200*Math.pow(2,i);return r&&am(r)&&Date.now()+o-s<bc})}catch(s){if(this._debug(t,"error",s),He(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ui()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Xf(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<i+xS;if(this._debug(t,`session has${r?"":" not"} expired with margin of ${xS}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),am(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tg;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new yr;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),He(r)){const o={session:null,error:r};return am(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ui()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bc}ms, refresh threshold is ${kS} ticks`),i<=kS&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ZO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ui()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const i=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ha(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(He(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(He(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Nu.nextInstanceID=0;const yF=Nu;class bF extends yF{constructor(e){super(e)}}var vF=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class xF{constructor(e,t,s){var i,r,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=R2(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:C2,realtime:k2,auth:Object.assign(Object.assign({},O2),{storageKey:l}),global:T2},u=D2(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=P2(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new KL(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new DL(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new S2(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bF({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:r,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new a2(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SF=(n,e,t)=>new xF(n,e,t),EF="https://pvfkijbfgreexathvjfy.supabase.co",wF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB2ZmtpamJmZ3JlZXhhdGh2amZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzczNzkwMDAsImV4cCI6MjA1Mjk1NTAwMH0.xCYrd8F9R_ItPVNPYTVMN6uXUB7EU3V-JHpnm2VVALM",Xt=SF(EF,wF),ri=me(),By=me(!1),ek=async()=>{try{const{data:{session:n}}=await Xt.auth.getSession();ri.value=(n==null?void 0:n.user)||null,Xt.auth.onAuthStateChange((e,t)=>{ri.value=(t==null?void 0:t.user)||null})}catch(n){console.error("Auth initialization error:",n)}finally{By.value=!0}},TF={key:"moon",class:"fa-solid fa-moon text-gray-800 dark:text-gray-200"},CF={key:"sun",class:"fa-solid fa-sun text-amber-500 dark:text-gray-200"},OF=vt({__name:"ChangeThemeButton",setup(n){const e=me(!1),t=me(!1),s=()=>{t.value=!0,setTimeout(()=>{t.value=!1},500),e.value=!e.value,i()},i=()=>{const r=document.documentElement;r.style.transition="background-color 0.5s ease, color 0.5s ease",e.value?(r.classList.add("dark"),localStorage.theme="dark"):(r.classList.remove("dark"),localStorage.theme="light"),setTimeout(()=>{r.style.transition=""},500)};return ks(()=>{const r=localStorage.theme,o=document.documentElement;o.style.transition="background-color 0.5s ease, color 0.5s ease",r==="dark"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches?(e.value=!0,o.classList.add("dark")):(e.value=!1,o.classList.remove("dark")),setTimeout(()=>{o.style.transition=""},500)}),(r,o)=>(Y(),te("button",{onClick:s,class:pt(["w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-500",{"rotate-180":t.value}]),"aria-label":"Change theme"},[ve(eo,{name:"icon-fade",mode:"out-in"},{default:$s(()=>[e.value?(Y(),te("span",TF)):(Y(),te("span",CF))]),_:1})],2))}}),Eo=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},kF=Eo(OF,[["__scopeId","data-v-9aa38b48"]]),_F={class:"absolute top-0 left-0 right-0"},AF={class:"min-w-full px-6 py-4 flex justify-between items-center"},MF={class:"flex flex-row justify-center items-center gap-2 text-white"},PF=["src"],IF={class:"flex flex-row items-center"},RF={class:"flex gap-4 mr-6"},DF={key:0,class:"flex flex-col items-center"},NF={class:"text-white"},LF=vt({__name:"Header",setup(n){const e=So(),t=()=>{e.push("/auth")},s=()=>{e.push("/projects")},i=async()=>{await Xt.auth.signOut(),e.push("/")};return(r,o)=>(Y(),te("div",_F,[M("div",AF,[M("div",MF,[M("img",{src:re(wN),class:"w-14"},null,8,PF),o[0]||(o[0]=M("div",{class:"flex flex-col"},[M("span",{class:"text-2xl"},"FKanban"),M("span",{class:"text-sm"},"    ")],-1))]),M("div",IF,[ve(re(kF),{class:"mr-20"}),re(ri)?(Y(),te("button",{key:0,class:"mr-20 hover:text-hover-text",onClick:s},"")):rn("",!0),M("section",RF,[re(ri)?(Y(),te("div",DF,[M("span",NF,Je(re(ri).email),1),M("div",null,[M("button",{onClick:i,class:"text-sm text-red-400 hover:text-red-500"},"  ")])])):(Y(),te("span",{key:1,class:"hover-text",onClick:t},""))])])])]))}}),FF={},$F={class:"w-full py-6 text-gray-300 flex gap-4 items-center justify-center"};function jF(n,e){return Y(),te("div",$F,e[0]||(e[0]=[M("div",{class:"flex flex-col"},[M("span",null,"FKanban"),M("span",null,": 0.0.1 | 2025")],-1),M("span",null,"   .",-1)]))}const BF=Eo(FF,[["render",jF]]),VF={class:"min-w-max h-auto"},HF=vt({__name:"App",setup(n){const e=eg(),t=nn(()=>e.path==="/auth"),s=nn(()=>e.path==="/create-new-project");return ek(),(i,r)=>{const o=hC("RouterView");return Y(),te("div",VF,[!t.value&&!s.value?(Y(),Os(re(LF),{key:0})):rn("",!0),ve(o,{class:"mt-20"}),ve(re(BF))])}}}),UF=()=>new Promise(n=>{navigator.onLine?fetch("https://www.google.com",{mode:"no-cors"}).then(()=>n(!0)).catch(()=>n(!1)):n(!1)}),zF=()=>{const n=me(navigator.onLine),e=()=>{UF().then(t=>{n.value=t})};return ks(()=>{window.addEventListener("online",e),window.addEventListener("offline",e),e()}),nc(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}),{isOnline:n}},WF={key:0,class:"min-w-full flex flex-col items-center gap-10 p-4 mb-14"},KF={key:1,class:"flex mt-44 text-white justify-self-center"},GF=vt({__name:"Main",setup(n){const{isOnline:e}=zF(),t=So(),s=()=>{t.push("/create-new-project")};return(i,r)=>(Y(),te("div",null,[re(e)?(Y(),te("div",WF,[M("div",{class:"flex flex-col justify-center items-center w-[44rem] h-[12rem] bg-zinc-900 rounded-md gap-6"},[r[0]||(r[0]=M("span",{class:"text-xl text-white"},"   FKanban",-1)),r[1]||(r[1]=M("span",{class:"text-center text-gray-300"},"        .",-1)),M("button",{onClick:s}," ")]),r[2]||(r[2]=WC('<span class="text-xl text-center whitespace-pre-line max-w-[40rem]" data-v-48d9596b> FKanban   ,   ,   . </span><div class="grid grid-cols-2 gap-6 w-[44rem]" data-v-48d9596b><div class="p-6 bg-zinc-900 rounded-md flex flex-col items-center gap-4" data-v-48d9596b><span class="text-4xl" data-v-48d9596b></span><span class="text-xl font-semibold" data-v-48d9596b> </span><span class="text-center text-gray-300" data-v-48d9596b>      . </span></div><div class="p-6 bg-zinc-900 rounded-md flex flex-col items-center gap-4" data-v-48d9596b><span class="text-4xl" data-v-48d9596b></span><span class="text-xl font-semibold" data-v-48d9596b> </span><span class="text-center text-gray-300" data-v-48d9596b>      . </span></div><div class="p-6 bg-zinc-900 rounded-md flex flex-col items-center gap-4" data-v-48d9596b><span class="text-4xl" data-v-48d9596b></span><span class="text-xl font-semibold" data-v-48d9596b>  </span><span class="text-center text-gray-300" data-v-48d9596b>     . </span></div><div class="p-6 bg-zinc-900 rounded-md flex flex-col items-center gap-4" data-v-48d9596b><span class="text-4xl" data-v-48d9596b></span><span class="text-xl font-semibold" data-v-48d9596b>   </span><span class="text-center text-gray-300" data-v-48d9596b>     . </span></div></div>',2))])):(Y(),te("div",KF,r[3]||(r[3]=[M("div",{class:"w-[28rem] h-[7rem] p-6 bg-zinc-900 rounded-md flex flex-col justify-center items-center"},[M("span",{class:"material-symbols-outlined"},"wifi_off"),M("span",{class:"text-2xl"},"    =(")],-1)])))]))}}),XF=Eo(GF,[["__scopeId","data-v-48d9596b"]]),JF={class:"mb-4"},YF=["value"],qF={key:0,class:"mt-2 text-sm text-red-600"},QF=vt({__name:"EmailInput",props:{modelValue:{type:String,required:!0},error:{type:String,default:""}},emits:["update:modelValue","update:error"],setup(n,{emit:e}){const t=n,s=e,i=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),r=o=>{const l=o.target.value;s("update:modelValue",l),l&&!i(l)?s("update:error",",   email."):s("update:error","")};return wn(()=>t.modelValue,o=>{o||s("update:error","")}),(o,a)=>(Y(),te("div",JF,[a[0]||(a[0]=M("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),M("input",{type:"email",id:"email",value:n.modelValue,class:"mt-1 block w-full px-3 py-2 text-input-text border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  email",onInput:r},null,40,YF),n.error?(Y(),te("p",qF,Je(n.error),1)):rn("",!0)]))}}),ZF=Ia({user:ri}),e$=async()=>{var e;const{data:n}=await Xt.auth.getSession();ZF.user=((e=n.session)==null?void 0:e.user)||null},t$={class:"flex flex-col items-center justify-center overflow-hidden mt-52"},n$={class:"bg-bg-accent-dark mt-4 p-8 rounded-lg shadow-lg w-full max-w-md"},s$=["disabled"],i$=vt({__name:"Auth",setup(n){const e=me(!1),t=me(""),s=me(""),i=So(),r=async()=>{if(!t.value){s.value=",  email.";return}try{e.value=!0,s.value="";const{error:o}=await Xt.auth.signInWithOtp({email:t.value});if(o)throw o;alert("   ")}catch(o){o instanceof Error&&alert(o.message)}finally{e.value=!1}await e$(),i.push("/projects")};return(o,a)=>(Y(),te("div",t$,[M("button",{onClick:a[0]||(a[0]=(...l)=>re(i).back&&re(i).back(...l)),class:"flex items-center gap-2 hover:text-gray-300"},a[2]||(a[2]=[M("i",{class:"fa-solid fa-chevron-left"},null,-1),M("span",null," ",-1)])),M("div",n$,[a[6]||(a[6]=M("h2",{class:"text-2xl font-bold mb-6 text-center"},"  ",-1)),M("form",{onSubmit:to(r,["prevent"])},[ve(re(QF),{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value=l),error:s.value},null,8,["modelValue","error"]),a[3]||(a[3]=M("div",{class:"mb-10"},null,-1)),a[4]||(a[4]=M("span",{class:"text-xs text-gray-400 text-wrap line-clamp-4"},"           ",-1)),a[5]||(a[5]=M("div",{class:"mb-4"},null,-1)),M("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:e.value},Je(e.value?"...":" "),9,s$)],32)])]))}}),r$={class:"mb-4"},o$=["type","disabled","value","placeholder"],a$={key:0,class:"mt-2 text-sm text-red-600"},Ch=vt({__name:"Input",props:{type:{type:String,default:"text"},modelValue:{type:[String,Number],required:!0},error:{type:String,default:""},placeholder:{type:String,default:" "},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,i=r=>{const a=r.target.value;s("update:modelValue",a)};return wn(()=>t.modelValue,r=>{}),(r,o)=>(Y(),te("div",r$,[M("input",{type:n.type,id:"input",disabled:n.disabled,value:n.modelValue,class:pt(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",n.disabled?"text-gray-400":"text-input-text"]),placeholder:n.placeholder,onInput:i},null,42,o$),n.error?(Y(),te("p",a$,Je(n.error),1)):rn("",!0)]))}}),tk=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=lm(n,4),t=lm(n,9),s=lm(n,2);return`${e}-${t}-${s}`},lm=(n,e)=>{let t="";for(let s=0;s<e;s++){const i=Math.floor(Math.random()*n.length);t+=n.charAt(i)}return t},l$=async n=>{try{const{data:e,error:t}=await Xt.from("projects").select("*").eq("userEmail",n);if(t)throw t;return e.map(s=>({...s,createdAt:new Date(s.createdAt)}))}catch(e){throw e}},cm=async n=>{try{const{data:e,error:t}=await Xt.from("projects").insert([n]).select().single();if(t)throw t;const{error:s}=await Xt.storage.from("task-attachments").upload(`${n.id}/placeholder.txt`,new Blob([" "]),{cacheControl:"3600",contentType:"text/plain",upsert:!1});if(s&&s.message!=="Duplicate")throw s;return{...e,createdAt:new Date(e.createdAt)}}catch(e){throw e}},c$=async(n,e)=>{try{const{data:t,error:s}=await Xt.from("projects").update({name:e}).eq("id",n).select().single();if(s)throw s;return{...t,createdAt:new Date(t.createdAt)}}catch(t){throw t}},u$=async n=>{try{const{error:e}=await Xt.from("projects").delete().eq("id",n).select().single();if(e)throw e}catch(e){throw e}},f$=async(n,e)=>{try{const{error:t}=await Xt.from("tasks").insert({...e,projectId:n});if(t)throw t}catch(t){throw t}},d$=async n=>{try{const{error:e}=await Xt.from("tasks").delete().eq("id",n).select().single();if(e)throw e}catch(e){throw e}},h$=async(n,e)=>{try{const{error:t}=await Xt.storage.from("task-attachments").upload(`${n}/${e}/.keep`,new Blob,{upsert:!1});if(t&&t.message!=="Duplicate")throw t}catch(t){throw t}},p$=async(n,e,t)=>{try{for(const s of t){const i=`${n}/${e}/${s.name}`,{error:r}=await Xt.storage.from("task-attachments").upload(i,s);if(r)throw r}}catch(s){console.error("  :",s)}},AS=async(n,e)=>{try{const{data:t,error:s}=await Xt.storage.from("task-attachments").list(`${n}/${e}`);if(s)throw console.error("Storage error:",s),s;console.log("Raw files data:",t);const i=await Promise.all(t.filter(r=>r.name!==".keep").map(async r=>{var a;const{data:o}=Xt.storage.from("task-attachments").getPublicUrl(`${n}/${e}/${r.name}`);return{name:r.name,url:o.publicUrl,type:((a=r.name.split(".").pop())==null?void 0:a.toLowerCase())||"file"}}));return console.log("Processed files:",i),i}catch(t){return console.error("Error fetching files:",t),[]}},Fd=async(n,e)=>{try{const{data:t,error:s}=await Xt.from("tasks").update(e).eq("id",n).select().single();if(s)throw s;return t}catch(t){return console.error("   : ",t),null}},g$=async n=>{try{const{data:e,error:t}=await Xt.from("tasks").select("*").eq("projectId",n);if(t)throw t;return e.map(s=>({...s,createdAt:s.createdAt,deadline:s.deadline,labels:s.labels||[]}))}catch(e){throw e}},MS=async()=>{try{const{data:n,error:e}=await Xt.from("labels").select("*");if(e)throw e;return n}catch(n){throw n}},m$=async n=>{try{const{error:e}=await Xt.from("labels").insert(n).select().single();if(e)throw e}catch(e){throw e}},y$={class:"flex flex-col gap-4 items-center"},b$={class:"bg-bg-accent-dark p-8 rounded-lg shadow-lg w-full max-w-md"},v$=["disabled"],x$=vt({__name:"CreateProject",setup(n){const e=me(!1),t=me(""),s=me(""),i=So(),r=async()=>{if(!t.value){s.value=",  .";return}try{e.value=!0,s.value="";const{data:{user:o}}=await Xt.auth.getUser(),a=tk(),l=new Date().toISOString();await cm({id:a,name:t.value,userEmail:(o==null?void 0:o.email)||"",createdAt:l}),i.push("/projects")}catch(o){o instanceof Error&&alert(o.message)}finally{e.value=!1}};return(o,a)=>(Y(),te("div",y$,[M("button",{onClick:a[0]||(a[0]=(...l)=>re(i).back&&re(i).back(...l)),class:"flex items-center gap-2 hover:text-gray-300"},a[3]||(a[3]=[M("i",{class:"fa-solid fa-chevron-left"},null,-1),M("span",null," ",-1)])),M("div",b$,[a[4]||(a[4]=M("h2",{class:"text-2xl font-bold mb-6 text-center"},"     ",-1)),M("form",{onSubmit:a[2]||(a[2]=to((...l)=>re(cm)&&re(cm)(...l),["prevent"]))},[ve(re(Ch),{type:"text",modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value=l),error:s.value,placeholder:"",class:"w-full rounded-md p-2 mb-4"},null,8,["modelValue","error"]),M("button",{type:"submit",disabled:e.value,class:pt([{"opacity-50 cursor-not-allowed":e.value},"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"]),onClick:r},Je(e.value?"...":""),11,v$)],32)])]))}}),S$={class:"bg-zinc-800 p-6 rounded-lg shadow-lg max-w-sm w-full"},E$={class:"text-xl font-semibold mb-4"},w$={class:"text-gray-300 mb-6"},T$={class:"flex gap-2 justify-end"},C$=["disabled"],O$=["disabled"],k$=vt({__name:"ConfirmationModal",props:{isOpen:Boolean,title:{type:String,default:" "},message:String,confirmText:{type:String,default:""},cancelText:{type:String,default:""},isLoading:Boolean},emits:["confirm","cancel"],setup(n,{emit:e}){const t=n,s=e,i=()=>s("confirm"),r=()=>s("cancel"),o=a=>{t.isOpen&&(a.key==="Escape"&&r(),a.key==="Enter"&&i())};return ks(()=>window.addEventListener("keydown",o)),nc(()=>window.removeEventListener("keydown",o)),(a,l)=>(Y(),Os(eo,{name:"fade"},{default:$s(()=>[n.isOpen?(Y(),te("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:to(r,["self"])},[M("div",S$,[M("h3",E$,Je(n.title),1),M("p",w$,Je(n.message),1),M("div",T$,[M("button",{onClick:i,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md",disabled:n.isLoading},Je(n.confirmText),9,C$),M("button",{onClick:r,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md",disabled:n.isLoading},Je(n.cancelText),9,O$)])])])):rn("",!0)]),_:1}))}}),wv=Eo(k$,[["__scopeId","data-v-a39b4297"]]),_$={class:"w-64 h-40 bg-bg-accent-dark p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow"},A$={class:"flex justify-between"},M$={class:"text-xl font-semibold truncate max-w-[80%]"},P$={class:"relative"},I$={key:0,class:"absolute right-0 top-8 bg-zinc-800 rounded-md shadow-lg py-2 w-32 z-10"},R$={class:"text-gray-300 text-sm mt-2"},D$={key:0,class:"mt-4 space-y-2"},N$={class:"flex gap-2"},L$=["disabled"],F$=vt({__name:"ProjectCard",props:{project:{}},emits:["edit","delete"],setup(n,{emit:e}){const t=n,s=So(),i=e,r=me(!1),o=me(!1),a=me(!1),l=me(!1),c=me(!1),u=me(""),f=()=>{r.value=!r.value},d=v=>{s.push({name:"workspace",query:{name:t.project.name,projectId:v}})},h=()=>{u.value=t.project.name,o.value=!0,r.value=!1},p=async()=>{if(u.value.trim()){a.value=!0;try{await new Promise(S=>setTimeout(S,2e3));const v=await c$(t.project.id,u.value);i("edit",v),o.value=!1}catch(v){console.error("   :",v)}finally{a.value=!1}}},g=()=>{o.value=!1,u.value=""},m=()=>{l.value=!0,r.value=!1},y=async()=>{c.value=!0;try{await u$(t.project.id),i("delete",t.project.id),l.value=!1}catch(v){console.error("   :",v)}finally{c.value=!1}},b=()=>{l.value=!1};wn(()=>t.project.name,v=>{u.value=v});const x=v=>v.toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return(v,S)=>(Y(),te("div",null,[M("div",_$,[M("div",A$,[M("h3",M$,Je(v.project.name),1),M("div",P$,[M("button",{onClick:f,class:pt(["w-6 h-6 flex items-center justify-center hover:bg-gray-600 rounded-full duration-150",{"rotate-90":r.value}])},S[2]||(S[2]=[M("i",{class:"fa-solid fa-ellipsis"},null,-1)]),2),r.value?(Y(),te("div",I$,[M("button",{onClick:h,class:"w-full px-4 py-2 hover:bg-gray-700 duration-150 rounded-md"},"  "),M("button",{onClick:m,class:"w-full px-4 py-2 hover:bg-gray-700 duration-150 rounded-md"},"  ")])):rn("",!0)])]),M("p",R$," : "+Je(x(v.project.createdAt)),1),M("button",{onClick:S[0]||(S[0]=E=>d(v.project.id)),class:"mt-8"},"")]),o.value?(Y(),te("div",D$,[ve(re(Ch),{type:"text",modelValue:u.value,"onUpdate:modelValue":S[1]||(S[1]=E=>u.value=E)},null,8,["modelValue"]),M("div",N$,[M("button",{onClick:p,class:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md",disabled:a.value},Je(a.value?"...":""),9,L$),M("button",{onClick:g,class:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded-md"},"  ")])])):rn("",!0),ve(re(wv),{"is-open":l.value,title:" ?",message:` ,     ${t.project.name}?    .`,"confirm-text":"","is-loading":c.value,onConfirm:y,onCancel:b},null,8,["is-open","message","is-loading"])]))}}),$$={},j$={class:"flex justify-center items-center"};function B$(n,e){return Y(),te("div",j$,e[0]||(e[0]=[M("div",{class:"relative h-12 w-12"},[M("div",{class:"absolute inset-0 rounded-full border-blue-500 border-4"}),M("div",{class:"absolute inset-0 border-4 border-white border-t-transparent rounded-full animate-spin"})],-1)]))}const Tv=Eo($$,[["render",B$]]),V$={class:"px-20 py-10 min-h-[calc(100vh-180px)]"},H$={key:0,class:"mt-10 flex justify-center"},U$={key:1,class:"mt-10 text-center flex justify-center"},z$={key:2,class:"mt-10 text-center flex justify-center"},W$={key:3,class:"w-full mt-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-5 gap-4"},K$=vt({__name:"Projects",setup(n){const e=me([]),t=me(!0),s=me(null),i=So(),r=async()=>{var c;try{if(!((c=ri.value)!=null&&c.email))throw new Error("  .");t.value=!0,s.value=null;const u=await l$(ri.value.email);e.value=u}catch(u){console.error("   :",u),s.value=u}finally{t.value=!1}},o=c=>{e.value=e.value.map(u=>u.id===c.id?c:u)},a=async c=>{e.value=e.value.filter(u=>u.id!==c.id),await r()},l=()=>{i.push("/create-new-project")};return ks(()=>{ri.value&&r()}),(c,u)=>(Y(),te("div",V$,[u[0]||(u[0]=M("h2",{class:"text-3xl mt-4"}," ",-1)),u[1]||(u[1]=M("span",{class:"text-gray-300"},"     .",-1)),M("button",{onClick:l,class:"w-14 h-10 mt-6 flex items-center justify-center text-3xl cursor-pointer border-2 border-gray-700 rounded-lg hover:border-blue-500 hover:text-blue-500 transition-colors"}," + "),t.value?(Y(),te("div",H$,[ve(Tv)])):s.value?(Y(),te("div",U$," : "+Je(s.value),1)):e.value.length===0?(Y(),te("div",z$,"   . ")):(Y(),te("div",W$,[(Y(!0),te(st,null,Yn(e.value,f=>(Y(),Os(F$,{key:f.id,project:f,onEdit:o,onDelete:a},null,8,["project"]))),128))]))]))}}),G$={class:"fixed bottom-4 right-4 w-80 z-[9999] flex flex-col gap-2"},X$=["onClick"],J$=vt({__name:"Notification",props:{notifications:{}},emits:["close"],setup(n){return(e,t)=>(Y(),te("div",G$,[ve(dO,{name:"slide"},{default:$s(()=>[(Y(!0),te(st,null,Yn(e.notifications,s=>(Y(),te("div",{key:s.id,class:pt(["p-4 rounded-lg shadow-lg flex items-center justify-between",s.type==="success"?"bg-bg-accent-dark border-2 border-emerald-700 text-white":"bg-bg-accent-dark border-2 border-red-800 text-white"])},[M("span",null,Je(s.message),1),M("button",{onClick:i=>e.$emit("close",s.id),class:"hover:opacity-70 transition-opacity"},t[0]||(t[0]=[M("i",{class:"fa-solid fa-xmark"},null,-1)]),8,X$)],2))),128))]),_:1})]))}});var $d={exports:{}},um={exports:{}},fm={};/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fl=Symbol(""),hl=Symbol(""),ng=Symbol(""),Lu=Symbol(""),Cv=Symbol(""),fo=Symbol(""),Ov=Symbol(""),kv=Symbol(""),sg=Symbol(""),ig=Symbol(""),ic=Symbol(""),rg=Symbol(""),_v=Symbol(""),og=Symbol(""),ag=Symbol(""),lg=Symbol(""),cg=Symbol(""),ug=Symbol(""),fg=Symbol(""),Av=Symbol(""),Mv=Symbol(""),Sf=Symbol(""),Fu=Symbol(""),dg=Symbol(""),hg=Symbol(""),$l=Symbol(""),rc=Symbol(""),pg=Symbol(""),Oh=Symbol(""),nk=Symbol(""),kh=Symbol(""),$u=Symbol(""),sk=Symbol(""),ik=Symbol(""),gg=Symbol(""),rk=Symbol(""),ok=Symbol(""),mg=Symbol(""),Pv=Symbol(""),Sa={[Fl]:"Fragment",[hl]:"Teleport",[ng]:"Suspense",[Lu]:"KeepAlive",[Cv]:"BaseTransition",[fo]:"openBlock",[Ov]:"createBlock",[kv]:"createElementBlock",[sg]:"createVNode",[ig]:"createElementVNode",[ic]:"createCommentVNode",[rg]:"createTextVNode",[_v]:"createStaticVNode",[og]:"resolveComponent",[ag]:"resolveDynamicComponent",[lg]:"resolveDirective",[cg]:"resolveFilter",[ug]:"withDirectives",[fg]:"renderList",[Av]:"renderSlot",[Mv]:"createSlots",[Sf]:"toDisplayString",[Fu]:"mergeProps",[dg]:"normalizeClass",[hg]:"normalizeStyle",[$l]:"normalizeProps",[rc]:"guardReactiveProps",[pg]:"toHandlers",[Oh]:"camelize",[nk]:"capitalize",[kh]:"toHandlerKey",[$u]:"setBlockTracking",[sk]:"pushScopeId",[ik]:"popScopeId",[gg]:"withCtx",[rk]:"unref",[ok]:"isRef",[mg]:"withMemo",[Pv]:"isMemoSame"};function ak(n){Object.getOwnPropertySymbols(n).forEach(e=>{Sa[e]=n[e]})}const Y$={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},q$={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Q$={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},Z$={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},an={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function lk(n,e=""){return{type:0,source:e,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:an}}function jl(n,e,t,s,i,r,o,a=!1,l=!1,c=!1,u=an){return n&&(a?(n.helper(fo),n.helper(Ta(n.inSSR,c))):n.helper(wa(n.inSSR,c)),o&&n.helper(ug)),{type:13,tag:e,props:t,children:s,patchFlag:i,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function no(n,e=an){return{type:17,loc:e,elements:n}}function Ts(n,e=an){return{type:15,loc:e,properties:n}}function Ut(n,e){return{type:16,loc:an,key:ke(n)?Re(n,!0):n,value:e}}function Re(n,e=!1,t=an,s=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:s}}function ej(n,e){return{type:5,loc:e,content:ke(n)?Re(n,!1,e):n}}function Hs(n,e=an){return{type:8,loc:e,children:n}}function Yt(n,e=[],t=an){return{type:14,loc:t,callee:n,arguments:e}}function Ea(n,e=void 0,t=!1,s=!1,i=an){return{type:18,params:n,returns:e,newline:t,isSlot:s,loc:i}}function _h(n,e,t,s=!0){return{type:19,test:n,consequent:e,alternate:t,newline:s,loc:an}}function ck(n,e,t=!1,s=!1){return{type:20,index:n,value:e,needPauseTracking:t,inVOnce:s,needArraySpread:!1,loc:an}}function uk(n){return{type:21,body:n,loc:an}}function tj(n){return{type:22,elements:n,loc:an}}function nj(n,e,t){return{type:23,test:n,consequent:e,alternate:t,loc:an}}function sj(n,e){return{type:24,left:n,right:e,loc:an}}function ij(n){return{type:25,expressions:n,loc:an}}function rj(n){return{type:26,returns:n,loc:an}}function wa(n,e){return n||e?sg:ig}function Ta(n,e){return n||e?Ov:kv}function yg(n,{helper:e,removeHelper:t,inSSR:s}){n.isBlock||(n.isBlock=!0,t(wa(s,n.isComponent)),e(fo),e(Ta(s,n.isComponent)))}const PS=new Uint8Array([123,123]),IS=new Uint8Array([125,125]);function RS(n){return n>=97&&n<=122||n>=65&&n<=90}function Ss(n){return n===32||n===10||n===9||n===12||n===13}function pr(n){return n===47||n===62||Ss(n)}function Ah(n){const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}const On={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class oj{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=PS,this.delimiterClose=IS,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=PS,this.delimiterClose=IS}getPos(e){let t=1,s=e+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(e>r){t=i+2,s=e-r;break}}return{column:s,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const t=this.index+1-this.delimiterOpen.length;t>this.sectionStart&&this.cbs.ontext(this.sectionStart,t),this.state=3,this.sectionStart=t}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?pr(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Ss(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const s=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=s}this.sectionStart=t+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===On.TitleEnd||this.currentSequence===On.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===On.Cdata[this.sequenceIndex]?++this.sequenceIndex===On.Cdata.length&&(this.state=28,this.currentSequence=On.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(t===10&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===On.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):RS(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){pr(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(pr(e)){const t=this.buffer.slice(this.sectionStart,this.index);t!=="template"&&this.enterRCDATA(Ah("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Ss(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=RS(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Ss(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ss(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ss(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||pr(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||pr(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||pr(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||pr(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||pr(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Ss(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Ss(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Ss(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=On.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===On.ScriptEnd[3]?this.startSpecial(On.ScriptEnd,4):e===On.StyleEnd[3]?this.startSpecial(On.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===On.TitleEnd[3]?this.startSpecial(On.TitleEnd,4):e===On.TextareaEnd[3]?this.startSpecial(On.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);switch(t===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(t);break}case 2:{this.stateInterpolationOpen(t);break}case 3:{this.stateInterpolation(t);break}case 4:{this.stateInterpolationClose(t);break}case 31:{this.stateSpecialStartSequence(t);break}case 32:{this.stateInRCDATA(t);break}case 26:{this.stateCDATASequence(t);break}case 19:{this.stateInAttrValueDoubleQuotes(t);break}case 12:{this.stateInAttrName(t);break}case 13:{this.stateInDirName(t);break}case 14:{this.stateInDirArg(t);break}case 15:{this.stateInDynamicDirArg(t);break}case 16:{this.stateInDirModifier(t);break}case 28:{this.stateInCommentLike(t);break}case 27:{this.stateInSpecialComment(t);break}case 11:{this.stateBeforeAttrName(t);break}case 6:{this.stateInTagName(t);break}case 34:{this.stateInSFCRootTagName(t);break}case 9:{this.stateInClosingTagName(t);break}case 5:{this.stateBeforeTagName(t);break}case 17:{this.stateAfterAttrName(t);break}case 20:{this.stateInAttrValueSingleQuotes(t);break}case 18:{this.stateBeforeAttrValue(t);break}case 8:{this.stateBeforeClosingTagName(t);break}case 10:{this.stateAfterClosingTagName(t);break}case 29:{this.stateBeforeSpecialS(t);break}case 30:{this.stateBeforeSpecialT(t);break}case 21:{this.stateInAttrValueNoQuotes(t);break}case 7:{this.stateInSelfClosingTag(t);break}case 23:{this.stateInDeclaration(t);break}case 22:{this.stateBeforeDeclaration(t);break}case 25:{this.stateBeforeComment(t);break}case 24:{this.stateInProcessingInstruction(t);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===On.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}}const aj={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},lj={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Vy(n,{compatConfig:e}){const t=e&&e[n];return n==="MODE"?t||3:t}function ca(n,e){const t=Vy("MODE",e),s=Vy(n,e);return t===3?s===!0:s!==!1}function Bl(n,e,t,...s){return ca(n,e)}function cj(n,e,t,...s){if(Vy(n,e)==="suppress-warning")return;const{message:r,link:o}=lj[n],a=`(deprecation ${n}) ${typeof r=="function"?r(...s):r}${o?`
  Details: ${o}`:""}`,l=new SyntaxError(a);l.code=n,t&&(l.loc=t),e.onWarn(l)}function Iv(n){throw n}function fk(n){}function kt(n,e,t,s){const i=`https://vuejs.org/error-reference/#compiler-${n}`,r=new SyntaxError(String(i));return r.code=n,r.loc=e,r}const uj={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},fj={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function dj(n,e,t=!1,s=[],i=Object.create(null)){}function hj(n,e,t){return!1}function pj(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let t=e.length;for(;t--;){const s=e[t];if(s.type==="AssignmentExpression")return!0;if(s.type!=="ObjectProperty"&&!s.type.endsWith("Pattern"))break}}return!1}function gj(n){let e=n.length;for(;e--;){const t=n[e];if(t.type==="NewExpression")return!0;if(t.type!=="MemberExpression")break}return!1}function mj(n,e){for(const t of n.params)for(const s of Yi(t))e(s)}function yj(n,e){for(const t of n.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(const s of t.declarations)for(const i of Yi(s.id))e(i)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}else bj(t)&&vj(t,!0,e)}function bj(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function vj(n,e,t){const s=n.type==="ForStatement"?n.init:n.left;if(s&&s.type==="VariableDeclaration"&&(s.kind==="var"&&e))for(const i of s.declarations)for(const r of Yi(i.id))t(r)}function Yi(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let t=n;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(const s of n.properties)s.type==="RestElement"?Yi(s.argument,e):Yi(s.value,e);break;case"ArrayPattern":n.elements.forEach(s=>{s&&Yi(s,e)});break;case"RestElement":Yi(n.argument,e);break;case"AssignmentPattern":Yi(n.left,e);break}return e}const xj=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),dk=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,Sj=(n,e)=>dk(e)&&e.key===n,hk=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function pk(n){return hk.includes(n.type)?pk(n.expression):n}const qn=n=>n.type===4&&n.isStatic;function Rv(n){switch(n){case"Teleport":case"teleport":return hl;case"Suspense":case"suspense":return ng;case"KeepAlive":case"keep-alive":return Lu;case"BaseTransition":case"base-transition":return Cv}}const Ej=/^\d|[^\$\w\xA0-\uFFFF]/,Ef=n=>!Ej.test(n),wj=/[A-Za-z_$\xA0-\uFFFF]/,Tj=/[\.\?\w$\xA0-\uFFFF]/,Cj=/\s+[.[]\s*|\s*[.[]\s+/g,gk=n=>n.type===4?n.content:n.loc.source,mk=n=>{const e=gk(n).trim().replace(Cj,a=>a.trim());let t=0,s=[],i=0,r=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(t){case 0:if(l==="[")s.push(t),t=1,i++;else if(l==="(")s.push(t),t=2,r++;else if(!(a===0?wj:Tj).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(s.push(t),t=3,o=l):l==="["?i++:l==="]"&&(--i||(t=s.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")s.push(t),t=3,o=l;else if(l==="(")r++;else if(l===")"){if(a===e.length-1)return!1;--r||(t=s.pop())}break;case 3:l===o&&(t=s.pop(),o=null);break}}return!i&&!r},Oj=fn,Dv=mk,kj=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,yk=n=>kj.test(gk(n)),_j=fn,bk=yk;function Aj(n,e,t=e.length){return vk({offset:n.offset,line:n.line,column:n.column},e,t)}function vk(n,e,t=e.length){let s=0,i=-1;for(let r=0;r<t;r++)e.charCodeAt(r)===10&&(s++,i=r);return n.offset+=t,n.line+=s,n.column=i===-1?n.column+t:t-i,n}function Mj(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function Xn(n,e,t=!1){for(let s=0;s<n.props.length;s++){const i=n.props[s];if(i.type===7&&(t||i.exp)&&(ke(e)?i.name===e:e.test(i.name)))return i}}function wf(n,e,t=!1,s=!1){for(let i=0;i<n.props.length;i++){const r=n.props[i];if(r.type===6){if(t)continue;if(r.name===e&&(r.value||s))return r}else if(r.name==="bind"&&(r.exp||s)&&Hr(r.arg,e))return r}}function Hr(n,e){return!!(n&&qn(n)&&n.content===e)}function xk(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function jd(n){return n.type===5||n.type===2}function Nv(n){return n.type===7&&n.name==="slot"}function Vl(n){return n.type===1&&n.tagType===3}function ju(n){return n.type===1&&n.tagType===2}const Pj=new Set([$l,rc]);function Sk(n,e=[]){if(n&&!ke(n)&&n.type===14){const t=n.callee;if(!ke(t)&&Pj.has(t))return Sk(n.arguments[0],e.concat(n))}return[n,e]}function Bu(n,e,t){let s,i=n.type===13?n.props:n.arguments[2],r=[],o;if(i&&!ke(i)&&i.type===14){const a=Sk(i);i=a[0],r=a[1],o=r[r.length-1]}if(i==null||ke(i))s=Ts([e]);else if(i.type===14){const a=i.arguments[0];!ke(a)&&a.type===15?DS(e,a)||a.properties.unshift(e):i.callee===pg?s=Yt(t.helper(Fu),[Ts([e]),i]):i.arguments.unshift(Ts([e])),!s&&(s=i)}else i.type===15?(DS(e,i)||i.properties.unshift(e),s=i):(s=Yt(t.helper(Fu),[Ts([e]),i]),o&&o.callee===rc&&(o=r[r.length-2]));n.type===13?o?o.arguments[0]=s:n.props=s:o?o.arguments[0]=s:n.arguments[2]=s}function DS(n,e){let t=!1;if(n.key.type===4){const s=n.key.content;t=e.properties.some(i=>i.key.type===4&&i.key.content===s)}return t}function Hl(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,s)=>t==="-"?"_":n.charCodeAt(s).toString())}`}function Js(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let t=0;t<n.props.length;t++){const s=n.props[t];if(s.type===7&&(Js(s.arg,e)||Js(s.exp,e)))return!0}return n.children.some(t=>Js(t,e));case 11:return Js(n.source,e)?!0:n.children.some(t=>Js(t,e));case 9:return n.branches.some(t=>Js(t,e));case 10:return Js(n.condition,e)?!0:n.children.some(t=>Js(t,e));case 4:return!n.isStatic&&Ef(n.content)&&!!e[n.content];case 8:return n.children.some(t=>mt(t)&&Js(t,e));case 5:case 12:return Js(n.content,e);case 2:case 3:case 20:return!1;default:return!1}}function Ek(n){return n.type===14&&n.callee===mg?n.arguments[1].returns:n}const wk=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Tk={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:rl,isPreTag:rl,isIgnoreNewlineTag:rl,isCustomElement:rl,onError:Iv,onWarn:fk,comments:!1,prefixIdentifiers:!1};let gt=Tk,Vu=null,nr="",Pn=null,tt=null,cs="",Li=-1,$o=-1,Lv=0,kr=!1,Hy=null;const Pt=[],Ht=new oj(Pt,{onerr:Pi,ontext(n,e){Qf(vn(n,e),n,e)},ontextentity(n,e,t){Qf(n,e,t)},oninterpolation(n,e){if(kr)return Qf(vn(n,e),n,e);let t=n+Ht.delimiterOpen.length,s=e-Ht.delimiterClose.length;for(;Ss(nr.charCodeAt(t));)t++;for(;Ss(nr.charCodeAt(s-1));)s--;let i=vn(t,s);i.includes("&")&&(i=gt.decodeEntities(i,!1)),Uy({type:5,content:Vd(i,!1,Wt(t,s)),loc:Wt(n,e)})},onopentagname(n,e){const t=vn(n,e);Pn={type:1,tag:t,ns:gt.getNamespace(t,Pt[0],gt.ns),tagType:0,props:[],children:[],loc:Wt(n-1,e),codegenNode:void 0}},onopentagend(n){LS(n)},onclosetag(n,e){const t=vn(n,e);if(!gt.isVoidTag(t)){let s=!1;for(let i=0;i<Pt.length;i++)if(Pt[i].tag.toLowerCase()===t.toLowerCase()){s=!0,i>0&&Pi(24,Pt[0].loc.start.offset);for(let o=0;o<=i;o++){const a=Pt.shift();Bd(a,e,o<i)}break}s||Pi(23,Ck(n,60))}},onselfclosingtag(n){const e=Pn.tag;Pn.isSelfClosing=!0,LS(n),Pt[0]&&Pt[0].tag===e&&Bd(Pt.shift(),n)},onattribname(n,e){tt={type:6,name:vn(n,e),nameLoc:Wt(n,e),value:void 0,loc:Wt(n)}},ondirname(n,e){const t=vn(n,e),s=t==="."||t===":"?"bind":t==="@"?"on":t==="#"?"slot":t.slice(2);if(!kr&&s===""&&Pi(26,n),kr||s==="")tt={type:6,name:t,nameLoc:Wt(n,e),value:void 0,loc:Wt(n)};else if(tt={type:7,name:s,rawName:t,exp:void 0,arg:void 0,modifiers:t==="."?[Re("prop")]:[],loc:Wt(n)},s==="pre"){kr=Ht.inVPre=!0,Hy=Pn;const i=Pn.props;for(let r=0;r<i.length;r++)i[r].type===7&&(i[r]=Hj(i[r]))}},ondirarg(n,e){if(n===e)return;const t=vn(n,e);if(kr)tt.name+=t,Wo(tt.nameLoc,e);else{const s=t[0]!=="[";tt.arg=Vd(s?t:t.slice(1,-1),s,Wt(n,e),s?3:0)}},ondirmodifier(n,e){const t=vn(n,e);if(kr)tt.name+="."+t,Wo(tt.nameLoc,e);else if(tt.name==="slot"){const s=tt.arg;s&&(s.content+="."+t,Wo(s.loc,e))}else{const s=Re(t,!0,Wt(n,e));tt.modifiers.push(s)}},onattribdata(n,e){cs+=vn(n,e),Li<0&&(Li=n),$o=e},onattribentity(n,e,t){cs+=n,Li<0&&(Li=e),$o=t},onattribnameend(n){const e=tt.loc.start.offset,t=vn(e,n);tt.type===7&&(tt.rawName=t),Pn.props.some(s=>(s.type===7?s.rawName:s.name)===t)&&Pi(2,e)},onattribend(n,e){if(Pn&&tt){if(Wo(tt.loc,e),n!==0)if(cs.includes("&")&&(cs=gt.decodeEntities(cs,!0)),tt.type===6)tt.name==="class"&&(cs=kk(cs).trim()),n===1&&!cs&&Pi(13,e),tt.value={type:2,content:cs,loc:n===1?Wt(Li,$o):Wt(Li-1,$o+1)},Ht.inSFCRoot&&Pn.tag==="template"&&tt.name==="lang"&&cs&&cs!=="html"&&Ht.enterRCDATA(Ah("</template"),0);else{let t=0;tt.exp=Vd(cs,!1,Wt(Li,$o),0,t),tt.name==="for"&&(tt.forParseResult=Rj(tt.exp));let s=-1;tt.name==="bind"&&(s=tt.modifiers.findIndex(i=>i.content==="sync"))>-1&&Bl("COMPILER_V_BIND_SYNC",gt,tt.loc,tt.rawName)&&(tt.name="model",tt.modifiers.splice(s,1))}(tt.type!==7||tt.name!=="pre")&&Pn.props.push(tt)}cs="",Li=$o=-1},oncomment(n,e){gt.comments&&Uy({type:3,content:vn(n,e),loc:Wt(n-4,e+3)})},onend(){const n=nr.length;for(let e=0;e<Pt.length;e++)Bd(Pt[e],n-1),Pi(24,Pt[e].loc.start.offset)},oncdata(n,e){Pt[0].ns!==0?Qf(vn(n,e),n,e):Pi(1,n-9)},onprocessinginstruction(n){(Pt[0]?Pt[0].ns:gt.ns)===0&&Pi(21,n-1)}}),NS=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ij=/^\(|\)$/g;function Rj(n){const e=n.loc,t=n.content,s=t.match(wk);if(!s)return;const[,i,r]=s,o=(f,d,h=!1)=>{const p=e.start.offset+d,g=p+f.length;return Vd(f,!1,Wt(p,g),0,h?1:0)},a={source:o(r.trim(),t.indexOf(r,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(Ij,"").trim();const c=i.indexOf(l),u=l.match(NS);if(u){l=l.replace(NS,"").trim();const f=u[1].trim();let d;if(f&&(d=t.indexOf(f,c+l.length),a.key=o(f,d,!0)),u[2]){const h=u[2].trim();h&&(a.index=o(h,t.indexOf(h,a.key?d+f.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function vn(n,e){return nr.slice(n,e)}function LS(n){Ht.inSFCRoot&&(Pn.innerLoc=Wt(n+1,n+1)),Uy(Pn);const{tag:e,ns:t}=Pn;t===0&&gt.isPreTag(e)&&Lv++,gt.isVoidTag(e)?Bd(Pn,n):(Pt.unshift(Pn),(t===1||t===2)&&(Ht.inXML=!0)),Pn=null}function Qf(n,e,t){{const r=Pt[0]&&Pt[0].tag;r!=="script"&&r!=="style"&&n.includes("&")&&(n=gt.decodeEntities(n,!1))}const s=Pt[0]||Vu,i=s.children[s.children.length-1];i&&i.type===2?(i.content+=n,Wo(i.loc,t)):s.children.push({type:2,content:n,loc:Wt(e,t)})}function Bd(n,e,t=!1){t?Wo(n.loc,Ck(e,60)):Wo(n.loc,Dj(e,62)+1),Ht.inSFCRoot&&(n.children.length?n.innerLoc.end=Ye({},n.children[n.children.length-1].loc.end):n.innerLoc.end=Ye({},n.innerLoc.start),n.innerLoc.source=vn(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:s,ns:i,children:r}=n;if(kr||(s==="slot"?n.tagType=2:FS(n)?n.tagType=3:Lj(n)&&(n.tagType=1)),Ht.inRCDATA||(n.children=Ok(r)),i===0&&gt.isIgnoreNewlineTag(s)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&gt.isPreTag(s)&&Lv--,Hy===n&&(kr=Ht.inVPre=!1,Hy=null),Ht.inXML&&(Pt[0]?Pt[0].ns:gt.ns)===0&&(Ht.inXML=!1);{const o=n.props;if(!Ht.inSFCRoot&&ca("COMPILER_NATIVE_TEMPLATE",gt)&&n.tag==="template"&&!FS(n)){const l=Pt[0]||Vu,c=l.children.indexOf(n);l.children.splice(c,1,...n.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Bl("COMPILER_INLINE_TEMPLATE",gt,a.loc)&&n.children.length&&(a.value={type:2,content:vn(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:a.loc})}}function Dj(n,e){let t=n;for(;nr.charCodeAt(t)!==e&&t<nr.length-1;)t++;return t}function Ck(n,e){let t=n;for(;nr.charCodeAt(t)!==e&&t>=0;)t--;return t}const Nj=new Set(["if","else","else-if","for","slot"]);function FS({tag:n,props:e}){if(n==="template"){for(let t=0;t<e.length;t++)if(e[t].type===7&&Nj.has(e[t].name))return!0}return!1}function Lj({tag:n,props:e}){if(gt.isCustomElement(n))return!1;if(n==="component"||Fj(n.charCodeAt(0))||Rv(n)||gt.isBuiltInComponent&&gt.isBuiltInComponent(n)||gt.isNativeTag&&!gt.isNativeTag(n))return!0;for(let t=0;t<e.length;t++){const s=e[t];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(Bl("COMPILER_IS_ON_ELEMENT",gt,s.loc))return!0}}else if(s.name==="bind"&&Hr(s.arg,"is")&&Bl("COMPILER_IS_ON_ELEMENT",gt,s.loc))return!0}return!1}function Fj(n){return n>64&&n<91}const $j=/\r\n/g;function Ok(n,e){const t=gt.whitespace!=="preserve";let s=!1;for(let i=0;i<n.length;i++){const r=n[i];if(r.type===2)if(Lv)r.content=r.content.replace($j,`
`);else if(jj(r.content)){const o=n[i-1]&&n[i-1].type,a=n[i+1]&&n[i+1].type;!o||!a||t&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Bj(r.content)))?(s=!0,n[i]=null):r.content=" "}else t&&(r.content=kk(r.content))}return s?n.filter(Boolean):n}function jj(n){for(let e=0;e<n.length;e++)if(!Ss(n.charCodeAt(e)))return!1;return!0}function Bj(n){for(let e=0;e<n.length;e++){const t=n.charCodeAt(e);if(t===10||t===13)return!0}return!1}function kk(n){let e="",t=!1;for(let s=0;s<n.length;s++)Ss(n.charCodeAt(s))?t||(e+=" ",t=!0):(e+=n[s],t=!1);return e}function Uy(n){(Pt[0]||Vu).children.push(n)}function Wt(n,e){return{start:Ht.getPos(n),end:e==null?e:Ht.getPos(e),source:e==null?e:vn(n,e)}}function Vj(n){return Wt(n.start.offset,n.end.offset)}function Wo(n,e){n.end=Ht.getPos(e),n.source=vn(n.start.offset,e)}function Hj(n){const e={type:6,name:n.rawName,nameLoc:Wt(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const t=n.exp.loc;t.end.offset<n.loc.end.offset&&(t.start.offset--,t.start.column--,t.end.offset++,t.end.column++),e.value={type:2,content:n.exp.content,loc:t}}return e}function Vd(n,e=!1,t,s=0,i=0){return Re(n,e,t,s)}function Pi(n,e,t){gt.onError(kt(n,Wt(e,e)))}function Uj(){Ht.reset(),Pn=null,tt=null,cs="",Li=-1,$o=-1,Pt.length=0}function Fv(n,e){if(Uj(),nr=n,gt=Ye({},Tk),e){let i;for(i in e)e[i]!=null&&(gt[i]=e[i])}Ht.mode=gt.parseMode==="html"?1:gt.parseMode==="sfc"?2:0,Ht.inXML=gt.ns===1||gt.ns===2;const t=e&&e.delimiters;t&&(Ht.delimiterOpen=Ah(t[0]),Ht.delimiterClose=Ah(t[1]));const s=Vu=lk([],n);return Ht.parse(nr),s.loc=Wt(0,n.length),s.children=Ok(s.children),Vu=null,s}function zj(n,e){Hd(n,void 0,e,_k(n,n.children[0]))}function _k(n,e){const{children:t}=n;return t.length===1&&e.type===1&&!ju(e)}function Hd(n,e,t,s=!1,i=!1){const{children:r}=n,o=[];for(let u=0;u<r.length;u++){const f=r[u];if(f.type===1&&f.tagType===0){const d=s?0:ps(f,t);if(d>0){if(d>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const h=f.codegenNode;if(h.type===13){const p=h.patchFlag;if((p===void 0||p===512||p===1)&&Mk(f,t)>=2){const g=Pk(f);g&&(h.props=t.hoist(g))}h.dynamicProps&&(h.dynamicProps=t.hoist(h.dynamicProps))}}}else if(f.type===12&&(s?0:ps(f,t))>=2){o.push(f);continue}if(f.type===1){const d=f.tagType===1;d&&t.scopes.vSlot++,Hd(f,n,t,!1,i),d&&t.scopes.vSlot--}else if(f.type===11)Hd(f,n,t,f.children.length===1,!0);else if(f.type===9)for(let d=0;d<f.branches.length;d++)Hd(f.branches[d],n,t,f.branches[d].children.length===1,i)}let a=!1;if(o.length===r.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&ce(n.codegenNode.children))n.codegenNode.children=l(no(n.codegenNode.children)),a=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!ce(n.codegenNode.children)&&n.codegenNode.children.type===15){const u=c(n.codegenNode,"default");u&&(u.returns=l(no(u.returns)),a=!0)}else if(n.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ce(e.codegenNode.children)&&e.codegenNode.children.type===15){const u=Xn(n,"slot",!0),f=u&&u.arg&&c(e.codegenNode,u.arg);f&&(f.returns=l(no(f.returns)),a=!0)}}if(!a)for(const u of o)u.codegenNode=t.cache(u.codegenNode);function l(u){const f=t.cache(u);return i&&t.hmr&&(f.needArraySpread=!0),f}function c(u,f){if(u.children&&!ce(u.children)&&u.children.type===15){const d=u.children.properties.find(h=>h.key===f||h.key.content===f);return d&&d.value}}o.length&&t.transformHoist&&t.transformHoist(r,t,n)}function ps(n,e){const{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const s=t.get(n);if(s!==void 0)return s;const i=n.codegenNode;if(i.type!==13||i.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=Mk(n,e);if(a===0)return t.set(n,0),0;a<o&&(o=a);for(let l=0;l<n.children.length;l++){const c=ps(n.children[l],e);if(c===0)return t.set(n,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<n.props.length;l++){const c=n.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=ps(c.exp,e);if(u===0)return t.set(n,0),0;u<o&&(o=u)}}if(i.isBlock){for(let l=0;l<n.props.length;l++)if(n.props[l].type===7)return t.set(n,0),0;e.removeHelper(fo),e.removeHelper(Ta(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(wa(e.inSSR,i.isComponent))}return t.set(n,o),o}else return t.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ps(n.content,e);case 4:return n.constType;case 8:let r=3;for(let o=0;o<n.children.length;o++){const a=n.children[o];if(ke(a)||Qn(a))continue;const l=ps(a,e);if(l===0)return 0;l<r&&(r=l)}return r;case 20:return 2;default:return 0}}const Wj=new Set([dg,hg,$l,rc]);function Ak(n,e){if(n.type===14&&!ke(n.callee)&&Wj.has(n.callee)){const t=n.arguments[0];if(t.type===4)return ps(t,e);if(t.type===14)return Ak(t,e)}return 0}function Mk(n,e){let t=3;const s=Pk(n);if(s&&s.type===15){const{properties:i}=s;for(let r=0;r<i.length;r++){const{key:o,value:a}=i[r],l=ps(o,e);if(l===0)return l;l<t&&(t=l);let c;if(a.type===4?c=ps(a,e):a.type===14?c=Ak(a,e):c=0,c===0)return c;c<t&&(t=c)}}return t}function Pk(n){const e=n.codegenNode;if(e.type===13)return e.props}function Ik(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:s=!1,hmr:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=fn,isCustomElement:u=fn,expressionPlugins:f=[],scopeId:d=null,slotted:h=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:y=Xe,inline:b=!1,isTS:x=!1,onError:v=Iv,onWarn:S=fk,compatConfig:E}){const k=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),_={filename:e,selfName:k&&bo(Ct(k[1])),prefixIdentifiers:t,hoistStatic:s,hmr:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:f,scopeId:d,slotted:h,ssr:p,inSSR:g,ssrCssVars:m,bindingMetadata:y,inline:b,isTS:x,onError:v,onWarn:S,compatConfig:E,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(w){const O=_.helpers.get(w)||0;return _.helpers.set(w,O+1),w},removeHelper(w){const O=_.helpers.get(w);if(O){const C=O-1;C?_.helpers.set(w,C):_.helpers.delete(w)}},helperString(w){return`_${Sa[_.helper(w)]}`},replaceNode(w){_.parent.children[_.childIndex]=_.currentNode=w},removeNode(w){const O=_.parent.children,C=w?O.indexOf(w):_.currentNode?_.childIndex:-1;!w||w===_.currentNode?(_.currentNode=null,_.onNodeRemoved()):_.childIndex>C&&(_.childIndex--,_.onNodeRemoved()),_.parent.children.splice(C,1)},onNodeRemoved:fn,addIdentifiers(w){},removeIdentifiers(w){},hoist(w){ke(w)&&(w=Re(w)),_.hoists.push(w);const O=Re(`_hoisted_${_.hoists.length}`,!1,w.loc,2);return O.hoisted=w,O},cache(w,O=!1,C=!1){const T=ck(_.cached.length,w,O,C);return _.cached.push(T),T}};return _.filters=new Set,_}function Rk(n,e){const t=Ik(n,e);Tf(n,t),e.hoistStatic&&zj(n,t),e.ssr||Kj(n,t),n.helpers=new Set([...t.helpers.keys()]),n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.transformed=!0,n.filters=[...t.filters]}function Kj(n,e){const{helper:t}=e,{children:s}=n;if(s.length===1){const i=s[0];if(_k(n,i)&&i.codegenNode){const r=i.codegenNode;r.type===13&&yg(r,e),n.codegenNode=r}else n.codegenNode=i}else if(s.length>1){let i=64;n.codegenNode=jl(e,t(Fl),void 0,n.children,i,void 0,void 0,!0,void 0,!1)}}function Gj(n,e){let t=0;const s=()=>{t--};for(;t<n.children.length;t++){const i=n.children[t];ke(i)||(e.grandParent=e.parent,e.parent=n,e.childIndex=t,e.onNodeRemoved=s,Tf(i,e))}}function Tf(n,e){e.currentNode=n;const{nodeTransforms:t}=e,s=[];for(let r=0;r<t.length;r++){const o=t[r](n,e);if(o&&(ce(o)?s.push(...o):s.push(o)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(ic);break;case 5:e.ssr||e.helper(Sf);break;case 9:for(let r=0;r<n.branches.length;r++)Tf(n.branches[r],e);break;case 10:case 11:case 1:case 0:Gj(n,e);break}e.currentNode=n;let i=s.length;for(;i--;)s[i]()}function $v(n,e){const t=ke(n)?s=>s===n:s=>n.test(s);return(s,i)=>{if(s.type===1){const{props:r}=s;if(s.tagType===3&&r.some(Nv))return;const o=[];for(let a=0;a<r.length;a++){const l=r[a];if(l.type===7&&t(l.name)){r.splice(a,1),a--;const c=e(s,l,i);c&&o.push(c)}}return o}}}const bg="/*@__PURE__*/",Dk=n=>`${Sa[n]}: _${Sa[n]}`;function Xj(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:s=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:f=!1,inSSR:d=!1}){const h={mode:e,prefixIdentifiers:t,sourceMap:s,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:f,inSSR:d,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Sa[g]}`},push(g,m=-2,y){h.code+=g},indent(){p(++h.indentLevel)},deindent(g=!1){g?--h.indentLevel:p(--h.indentLevel)},newline(){p(h.indentLevel)}};function p(g){h.push(`
`+"  ".repeat(g),0)}return h}function Nk(n,e={}){const t=Xj(n,e);e.onContextCreated&&e.onContextCreated(t);const{mode:s,push:i,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=t,f=Array.from(n.helpers),d=f.length>0,h=!r&&s!=="module";Jj(n,t);const g=u?"ssrRender":"render",y=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${g}(${y}) {`),o(),h&&(i("with (_ctx) {"),o(),d&&(i(`const { ${f.map(Dk).join(", ")} } = _Vue
`,-1),l())),n.components.length&&(dm(n.components,"component",t),(n.directives.length||n.temps>0)&&l()),n.directives.length&&(dm(n.directives,"directive",t),n.temps>0&&l()),n.filters&&n.filters.length&&(l(),dm(n.filters,"filter",t),l()),n.temps>0){i("let ");for(let b=0;b<n.temps;b++)i(`${b>0?", ":""}_temp${b}`)}return(n.components.length||n.directives.length||n.temps)&&(i(`
`,0),l()),u||i("return "),n.codegenNode?Bn(n.codegenNode,t):i("null"),h&&(a(),i("}")),a(),i("}"),{ast:n,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function Jj(n,e){const{ssr:t,prefixIdentifiers:s,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=Array.from(n.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`,-1),n.hoists.length)){const f=[sg,ig,ic,rg,_v].filter(d=>u.includes(d)).map(Dk).join(", ");i(`const { ${f} } = _Vue
`,-1)}Yj(n.hoists,e),r(),i("return ")}function dm(n,e,{helper:t,push:s,newline:i,isTS:r}){const o=t(e==="filter"?cg:e==="component"?og:lg);for(let a=0;a<n.length;a++){let l=n[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),s(`const ${Hl(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${r?"!":""}`),a<n.length-1&&i()}}function Yj(n,e){if(!n.length)return;e.pure=!0;const{push:t,newline:s}=e;s();for(let i=0;i<n.length;i++){const r=n[i];r&&(t(`const _hoisted_${i+1} = `),Bn(r,e),s())}e.pure=!1}function jv(n,e){const t=n.length>3||!1;e.push("["),t&&e.indent(),Cf(n,e,t),t&&e.deindent(),e.push("]")}function Cf(n,e,t=!1,s=!0){const{push:i,newline:r}=e;for(let o=0;o<n.length;o++){const a=n[o];ke(a)?i(a,-3):ce(a)?jv(a,e):Bn(a,e),o<n.length-1&&(t?(s&&i(","),r()):s&&i(", "))}}function Bn(n,e){if(ke(n)){e.push(n,-3);return}if(Qn(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:Bn(n.codegenNode,e);break;case 2:qj(n,e);break;case 4:Lk(n,e);break;case 5:Qj(n,e);break;case 12:Bn(n.codegenNode,e);break;case 8:Fk(n,e);break;case 3:eB(n,e);break;case 13:tB(n,e);break;case 14:sB(n,e);break;case 15:iB(n,e);break;case 17:rB(n,e);break;case 18:oB(n,e);break;case 19:aB(n,e);break;case 20:lB(n,e);break;case 21:Cf(n.body,e,!0,!1);break}}function qj(n,e){e.push(JSON.stringify(n.content),-3,n)}function Lk(n,e){const{content:t,isStatic:s}=n;e.push(s?JSON.stringify(t):t,-3,n)}function Qj(n,e){const{push:t,helper:s,pure:i}=e;i&&t(bg),t(`${s(Sf)}(`),Bn(n.content,e),t(")")}function Fk(n,e){for(let t=0;t<n.children.length;t++){const s=n.children[t];ke(s)?e.push(s,-3):Bn(s,e)}}function Zj(n,e){const{push:t}=e;if(n.type===8)t("["),Fk(n,e),t("]");else if(n.isStatic){const s=Ef(n.content)?n.content:JSON.stringify(n.content);t(s,-2,n)}else t(`[${n.content}]`,-3,n)}function eB(n,e){const{push:t,helper:s,pure:i}=e;i&&t(bg),t(`${s(ic)}(${JSON.stringify(n.content)})`,-3,n)}function tB(n,e){const{push:t,helper:s,pure:i}=e,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:f,disableTracking:d,isComponent:h}=n;let p;l&&(p=String(l)),u&&t(s(ug)+"("),f&&t(`(${s(fo)}(${d?"true":""}), `),i&&t(bg);const g=f?Ta(e.inSSR,h):wa(e.inSSR,h);t(s(g)+"(",-2,n),Cf(nB([r,o,a,p,c]),e),t(")"),f&&t(")"),u&&(t(", "),Bn(u,e),t(")"))}function nB(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function sB(n,e){const{push:t,helper:s,pure:i}=e,r=ke(n.callee)?n.callee:s(n.callee);i&&t(bg),t(r+"(",-2,n),Cf(n.arguments,e),t(")")}function iB(n,e){const{push:t,indent:s,deindent:i,newline:r}=e,{properties:o}=n;if(!o.length){t("{}",-2,n);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&s();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];Zj(c,e),t(": "),Bn(u,e),l<o.length-1&&(t(","),r())}a&&i(),t(a?"}":" }")}function rB(n,e){jv(n.elements,e)}function oB(n,e){const{push:t,indent:s,deindent:i}=e,{params:r,returns:o,body:a,newline:l,isSlot:c}=n;c&&t(`_${Sa[gg]}(`),t("(",-2,n),ce(r)?Cf(r,e):r&&Bn(r,e),t(") => "),(l||a)&&(t("{"),s()),o?(l&&t("return "),ce(o)?jv(o,e):Bn(o,e)):a&&Bn(a,e),(l||a)&&(i(),t("}")),c&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function aB(n,e){const{test:t,consequent:s,alternate:i,newline:r}=n,{push:o,indent:a,deindent:l,newline:c}=e;if(t.type===4){const f=!Ef(t.content);f&&o("("),Lk(t,e),f&&o(")")}else o("("),Bn(t,e),o(")");r&&a(),e.indentLevel++,r||o(" "),o("? "),Bn(s,e),e.indentLevel--,r&&c(),r||o(" "),o(": ");const u=i.type===19;u||e.indentLevel++,Bn(i,e),u||e.indentLevel--,r&&l(!0)}function lB(n,e){const{push:t,helper:s,indent:i,deindent:r,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=n;l&&t("[...("),t(`_cache[${n.index}] || (`),a&&(i(),t(`${s($u)}(-1`),n.inVOnce&&t(", true"),t("),"),o(),t("(")),t(`_cache[${n.index}] = `),Bn(n.value,e),a&&(t(`).cacheIndex = ${n.index},`),o(),t(`${s($u)}(1),`),o(),t(`_cache[${n.index}]`),r()),t(")"),l&&t(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const cB=(n,e)=>{if(n.type===5)n.content=Ud(n.content,e);else if(n.type===1){const t=Xn(n,"memo");for(let s=0;s<n.props.length;s++){const i=n.props[s];if(i.type===7&&i.name!=="for"){const r=i.exp,o=i.arg;r&&r.type===4&&!(i.name==="on"&&o)&&!(t&&o&&o.type===4&&o.content==="key")&&(i.exp=Ud(r,e,i.name==="slot")),o&&o.type===4&&!o.isStatic&&(i.arg=Ud(o,e))}}}};function Ud(n,e,t=!1,s=!1,i=Object.create(e.identifiers)){return n}function $k(n){return ke(n)?n:n.type===4?n.content:n.children.map($k).join("")}const uB=$v(/^(if|else|else-if)$/,(n,e,t)=>jk(n,e,t,(s,i,r)=>{const o=t.parent.children;let a=o.indexOf(s),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(r)s.codegenNode=jS(i,l,t);else{const c=fB(s.codegenNode);c.alternate=jS(i,l+s.branches.length-1,t)}}}));function jk(n,e,t,s){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:n.loc;t.onError(kt(28,e.loc)),e.exp=Re("true",!1,i)}if(e.name==="if"){const i=$S(n,e),r={type:9,loc:Vj(n.loc),branches:[i]};if(t.replaceNode(r),s)return s(r,i,!0)}else{const i=t.parent.children;let r=i.indexOf(n);for(;r-->=-1;){const o=i[r];if(o&&o.type===3){t.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(kt(30,n.loc)),t.removeNode();const a=$S(n,e);o.branches.push(a);const l=s&&s(o,a,!1);Tf(a,t),l&&l(),t.currentNode=null}else t.onError(kt(30,n.loc));break}}}function $S(n,e){const t=n.tagType===3;return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:t&&!Xn(n,"for")?n.children:[n],userKey:wf(n,"key"),isTemplateIf:t}}function jS(n,e,t){return n.condition?_h(n.condition,BS(n,e,t),Yt(t.helper(ic),['""',"true"])):BS(n,e,t)}function BS(n,e,t){const{helper:s}=t,i=Ut("key",Re(`${e}`,!1,an,2)),{children:r}=n,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const l=o.codegenNode;return Bu(l,i,t),l}else return jl(t,s(Fl),Ts([i]),r,64,void 0,void 0,!0,!1,!1,n.loc);else{const l=o.codegenNode,c=Ek(l);return c.type===13&&yg(c,t),Bu(c,i,t),l}}function fB(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const Bk=(n,e,t)=>{const{modifiers:s,loc:i}=n,r=n.arg;let{exp:o}=n;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(r.type!==4||!r.isStatic)return t.onError(kt(52,r.loc)),{props:[Ut(r,Re("",!0,i))]};Vk(n),o=n.exp}return r.type!==4?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=`${r.content} || ""`),s.some(a=>a.content==="camel")&&(r.type===4?r.isStatic?r.content=Ct(r.content):r.content=`${t.helperString(Oh)}(${r.content})`:(r.children.unshift(`${t.helperString(Oh)}(`),r.children.push(")"))),t.inSSR||(s.some(a=>a.content==="prop")&&VS(r,"."),s.some(a=>a.content==="attr")&&VS(r,"^")),{props:[Ut(r,o)]}},Vk=(n,e)=>{const t=n.arg,s=Ct(t.content);n.exp=Re(s,!1,t.loc)},VS=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},dB=$v("for",(n,e,t)=>{const{helper:s,removeHelper:i}=t;return Hk(n,e,t,r=>{const o=Yt(s(fg),[r.source]),a=Vl(n),l=Xn(n,"memo"),c=wf(n,"key",!1,!0);c&&c.type===7&&!c.exp&&Vk(c);let f=c&&(c.type===6?c.value?Re(c.value.content,!0):void 0:c.exp);const d=c&&f?Ut("key",f):null,h=r.source.type===4&&r.source.constType>0,p=h?64:c?128:256;return r.codegenNode=jl(t,s(Fl),void 0,o,p,void 0,void 0,!0,!h,!1,n.loc),()=>{let g;const{children:m}=r,y=m.length!==1||m[0].type!==1,b=ju(n)?n:a&&n.children.length===1&&ju(n.children[0])?n.children[0]:null;if(b?(g=b.codegenNode,a&&d&&Bu(g,d,t)):y?g=jl(t,s(Fl),d?Ts([d]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(g=m[0].codegenNode,a&&d&&Bu(g,d,t),g.isBlock!==!h&&(g.isBlock?(i(fo),i(Ta(t.inSSR,g.isComponent))):i(wa(t.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(s(fo),s(Ta(t.inSSR,g.isComponent))):s(wa(t.inSSR,g.isComponent))),l){const x=Ea(Mh(r.parseResult,[Re("_cached")]));x.body=uk([Hs(["const _memo = (",l.exp,")"]),Hs(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${t.helperString(Pv)}(_cached, _memo)) return _cached`]),Hs(["const _item = ",g]),Re("_item.memo = _memo"),Re("return _item")]),o.arguments.push(x,Re("_cache"),Re(String(t.cached.length))),t.cached.push(null)}else o.arguments.push(Ea(Mh(r.parseResult),g,!0))}})});function Hk(n,e,t,s){if(!e.exp){t.onError(kt(31,e.loc));return}const i=e.forParseResult;if(!i){t.onError(kt(32,e.loc));return}Bv(i);const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=t,{source:l,value:c,key:u,index:f}=i,d={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:f,parseResult:i,children:Vl(n)?n.children:[n]};t.replaceNode(d),a.vFor++;const h=s&&s(d);return()=>{a.vFor--,h&&h()}}function Bv(n,e){n.finalized||(n.finalized=!0)}function Mh({value:n,key:e,index:t},s=[]){return hB([n,e,t,...s])}function hB(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,s)=>t||Re("_".repeat(s+1),!1))}const HS=Re("undefined",!1),Uk=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const t=Xn(n,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},pB=(n,e)=>{let t;if(Vl(n)&&n.props.some(Nv)&&(t=Xn(n,"for"))){const s=t.forParseResult;if(s){Bv(s);const{value:i,key:r,index:o}=s,{addIdentifiers:a,removeIdentifiers:l}=e;return i&&a(i),r&&a(r),o&&a(o),()=>{i&&l(i),r&&l(r),o&&l(o)}}}},gB=(n,e,t,s)=>Ea(n,t,!1,!0,t.length?t[0].loc:s);function zk(n,e,t=gB){e.helper(gg);const{children:s,loc:i}=n,r=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Xn(n,"slot",!0);if(l){const{arg:m,exp:y}=l;m&&!qn(m)&&(a=!0),r.push(Ut(m||Re("default",!0),t(y,void 0,s,i)))}let c=!1,u=!1;const f=[],d=new Set;let h=0;for(let m=0;m<s.length;m++){const y=s[m];let b;if(!Vl(y)||!(b=Xn(y,"slot",!0))){y.type!==3&&f.push(y);continue}if(l){e.onError(kt(37,b.loc));break}c=!0;const{children:x,loc:v}=y,{arg:S=Re("default",!0),exp:E,loc:k}=b;let _;qn(S)?_=S?S.content:"default":a=!0;const w=Xn(y,"for"),O=t(E,w,x,v);let C,T;if(C=Xn(y,"if"))a=!0,o.push(_h(C.exp,Zf(S,O,h++),HS));else if(T=Xn(y,/^else(-if)?$/,!0)){let I=m,L;for(;I--&&(L=s[I],L.type===3););if(L&&Vl(L)&&Xn(L,/^(else-)?if$/)){let j=o[o.length-1];for(;j.alternate.type===19;)j=j.alternate;j.alternate=T.exp?_h(T.exp,Zf(S,O,h++),HS):Zf(S,O,h++)}else e.onError(kt(30,T.loc))}else if(w){a=!0;const I=w.forParseResult;I?(Bv(I),o.push(Yt(e.helper(fg),[I.source,Ea(Mh(I),Zf(S,O),!0)]))):e.onError(kt(32,w.loc))}else{if(_){if(d.has(_)){e.onError(kt(38,k));continue}d.add(_),_==="default"&&(u=!0)}r.push(Ut(S,O))}}if(!l){const m=(y,b)=>{const x=t(y,void 0,b,i);return e.compatConfig&&(x.isNonScopedSlot=!0),Ut("default",x)};c?f.length&&f.some(y=>Wk(y))&&(u?e.onError(kt(39,f[0].loc)):r.push(m(void 0,f))):r.push(m(void 0,s))}const p=a?2:zd(n.children)?3:1;let g=Ts(r.concat(Ut("_",Re(p+"",!1))),i);return o.length&&(g=Yt(e.helper(Mv),[g,no(o)])),{slots:g,hasDynamicSlots:a}}function Zf(n,e,t){const s=[Ut("name",n),Ut("fn",e)];return t!=null&&s.push(Ut("key",Re(String(t),!0))),Ts(s)}function zd(n){for(let e=0;e<n.length;e++){const t=n[e];switch(t.type){case 1:if(t.tagType===2||zd(t.children))return!0;break;case 9:if(zd(t.branches))return!0;break;case 10:case 11:if(zd(t.children))return!0;break}}return!1}function Wk(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():Wk(n.content)}const Kk=new WeakMap,Gk=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:s,props:i}=n,r=n.tagType===1;let o=r?Xk(n,e):`"${s}"`;const a=mt(o)&&o.callee===ag;let l,c,u=0,f,d,h,p=a||o===hl||o===ng||!r&&(s==="svg"||s==="foreignObject"||s==="math");if(i.length>0){const g=Vv(n,e,void 0,r,a);l=g.props,u=g.patchFlag,d=g.dynamicPropNames;const m=g.directives;h=m&&m.length?no(m.map(y=>Jk(y,e))):void 0,g.shouldUseBlock&&(p=!0)}if(n.children.length>0)if(o===Lu&&(p=!0,u|=1024),r&&o!==hl&&o!==Lu){const{slots:m,hasDynamicSlots:y}=zk(n,e);c=m,y&&(u|=1024)}else if(n.children.length===1&&o!==hl){const m=n.children[0],y=m.type,b=y===5||y===8;b&&ps(m,e)===0&&(u|=1),b||y===2?c=m:c=n.children}else c=n.children;d&&d.length&&(f=yB(d)),n.codegenNode=jl(e,o,l,c,u===0?void 0:u,f,h,!!p,!1,r,n.loc)};function Xk(n,e,t=!1){let{tag:s}=n;const i=zy(s),r=wf(n,"is",!1,!0);if(r)if(i||ca("COMPILER_IS_ON_ELEMENT",e)){let a;if(r.type===6?a=r.value&&Re(r.value.content,!0):(a=r.exp,a||(a=Re("is",!1,r.arg.loc))),a)return Yt(e.helper(ag),[a])}else r.type===6&&r.value.content.startsWith("vue:")&&(s=r.value.content.slice(4));const o=Rv(s)||e.isBuiltInComponent(s);return o?(t||e.helper(o),o):(e.helper(og),e.components.add(s),Hl(s,"component"))}function Vv(n,e,t=n.props,s,i,r=!1){const{tag:o,loc:a,children:l}=n;let c=[];const u=[],f=[],d=l.length>0;let h=!1,p=0,g=!1,m=!1,y=!1,b=!1,x=!1,v=!1;const S=[],E=O=>{c.length&&(u.push(Ts(US(c),a)),c=[]),O&&u.push(O)},k=()=>{e.scopes.vFor>0&&c.push(Ut(Re("ref_for",!0),Re("true")))},_=({key:O,value:C})=>{if(qn(O)){const T=O.content,I=mo(T);if(I&&(!s||i)&&T.toLowerCase()!=="onclick"&&T!=="onUpdate:modelValue"&&!tr(T)&&(b=!0),I&&tr(T)&&(v=!0),I&&C.type===14&&(C=C.arguments[0]),C.type===20||(C.type===4||C.type===8)&&ps(C,e)>0)return;T==="ref"?g=!0:T==="class"?m=!0:T==="style"?y=!0:T!=="key"&&!S.includes(T)&&S.push(T),s&&(T==="class"||T==="style")&&!S.includes(T)&&S.push(T)}else x=!0};for(let O=0;O<t.length;O++){const C=t[O];if(C.type===6){const{loc:T,name:I,nameLoc:L,value:j}=C;let D=!0;if(I==="ref"&&(g=!0,k()),I==="is"&&(zy(o)||j&&j.content.startsWith("vue:")||ca("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Ut(Re(I,!0,L),Re(j?j.content:"",D,j?j.loc:T)))}else{const{name:T,arg:I,exp:L,loc:j,modifiers:D}=C,V=T==="bind",W=T==="on";if(T==="slot"){s||e.onError(kt(40,j));continue}if(T==="once"||T==="memo"||T==="is"||V&&Hr(I,"is")&&(zy(o)||ca("COMPILER_IS_ON_ELEMENT",e))||W&&r)continue;if((V&&Hr(I,"key")||W&&d&&Hr(I,"vue:before-update"))&&(h=!0),V&&Hr(I,"ref")&&k(),!I&&(V||W)){if(x=!0,L)if(V){if(k(),E(),ca("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(L);continue}u.push(L)}else E({type:14,loc:j,callee:e.helper(pg),arguments:s?[L]:[L,"true"]});else e.onError(kt(V?34:35,j));continue}V&&D.some(Ue=>Ue.content==="prop")&&(p|=32);const de=e.directiveTransforms[T];if(de){const{props:Ue,needRuntime:Ne}=de(C,n,e);!r&&Ue.forEach(_),W&&I&&!qn(I)?E(Ts(Ue,a)):c.push(...Ue),Ne&&(f.push(C),Qn(Ne)&&Kk.set(C,Ne))}else gT(T)||(f.push(C),d&&(h=!0))}}let w;if(u.length?(E(),u.length>1?w=Yt(e.helper(Fu),u,a):w=u[0]):c.length&&(w=Ts(US(c),a)),x?p|=16:(m&&!s&&(p|=2),y&&!s&&(p|=4),S.length&&(p|=8),b&&(p|=32)),!h&&(p===0||p===32)&&(g||v||f.length>0)&&(p|=512),!e.inSSR&&w)switch(w.type){case 15:let O=-1,C=-1,T=!1;for(let j=0;j<w.properties.length;j++){const D=w.properties[j].key;qn(D)?D.content==="class"?O=j:D.content==="style"&&(C=j):D.isHandlerKey||(T=!0)}const I=w.properties[O],L=w.properties[C];T?w=Yt(e.helper($l),[w]):(I&&!qn(I.value)&&(I.value=Yt(e.helper(dg),[I.value])),L&&(y||L.value.type===4&&L.value.content.trim()[0]==="["||L.value.type===17)&&(L.value=Yt(e.helper(hg),[L.value])));break;case 14:break;default:w=Yt(e.helper($l),[Yt(e.helper(rc),[w])]);break}return{props:w,directives:f,patchFlag:p,dynamicPropNames:S,shouldUseBlock:h}}function US(n){const e=new Map,t=[];for(let s=0;s<n.length;s++){const i=n[s];if(i.key.type===8||!i.key.isStatic){t.push(i);continue}const r=i.key.content,o=e.get(r);o?(r==="style"||r==="class"||mo(r))&&mB(o,i):(e.set(r,i),t.push(i))}return t}function mB(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=no([n.value,e.value],n.loc)}function Jk(n,e){const t=[],s=Kk.get(n);s?t.push(e.helperString(s)):(e.helper(lg),e.directives.add(n.name),t.push(Hl(n.name,"directive")));const{loc:i}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));const r=Re("true",!1,i);t.push(Ts(n.modifiers.map(o=>Ut(o,r)),i))}return no(t,n.loc)}function yB(n){let e="[";for(let t=0,s=n.length;t<s;t++)e+=JSON.stringify(n[t]),t<s-1&&(e+=", ");return e+"]"}function zy(n){return n==="component"||n==="Component"}const bB=(n,e)=>{if(ju(n)){const{children:t,loc:s}=n,{slotName:i,slotProps:r}=Yk(n,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),t.length&&(o[3]=Ea([],t,!1,!1,s),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),n.codegenNode=Yt(e.helper(Av),o,s)}};function Yk(n,e){let t='"default"',s;const i=[];for(let r=0;r<n.props.length;r++){const o=n.props[r];if(o.type===6)o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=Ct(o.name),i.push(o)));else if(o.name==="bind"&&Hr(o.arg,"name")){if(o.exp)t=o.exp;else if(o.arg&&o.arg.type===4){const a=Ct(o.arg.content);t=o.exp=Re(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&qn(o.arg)&&(o.arg.content=Ct(o.arg.content)),i.push(o)}if(i.length>0){const{props:r,directives:o}=Vv(n,e,i,!1,!1);s=r,o.length&&e.onError(kt(36,o[0].loc))}return{slotName:t,slotProps:s}}const Hv=(n,e,t,s)=>{const{loc:i,modifiers:r,arg:o}=n;!n.exp&&!r.length&&t.onError(kt(35,i));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const d=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?ia(Ct(f)):`on:${f}`;a=Re(d,!0,o.loc)}else a=Hs([`${t.helperString(kh)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(kh)}(`),a.children.push(")");let l=n.exp;l&&!l.content.trim()&&(l=void 0);let c=t.cacheHandlers&&!l&&!t.inVOnce;if(l){const f=Dv(l),d=!(f||bk(l)),h=l.content.includes(";");(d||c&&f)&&(l=Hs([`${d?"$event":"(...args)"} => ${h?"{":"("}`,l,h?"}":")"]))}let u={props:[Ut(a,l||Re("() => {}",!1,i))]};return s&&(u=s(u)),c&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(f=>f.key.isHandlerKey=!0),u},vB=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const t=n.children;let s,i=!1;for(let r=0;r<t.length;r++){const o=t[r];if(jd(o)){i=!0;for(let a=r+1;a<t.length;a++){const l=t[a];if(jd(l))s||(s=t[r]=Hs([o],o.loc)),s.children.push(" + ",l),t.splice(a,1),a--;else{s=void 0;break}}}}if(!(!i||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(r=>r.type===7&&!e.directiveTransforms[r.name])&&n.tag!=="template")))for(let r=0;r<t.length;r++){const o=t[r];if(jd(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&ps(o,e)===0&&a.push("1"),t[r]={type:12,content:o,loc:o.loc,codegenNode:Yt(e.helper(rg),a)}}}}},zS=new WeakSet,xB=(n,e)=>{if(n.type===1&&Xn(n,"once",!0))return zS.has(n)||e.inVOnce||e.inSSR?void 0:(zS.add(n),e.inVOnce=!0,e.helper($u),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0,!0))})},Uv=(n,e,t)=>{const{exp:s,arg:i}=n;if(!s)return t.onError(kt(41,n.loc)),ed();const r=s.loc.source.trim(),o=s.type===4?s.content:r,a=t.bindingMetadata[r];if(a==="props"||a==="props-aliased")return t.onError(kt(44,s.loc)),ed();if(!o.trim()||!Dv(s))return t.onError(kt(42,s.loc)),ed();const l=i||Re("modelValue",!0),c=i?qn(i)?`onUpdate:${Ct(i.content)}`:Hs(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const f=t.isTS?"($event: any)":"$event";u=Hs([`${f} => ((`,s,") = $event)"]);const d=[Ut(l,n.exp),Ut(c,u)];if(n.modifiers.length&&e.tagType===1){const h=n.modifiers.map(g=>g.content).map(g=>(Ef(g)?g:JSON.stringify(g))+": true").join(", "),p=i?qn(i)?`${i.content}Modifiers`:Hs([i,' + "Modifiers"']):"modelModifiers";d.push(Ut(p,Re(`{ ${h} }`,!1,n.loc,2)))}return ed(d)};function ed(n=[]){return{props:n}}const SB=/[\w).+\-_$\]]/,EB=(n,e)=>{ca("COMPILER_FILTERS",e)&&(n.type===5?Ph(n.content,e):n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&Ph(t.exp,e)}))};function Ph(n,e){if(n.type===4)WS(n,e);else for(let t=0;t<n.children.length;t++){const s=n.children[t];typeof s=="object"&&(s.type===4?WS(s,e):s.type===8?Ph(n,e):s.type===5&&Ph(s.content,e))}}function WS(n,e){const t=n.content;let s=!1,i=!1,r=!1,o=!1,a=0,l=0,c=0,u=0,f,d,h,p,g=[];for(h=0;h<t.length;h++)if(d=f,f=t.charCodeAt(h),s)f===39&&d!==92&&(s=!1);else if(i)f===34&&d!==92&&(i=!1);else if(r)f===96&&d!==92&&(r=!1);else if(o)f===47&&d!==92&&(o=!1);else if(f===124&&t.charCodeAt(h+1)!==124&&t.charCodeAt(h-1)!==124&&!a&&!l&&!c)p===void 0?(u=h+1,p=t.slice(0,h).trim()):m();else{switch(f){case 34:i=!0;break;case 39:s=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(f===47){let y=h-1,b;for(;y>=0&&(b=t.charAt(y),b===" ");y--);(!b||!SB.test(b))&&(o=!0)}}p===void 0?p=t.slice(0,h).trim():u!==0&&m();function m(){g.push(t.slice(u,h).trim()),u=h+1}if(g.length){for(h=0;h<g.length;h++)p=wB(p,g[h],e);n.content=p,n.ast=void 0}}function wB(n,e,t){t.helper(cg);const s=e.indexOf("(");if(s<0)return t.filters.add(e),`${Hl(e,"filter")}(${n})`;{const i=e.slice(0,s),r=e.slice(s+1);return t.filters.add(i),`${Hl(i,"filter")}(${n}${r!==")"?","+r:r}`}}const KS=new WeakSet,TB=(n,e)=>{if(n.type===1){const t=Xn(n,"memo");return!t||KS.has(n)?void 0:(KS.add(n),()=>{const s=n.codegenNode||e.currentNode.codegenNode;s&&s.type===13&&(n.tagType!==1&&yg(s,e),n.codegenNode=Yt(e.helper(mg),[t.exp,Ea(void 0,s),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function qk(n){return[[xB,uB,TB,dB,EB,bB,Gk,Uk,vB],{on:Hv,bind:Bk,model:Uv}]}function Qk(n,e={}){const t=e.onError||Iv,s=e.mode==="module";e.prefixIdentifiers===!0?t(kt(47)):s&&t(kt(48));const i=!1;e.cacheHandlers&&t(kt(49)),e.scopeId&&!s&&t(kt(50));const r=Ye({},e,{prefixIdentifiers:i}),o=ke(n)?Fv(n,r):n,[a,l]=qk();return Rk(o,Ye({},r,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Ye({},l,e.directiveTransforms||{})})),Nk(o,r)}const CB={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},Zk=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zv=Symbol(""),Wv=Symbol(""),Kv=Symbol(""),Gv=Symbol(""),Ih=Symbol(""),Xv=Symbol(""),Jv=Symbol(""),Yv=Symbol(""),qv=Symbol(""),Qv=Symbol("");ak({[zv]:"vModelRadio",[Wv]:"vModelCheckbox",[Kv]:"vModelText",[Gv]:"vModelSelect",[Ih]:"vModelDynamic",[Xv]:"withModifiers",[Jv]:"withKeys",[Yv]:"vShow",[qv]:"Transition",[Qv]:"TransitionGroup"});let za;function OB(n,e=!1){return za||(za=document.createElement("div")),e?(za.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,za.children[0].getAttribute("foo")):(za.innerHTML=n,za.textContent)}const Zv={parseMode:"html",isVoidTag:ST,isNativeTag:n=>bT(n)||vT(n)||xT(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:OB,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return qv;if(n==="TransitionGroup"||n==="transition-group")return Qv},getNamespace(n,e,t){let s=e?e.ns:t;if(e&&s===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(s=0);else e&&s===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(s=0);if(s===0){if(n==="svg")return 1;if(n==="math")return 2}return s}},e_=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:Re("style",!0,e.loc),exp:kB(e.value.content,e.loc),modifiers:[],loc:e.loc})})},kB=(n,e)=>{const t=Wb(n);return Re(JSON.stringify(t),!1,e,3)};function sr(n,e){return kt(n,e)}const _B={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},AB={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},MB=(n,e,t)=>{const{exp:s,loc:i}=n;return s||t.onError(sr(53,i)),e.children.length&&(t.onError(sr(54,i)),e.children.length=0),{props:[Ut(Re("innerHTML",!0,i),s||Re("",!0))]}},PB=(n,e,t)=>{const{exp:s,loc:i}=n;return s||t.onError(sr(55,i)),e.children.length&&(t.onError(sr(56,i)),e.children.length=0),{props:[Ut(Re("textContent",!0),s?ps(s,t)>0?s:Yt(t.helperString(Sf),[s],i):Re("",!0))]}},IB=(n,e,t)=>{const s=Uv(n,e,t);if(!s.props.length||e.tagType===1)return s;n.arg&&t.onError(sr(58,n.arg.loc));const{tag:i}=e,r=t.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||r){let o=Kv,a=!1;if(i==="input"||r){const l=wf(e,"type");if(l){if(l.type===7)o=Ih;else if(l.value)switch(l.value.content){case"radio":o=zv;break;case"checkbox":o=Wv;break;case"file":a=!0,t.onError(sr(59,n.loc));break}}else xk(e)&&(o=Ih)}else i==="select"&&(o=Gv);a||(s.needRuntime=t.helper(o))}else t.onError(sr(57,n.loc));return s.props=s.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),s},RB=mn("passive,once,capture"),DB=mn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),NB=mn("left,right"),t_=mn("onkeyup,onkeydown,onkeypress"),LB=(n,e,t,s)=>{const i=[],r=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&Bl("COMPILER_V_ON_NATIVE",t)||RB(l)?o.push(l):NB(l)?qn(n)?t_(n.content.toLowerCase())?i.push(l):r.push(l):(i.push(l),r.push(l)):DB(l)?r.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},GS=(n,e)=>qn(n)&&n.content.toLowerCase()==="onclick"?Re(e,!0):n.type!==4?Hs(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,FB=(n,e,t)=>Hv(n,e,t,s=>{const{modifiers:i}=n;if(!i.length)return s;let{key:r,value:o}=s.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=LB(r,i,t,n.loc);if(l.includes("right")&&(r=GS(r,"onContextmenu")),l.includes("middle")&&(r=GS(r,"onMouseup")),l.length&&(o=Yt(t.helper(Xv),[o,JSON.stringify(l)])),a.length&&(!qn(r)||t_(r.content.toLowerCase()))&&(o=Yt(t.helper(Jv),[o,JSON.stringify(a)])),c.length){const u=c.map(bo).join("");r=qn(r)?Re(`${r.content}${u}`,!0):Hs(["(",r,`) + "${u}"`])}return{props:[Ut(r,o)]}}),$B=(n,e,t)=>{const{exp:s,loc:i}=n;return s||t.onError(sr(61,i)),{props:[],needRuntime:t.helper(Yv)}},jB=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&e.removeNode()},n_=[e_],s_={cloak:Zk,html:MB,text:PB,model:IB,on:FB,show:$B};function BB(n,e={}){return Qk(n,Ye({},Zv,e,{nodeTransforms:[jB,...n_,...e.nodeTransforms||[]],directiveTransforms:Ye({},s_,e.directiveTransforms||{}),transformHoist:null}))}function VB(n,e={}){return Fv(n,Ye({},Zv,e))}const HB=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Cv,BindingTypes:CB,CAMELIZE:Oh,CAPITALIZE:nk,CREATE_BLOCK:Ov,CREATE_COMMENT:ic,CREATE_ELEMENT_BLOCK:kv,CREATE_ELEMENT_VNODE:ig,CREATE_SLOTS:Mv,CREATE_STATIC:_v,CREATE_TEXT:rg,CREATE_VNODE:sg,CompilerDeprecationTypes:aj,ConstantTypes:Z$,DOMDirectiveTransforms:s_,DOMErrorCodes:_B,DOMErrorMessages:AB,DOMNodeTransforms:n_,ElementTypes:Q$,ErrorCodes:uj,FRAGMENT:Fl,GUARD_REACTIVE_PROPS:rc,IS_MEMO_SAME:Pv,IS_REF:ok,KEEP_ALIVE:Lu,MERGE_PROPS:Fu,NORMALIZE_CLASS:dg,NORMALIZE_PROPS:$l,NORMALIZE_STYLE:hg,Namespaces:Y$,NodeTypes:q$,OPEN_BLOCK:fo,POP_SCOPE_ID:ik,PUSH_SCOPE_ID:sk,RENDER_LIST:fg,RENDER_SLOT:Av,RESOLVE_COMPONENT:og,RESOLVE_DIRECTIVE:lg,RESOLVE_DYNAMIC_COMPONENT:ag,RESOLVE_FILTER:cg,SET_BLOCK_TRACKING:$u,SUSPENSE:ng,TELEPORT:hl,TO_DISPLAY_STRING:Sf,TO_HANDLERS:pg,TO_HANDLER_KEY:kh,TRANSITION:qv,TRANSITION_GROUP:Qv,TS_NODE_TYPES:hk,UNREF:rk,V_MODEL_CHECKBOX:Wv,V_MODEL_DYNAMIC:Ih,V_MODEL_RADIO:zv,V_MODEL_SELECT:Gv,V_MODEL_TEXT:Kv,V_ON_WITH_KEYS:Jv,V_ON_WITH_MODIFIERS:Xv,V_SHOW:Yv,WITH_CTX:gg,WITH_DIRECTIVES:ug,WITH_MEMO:mg,advancePositionWithClone:Aj,advancePositionWithMutation:vk,assert:Mj,baseCompile:Qk,baseParse:Fv,buildDirectiveArgs:Jk,buildProps:Vv,buildSlots:zk,checkCompatEnabled:Bl,compile:BB,convertToBlock:yg,createArrayExpression:no,createAssignmentExpression:sj,createBlockStatement:uk,createCacheExpression:ck,createCallExpression:Yt,createCompilerError:kt,createCompoundExpression:Hs,createConditionalExpression:_h,createDOMCompilerError:sr,createForLoopParams:Mh,createFunctionExpression:Ea,createIfStatement:nj,createInterpolation:ej,createObjectExpression:Ts,createObjectProperty:Ut,createReturnStatement:rj,createRoot:lk,createSequenceExpression:ij,createSimpleExpression:Re,createStructuralDirectiveTransform:$v,createTemplateLiteral:tj,createTransformContext:Ik,createVNodeCall:jl,errorMessages:fj,extractIdentifiers:Yi,findDir:Xn,findProp:wf,forAliasRE:wk,generate:Nk,generateCodeFrame:mT,getBaseTransformPreset:qk,getConstantType:ps,getMemoedVNodeCall:Ek,getVNodeBlockHelper:Ta,getVNodeHelper:wa,hasDynamicKeyVBind:xk,hasScopeRef:Js,helperNameMap:Sa,injectProp:Bu,isCoreComponent:Rv,isFnExpression:bk,isFnExpressionBrowser:yk,isFnExpressionNode:_j,isFunctionType:xj,isInDestructureAssignment:pj,isInNewExpression:gj,isMemberExpression:Dv,isMemberExpressionBrowser:mk,isMemberExpressionNode:Oj,isReferencedIdentifier:hj,isSimpleIdentifier:Ef,isSlotOutlet:ju,isStaticArgOf:Hr,isStaticExp:qn,isStaticProperty:dk,isStaticPropertyKey:Sj,isTemplateNode:Vl,isText:jd,isVSlot:Nv,locStub:an,noopDirectiveTransform:Zk,parse:VB,parserOptions:Zv,processExpression:Ud,processFor:Hk,processIf:jk,processSlotOutlet:Yk,registerRuntimeHelpers:ak,resolveComponentType:Xk,stringifyExpression:$k,toValidAssetId:Hl,trackSlotScopes:Uk,trackVForSlotScopes:pB,transform:Rk,transformBind:Bk,transformElement:Gk,transformExpression:cB,transformModel:Uv,transformOn:Hv,transformStyle:e_,traverseNode:Tf,unwrapTSNode:pk,walkBlockDeclarations:yj,walkFunctionParams:mj,walkIdentifiers:dj,warnDeprecation:cj},Symbol.toStringTag,{value:"Module"})),UB=vf(HB),zB=vf(EN),WB=vf(iI);/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var XS;function KB(){return XS||(XS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=UB,t=zB,s=WB;function i(l){var c=Object.create(null);if(l)for(var u in l)c[u]=l[u];return c.default=l,Object.freeze(c)}var r=i(t);const o=Object.create(null);function a(l,c){if(!s.isString(l))if(l.nodeType)l=l.innerHTML;else return s.NOOP;const u=s.genCacheKey(l,c),f=o[u];if(f)return f;if(l[0]==="#"){const g=document.querySelector(l);l=g?g.innerHTML:""}const d=s.extend({hoistStatic:!0,onError:void 0,onWarn:s.NOOP},c);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=g=>!!customElements.get(g));const{code:h}=e.compile(l,d),p=new Function("Vue",h)(r);return p._rc=!0,o[u]=p}t.registerRuntimeCompiler(a),n.compile=a,Object.keys(t).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&(n[l]=t[l])})}(fm)),fm}var JS;function GB(){return JS||(JS=1,um.exports=KB()),um.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function YS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,s)}return t}function Ci(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(t),!0).forEach(function(s){XB(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YS(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Wd(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wd=function(e){return typeof e}:Wd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(n)}function XB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ks(){return Ks=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ks.apply(this,arguments)}function JB(n,e){if(n==null)return{};var t={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function YB(n,e){if(n==null)return{};var t=JB(n,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function qB(n){return QB(n)||ZB(n)||e3(n)||t3()}function QB(n){if(Array.isArray(n))return Wy(n)}function ZB(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function e3(n,e){if(n){if(typeof n=="string")return Wy(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wy(n,e)}}function Wy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function t3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n3="1.14.0";function ir(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ur=ir(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Of=ir(/Edge/i),qS=ir(/firefox/i),su=ir(/safari/i)&&!ir(/chrome/i)&&!ir(/android/i),i_=ir(/iP(ad|od|hone)/i),s3=ir(/chrome/i)&&ir(/android/i),r_={capture:!1,passive:!1};function qe(n,e,t){n.addEventListener(e,t,!ur&&r_)}function Ke(n,e,t){n.removeEventListener(e,t,!ur&&r_)}function Rh(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function i3(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ei(n,e,t,s){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Rh(n,e):Rh(n,e))||s&&n===t)return n;if(n===t)break}while(n=i3(n))}return null}var QS=/\s+/g;function Nt(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var s=(" "+n.className+" ").replace(QS," ").replace(" "+e+" "," ");n.className=(s+(t?" "+e:"")).replace(QS," ")}}function ge(n,e,t){var s=n&&n.style;if(s){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=t+(typeof t=="string"?"":"px")}}function ua(n,e){var t="";if(typeof n=="string")t=n;else do{var s=ge(n,"transform");s&&s!=="none"&&(t=s+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function o_(n,e,t){if(n){var s=n.getElementsByTagName(e),i=0,r=s.length;if(t)for(;i<r;i++)t(s[i],i);return s}return[]}function Ei(){var n=document.scrollingElement;return n||document.documentElement}function It(n,e,t,s,i){if(!(!n.getBoundingClientRect&&n!==window)){var r,o,a,l,c,u,f;if(n!==window&&n.parentNode&&n!==Ei()?(r=n.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,c=r.right,u=r.height,f=r.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!ur))do if(i&&i.getBoundingClientRect&&(ge(i,"transform")!=="none"||t&&ge(i,"position")!=="static")){var d=i.getBoundingClientRect();o-=d.top+parseInt(ge(i,"border-top-width")),a-=d.left+parseInt(ge(i,"border-left-width")),l=o+r.height,c=a+r.width;break}while(i=i.parentNode);if(s&&n!==window){var h=ua(i||n),p=h&&h.a,g=h&&h.d;h&&(o/=g,a/=p,f/=p,u/=g,l=o+u,c=a+f)}return{top:o,left:a,bottom:l,right:c,width:f,height:u}}}function ZS(n,e,t){for(var s=Ur(n,!0),i=It(n)[e];s;){var r=It(s)[t],o=void 0;if(o=i>=r,!o)return s;if(s===Ei())break;s=Ur(s,!1)}return!1}function Ul(n,e,t,s){for(var i=0,r=0,o=n.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Oe.ghost&&(s||o[r]!==Oe.dragged)&&ei(o[r],t.draggable,n,!1)){if(i===e)return o[r];i++}r++}return null}function e0(n,e){for(var t=n.lastElementChild;t&&(t===Oe.ghost||ge(t,"display")==="none"||e&&!Rh(t,e));)t=t.previousElementSibling;return t||null}function Bt(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Oe.clone&&(!e||Rh(n,e))&&t++;return t}function e1(n){var e=0,t=0,s=Ei();if(n)do{var i=ua(n),r=i.a,o=i.d;e+=n.scrollLeft*r,t+=n.scrollTop*o}while(n!==s&&(n=n.parentNode));return[e,t]}function r3(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===n[t][s])return Number(t)}return-1}function Ur(n,e){if(!n||!n.getBoundingClientRect)return Ei();var t=n,s=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=ge(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ei();if(s||e)return t;s=!0}}while(t=t.parentNode);return Ei()}function o3(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function hm(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var iu;function a_(n,e){return function(){if(!iu){var t=arguments,s=this;t.length===1?n.call(s,t[0]):n.apply(s,t),iu=setTimeout(function(){iu=void 0},e)}}}function a3(){clearTimeout(iu),iu=void 0}function l_(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function t0(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function t1(n,e){ge(n,"position","absolute"),ge(n,"top",e.top),ge(n,"left",e.left),ge(n,"width",e.width),ge(n,"height",e.height)}function pm(n){ge(n,"position",""),ge(n,"top",""),ge(n,"left",""),ge(n,"width",""),ge(n,"height","")}var Ln="Sortable"+new Date().getTime();function l3(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(i){if(!(ge(i,"display")==="none"||i===Oe.ghost)){n.push({target:i,rect:It(i)});var r=Ci({},n[n.length-1].rect);if(i.thisAnimationDuration){var o=ua(i,!0);o&&(r.top-=o.f,r.left-=o.e)}i.fromRect=r}})}},addAnimationState:function(s){n.push(s)},removeAnimationState:function(s){n.splice(r3(n,{target:s}),1)},animateAll:function(s){var i=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var r=!1,o=0;n.forEach(function(a){var l=0,c=a.target,u=c.fromRect,f=It(c),d=c.prevFromRect,h=c.prevToRect,p=a.rect,g=ua(c,!0);g&&(f.top-=g.f,f.left-=g.e),c.toRect=f,c.thisAnimationDuration&&hm(d,f)&&!hm(u,f)&&(p.top-f.top)/(p.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(l=u3(p,d,h,i.options)),hm(f,u)||(c.prevFromRect=u,c.prevToRect=f,l||(l=i.options.animation),i.animate(c,p,f,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),n=[]},animate:function(s,i,r,o){if(o){ge(s,"transition",""),ge(s,"transform","");var a=ua(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-r.left)/(l||1),f=(i.top-r.top)/(c||1);s.animatingX=!!u,s.animatingY=!!f,ge(s,"transform","translate3d("+u+"px,"+f+"px,0)"),this.forRepaintDummy=c3(s),ge(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ge(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){ge(s,"transition",""),ge(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function c3(n){return n.offsetWidth}function u3(n,e,t,s){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*s.animation}var Wa=[],gm={initializeByDefault:!0},kf={mount:function(e){for(var t in gm)gm.hasOwnProperty(t)&&!(t in e)&&(e[t]=gm[t]);Wa.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Wa.push(e)},pluginEvent:function(e,t,s){var i=this;this.eventCanceled=!1,s.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Wa.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](Ci({sortable:t},s)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Ci({sortable:t},s)))})},initializePlugins:function(e,t,s,i){Wa.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,Ks(s,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,t){var s={};return Wa.forEach(function(i){typeof i.eventProperties=="function"&&Ks(s,i.eventProperties.call(t[i.pluginName],e))}),s},modifyOption:function(e,t,s){var i;return Wa.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],s))}),i}};function Ic(n){var e=n.sortable,t=n.rootEl,s=n.name,i=n.targetEl,r=n.cloneEl,o=n.toEl,a=n.fromEl,l=n.oldIndex,c=n.newIndex,u=n.oldDraggableIndex,f=n.newDraggableIndex,d=n.originalEvent,h=n.putSortable,p=n.extraEventProperties;if(e=e||t&&t[Ln],!!e){var g,m=e.options,y="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!ur&&!Of?g=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(s,!0,!0)),g.to=o||t,g.from=a||t,g.item=i||t,g.clone=r,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=f,g.originalEvent=d,g.pullMode=h?h.lastPutMode:void 0;var b=Ci(Ci({},p),kf.getEventProperties(s,e));for(var x in b)g[x]=b[x];t&&t.dispatchEvent(g),m[y]&&m[y].call(e,g)}}var f3=["evt"],rs=function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.evt,r=YB(s,f3);kf.pluginEvent.bind(Oe)(e,t,Ci({dragEl:se,parentEl:Ft,ghostEl:Fe,rootEl:Mt,nextEl:jo,lastDownEl:Kd,cloneEl:$t,cloneHidden:Rr,dragStarted:Rc,putSortable:bn,activeSortable:Oe.active,originalEvent:i,oldIndex:al,oldDraggableIndex:ru,newIndex:vs,newDraggableIndex:_r,hideGhostForTarget:d_,unhideGhostForTarget:h_,cloneNowHidden:function(){Rr=!0},cloneNowShown:function(){Rr=!1},dispatchSortableEvent:function(a){zn({sortable:t,name:a,originalEvent:i})}},r))};function zn(n){Ic(Ci({putSortable:bn,cloneEl:$t,targetEl:se,rootEl:Mt,oldIndex:al,oldDraggableIndex:ru,newIndex:vs,newDraggableIndex:_r},n))}var se,Ft,Fe,Mt,jo,Kd,$t,Rr,al,vs,ru,_r,td,bn,tl=!1,Dh=!1,Nh=[],Mo,Gs,mm,ym,n1,s1,Rc,Ka,ou,au=!1,nd=!1,Gd,kn,bm=[],Ky=!1,Lh=[],vg=typeof document<"u",sd=i_,i1=Of||ur?"cssFloat":"float",d3=vg&&!s3&&!i_&&"draggable"in document.createElement("div"),c_=function(){if(vg){if(ur)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),u_=function(e,t){var s=ge(e),i=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=Ul(e,0,t),o=Ul(e,1,t),a=r&&ge(r),l=o&&ge(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+It(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+It(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&s[i1]==="none"||o&&s[i1]==="none"&&c+u>i)?"vertical":"horizontal"},h3=function(e,t,s){var i=s?e.left:e.top,r=s?e.right:e.bottom,o=s?e.width:e.height,a=s?t.left:t.top,l=s?t.right:t.bottom,c=s?t.width:t.height;return i===a||r===l||i+o/2===a+c/2},p3=function(e,t){var s;return Nh.some(function(i){var r=i[Ln].options.emptyInsertThreshold;if(!(!r||e0(i))){var o=It(i),a=e>=o.left-r&&e<=o.right+r,l=t>=o.top-r&&t<=o.bottom+r;if(a&&l)return s=i}}),s},f_=function(e){function t(r,o){return function(a,l,c,u){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||f))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return t(r(a,l,c,u),o)(a,l,c,u);var d=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===d||r.join&&r.indexOf(d)>-1}}var s={},i=e.group;(!i||Wd(i)!="object")&&(i={name:i}),s.name=i.name,s.checkPull=t(i.pull,!0),s.checkPut=t(i.put),s.revertClone=i.revertClone,e.group=s},d_=function(){!c_&&Fe&&ge(Fe,"display","none")},h_=function(){!c_&&Fe&&ge(Fe,"display","")};vg&&document.addEventListener("click",function(n){if(Dh)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Dh=!1,!1},!0);var Po=function(e){if(se){e=e.touches?e.touches[0]:e;var t=p3(e.clientX,e.clientY);if(t){var s={};for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);s.target=s.rootEl=t,s.preventDefault=void 0,s.stopPropagation=void 0,t[Ln]._onDragOver(s)}}},g3=function(e){se&&se.parentNode[Ln]._isOutsideThisEl(e.target)};function Oe(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Ks({},e),n[Ln]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return u_(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Oe.supportPointer!==!1&&"PointerEvent"in window&&!su,emptyInsertThreshold:5};kf.initializePlugins(this,n,t);for(var s in t)!(s in e)&&(e[s]=t[s]);f_(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:d3,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?qe(n,"pointerdown",this._onTapStart):(qe(n,"mousedown",this._onTapStart),qe(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(qe(n,"dragover",this),qe(n,"dragenter",this)),Nh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ks(this,l3())}Oe.prototype={constructor:Oe,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ka=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,se):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,s=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=i.filter;if(w3(s),!se&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&su&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ei(l,i.draggable,s,!1),!(l&&l.animated)&&Kd!==l)){if(al=Bt(l),ru=Bt(l,i.draggable),typeof u=="function"){if(u.call(this,e,l,this)){zn({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),rs("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=ei(c,f.trim(),s,!1),f)return zn({sortable:t,rootEl:f,name:"filter",targetEl:l,fromEl:s,toEl:s}),rs("filter",t,{evt:e}),!0}),u)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!ei(c,i.handle,s,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,s){var i=this,r=i.el,o=i.options,a=r.ownerDocument,l;if(s&&!se&&s.parentNode===r){var c=It(s);if(Mt=r,se=s,Ft=se.parentNode,jo=se.nextSibling,Kd=s,td=o.group,Oe.dragged=se,Mo={target:se,clientX:(t||e).clientX,clientY:(t||e).clientY},n1=Mo.clientX-c.left,s1=Mo.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,se.style["will-change"]="all",l=function(){if(rs("delayEnded",i,{evt:e}),Oe.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!qS&&i.nativeDraggable&&(se.draggable=!0),i._triggerDragStart(e,t),zn({sortable:i,name:"choose",originalEvent:e}),Nt(se,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){o_(se,u.trim(),vm)}),qe(a,"dragover",Po),qe(a,"mousemove",Po),qe(a,"touchmove",Po),qe(a,"mouseup",i._onDrop),qe(a,"touchend",i._onDrop),qe(a,"touchcancel",i._onDrop),qS&&this.nativeDraggable&&(this.options.touchStartThreshold=4,se.draggable=!0),rs("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Of||ur))){if(Oe.eventCanceled){this._onDrop();return}qe(a,"mouseup",i._disableDelayedDrag),qe(a,"touchend",i._disableDelayedDrag),qe(a,"touchcancel",i._disableDelayedDrag),qe(a,"mousemove",i._delayedDragTouchMoveHandler),qe(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&qe(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){se&&vm(se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ke(e,"mouseup",this._disableDelayedDrag),Ke(e,"touchend",this._disableDelayedDrag),Ke(e,"touchcancel",this._disableDelayedDrag),Ke(e,"mousemove",this._delayedDragTouchMoveHandler),Ke(e,"touchmove",this._delayedDragTouchMoveHandler),Ke(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?qe(document,"pointermove",this._onTouchMove):t?qe(document,"touchmove",this._onTouchMove):qe(document,"mousemove",this._onTouchMove):(qe(se,"dragend",this),qe(Mt,"dragstart",this._onDragStart));try{document.selection?Xd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(tl=!1,Mt&&se){rs("dragStarted",this,{evt:t}),this.nativeDraggable&&qe(document,"dragover",g3);var s=this.options;!e&&Nt(se,s.dragClass,!1),Nt(se,s.ghostClass,!0),Oe.active=this,e&&this._appendGhost(),zn({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Gs){this._lastX=Gs.clientX,this._lastY=Gs.clientY,d_();for(var e=document.elementFromPoint(Gs.clientX,Gs.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Gs.clientX,Gs.clientY),e!==t);)t=e;if(se.parentNode[Ln]._isOutsideThisEl(e),t)do{if(t[Ln]){var s=void 0;if(s=t[Ln]._onDragOver({clientX:Gs.clientX,clientY:Gs.clientY,target:e,rootEl:t}),s&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);h_()}},_onTouchMove:function(e){if(Mo){var t=this.options,s=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=Fe&&ua(Fe,!0),a=Fe&&o&&o.a,l=Fe&&o&&o.d,c=sd&&kn&&e1(kn),u=(r.clientX-Mo.clientX+i.x)/(a||1)+(c?c[0]-bm[0]:0)/(a||1),f=(r.clientY-Mo.clientY+i.y)/(l||1)+(c?c[1]-bm[1]:0)/(l||1);if(!Oe.active&&!tl){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(Fe){o?(o.e+=u-(mm||0),o.f+=f-(ym||0)):o={a:1,b:0,c:0,d:1,e:u,f};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ge(Fe,"webkitTransform",d),ge(Fe,"mozTransform",d),ge(Fe,"msTransform",d),ge(Fe,"transform",d),mm=u,ym=f,Gs=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Fe){var e=this.options.fallbackOnBody?document.body:Mt,t=It(se,!0,sd,!0,e),s=this.options;if(sd){for(kn=e;ge(kn,"position")==="static"&&ge(kn,"transform")==="none"&&kn!==document;)kn=kn.parentNode;kn!==document.body&&kn!==document.documentElement?(kn===document&&(kn=Ei()),t.top+=kn.scrollTop,t.left+=kn.scrollLeft):kn=Ei(),bm=e1(kn)}Fe=se.cloneNode(!0),Nt(Fe,s.ghostClass,!1),Nt(Fe,s.fallbackClass,!0),Nt(Fe,s.dragClass,!0),ge(Fe,"transition",""),ge(Fe,"transform",""),ge(Fe,"box-sizing","border-box"),ge(Fe,"margin",0),ge(Fe,"top",t.top),ge(Fe,"left",t.left),ge(Fe,"width",t.width),ge(Fe,"height",t.height),ge(Fe,"opacity","0.8"),ge(Fe,"position",sd?"absolute":"fixed"),ge(Fe,"zIndex","100000"),ge(Fe,"pointerEvents","none"),Oe.ghost=Fe,e.appendChild(Fe),ge(Fe,"transform-origin",n1/parseInt(Fe.style.width)*100+"% "+s1/parseInt(Fe.style.height)*100+"%")}},_onDragStart:function(e,t){var s=this,i=e.dataTransfer,r=s.options;if(rs("dragStart",this,{evt:e}),Oe.eventCanceled){this._onDrop();return}rs("setupClone",this),Oe.eventCanceled||($t=t0(se),$t.draggable=!1,$t.style["will-change"]="",this._hideClone(),Nt($t,this.options.chosenClass,!1),Oe.clone=$t),s.cloneId=Xd(function(){rs("clone",s),!Oe.eventCanceled&&(s.options.removeCloneOnHide||Mt.insertBefore($t,se),s._hideClone(),zn({sortable:s,name:"clone"}))}),!t&&Nt(se,r.dragClass,!0),t?(Dh=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Ke(document,"mouseup",s._onDrop),Ke(document,"touchend",s._onDrop),Ke(document,"touchcancel",s._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(s,i,se)),qe(document,"drop",s),ge(se,"transform","translateZ(0)")),tl=!0,s._dragStartId=Xd(s._dragStarted.bind(s,t,e)),qe(document,"selectstart",s),Rc=!0,su&&ge(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,s=e.target,i,r,o,a=this.options,l=a.group,c=Oe.active,u=td===l,f=a.sort,d=bn||c,h,p=this,g=!1;if(Ky)return;function m(W,de){rs(W,p,Ci({evt:e,isOwner:u,axis:h?"vertical":"horizontal",revert:o,dragRect:i,targetRect:r,canSort:f,fromSortable:d,target:s,completed:b,onMove:function(Ne,Me){return id(Mt,t,se,i,Ne,It(Ne),e,Me)},changed:x},de))}function y(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function b(W){return m("dragOverCompleted",{insertion:W}),W&&(u?c._hideClone():c._showClone(p),p!==d&&(Nt(se,bn?bn.options.ghostClass:c.options.ghostClass,!1),Nt(se,a.ghostClass,!0)),bn!==p&&p!==Oe.active?bn=p:p===Oe.active&&bn&&(bn=null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===se&&!se.animated||s===t&&!s.animated)&&(Ka=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(se.parentNode[Ln]._isOutsideThisEl(e.target),!W&&Po(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function x(){vs=Bt(se),_r=Bt(se,a.draggable),zn({sortable:p,name:"change",toEl:t,newIndex:vs,newDraggableIndex:_r,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=ei(s,a.draggable,t,!0),m("dragOver"),Oe.eventCanceled)return g;if(se.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return b(!1);if(Dh=!1,c&&!a.disabled&&(u?f||(o=Ft!==Mt):bn===this||(this.lastPutMode=td.checkPull(this,c,se,e))&&l.checkPut(this,c,se,e))){if(h=this._getDirection(e,s)==="vertical",i=It(se),m("dragOverValid"),Oe.eventCanceled)return g;if(o)return Ft=Mt,y(),this._hideClone(),m("revert"),Oe.eventCanceled||(jo?Mt.insertBefore(se,jo):Mt.appendChild(se)),b(!0);var v=e0(t,a.draggable);if(!v||v3(e,h,this)&&!v.animated){if(v===se)return b(!1);if(v&&t===e.target&&(s=v),s&&(r=It(s)),id(Mt,t,se,i,s,r,e,!!s)!==!1)return y(),t.appendChild(se),Ft=t,x(),b(!0)}else if(v&&b3(e,h,this)){var S=Ul(t,0,a,!0);if(S===se)return b(!1);if(s=S,r=It(s),id(Mt,t,se,i,s,r,e,!1)!==!1)return y(),t.insertBefore(se,S),Ft=t,x(),b(!0)}else if(s.parentNode===t){r=It(s);var E=0,k,_=se.parentNode!==t,w=!h3(se.animated&&se.toRect||i,s.animated&&s.toRect||r,h),O=h?"top":"left",C=ZS(s,"top","top")||ZS(se,"top","top"),T=C?C.scrollTop:void 0;Ka!==s&&(k=r[O],au=!1,nd=!w&&a.invertSwap||_),E=x3(e,s,r,h,w?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,nd,Ka===s);var I;if(E!==0){var L=Bt(se);do L-=E,I=Ft.children[L];while(I&&(ge(I,"display")==="none"||I===Fe))}if(E===0||I===s)return b(!1);Ka=s,ou=E;var j=s.nextElementSibling,D=!1;D=E===1;var V=id(Mt,t,se,i,s,r,e,D);if(V!==!1)return(V===1||V===-1)&&(D=V===1),Ky=!0,setTimeout(y3,30),y(),D&&!j?t.appendChild(se):s.parentNode.insertBefore(se,D?j:s),C&&l_(C,0,T-C.scrollTop),Ft=se.parentNode,k!==void 0&&!nd&&(Gd=Math.abs(k-It(s)[O])),x(),b(!0)}if(t.contains(se))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ke(document,"mousemove",this._onTouchMove),Ke(document,"touchmove",this._onTouchMove),Ke(document,"pointermove",this._onTouchMove),Ke(document,"dragover",Po),Ke(document,"mousemove",Po),Ke(document,"touchmove",Po)},_offUpEvents:function(){var e=this.el.ownerDocument;Ke(e,"mouseup",this._onDrop),Ke(e,"touchend",this._onDrop),Ke(e,"pointerup",this._onDrop),Ke(e,"touchcancel",this._onDrop),Ke(document,"selectstart",this)},_onDrop:function(e){var t=this.el,s=this.options;if(vs=Bt(se),_r=Bt(se,s.draggable),rs("drop",this,{evt:e}),Ft=se&&se.parentNode,vs=Bt(se),_r=Bt(se,s.draggable),Oe.eventCanceled){this._nulling();return}tl=!1,nd=!1,au=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Gy(this.cloneId),Gy(this._dragStartId),this.nativeDraggable&&(Ke(document,"drop",this),Ke(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),su&&ge(document.body,"user-select",""),ge(se,"transform",""),e&&(Rc&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(Mt===Ft||bn&&bn.lastPutMode!=="clone")&&$t&&$t.parentNode&&$t.parentNode.removeChild($t),se&&(this.nativeDraggable&&Ke(se,"dragend",this),vm(se),se.style["will-change"]="",Rc&&!tl&&Nt(se,bn?bn.options.ghostClass:this.options.ghostClass,!1),Nt(se,this.options.chosenClass,!1),zn({sortable:this,name:"unchoose",toEl:Ft,newIndex:null,newDraggableIndex:null,originalEvent:e}),Mt!==Ft?(vs>=0&&(zn({rootEl:Ft,name:"add",toEl:Ft,fromEl:Mt,originalEvent:e}),zn({sortable:this,name:"remove",toEl:Ft,originalEvent:e}),zn({rootEl:Ft,name:"sort",toEl:Ft,fromEl:Mt,originalEvent:e}),zn({sortable:this,name:"sort",toEl:Ft,originalEvent:e})),bn&&bn.save()):vs!==al&&vs>=0&&(zn({sortable:this,name:"update",toEl:Ft,originalEvent:e}),zn({sortable:this,name:"sort",toEl:Ft,originalEvent:e})),Oe.active&&((vs==null||vs===-1)&&(vs=al,_r=ru),zn({sortable:this,name:"end",toEl:Ft,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){rs("nulling",this),Mt=se=Ft=Fe=jo=$t=Kd=Rr=Mo=Gs=Rc=vs=_r=al=ru=Ka=ou=bn=td=Oe.dragged=Oe.ghost=Oe.clone=Oe.active=null,Lh.forEach(function(e){e.checked=!0}),Lh.length=mm=ym=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":se&&(this._onDragOver(e),m3(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,s=this.el.children,i=0,r=s.length,o=this.options;i<r;i++)t=s[i],ei(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||E3(t));return e},sort:function(e,t){var s={},i=this.el;this.toArray().forEach(function(r,o){var a=i.children[o];ei(a,this.options.draggable,i,!1)&&(s[r]=a)},this),t&&this.captureAnimationState(),e.forEach(function(r){s[r]&&(i.removeChild(s[r]),i.appendChild(s[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ei(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var s=this.options;if(t===void 0)return s[e];var i=kf.modifyOption(this,e,t);typeof i<"u"?s[e]=i:s[e]=t,e==="group"&&f_(s)},destroy:function(){rs("destroy",this);var e=this.el;e[Ln]=null,Ke(e,"mousedown",this._onTapStart),Ke(e,"touchstart",this._onTapStart),Ke(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ke(e,"dragover",this),Ke(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Nh.splice(Nh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Rr){if(rs("hideClone",this),Oe.eventCanceled)return;ge($t,"display","none"),this.options.removeCloneOnHide&&$t.parentNode&&$t.parentNode.removeChild($t),Rr=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Rr){if(rs("showClone",this),Oe.eventCanceled)return;se.parentNode==Mt&&!this.options.group.revertClone?Mt.insertBefore($t,se):jo?Mt.insertBefore($t,jo):Mt.appendChild($t),this.options.group.revertClone&&this.animate(se,$t),ge($t,"display",""),Rr=!1}}};function m3(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function id(n,e,t,s,i,r,o,a){var l,c=n[Ln],u=c.options.onMove,f;return window.CustomEvent&&!ur&&!Of?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=s,l.related=i||e,l.relatedRect=r||It(e),l.willInsertAfter=a,l.originalEvent=o,n.dispatchEvent(l),u&&(f=u.call(c,l,o)),f}function vm(n){n.draggable=!1}function y3(){Ky=!1}function b3(n,e,t){var s=It(Ul(t.el,0,t.options,!0)),i=10;return e?n.clientX<s.left-i||n.clientY<s.top&&n.clientX<s.right:n.clientY<s.top-i||n.clientY<s.bottom&&n.clientX<s.left}function v3(n,e,t){var s=It(e0(t.el,t.options.draggable)),i=10;return e?n.clientX>s.right+i||n.clientX<=s.right&&n.clientY>s.bottom&&n.clientX>=s.left:n.clientX>s.right&&n.clientY>s.top||n.clientX<=s.right&&n.clientY>s.bottom+i}function x3(n,e,t,s,i,r,o,a){var l=s?n.clientY:n.clientX,c=s?t.height:t.width,u=s?t.top:t.left,f=s?t.bottom:t.right,d=!1;if(!o){if(a&&Gd<c*i){if(!au&&(ou===1?l>u+c*r/2:l<f-c*r/2)&&(au=!0),au)d=!0;else if(ou===1?l<u+Gd:l>f-Gd)return-ou}else if(l>u+c*(1-i)/2&&l<f-c*(1-i)/2)return S3(e)}return d=d||o,d&&(l<u+c*r/2||l>f-c*r/2)?l>u+c/2?1:-1:0}function S3(n){return Bt(se)<Bt(n)?1:-1}function E3(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,s=0;t--;)s+=e.charCodeAt(t);return s.toString(36)}function w3(n){Lh.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var s=e[t];s.checked&&Lh.push(s)}}function Xd(n){return setTimeout(n,0)}function Gy(n){return clearTimeout(n)}vg&&qe(document,"touchmove",function(n){(Oe.active||tl)&&n.cancelable&&n.preventDefault()});Oe.utils={on:qe,off:Ke,css:ge,find:o_,is:function(e,t){return!!ei(e,t,e,!1)},extend:o3,throttle:a_,closest:ei,toggleClass:Nt,clone:t0,index:Bt,nextTick:Xd,cancelNextTick:Gy,detectDirection:u_,getChild:Ul};Oe.get=function(n){return n[Ln]};Oe.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Oe.utils=Ci(Ci({},Oe.utils),s.utils)),kf.mount(s)})};Oe.create=function(n,e){return new Oe(n,e)};Oe.version=n3;var Jt=[],Dc,Xy,Jy=!1,xm,Sm,Fh,Nc;function T3(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var s=t.originalEvent;this.sortable.nativeDraggable?qe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?qe(document,"pointermove",this._handleFallbackAutoScroll):s.touches?qe(document,"touchmove",this._handleFallbackAutoScroll):qe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var s=t.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Ke(document,"dragover",this._handleAutoScroll):(Ke(document,"pointermove",this._handleFallbackAutoScroll),Ke(document,"touchmove",this._handleFallbackAutoScroll),Ke(document,"mousemove",this._handleFallbackAutoScroll)),r1(),Jd(),a3()},nulling:function(){Fh=Xy=Dc=Jy=Nc=xm=Sm=null,Jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,s){var i=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(r,o);if(Fh=t,s||this.options.forceAutoScrollFallback||Of||ur||su){Em(t,this.options,a,s);var l=Ur(a,!0);Jy&&(!Nc||r!==xm||o!==Sm)&&(Nc&&r1(),Nc=setInterval(function(){var c=Ur(document.elementFromPoint(r,o),!0);c!==l&&(l=c,Jd()),Em(t,i.options,c,s)},10),xm=r,Sm=o)}else{if(!this.options.bubbleScroll||Ur(a,!0)===Ei()){Jd();return}Em(t,this.options,Ur(a,!1),!1)}}},Ks(n,{pluginName:"scroll",initializeByDefault:!0})}function Jd(){Jt.forEach(function(n){clearInterval(n.pid)}),Jt=[]}function r1(){clearInterval(Nc)}var Em=a_(function(n,e,t,s){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ei(),c=!1,u;Xy!==t&&(Xy=t,Jd(),Dc=e.scroll,u=e.scrollFn,Dc===!0&&(Dc=Ur(t,!0)));var f=0,d=Dc;do{var h=d,p=It(h),g=p.top,m=p.bottom,y=p.left,b=p.right,x=p.width,v=p.height,S=void 0,E=void 0,k=h.scrollWidth,_=h.scrollHeight,w=ge(h),O=h.scrollLeft,C=h.scrollTop;h===l?(S=x<k&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),E=v<_&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(S=x<k&&(w.overflowX==="auto"||w.overflowX==="scroll"),E=v<_&&(w.overflowY==="auto"||w.overflowY==="scroll"));var T=S&&(Math.abs(b-i)<=o&&O+x<k)-(Math.abs(y-i)<=o&&!!O),I=E&&(Math.abs(m-r)<=o&&C+v<_)-(Math.abs(g-r)<=o&&!!C);if(!Jt[f])for(var L=0;L<=f;L++)Jt[L]||(Jt[L]={});(Jt[f].vx!=T||Jt[f].vy!=I||Jt[f].el!==h)&&(Jt[f].el=h,Jt[f].vx=T,Jt[f].vy=I,clearInterval(Jt[f].pid),(T!=0||I!=0)&&(c=!0,Jt[f].pid=setInterval((function(){s&&this.layer===0&&Oe.active._onTouchMove(Fh);var j=Jt[this.layer].vy?Jt[this.layer].vy*a:0,D=Jt[this.layer].vx?Jt[this.layer].vx*a:0;typeof u=="function"&&u.call(Oe.dragged.parentNode[Ln],D,j,n,Fh,Jt[this.layer].el)!=="continue"||l_(Jt[this.layer].el,D,j)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==l&&(d=Ur(d,!1)));Jy=c}},30),p_=function(e){var t=e.originalEvent,s=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=s||r;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,f=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(f)&&(o("spill"),this.onSpill({dragEl:i,putSortable:s}))}};function n0(){}n0.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var i=Ul(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),s&&s.animateAll()},drop:p_};Ks(n0,{pluginName:"revertOnSpill"});function s0(){}s0.prototype={onSpill:function(e){var t=e.dragEl,s=e.putSortable,i=s||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:p_};Ks(s0,{pluginName:"removeOnSpill"});var Ps;function C3(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(t){var s=t.dragEl;Ps=s},dragOverValid:function(t){var s=t.completed,i=t.target,r=t.onMove,o=t.activeSortable,a=t.changed,l=t.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var f=Ps;r(i)!==!1?(Nt(i,u.swapClass,!0),Ps=i):Ps=null,f&&f!==Ps&&Nt(f,u.swapClass,!1)}a(),s(!0),l()}},drop:function(t){var s=t.activeSortable,i=t.putSortable,r=t.dragEl,o=i||this.sortable,a=this.options;Ps&&Nt(Ps,a.swapClass,!1),Ps&&(a.swap||i&&i.options.swap)&&r!==Ps&&(o.captureAnimationState(),o!==s&&s.captureAnimationState(),O3(r,Ps),o.animateAll(),o!==s&&s.animateAll())},nulling:function(){Ps=null}},Ks(n,{pluginName:"swap",eventProperties:function(){return{swapItem:Ps}}})}function O3(n,e){var t=n.parentNode,s=e.parentNode,i,r;!t||!s||t.isEqualNode(e)||s.isEqualNode(n)||(i=Bt(n),r=Bt(e),t.isEqualNode(s)&&i<r&&r++,t.insertBefore(e,t.children[i]),s.insertBefore(n,s.children[r]))}var Ie=[],ys=[],vc,Xs,xc=!1,as=!1,Ga=!1,St,Sc,rd;function k3(){function n(e){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));e.options.supportPointer?qe(document,"pointerup",this._deselectMultiDrag):(qe(document,"mouseup",this._deselectMultiDrag),qe(document,"touchend",this._deselectMultiDrag)),qe(document,"keydown",this._checkKeyDown),qe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,r){var o="";Ie.length&&Xs===e?Ie.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=r.textContent,i.setData("Text",o)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var s=t.dragEl;St=s},delayEnded:function(){this.isMultiDrag=~Ie.indexOf(St)},setupClone:function(t){var s=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var r=0;r<Ie.length;r++)ys.push(t0(Ie[r])),ys[r].sortableIndex=Ie[r].sortableIndex,ys[r].draggable=!1,ys[r].style["will-change"]="",Nt(ys[r],this.options.selectedClass,!1),Ie[r]===St&&Nt(ys[r],this.options.chosenClass,!1);s._hideClone(),i()}},clone:function(t){var s=t.sortable,i=t.rootEl,r=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ie.length&&Xs===s&&(o1(!0,i),r("clone"),o()))},showClone:function(t){var s=t.cloneNowShown,i=t.rootEl,r=t.cancel;this.isMultiDrag&&(o1(!1,i),ys.forEach(function(o){ge(o,"display","")}),s(),rd=!1,r())},hideClone:function(t){var s=this;t.sortable;var i=t.cloneNowHidden,r=t.cancel;this.isMultiDrag&&(ys.forEach(function(o){ge(o,"display","none"),s.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),rd=!0,r())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&Xs&&Xs.multiDrag._deselectMultiDrag(),Ie.forEach(function(s){s.sortableIndex=Bt(s)}),Ie=Ie.sort(function(s,i){return s.sortableIndex-i.sortableIndex}),Ga=!0},dragStarted:function(t){var s=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Ie.forEach(function(o){o!==St&&ge(o,"position","absolute")});var r=It(St,!1,!0,!0);Ie.forEach(function(o){o!==St&&t1(o,r)}),as=!0,xc=!0}i.animateAll(function(){as=!1,xc=!1,s.options.animation&&Ie.forEach(function(o){pm(o)}),s.options.sort&&od()})}},dragOver:function(t){var s=t.target,i=t.completed,r=t.cancel;as&&~Ie.indexOf(s)&&(i(!1),r())},revert:function(t){var s=t.fromSortable,i=t.rootEl,r=t.sortable,o=t.dragRect;Ie.length>1&&(Ie.forEach(function(a){r.addAnimationState({target:a,rect:as?It(a):o}),pm(a),a.fromRect=o,s.removeAnimationState(a)}),as=!1,_3(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var s=t.sortable,i=t.isOwner,r=t.insertion,o=t.activeSortable,a=t.parentEl,l=t.putSortable,c=this.options;if(r){if(i&&o._hideClone(),xc=!1,c.animation&&Ie.length>1&&(as||!i&&!o.options.sort&&!l)){var u=It(St,!1,!0,!0);Ie.forEach(function(d){d!==St&&(t1(d,u),a.appendChild(d))}),as=!0}if(!i)if(as||od(),Ie.length>1){var f=rd;o._showClone(s),o.options.animation&&!rd&&f&&ys.forEach(function(d){o.addAnimationState({target:d,rect:Sc}),d.fromRect=Sc,d.thisAnimationDuration=null})}else o._showClone(s)}},dragOverAnimationCapture:function(t){var s=t.dragRect,i=t.isOwner,r=t.activeSortable;if(Ie.forEach(function(a){a.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Sc=Ks({},s);var o=ua(St,!0);Sc.top-=o.f,Sc.left-=o.e}},dragOverAnimationComplete:function(){as&&(as=!1,od())},drop:function(t){var s=t.originalEvent,i=t.rootEl,r=t.parentEl,o=t.sortable,a=t.dispatchSortableEvent,l=t.oldIndex,c=t.putSortable,u=c||this.sortable;if(s){var f=this.options,d=r.children;if(!Ga)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Nt(St,f.selectedClass,!~Ie.indexOf(St)),~Ie.indexOf(St))Ie.splice(Ie.indexOf(St),1),vc=null,Ic({sortable:o,rootEl:i,name:"deselect",targetEl:St,originalEvt:s});else{if(Ie.push(St),Ic({sortable:o,rootEl:i,name:"select",targetEl:St,originalEvt:s}),s.shiftKey&&vc&&o.el.contains(vc)){var h=Bt(vc),p=Bt(St);if(~h&&~p&&h!==p){var g,m;for(p>h?(m=h,g=p):(m=p,g=h+1);m<g;m++)~Ie.indexOf(d[m])||(Nt(d[m],f.selectedClass,!0),Ie.push(d[m]),Ic({sortable:o,rootEl:i,name:"select",targetEl:d[m],originalEvt:s}))}}else vc=St;Xs=u}if(Ga&&this.isMultiDrag){if(as=!1,(r[Ln].options.sort||r!==i)&&Ie.length>1){var y=It(St),b=Bt(St,":not(."+this.options.selectedClass+")");if(!xc&&f.animation&&(St.thisAnimationDuration=null),u.captureAnimationState(),!xc&&(f.animation&&(St.fromRect=y,Ie.forEach(function(v){if(v.thisAnimationDuration=null,v!==St){var S=as?It(v):y;v.fromRect=S,u.addAnimationState({target:v,rect:S})}})),od(),Ie.forEach(function(v){d[b]?r.insertBefore(v,d[b]):r.appendChild(v),b++}),l===Bt(St))){var x=!1;Ie.forEach(function(v){if(v.sortableIndex!==Bt(v)){x=!0;return}}),x&&a("update")}Ie.forEach(function(v){pm(v)}),u.animateAll()}Xs=u}(i===r||c&&c.lastPutMode!=="clone")&&ys.forEach(function(v){v.parentNode&&v.parentNode.removeChild(v)})}},nullingGlobal:function(){this.isMultiDrag=Ga=!1,ys.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ke(document,"pointerup",this._deselectMultiDrag),Ke(document,"mouseup",this._deselectMultiDrag),Ke(document,"touchend",this._deselectMultiDrag),Ke(document,"keydown",this._checkKeyDown),Ke(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof Ga<"u"&&Ga)&&Xs===this.sortable&&!(t&&ei(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;Ie.length;){var s=Ie[0];Nt(s,this.options.selectedClass,!1),Ie.shift(),Ic({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ks(n,{pluginName:"multiDrag",utils:{select:function(t){var s=t.parentNode[Ln];!s||!s.options.multiDrag||~Ie.indexOf(t)||(Xs&&Xs!==s&&(Xs.multiDrag._deselectMultiDrag(),Xs=s),Nt(t,s.options.selectedClass,!0),Ie.push(t))},deselect:function(t){var s=t.parentNode[Ln],i=Ie.indexOf(t);!s||!s.options.multiDrag||!~i||(Nt(t,s.options.selectedClass,!1),Ie.splice(i,1))}},eventProperties:function(){var t=this,s=[],i=[];return Ie.forEach(function(r){s.push({multiDragElement:r,index:r.sortableIndex});var o;as&&r!==St?o=-1:as?o=Bt(r,":not(."+t.options.selectedClass+")"):o=Bt(r),i.push({multiDragElement:r,index:o})}),{items:qB(Ie),clones:[].concat(ys),oldIndicies:s,newIndicies:i}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function _3(n,e){Ie.forEach(function(t,s){var i=e.children[t.sortableIndex+(n?Number(s):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function o1(n,e){ys.forEach(function(t,s){var i=e.children[t.sortableIndex+(n?Number(s):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function od(){Ie.forEach(function(n){n!==St&&n.parentNode&&n.parentNode.removeChild(n)})}Oe.mount(new T3);Oe.mount(s0,n0);const A3=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:k3,Sortable:Oe,Swap:C3,default:Oe},Symbol.toStringTag,{value:"Module"})),M3=vf(A3);var P3=$d.exports,a1;function I3(){return a1||(a1=1,function(n,e){(function(s,i){n.exports=i(GB(),M3)})(typeof self<"u"?self:P3,function(t,s){return function(i){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)o.d(c,u,(function(f){return a[f]}).bind(null,u));return c},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,r,o){var a=o("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,r,o){var a=o("1c0b");i.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(f){return l.call(c,f)};case 2:return function(f,d){return l.call(c,f,d)};case 3:return function(f,d,h){return l.call(c,f,d,h)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,r,o){var a=o("fc6a"),l=o("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(d){try{return l(d)}catch{return u.slice()}};i.exports.f=function(h){return u&&c.call(h)=="[object Window]"?f(h):l(a(h))}},"06cf":function(i,r,o){var a=o("83ab"),l=o("d1e7"),c=o("5c6c"),u=o("fc6a"),f=o("c04e"),d=o("5135"),h=o("0cfb"),p=Object.getOwnPropertyDescriptor;r.f=a?p:function(m,y){if(m=u(m),y=f(y,!0),h)try{return p(m,y)}catch{}if(d(m,y))return c(!l.f.call(m,y),m[y])}},"0cfb":function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,r,o){var a=o("23e7"),l=o("d58f").left,c=o("a640"),u=o("ae40"),f=c("reduce"),d=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!f||!d},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,r,o){var a=o("c6b6"),l=o("9263");i.exports=function(c,u){var f=c.exec;if(typeof f=="function"){var d=f.call(c,u);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("17c2"),u=o("9112");for(var f in l){var d=a[f],h=d&&d.prototype;if(h&&h.forEach!==c)try{u(h,"forEach",c)}catch{h.forEach=c}}},"17c2":function(i,r,o){var a=o("b727").forEach,l=o("a640"),c=o("ae40"),u=l("forEach"),f=c("forEach");i.exports=!u||!f?function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,r,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,r){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,r,o){var a=o("b622"),l=a("iterator"),c=!1;try{var u=0,f={next:function(){return{done:!!u++}},return:function(){c=!0}};f[l]=function(){return this},Array.from(f,function(){throw 2})}catch{}i.exports=function(d,h){if(!h&&!c)return!1;var p=!1;try{var g={};g[l]=function(){return{next:function(){return{done:p=!0}}}},d(g)}catch{}return p}},"1d80":function(i,r){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,r,o){var a=o("d039"),l=o("b622"),c=o("2d00"),u=l("species");i.exports=function(f){return c>=51||!a(function(){var d=[],h=d.constructor={};return h[u]=function(){return{foo:1}},d[f](Boolean).foo!==1})}},"23cb":function(i,r,o){var a=o("a691"),l=Math.max,c=Math.min;i.exports=function(u,f){var d=a(u);return d<0?l(d+f,0):c(d,f)}},"23e7":function(i,r,o){var a=o("da84"),l=o("06cf").f,c=o("9112"),u=o("6eeb"),f=o("ce4e"),d=o("e893"),h=o("94ca");i.exports=function(p,g){var m=p.target,y=p.global,b=p.stat,x,v,S,E,k,_;if(y?v=a:b?v=a[m]||f(m,{}):v=(a[m]||{}).prototype,v)for(S in g){if(k=g[S],p.noTargetGet?(_=l(v,S),E=_&&_.value):E=v[S],x=h(y?S:m+(b?".":"#")+S,p.forced),!x&&E!==void 0){if(typeof k==typeof E)continue;d(k,E)}(p.sham||E&&E.sham)&&c(k,"sham",!0),u(v,S,k,p)}}},"241c":function(i,r,o){var a=o("ca84"),l=o("7839"),c=l.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(f){return a(f,c)}},"25f0":function(i,r,o){var a=o("6eeb"),l=o("825a"),c=o("d039"),u=o("ad6d"),f="toString",d=RegExp.prototype,h=d[f],p=c(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),g=h.name!=f;(p||g)&&a(RegExp.prototype,f,function(){var y=l(this),b=String(y.source),x=y.flags,v=String(x===void 0&&y instanceof RegExp&&!("flags"in d)?u.call(y):x);return"/"+b+"/"+v},{unsafe:!0})},"2ca0":function(i,r,o){var a=o("23e7"),l=o("06cf").f,c=o("50c4"),u=o("5a34"),f=o("1d80"),d=o("ab13"),h=o("c430"),p="".startsWith,g=Math.min,m=d("startsWith"),y=!h&&!m&&!!function(){var b=l(String.prototype,"startsWith");return b&&!b.writable}();a({target:"String",proto:!0,forced:!y&&!m},{startsWith:function(x){var v=String(f(this));u(x);var S=c(g(arguments.length>1?arguments[1]:void 0,v.length)),E=String(x);return p?p.call(v,E,S):v.slice(S,S+E.length)===E}})},"2d00":function(i,r,o){var a=o("da84"),l=o("342f"),c=a.process,u=c&&c.versions,f=u&&u.v8,d,h;f?(d=f.split("."),h=d[0]+d[1]):l&&(d=l.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=l.match(/Chrome\/(\d+)/),d&&(h=d[1]))),i.exports=h&&+h},"342f":function(i,r,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,r,o){var a=o("f5df"),l=o("3f8c"),c=o("b622"),u=c("iterator");i.exports=function(f){if(f!=null)return f[u]||f["@@iterator"]||l[a(f)]}},"37e8":function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("825a"),u=o("df75");i.exports=a?Object.defineProperties:function(d,h){c(d);for(var p=u(h),g=p.length,m=0,y;g>m;)l.f(d,y=p[m++],h[y]);return d}},"3bbe":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,r,o){var a=o("6547").charAt,l=o("69f3"),c=o("7dd0"),u="String Iterator",f=l.set,d=l.getterFor(u);c(String,"String",function(h){f(this,{type:u,string:String(h),index:0})},function(){var p=d(this),g=p.string,m=p.index,y;return m>=g.length?{value:void 0,done:!0}:(y=a(g,m),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,r){i.exports={}},4160:function(i,r,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,r,o){var a=o("da84");i.exports=a},"44ad":function(i,r,o){var a=o("d039"),l=o("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(i,r,o){var a=o("b622"),l=o("7c73"),c=o("9bf2"),u=a("unscopables"),f=Array.prototype;f[u]==null&&c.f(f,u,{configurable:!0,value:l(null)}),i.exports=function(d){f[u][d]=!0}},"44e7":function(i,r,o){var a=o("861d"),l=o("c6b6"),c=o("b622"),u=c("match");i.exports=function(f){var d;return a(f)&&((d=f[u])!==void 0?!!d:l(f)=="RegExp")}},4930:function(i,r,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,r,o){var a=o("fc6a"),l=o("50c4"),c=o("23cb"),u=function(f){return function(d,h,p){var g=a(d),m=l(g.length),y=c(p,m),b;if(f&&h!=h){for(;m>y;)if(b=g[y++],b!=b)return!0}else for(;m>y;y++)if((f||y in g)&&g[y]===h)return f||y||0;return!f&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(i,r,o){var a=o("23e7"),l=o("b727").filter,c=o("1dde"),u=o("ae40"),f=c("filter"),d=u("filter");a({target:"Array",proto:!0,forced:!f||!d},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,r,o){var a=o("0366"),l=o("7b0b"),c=o("9bdd"),u=o("e95a"),f=o("50c4"),d=o("8418"),h=o("35a1");i.exports=function(g){var m=l(g),y=typeof this=="function"?this:Array,b=arguments.length,x=b>1?arguments[1]:void 0,v=x!==void 0,S=h(m),E=0,k,_,w,O,C,T;if(v&&(x=a(x,b>2?arguments[2]:void 0,2)),S!=null&&!(y==Array&&u(S)))for(O=S.call(m),C=O.next,_=new y;!(w=C.call(O)).done;E++)T=v?c(O,x,[w.value,E],!0):w.value,d(_,E,T);else for(k=f(m.length),_=new y(k);k>E;E++)T=v?x(m[E],E):m[E],d(_,E,T);return _.length=E,_}},"4fad":function(i,r,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(i,r,o){var a=o("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,r){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,r,o){var a=o("d784"),l=o("825a"),c=o("7b0b"),u=o("50c4"),f=o("a691"),d=o("1d80"),h=o("8aa5"),p=o("14c3"),g=Math.max,m=Math.min,y=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g,v=function(S){return S===void 0?S:String(S)};a("replace",2,function(S,E,k,_){var w=_.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=_.REPLACE_KEEPS_$0,C=w?"$":"$0";return[function(L,j){var D=d(this),V=L==null?void 0:L[S];return V!==void 0?V.call(L,D,j):E.call(String(D),L,j)},function(I,L){if(!w&&O||typeof L=="string"&&L.indexOf(C)===-1){var j=k(E,I,this,L);if(j.done)return j.value}var D=l(I),V=String(this),W=typeof L=="function";W||(L=String(L));var de=D.global;if(de){var Ue=D.unicode;D.lastIndex=0}for(var Ne=[];;){var Me=p(D,V);if(Me===null||(Ne.push(Me),!de))break;var lt=String(Me[0]);lt===""&&(D.lastIndex=h(V,u(D.lastIndex),Ue))}for(var it="",ht=0,_e=0;_e<Ne.length;_e++){Me=Ne[_e];for(var B=String(Me[0]),ie=g(m(f(Me.index),V.length),0),ee=[],fe=1;fe<Me.length;fe++)ee.push(v(Me[fe]));var We=Me.groups;if(W){var rt=[B].concat(ee,ie,V);We!==void 0&&rt.push(We);var A=String(L.apply(void 0,rt))}else A=T(B,V,ie,ee,We,L);ie>=ht&&(it+=V.slice(ht,ie)+A,ht=ie+B.length)}return it+V.slice(ht)}];function T(I,L,j,D,V,W){var de=j+I.length,Ue=D.length,Ne=x;return V!==void 0&&(V=c(V),Ne=b),E.call(W,Ne,function(Me,lt){var it;switch(lt.charAt(0)){case"$":return"$";case"&":return I;case"`":return L.slice(0,j);case"'":return L.slice(de);case"<":it=V[lt.slice(1,-1)];break;default:var ht=+lt;if(ht===0)return Me;if(ht>Ue){var _e=y(ht/10);return _e===0?Me:_e<=Ue?D[_e-1]===void 0?lt.charAt(1):D[_e-1]+lt.charAt(1):Me}it=D[ht-1]}return it===void 0?"":it})}})},5692:function(i,r,o){var a=o("c430"),l=o("c6cd");(i.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,r,o){var a=o("d066"),l=o("241c"),c=o("7418"),u=o("825a");i.exports=a("Reflect","ownKeys")||function(d){var h=l.f(u(d)),p=c.f;return p?h.concat(p(d)):h}},"5a34":function(i,r,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,r){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,r,o){var a=o("23e7"),l=o("a2bf"),c=o("7b0b"),u=o("50c4"),f=o("1c0b"),d=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var g=c(this),m=u(g.length),y;return f(p),y=d(g,0),y.length=l(y,g,g,m,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,r,o){var a=o("a691"),l=o("1d80"),c=function(u){return function(f,d){var h=String(l(f)),p=a(d),g=h.length,m,y;return p<0||p>=g?u?"":void 0:(m=h.charCodeAt(p),m<55296||m>56319||p+1===g||(y=h.charCodeAt(p+1))<56320||y>57343?u?h.charAt(p):m:u?h.slice(p,p+2):(m-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,r,o){var a=o("861d"),l=o("e8b5"),c=o("b622"),u=c("species");i.exports=function(f,d){var h;return l(f)&&(h=f.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:a(h)&&(h=h[u],h===null&&(h=void 0))),new(h===void 0?Array:h)(d===0?0:d)}},"69f3":function(i,r,o){var a=o("7f9a"),l=o("da84"),c=o("861d"),u=o("9112"),f=o("5135"),d=o("f772"),h=o("d012"),p=l.WeakMap,g,m,y,b=function(w){return y(w)?m(w):g(w,{})},x=function(w){return function(O){var C;if(!c(O)||(C=m(O)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return C}};if(a){var v=new p,S=v.get,E=v.has,k=v.set;g=function(w,O){return k.call(v,w,O),O},m=function(w){return S.call(v,w)||{}},y=function(w){return E.call(v,w)}}else{var _=d("state");h[_]=!0,g=function(w,O){return u(w,_,O),O},m=function(w){return f(w,_)?w[_]:{}},y=function(w){return f(w,_)}}i.exports={set:g,get:m,has:y,enforce:b,getterFor:x}},"6eeb":function(i,r,o){var a=o("da84"),l=o("9112"),c=o("5135"),u=o("ce4e"),f=o("8925"),d=o("69f3"),h=d.get,p=d.enforce,g=String(String).split("String");(i.exports=function(m,y,b,x){var v=x?!!x.unsafe:!1,S=x?!!x.enumerable:!1,E=x?!!x.noTargetGet:!1;if(typeof b=="function"&&(typeof y=="string"&&!c(b,"name")&&l(b,"name",y),p(b).source=g.join(typeof y=="string"?y:"")),m===a){S?m[y]=b:u(y,b);return}else v?!E&&m[y]&&(S=!0):delete m[y];S?m[y]=b:l(m,y,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||f(this)})},"6f53":function(i,r,o){var a=o("83ab"),l=o("df75"),c=o("fc6a"),u=o("d1e7").f,f=function(d){return function(h){for(var p=c(h),g=l(p),m=g.length,y=0,b=[],x;m>y;)x=g[y++],(!a||u.call(p,x))&&b.push(d?[x,p[x]]:p[x]);return b}};i.exports={entries:f(!0),values:f(!1)}},"73d9":function(i,r,o){var a=o("44d2");a("flatMap")},7418:function(i,r){r.f=Object.getOwnPropertySymbols},"746f":function(i,r,o){var a=o("428f"),l=o("5135"),c=o("e538"),u=o("9bf2").f;i.exports=function(f){var d=a.Symbol||(a.Symbol={});l(d,f)||u(d,f,{value:c.f(f)})}},7839:function(i,r){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,r,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,r,o){var a=o("825a"),l=o("37e8"),c=o("7839"),u=o("d012"),f=o("1be4"),d=o("cc12"),h=o("f772"),p=">",g="<",m="prototype",y="script",b=h("IE_PROTO"),x=function(){},v=function(w){return g+y+p+w+g+"/"+y+p},S=function(w){w.write(v("")),w.close();var O=w.parentWindow.Object;return w=null,O},E=function(){var w=d("iframe"),O="java"+y+":",C;return w.style.display="none",f.appendChild(w),w.src=String(O),C=w.contentWindow.document,C.open(),C.write(v("document.F=Object")),C.close(),C.F},k,_=function(){try{k=document.domain&&new ActiveXObject("htmlfile")}catch{}_=k?S(k):E();for(var w=c.length;w--;)delete _[m][c[w]];return _()};u[b]=!0,i.exports=Object.create||function(O,C){var T;return O!==null?(x[m]=a(O),T=new x,x[m]=null,T[b]=O):T=_(),C===void 0?T:l(T,C)}},"7dd0":function(i,r,o){var a=o("23e7"),l=o("9ed3"),c=o("e163"),u=o("d2bb"),f=o("d44e"),d=o("9112"),h=o("6eeb"),p=o("b622"),g=o("c430"),m=o("3f8c"),y=o("ae93"),b=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,v=p("iterator"),S="keys",E="values",k="entries",_=function(){return this};i.exports=function(w,O,C,T,I,L,j){l(C,O,T);var D=function(_e){if(_e===I&&Ne)return Ne;if(!x&&_e in de)return de[_e];switch(_e){case S:return function(){return new C(this,_e)};case E:return function(){return new C(this,_e)};case k:return function(){return new C(this,_e)}}return function(){return new C(this)}},V=O+" Iterator",W=!1,de=w.prototype,Ue=de[v]||de["@@iterator"]||I&&de[I],Ne=!x&&Ue||D(I),Me=O=="Array"&&de.entries||Ue,lt,it,ht;if(Me&&(lt=c(Me.call(new w)),b!==Object.prototype&&lt.next&&(!g&&c(lt)!==b&&(u?u(lt,b):typeof lt[v]!="function"&&d(lt,v,_)),f(lt,V,!0,!0),g&&(m[V]=_))),I==E&&Ue&&Ue.name!==E&&(W=!0,Ne=function(){return Ue.call(this)}),(!g||j)&&de[v]!==Ne&&d(de,v,Ne),m[O]=Ne,I)if(it={values:D(E),keys:L?Ne:D(S),entries:D(k)},j)for(ht in it)(x||W||!(ht in de))&&h(de,ht,it[ht]);else a({target:O,proto:!0,forced:x||W},it);return it}},"7f9a":function(i,r,o){var a=o("da84"),l=o("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,r,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,r,o){var a=o("c04e"),l=o("9bf2"),c=o("5c6c");i.exports=function(u,f,d){var h=a(f);h in u?l.f(u,h,c(0,d)):u[h]=d}},"861d":function(i,r){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,r,o){var a,l,c;(function(u,f){l=[],a=f,c=typeof a=="function"?a.apply(r,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function u(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(k){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=d.exec(k.stack)||h.exec(k.stack),g=p&&p[1]||!1,m=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),b,x,v,S=document.getElementsByTagName("script");g===y&&(b=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(m-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),v=b.replace(x,"$1").trim());for(var E=0;E<S.length;E++)if(S[E].readyState==="interactive"||S[E].src===g||g===y&&S[E].innerHTML&&S[E].innerHTML.trim()===v)return S[E];return null}}return u})},8925:function(i,r,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,r,o){var a=o("6547").charAt;i.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(i,r){i.exports=t},"90e3":function(i,r){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("5c6c");i.exports=a?function(u,f,d){return l.f(u,f,c(1,d))}:function(u,f,d){return u[f]=d,u}},9263:function(i,r,o){var a=o("ad6d"),l=o("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,f=c,d=function(){var m=/a/,y=/b*/g;return c.call(m,"a"),c.call(y,"a"),m.lastIndex!==0||y.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=d||p||h;g&&(f=function(y){var b=this,x,v,S,E,k=h&&b.sticky,_=a.call(b),w=b.source,O=0,C=y;return k&&(_=_.replace("y",""),_.indexOf("g")===-1&&(_+="g"),C=String(y).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&y[b.lastIndex-1]!==`
`)&&(w="(?: "+w+")",C=" "+C,O++),v=new RegExp("^(?:"+w+")",_)),p&&(v=new RegExp("^"+w+"$(?!\\s)",_)),d&&(x=b.lastIndex),S=c.call(k?v:b,C),k?S?(S.input=S.input.slice(O),S[0]=S[0].slice(O),S.index=b.lastIndex,b.lastIndex+=S[0].length):b.lastIndex=0:d&&S&&(b.lastIndex=b.global?S.index+S[0].length:x),p&&S&&S.length>1&&u.call(S[0],v,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(S[E]=void 0)}),S}),i.exports=f},"94ca":function(i,r,o){var a=o("d039"),l=/#|\.prototype\./,c=function(p,g){var m=f[u(p)];return m==h?!0:m==d?!1:typeof g=="function"?a(g):!!g},u=c.normalize=function(p){return String(p).replace(l,".").toLowerCase()},f=c.data={},d=c.NATIVE="N",h=c.POLYFILL="P";i.exports=c},"99af":function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("e8b5"),u=o("861d"),f=o("7b0b"),d=o("50c4"),h=o("8418"),p=o("65f0"),g=o("1dde"),m=o("b622"),y=o("2d00"),b=m("isConcatSpreadable"),x=9007199254740991,v="Maximum allowed index exceeded",S=y>=51||!l(function(){var w=[];return w[b]=!1,w.concat()[0]!==w}),E=g("concat"),k=function(w){if(!u(w))return!1;var O=w[b];return O!==void 0?!!O:c(w)},_=!S||!E;a({target:"Array",proto:!0,forced:_},{concat:function(O){var C=f(this),T=p(C,0),I=0,L,j,D,V,W;for(L=-1,D=arguments.length;L<D;L++)if(W=L===-1?C:arguments[L],k(W)){if(V=d(W.length),I+V>x)throw TypeError(v);for(j=0;j<V;j++,I++)j in W&&h(T,I,W[j])}else{if(I>=x)throw TypeError(v);h(T,I++,W)}return T.length=I,T}})},"9bdd":function(i,r,o){var a=o("825a");i.exports=function(l,c,u,f){try{return f?c(a(u)[0],u[1]):c(u)}catch(h){var d=l.return;throw d!==void 0&&a(d.call(l)),h}}},"9bf2":function(i,r,o){var a=o("83ab"),l=o("0cfb"),c=o("825a"),u=o("c04e"),f=Object.defineProperty;r.f=a?f:function(h,p,g){if(c(h),p=u(p,!0),c(g),l)try{return f(h,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(h[p]=g.value),h}},"9ed3":function(i,r,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),c=o("5c6c"),u=o("d44e"),f=o("3f8c"),d=function(){return this};i.exports=function(h,p,g){var m=p+" Iterator";return h.prototype=l(a,{next:c(1,g)}),u(h,m,!1,!0),f[m]=d,h}},"9f7f":function(i,r,o){var a=o("d039");function l(c,u){return RegExp(c,u)}r.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),r.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,r,o){var a=o("e8b5"),l=o("50c4"),c=o("0366"),u=function(f,d,h,p,g,m,y,b){for(var x=g,v=0,S=y?c(y,b,3):!1,E;v<p;){if(v in h){if(E=S?S(h[v],v,d):h[v],m>0&&a(E))x=u(f,d,E,l(E.length),x,m-1)-1;else{if(x>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[x]=E}x++}v++}return x};i.exports=u},a352:function(i,r){i.exports=s},a434:function(i,r,o){var a=o("23e7"),l=o("23cb"),c=o("a691"),u=o("50c4"),f=o("7b0b"),d=o("65f0"),h=o("8418"),p=o("1dde"),g=o("ae40"),m=p("splice"),y=g("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,x=Math.min,v=9007199254740991,S="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!y},{splice:function(k,_){var w=f(this),O=u(w.length),C=l(k,O),T=arguments.length,I,L,j,D,V,W;if(T===0?I=L=0:T===1?(I=0,L=O-C):(I=T-2,L=x(b(c(_),0),O-C)),O+I-L>v)throw TypeError(S);for(j=d(w,L),D=0;D<L;D++)V=C+D,V in w&&h(j,D,w[V]);if(j.length=L,I<L){for(D=C;D<O-L;D++)V=D+L,W=D+I,V in w?w[W]=w[V]:delete w[W];for(D=O;D>O-L+I;D--)delete w[D-1]}else if(I>L)for(D=O-L;D>C;D--)V=D+L-1,W=D+I-1,V in w?w[W]=w[V]:delete w[W];for(D=0;D<I;D++)w[D+C]=arguments[D+2];return w.length=O-L+I,j}})},a4d3:function(i,r,o){var a=o("23e7"),l=o("da84"),c=o("d066"),u=o("c430"),f=o("83ab"),d=o("4930"),h=o("fdbf"),p=o("d039"),g=o("5135"),m=o("e8b5"),y=o("861d"),b=o("825a"),x=o("7b0b"),v=o("fc6a"),S=o("c04e"),E=o("5c6c"),k=o("7c73"),_=o("df75"),w=o("241c"),O=o("057f"),C=o("7418"),T=o("06cf"),I=o("9bf2"),L=o("d1e7"),j=o("9112"),D=o("6eeb"),V=o("5692"),W=o("f772"),de=o("d012"),Ue=o("90e3"),Ne=o("b622"),Me=o("e538"),lt=o("746f"),it=o("d44e"),ht=o("69f3"),_e=o("b727").forEach,B=W("hidden"),ie="Symbol",ee="prototype",fe=Ne("toPrimitive"),We=ht.set,rt=ht.getterFor(ie),A=Object[ee],P=l.Symbol,F=c("JSON","stringify"),z=T.f,H=I.f,X=O.f,oe=L.f,Q=V("symbols"),Z=V("op-symbols"),J=V("string-to-symbol-registry"),be=V("symbol-to-string-registry"),le=V("wks"),pe=l.QObject,Ee=!pe||!pe[ee]||!pe[ee].findChild,Be=f&&p(function(){return k(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a!=7})?function(Ce,ye,Te){var Ze=z(A,ye);Ze&&delete A[ye],H(Ce,ye,Te),Ze&&Ce!==A&&H(A,ye,Ze)}:H,ct=function(Ce,ye){var Te=Q[Ce]=k(P[ee]);return We(Te,{type:ie,tag:Ce,description:ye}),f||(Te.description=ye),Te},R=h?function(Ce){return typeof Ce=="symbol"}:function(Ce){return Object(Ce)instanceof P},N=function(ye,Te,Ze){ye===A&&N(Z,Te,Ze),b(ye);var ot=S(Te,!0);return b(Ze),g(Q,ot)?(Ze.enumerable?(g(ye,B)&&ye[B][ot]&&(ye[B][ot]=!1),Ze=k(Ze,{enumerable:E(0,!1)})):(g(ye,B)||H(ye,B,E(1,{})),ye[B][ot]=!0),Be(ye,ot,Ze)):H(ye,ot,Ze)},$=function(ye,Te){b(ye);var Ze=v(Te),ot=_(Ze).concat(Ae(Ze));return _e(ot,function(ss){(!f||ae.call(Ze,ss))&&N(ye,ss,Ze[ss])}),ye},K=function(ye,Te){return Te===void 0?k(ye):$(k(ye),Te)},ae=function(ye){var Te=S(ye,!0),Ze=oe.call(this,Te);return this===A&&g(Q,Te)&&!g(Z,Te)?!1:Ze||!g(this,Te)||!g(Q,Te)||g(this,B)&&this[B][Te]?Ze:!0},xe=function(ye,Te){var Ze=v(ye),ot=S(Te,!0);if(!(Ze===A&&g(Q,ot)&&!g(Z,ot))){var ss=z(Ze,ot);return ss&&g(Q,ot)&&!(g(Ze,B)&&Ze[B][ot])&&(ss.enumerable=!0),ss}},Pe=function(ye){var Te=X(v(ye)),Ze=[];return _e(Te,function(ot){!g(Q,ot)&&!g(de,ot)&&Ze.push(ot)}),Ze},Ae=function(ye){var Te=ye===A,Ze=X(Te?Z:v(ye)),ot=[];return _e(Ze,function(ss){g(Q,ss)&&(!Te||g(A,ss))&&ot.push(Q[ss])}),ot};if(d||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor");var ye=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Te=Ue(ye),Ze=function(ot){this===A&&Ze.call(Z,ot),g(this,B)&&g(this[B],Te)&&(this[B][Te]=!1),Be(this,Te,E(1,ot))};return f&&Ee&&Be(A,Te,{configurable:!0,set:Ze}),ct(Te,ye)},D(P[ee],"toString",function(){return rt(this).tag}),D(P,"withoutSetter",function(Ce){return ct(Ue(Ce),Ce)}),L.f=ae,I.f=N,T.f=xe,w.f=O.f=Pe,C.f=Ae,Me.f=function(Ce){return ct(Ne(Ce),Ce)},f&&(H(P[ee],"description",{configurable:!0,get:function(){return rt(this).description}}),u||D(A,"propertyIsEnumerable",ae,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:P}),_e(_(le),function(Ce){lt(Ce)}),a({target:ie,stat:!0,forced:!d},{for:function(Ce){var ye=String(Ce);if(g(J,ye))return J[ye];var Te=P(ye);return J[ye]=Te,be[Te]=ye,Te},keyFor:function(ye){if(!R(ye))throw TypeError(ye+" is not a symbol");if(g(be,ye))return be[ye]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!f},{create:K,defineProperty:N,defineProperties:$,getOwnPropertyDescriptor:xe}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Pe,getOwnPropertySymbols:Ae}),a({target:"Object",stat:!0,forced:p(function(){C.f(1)})},{getOwnPropertySymbols:function(ye){return C.f(x(ye))}}),F){var ut=!d||p(function(){var Ce=P();return F([Ce])!="[null]"||F({a:Ce})!="{}"||F(Object(Ce))!="{}"});a({target:"JSON",stat:!0,forced:ut},{stringify:function(ye,Te,Ze){for(var ot=[ye],ss=1,Bg;arguments.length>ss;)ot.push(arguments[ss++]);if(Bg=Te,!(!y(Te)&&ye===void 0||R(ye)))return m(Te)||(Te=function(xP,Nf){if(typeof Bg=="function"&&(Nf=Bg.call(this,xP,Nf)),!R(Nf))return Nf}),ot[1]=Te,F.apply(null,ot)}})}P[ee][fe]||j(P[ee],fe,P[ee].valueOf),it(P,ie),de[B]=!0},a630:function(i,r,o){var a=o("23e7"),l=o("4df4"),c=o("1c7e"),u=!c(function(f){Array.from(f)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(i,r,o){var a=o("d039");i.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(i,r){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,r,o){var a=o("b622"),l=a("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(i,r,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,r,o){var a=o("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("5135"),u=Object.defineProperty,f={},d=function(h){throw h};i.exports=function(h,p){if(c(f,h))return f[h];p||(p={});var g=[][h],m=c(p,"ACCESSORS")?p.ACCESSORS:!1,y=c(p,0)?p[0]:d,b=c(p,1)?p[1]:void 0;return f[h]=!!g&&!l(function(){if(m&&!a)return!0;var x={length:-1};m?u(x,1,{enumerable:!0,get:d}):x[1]=1,g.call(x,y,b)})}},ae93:function(i,r,o){var a=o("e163"),l=o("9112"),c=o("5135"),u=o("b622"),f=o("c430"),d=u("iterator"),h=!1,p=function(){return this},g,m,y;[].keys&&(y=[].keys(),"next"in y?(m=a(a(y)),m!==Object.prototype&&(g=m)):h=!0),g==null&&(g={}),!f&&!c(g,d)&&l(g,d,p),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:h}},b041:function(i,r,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,r,o){var a=o("83ab"),l=o("9bf2").f,c=Function.prototype,u=c.toString,f=/^\s*function ([^ (]*)/,d="name";a&&!(d in c)&&l(c,d,{configurable:!0,get:function(){try{return u.call(this).match(f)[1]}catch{return""}}})},b622:function(i,r,o){var a=o("da84"),l=o("5692"),c=o("5135"),u=o("90e3"),f=o("4930"),d=o("fdbf"),h=l("wks"),p=a.Symbol,g=d?p:p&&p.withoutSetter||u;i.exports=function(m){return c(h,m)||(f&&c(p,m)?h[m]=p[m]:h[m]=g("Symbol."+m)),h[m]}},b64b:function(i,r,o){var a=o("23e7"),l=o("7b0b"),c=o("df75"),u=o("d039"),f=u(function(){c(1)});a({target:"Object",stat:!0,forced:f},{keys:function(h){return c(l(h))}})},b727:function(i,r,o){var a=o("0366"),l=o("44ad"),c=o("7b0b"),u=o("50c4"),f=o("65f0"),d=[].push,h=function(p){var g=p==1,m=p==2,y=p==3,b=p==4,x=p==6,v=p==5||x;return function(S,E,k,_){for(var w=c(S),O=l(w),C=a(E,k,3),T=u(O.length),I=0,L=_||f,j=g?L(S,T):m?L(S,0):void 0,D,V;T>I;I++)if((v||I in O)&&(D=O[I],V=C(D,I,w),p)){if(g)j[I]=V;else if(V)switch(p){case 3:return!0;case 5:return D;case 6:return I;case 2:d.call(j,D)}else if(b)return!1}return x?-1:y||b?b:j}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(i,r,o){var a=o("861d");i.exports=function(l,c){if(!a(l))return l;var u,f;if(c&&typeof(u=l.toString)=="function"&&!a(f=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(f=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(f=u.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(i,r){i.exports=!1},c6b6:function(i,r){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,r,o){var a=o("da84"),l=o("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});i.exports=u},c740:function(i,r,o){var a=o("23e7"),l=o("b727").findIndex,c=o("44d2"),u=o("ae40"),f="findIndex",d=!0,h=u(f);f in[]&&Array(1)[f](function(){d=!1}),a({target:"Array",proto:!0,forced:d||!h},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),c(f)},c8ba:function(i,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,r,o){var a=o("23e7"),l=o("4d64").indexOf,c=o("a640"),u=o("ae40"),f=[].indexOf,d=!!f&&1/[1].indexOf(1,-0)<0,h=c("indexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:d||!h||!p},{indexOf:function(m){return d?f.apply(this,arguments)||0:l(this,m,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,r,o){var a=o("5135"),l=o("fc6a"),c=o("4d64").indexOf,u=o("d012");i.exports=function(f,d){var h=l(f),p=0,g=[],m;for(m in h)!a(u,m)&&a(h,m)&&g.push(m);for(;d.length>p;)a(h,m=d[p++])&&(~c(g,m)||g.push(m));return g}},caad:function(i,r,o){var a=o("23e7"),l=o("4d64").includes,c=o("44d2"),u=o("ae40"),f=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!f},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,r,o){var a=o("da84"),l=o("861d"),c=a.document,u=l(c)&&l(c.createElement);i.exports=function(f){return u?c.createElement(f):{}}},ce4e:function(i,r,o){var a=o("da84"),l=o("9112");i.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(i,r){i.exports={}},d039:function(i,r){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,r,o){var a=o("428f"),l=o("da84"),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,f){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][f]||l[u]&&l[u][f]}},d1e7:function(i,r,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);r.f=c?function(f){var d=l(this,f);return!!d&&d.enumerable}:a},d28b:function(i,r,o){var a=o("746f");a("iterator")},d2bb:function(i,r,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(u,[]),c=u instanceof Array}catch{}return function(h,p){return a(h),l(p),c?f.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(i,r,o){var a=o("00ee"),l=o("6eeb"),c=o("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,r,o){var a=o("9bf2").f,l=o("5135"),c=o("b622"),u=c("toStringTag");i.exports=function(f,d,h){f&&!l(f=h?f:f.prototype,u)&&a(f,u,{configurable:!0,value:d})}},d58f:function(i,r,o){var a=o("1c0b"),l=o("7b0b"),c=o("44ad"),u=o("50c4"),f=function(d){return function(h,p,g,m){a(p);var y=l(h),b=c(y),x=u(y.length),v=d?x-1:0,S=d?-1:1;if(g<2)for(;;){if(v in b){m=b[v],v+=S;break}if(v+=S,d?v<0:x<=v)throw TypeError("Reduce of empty array with no initial value")}for(;d?v>=0:x>v;v+=S)v in b&&(m=p(m,b[v],v,y));return m}};i.exports={left:f(!1),right:f(!0)}},d784:function(i,r,o){o("ac1f");var a=o("6eeb"),l=o("d039"),c=o("b622"),u=o("9263"),f=o("9112"),d=c("species"),h=!l(function(){var b=/./;return b.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(b,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=c("replace"),m=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),y=!l(function(){var b=/(?:)/,x=b.exec;b.exec=function(){return x.apply(this,arguments)};var v="ab".split(b);return v.length!==2||v[0]!=="a"||v[1]!=="b"});i.exports=function(b,x,v,S){var E=c(b),k=!l(function(){var I={};return I[E]=function(){return 7},""[b](I)!=7}),_=k&&!l(function(){var I=!1,L=/a/;return b==="split"&&(L={},L.constructor={},L.constructor[d]=function(){return L},L.flags="",L[E]=/./[E]),L.exec=function(){return I=!0,null},L[E](""),!I});if(!k||!_||b==="replace"&&!(h&&p&&!m)||b==="split"&&!y){var w=/./[E],O=v(E,""[b],function(I,L,j,D,V){return L.exec===u?k&&!V?{done:!0,value:w.call(L,j,D)}:{done:!0,value:I.call(j,L,D)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),C=O[0],T=O[1];a(String.prototype,b,C),a(RegExp.prototype,E,x==2?function(I,L){return T.call(I,this,L)}:function(I){return T.call(I,this)})}S&&f(RegExp.prototype[E],"sham",!0)}},d81d:function(i,r,o){var a=o("23e7"),l=o("b727").map,c=o("1dde"),u=o("ae40"),f=c("map"),d=u("map");a({target:"Array",proto:!0,forced:!f||!d},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,r,o){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("56ef"),u=o("fc6a"),f=o("06cf"),d=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var g=u(p),m=f.f,y=c(g),b={},x=0,v,S;y.length>x;)S=m(g,v=y[x++]),S!==void 0&&d(b,v,S);return b}})},dbf1:function(i,r,o){(function(a){o.d(r,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,o("c8ba"))},ddb0:function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("e260"),u=o("9112"),f=o("b622"),d=f("iterator"),h=f("toStringTag"),p=c.values;for(var g in l){var m=a[g],y=m&&m.prototype;if(y){if(y[d]!==p)try{u(y,d,p)}catch{y[d]=p}if(y[h]||u(y,h,g),l[g]){for(var b in c)if(y[b]!==c[b])try{u(y,b,c[b])}catch{y[b]=c[b]}}}}},df75:function(i,r,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(u){return a(u,l)}},e01a:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("da84"),u=o("5135"),f=o("861d"),d=o("9bf2").f,h=o("e893"),p=c.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},m=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),k=this instanceof m?new p(E):E===void 0?p():p(E);return E===""&&(g[k]=!0),k};h(m,p);var y=m.prototype=p.prototype;y.constructor=m;var b=y.toString,x=String(p("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/;d(y,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,k=b.call(E);if(u(g,E))return"";var _=x?k.slice(7,-1):k.replace(v,"$1");return _===""?void 0:_}}),a({global:!0,forced:!0},{Symbol:m})}},e163:function(i,r,o){var a=o("5135"),l=o("7b0b"),c=o("f772"),u=o("e177"),f=c("IE_PROTO"),d=Object.prototype;i.exports=u?Object.getPrototypeOf:function(h){return h=l(h),a(h,f)?h[f]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?d:null}},e177:function(i,r,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,r,o){var a=o("fc6a"),l=o("44d2"),c=o("3f8c"),u=o("69f3"),f=o("7dd0"),d="Array Iterator",h=u.set,p=u.getterFor(d);i.exports=f(Array,"Array",function(g,m){h(this,{type:d,target:a(g),index:0,kind:m})},function(){var g=p(this),m=g.target,y=g.kind,b=g.index++;return!m||b>=m.length?(g.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:m[b],done:!1}:{value:[b,m[b]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("fc6a"),u=o("06cf").f,f=o("83ab"),d=l(function(){u(1)}),h=!f||d;a({target:"Object",stat:!0,forced:h,sham:!f},{getOwnPropertyDescriptor:function(g,m){return u(c(g),m)}})},e538:function(i,r,o){var a=o("b622");r.f=a},e893:function(i,r,o){var a=o("5135"),l=o("56ef"),c=o("06cf"),u=o("9bf2");i.exports=function(f,d){for(var h=l(d),p=u.f,g=c.f,m=0;m<h.length;m++){var y=h[m];a(f,y)||p(f,y,g(d,y))}}},e8b5:function(i,r,o){var a=o("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,r,o){var a=o("b622"),l=o("3f8c"),c=a("iterator"),u=Array.prototype;i.exports=function(f){return f!==void 0&&(l.Array===f||u[c]===f)}},f5df:function(i,r,o){var a=o("00ee"),l=o("c6b6"),c=o("b622"),u=c("toStringTag"),f=l(function(){return arguments}())=="Arguments",d=function(h,p){try{return h[p]}catch{}};i.exports=a?l:function(h){var p,g,m;return h===void 0?"Undefined":h===null?"Null":typeof(g=d(p=Object(h),u))=="string"?g:f?l(p):(m=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":m}},f772:function(i,r,o){var a=o("5692"),l=o("90e3"),c=a("keys");i.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(i,r,o){if(o.r(r),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(o.p=c[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function u(R,N,$){return N in R?Object.defineProperty(R,N,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[N]=$,R}function f(R,N){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(R);N&&(K=K.filter(function(ae){return Object.getOwnPropertyDescriptor(R,ae).enumerable})),$.push.apply($,K)}return $}function d(R){for(var N=1;N<arguments.length;N++){var $=arguments[N]!=null?arguments[N]:{};N%2?f(Object($),!0).forEach(function(K){u(R,K,$[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):f(Object($)).forEach(function(K){Object.defineProperty(R,K,Object.getOwnPropertyDescriptor($,K))})}return R}function h(R){if(Array.isArray(R))return R}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(R,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(R)))){var $=[],K=!0,ae=!1,xe=void 0;try{for(var Pe=R[Symbol.iterator](),Ae;!(K=(Ae=Pe.next()).done)&&($.push(Ae.value),!(N&&$.length===N));K=!0);}catch(ut){ae=!0,xe=ut}finally{try{!K&&Pe.return!=null&&Pe.return()}finally{if(ae)throw xe}}return $}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(R,N){(N==null||N>R.length)&&(N=R.length);for(var $=0,K=new Array(N);$<N;$++)K[$]=R[$];return K}function m(R,N){if(R){if(typeof R=="string")return g(R,N);var $=Object.prototype.toString.call(R).slice(8,-1);if($==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set")return Array.from(R);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return g(R,N)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(R,N){return h(R)||p(R,N)||m(R,N)||y()}function x(R){if(Array.isArray(R))return g(R)}function v(R){if(typeof Symbol<"u"&&Symbol.iterator in Object(R))return Array.from(R)}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(R){return x(R)||v(R)||m(R)||S()}var k=o("a352"),_=o.n(k);function w(R){R.parentElement!==null&&R.parentElement.removeChild(R)}function O(R,N,$){var K=$===0?R.children[0]:R.children[$-1].nextSibling;R.insertBefore(N,K)}var C=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function T(R){var N=Object.create(null);return function(K){var ae=N[K];return ae||(N[K]=R(K))}}var I=/-(\w)/g,L=T(function(R){return R.replace(I,function(N,$){return $.toUpperCase()})});o("5db7"),o("73d9");var j=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],V=["Move"],W=[V,j,D].flatMap(function(R){return R}).map(function(R){return"on".concat(R)}),de={manage:V,manageAndEmit:j,emit:D};function Ue(R){return W.indexOf(R)!==-1}o("caad"),o("2ca0");var Ne=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Me(R){return Ne.includes(R)}function lt(R){return["transition-group","TransitionGroup"].includes(R)}function it(R){return["id","class","role","style"].includes(R)||R.startsWith("data-")||R.startsWith("aria-")||R.startsWith("on")}function ht(R){return R.reduce(function(N,$){var K=b($,2),ae=K[0],xe=K[1];return N[ae]=xe,N},{})}function _e(R){var N=R.$attrs,$=R.componentData,K=$===void 0?{}:$,ae=ht(Object.entries(N).filter(function(xe){var Pe=b(xe,2),Ae=Pe[0];return Pe[1],it(Ae)}));return d(d({},ae),K)}function B(R){var N=R.$attrs,$=R.callBackBuilder,K=ht(ie(N));Object.entries($).forEach(function(xe){var Pe=b(xe,2),Ae=Pe[0],ut=Pe[1];de[Ae].forEach(function(Ce){K["on".concat(Ce)]=ut(Ce)})});var ae="[data-draggable]".concat(K.draggable||"");return d(d({},K),{},{draggable:ae})}function ie(R){return Object.entries(R).filter(function(N){var $=b(N,2),K=$[0];return $[1],!it(K)}).map(function(N){var $=b(N,2),K=$[0],ae=$[1];return[L(K),ae]}).filter(function(N){var $=b(N,2),K=$[0];return $[1],!Ue(K)})}o("c740");function ee(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function fe(R,N){for(var $=0;$<N.length;$++){var K=N[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(R,K.key,K)}}function We(R,N,$){return fe(R.prototype,N),R}var rt=function(N){var $=N.el;return $},A=function(N,$){return N.__draggable_context=$},P=function(N){return N.__draggable_context},F=function(){function R(N){var $=N.nodes,K=$.header,ae=$.default,xe=$.footer,Pe=N.root,Ae=N.realList;ee(this,R),this.defaultNodes=ae,this.children=[].concat(E(K),E(ae),E(xe)),this.externalComponent=Pe.externalComponent,this.rootTransition=Pe.transition,this.tag=Pe.tag,this.realList=Ae}return We(R,[{key:"render",value:function($,K){var ae=this.tag,xe=this.children,Pe=this._isRootComponent,Ae=Pe?{default:function(){return xe}}:xe;return $(ae,K,Ae)}},{key:"updated",value:function(){var $=this.defaultNodes,K=this.realList;$.forEach(function(ae,xe){A(rt(ae),{element:K[xe],index:xe})})}},{key:"getUnderlyingVm",value:function($){return P($)}},{key:"getVmIndexFromDomIndex",value:function($,K){var ae=this.defaultNodes,xe=ae.length,Pe=K.children,Ae=Pe.item($);if(Ae===null)return xe;var ut=P(Ae);if(ut)return ut.index;if(xe===0)return 0;var Ce=rt(ae[0]),ye=E(Pe).findIndex(function(Te){return Te===Ce});return $<ye?0:xe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),R}(),z=o("8bbf");function H(R,N){var $=R[N];return $?$():[]}function X(R){var N=R.$slots,$=R.realList,K=R.getKey,ae=$||[],xe=["header","footer"].map(function(Te){return H(N,Te)}),Pe=b(xe,2),Ae=Pe[0],ut=Pe[1],Ce=N.item;if(!Ce)throw new Error("draggable element must have an item slot");var ye=ae.flatMap(function(Te,Ze){return Ce({element:Te,index:Ze}).map(function(ot){return ot.key=K(Te),ot.props=d(d({},ot.props||{}),{},{"data-draggable":!0}),ot})});if(ye.length!==ae.length)throw new Error("Item slot must have only one child");return{header:Ae,footer:ut,default:ye}}function oe(R){var N=lt(R),$=!Me(R)&&!N;return{transition:N,externalComponent:$,tag:$?Object(z.resolveComponent)(R):N?z.TransitionGroup:R}}function Q(R){var N=R.$slots,$=R.tag,K=R.realList,ae=R.getKey,xe=X({$slots:N,realList:K,getKey:ae}),Pe=oe($);return new F({nodes:xe,root:Pe,realList:K})}function Z(R,N){var $=this;Object(z.nextTick)(function(){return $.$emit(R.toLowerCase(),N)})}function J(R){var N=this;return function($,K){if(N.realList!==null)return N["onDrag".concat(R)]($,K)}}function be(R){var N=this,$=J.call(this,R);return function(K,ae){$.call(N,K,ae),Z.call(N,R,K)}}var le=null,pe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(N){return N}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ee=["update:modelValue","change"].concat(E([].concat(E(de.manageAndEmit),E(de.emit)).map(function(R){return R.toLowerCase()}))),Be=Object(z.defineComponent)({name:"draggable",inheritAttrs:!1,props:pe,emits:Ee,data:function(){return{error:!1}},render:function(){try{this.error=!1;var N=this.$slots,$=this.$attrs,K=this.tag,ae=this.componentData,xe=this.realList,Pe=this.getKey,Ae=Q({$slots:N,tag:K,realList:xe,getKey:Pe});this.componentStructure=Ae;var ut=_e({$attrs:$,componentData:ae});return Ae.render(z.h,ut)}catch(Ce){return this.error=!0,Object(z.h)("pre",{style:{color:"red"}},Ce.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&C.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var N=this;if(!this.error){var $=this.$attrs,K=this.$el,ae=this.componentStructure;ae.updated();var xe=B({$attrs:$,callBackBuilder:{manageAndEmit:function(ut){return be.call(N,ut)},emit:function(ut){return Z.bind(N,ut)},manage:function(ut){return J.call(N,ut)}}}),Pe=K.nodeType===1?K:K.parentElement;this._sortable=new _.a(Pe,xe),this.targetDomElement=Pe,Pe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var N=this.list;return N||this.modelValue},getKey:function(){var N=this.itemKey;return typeof N=="function"?N:function($){return $[N]}}},watch:{$attrs:{handler:function(N){var $=this._sortable;$&&ie(N).forEach(function(K){var ae=b(K,2),xe=ae[0],Pe=ae[1];$.option(xe,Pe)})},deep:!0}},methods:{getUnderlyingVm:function(N){return this.componentStructure.getUnderlyingVm(N)||null},getUnderlyingPotencialDraggableComponent:function(N){return N.__draggable_component__},emitChanges:function(N){var $=this;Object(z.nextTick)(function(){return $.$emit("change",N)})},alterList:function(N){if(this.list){N(this.list);return}var $=E(this.modelValue);N($),this.$emit("update:modelValue",$)},spliceList:function(){var N=arguments,$=function(ae){return ae.splice.apply(ae,E(N))};this.alterList($)},updatePosition:function(N,$){var K=function(xe){return xe.splice($,0,xe.splice(N,1)[0])};this.alterList(K)},getRelatedContextFromMoveEvent:function(N){var $=N.to,K=N.related,ae=this.getUnderlyingPotencialDraggableComponent($);if(!ae)return{component:ae};var xe=ae.realList,Pe={list:xe,component:ae};if($!==K&&xe){var Ae=ae.getUnderlyingVm(K)||{};return d(d({},Ae),Pe)}return Pe},getVmIndexFromDomIndex:function(N){return this.componentStructure.getVmIndexFromDomIndex(N,this.targetDomElement)},onDragStart:function(N){this.context=this.getUnderlyingVm(N.item),N.item._underlying_vm_=this.clone(this.context.element),le=N.item},onDragAdd:function(N){var $=N.item._underlying_vm_;if($!==void 0){w(N.item);var K=this.getVmIndexFromDomIndex(N.newIndex);this.spliceList(K,0,$);var ae={element:$,newIndex:K};this.emitChanges({added:ae})}},onDragRemove:function(N){if(O(this.$el,N.item,N.oldIndex),N.pullMode==="clone"){w(N.clone);return}var $=this.context,K=$.index,ae=$.element;this.spliceList(K,1);var xe={element:ae,oldIndex:K};this.emitChanges({removed:xe})},onDragUpdate:function(N){w(N.item),O(N.from,N.item,N.oldIndex);var $=this.context.index,K=this.getVmIndexFromDomIndex(N.newIndex);this.updatePosition($,K);var ae={element:this.context.element,oldIndex:$,newIndex:K};this.emitChanges({moved:ae})},computeFutureIndex:function(N,$){if(!N.element)return 0;var K=E($.to.children).filter(function(Ae){return Ae.style.display!=="none"}),ae=K.indexOf($.related),xe=N.component.getVmIndexFromDomIndex(ae),Pe=K.indexOf(le)!==-1;return Pe||!$.willInsertAfter?xe:xe+1},onDragMove:function(N,$){var K=this.move,ae=this.realList;if(!K||!ae)return!0;var xe=this.getRelatedContextFromMoveEvent(N),Pe=this.computeFutureIndex(xe,N),Ae=d(d({},this.context),{},{futureIndex:Pe}),ut=d(d({},N),{},{relatedContext:xe,draggedContext:Ae});return K(ut,$)},onDragEnd:function(){le=null}}}),ct=Be;r.default=ct},fb6a:function(i,r,o){var a=o("23e7"),l=o("861d"),c=o("e8b5"),u=o("23cb"),f=o("50c4"),d=o("fc6a"),h=o("8418"),p=o("b622"),g=o("1dde"),m=o("ae40"),y=g("slice"),b=m("slice",{ACCESSORS:!0,0:0,1:2}),x=p("species"),v=[].slice,S=Math.max;a({target:"Array",proto:!0,forced:!y||!b},{slice:function(k,_){var w=d(this),O=f(w.length),C=u(k,O),T=u(_===void 0?O:_,O),I,L,j;if(c(w)&&(I=w.constructor,typeof I=="function"&&(I===Array||c(I.prototype))?I=void 0:l(I)&&(I=I[x],I===null&&(I=void 0)),I===Array||I===void 0))return v.call(w,C,T);for(L=new(I===void 0?Array:I)(S(T-C,0)),j=0;C<T;C++,j++)C in w&&h(L,j,w[C]);return L.length=j,L}})},fc6a:function(i,r,o){var a=o("44ad"),l=o("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,r){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,r,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}($d)),$d.exports}var R3=I3();const D3=NO(R3),N3={class:"flex flex-col items-center gap-4 p-4 min-h-screen"},L3={key:0,class:"text-center text-gray-400 mt-4"},F3={key:1,class:"mr-12 flex items-center gap-4 relative"},$3={key:0,id:"tips",class:"bg-bg-dark p-4 rounded-lg shadow-md shadow-black flex flex-col gap-3 absolute left-12 top-0 z-50"},j3={class:"grid grid-cols-3 gap-4"},B3={class:"flex justify-center"},V3={class:"text-center text-white"},H3={class:"relative"},U3={key:0,class:"transition-opacity duration-300"},z3={key:1,class:"absolute inset-0 flex items-center justify-center"},W3={class:"mt-10 w-full px-4 flex justify-center"},K3={key:0},G3={class:"flex items-center gap-2 mb-2"},X3={key:0,class:"overflow-x-auto pb-4"},J3={class:"flex gap-4 min-h-[200px]"},Y3={key:1,class:"text-center"},q3=vt({__name:"KanbanBoard",props:{projectId:{type:String,required:!0,default:""},projectName:{type:String,required:!0,default:""}},setup(n){const e=me(!1),t=So(),i=eg().query.projectId,r=me([]),o=me({}),a=me(!1),l=me([]);let c=0;const u=(O,C="success")=>{const T=`notify-${c++}`;l.value.unshift({id:T,message:O,type:C}),l.value.length>5&&l.value.pop(),setTimeout(()=>{f(T)},3e3)},f=O=>{l.value=l.value.filter(C=>C.id!==O)},d=async O=>{r.value.find(C=>C.id===O)},h=async O=>{o.value[O]=!0;const C=r.value.find(T=>T.id===O);if(C)try{await d$(O),r.value=r.value.filter(T=>T.id!==O),u(` "${C.name}" `,"success")}catch(T){u("  ","error"),console.error("   :",T)}},p=async O=>{try{const C=r.value.find(T=>T.id===O);if(C){const T=!C.isVisible;await Fd(O,{isVisible:T}),C.isVisible=T,u(` "${C.name}" ${T?" ":" "}`,"success")}}catch(C){u("  ","error"),console.error("    :",C)}},g=nn(()=>r.value.filter(O=>!O.isVisible)),m=async O=>{try{const C=r.value.find(T=>T.id===O);if(C){const T=!C.isFrozen;await Fd(O,{isFrozen:T}),C.isFrozen=T,u(` "${C.name}" ${T?"":""}`,"success")}}catch(C){u("  ","error"),console.error("    :",C)}},y=n,b=Ia([{id:"planned",title:"",icon:"fa-regular fa-calendar"},{id:"progress",title:" ",icon:"fa-solid fa-bars-staggered"},{id:"done",title:"",icon:"fa-solid fa-check"}]),x=nn(()=>{const O={planned:[],progress:[],done:[]};return r.value.filter(C=>C.isVisible).forEach(C=>{O[C.status].push(C)}),O}),v=async()=>{i&&(r.value=await g$(i))},S=()=>{t.push({name:"create-task",query:{id:y.projectId,name:y.projectName}})},E=O=>!O.draggedContext.element.isFrozen,k=async(O,C)=>{const{added:T,moved:I}=O,L=(T==null?void 0:T.element)||(I==null?void 0:I.element);L&&(L.status=C,await Fd(L.id,{status:C}))},_=O=>{const{related:C}=O,T=C.element;r.value.forEach(I=>I.isIndicator=!1),T&&(T.isIndicator=!0)},w=()=>{r.value.forEach(O=>O.isIndicator=!1)};return ks(async()=>{await v()}),(O,C)=>(Y(),te(st,null,[M("div",N3,[C[7]||(C[7]=M("div",{class:"flex flex-col items-center gap-1"},[M("span",{class:"text-sm text-gray-400"},"      "),M("span",{class:"text-sm text-gray-400"},"       ")],-1)),M("div",{class:"flex gap-6 items-center justify-center"},[C[3]||(C[3]=M("span",null," ",-1)),M("button",{onClick:S,class:"w-12 h-8 flex items-center justify-center text-xl cursor-pointer border-2 border-gray-700 rounded-lg hover:border-blue-500 hover:text-blue-500 transition-colors"}," + ")]),r.value.length===0?(Y(),te("div",L3,"      .    ,    . ")):(Y(),te("div",F3,[M("i",{id:"info",class:"fa-solid fa-circle-info text-2xl text-zinc-700 flex justify-center items-center w-8 h-8 rounded-full hover:bg-bg-accent-dark hover:text-zinc-500 duration-150",onMouseenter:C[0]||(C[0]=T=>e.value=!0),onMouseleave:C[1]||(C[1]=T=>e.value=!1)},null,32),ve(eo,{name:"fade"},{default:$s(()=>[e.value?(Y(),te("div",$3,C[4]||(C[4]=[M("div",{class:"flex items-center gap-2"},[M("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[M("i",{class:"fa-solid fa-pen-to-square text-gray-400"})]),M("span",{class:"text-sm text-gray-400"}," ")],-1),M("div",{class:"flex items-center gap-2"},[M("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[M("i",{class:"fa-solid fa-snowflake text-gray-400"})]),M("span",{class:"text-sm text-gray-400"}," ")],-1),M("div",{class:"flex items-center gap-2"},[M("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[M("i",{class:"fa-solid fa-eye-slash text-gray-400"})]),M("span",{class:"text-sm text-gray-400"}," ")],-1),M("div",{class:"flex items-center gap-2"},[M("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[M("i",{class:"fa-regular fa-trash-can text-gray-400"})]),M("span",{class:"text-sm text-gray-400"}," ")],-1)]))):rn("",!0)]),_:1}),M("div",j3,[(Y(!0),te(st,null,Yn(b,T=>(Y(),te("div",{key:T.id,class:"flex-1 bg-bg-accent-dark rounded-lg p-4 shadow-md shadow-black flex flex-col min-h-[600px] max-h-[600px]"},[M("div",B3,[M("i",{class:pt([T.icon,"text-3xl text-gray-400 mb-2"])},null,2)]),M("h3",V3,Je(T.title),1),ve(re(D3),{list:x.value[T.id],move:E,group:"tasks","item-key":"id",class:"mt-10 flex flex-col gap-2 p-4 overflow-y-auto flex-1",onChange:I=>k(I,T.id),onMove:_,onEnd:w},{item:$s(({element:I})=>[ve(eo,{name:"fade"},{default:$s(()=>[M("div",H3,[o.value[I.id]?rn("",!0):(Y(),te("div",U3,[ve(re(AE),{task:I,onHide:p,onFreeze:m,onDelete:h,class:pt([{"border-indicator":I.isIndicator},"cursor-move"])},null,8,["task","class"])])),o.value[I.id]?(Y(),te("div",z3,[ve(re(Tv))])):rn("",!0)])]),_:2},1024)]),_:2},1032,["list","onChange"])]))),128))])])),M("div",W3,[g.value.length>0?(Y(),te("div",K3,[M("div",G3,[C[5]||(C[5]=M("span",{class:"text-2xl text-gray-300"}," ",-1)),M("button",{onClick:C[2]||(C[2]=T=>a.value=!a.value),class:"text-gray-400 hover:text-white transition-colors"},[M("i",{class:pt(a.value?"fa-solid fa-chevron-down":"fa-solid fa-chevron-up")},null,2)])]),ve(eo,{name:"slide"},{default:$s(()=>[a.value?(Y(),te("div",X3,[M("div",J3,[(Y(!0),te(st,null,Yn(g.value,T=>(Y(),Os(re(AE),{key:T.id,task:T,class:"flex-shrink-0 w-72",onEdit:d,onHide:p,onFreeze:m,onDelete:h},null,8,["task"]))),128))])])):rn("",!0)]),_:1})])):(Y(),te("div",Y3,C[6]||(C[6]=[M("span",{class:"text-2xl text-gray-300"}," ",-1),M("div",{class:"mt-4 text-gray-400"},"   ",-1)])))])]),ve(re(J$),{notifications:l.value,onClose:f},null,8,["notifications"])],64))}}),Q3={class:"flex items-center justify-center bg-bg-accent-dark rounded-md hover:bg-zinc-600 duration-150"},Z3={class:"inline-block text-[12px] truncate max-w-[90%]"},i0=vt({__name:"Label",props:{label:{type:String,required:!0}},setup(n){return(e,t)=>(Y(),te("div",Q3,[M("span",Z3,Je(n.label),1)]))}}),g_=n=>{switch(n){case"pdf":return"fa-solid fa-file-pdf";case"doc":case"docx":return"fa-solid fa-file-word";case"xls":case"xlsx":return"fa-solid fa-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"fa-solid fa-file-image";case"txt":return"fa-solid fa-file-lines";case"cpp":case"py":case"js":case"ts":case"kt":case"dart":case"cs":case"java":return"fa-solid fa-file-code";case"rar":case"zip":return"fa-solid fa-file-zipper";case"mp4":return"fa-solid fa-file-video";case"mp3":return"fa-solid fa-file-audio";default:return"fa-solid fa-file"}},eV={key:0,class:"fixed left-0 top-0 bottom-0 w-[400px] bg-zinc-900 shadow-xl z-50 overflow-y-auto p-8"},tV={class:"flex flex-col gap-6"},nV={class:"text-2xl font-bold text-white"},sV={class:"flex gap-3 items-center"},iV={class:"bg-bg-accent-dark p-2 rounded-md"},rV=["innerHTML"],oV={class:"space-y-1 text-zinc-400"},aV={class:"flex justify-between"},lV={key:0,class:"flex justify-between"},cV={key:0,class:"space-y-2"},uV={class:"grid grid-cols-[repeat(auto-fill,minmax(100px,1fr))] gap-2"},fV={class:"space-y-2"},dV={key:0,class:"text-gray-400 text-sm"},hV={key:1,class:"text-red-500 text-sm"},pV={key:2,class:"space-y-2"},gV=["href","download"],mV=["onClick"],yV=vt({__name:"TaskDetail",props:{task:{type:Object,required:!0},isOpen:{type:Boolean}},emits:["close"],setup(n,{emit:e}){const t=n,s=me([]),i=me(!1),r=me(!1),o=h=>{var p;return((p=h.split(".").pop())==null?void 0:p.toLowerCase())||"file"},a={planned:"",progress:" ",done:""},l=h=>a[h]||h,c=h=>{switch(h){case 1:return"";case 2:return"";case 3:return"";default:return" "}},u=h=>new Date(h).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),f=async h=>{try{const p=document.createElement("a");p.href=h.url,p.download=h.name,document.body.appendChild(p),p.click(),document.body.removeChild(p)}catch(p){console.error("  :",p)}},d=async()=>{try{i.value=!0,r.value=!1,console.log("Loading files for:",{projectId:t.task.projectId,taskId:t.task.id});const h=await AS(t.task.projectId,t.task.id);console.log("Received files:",h),s.value=h}catch(h){r.value=!0,console.error("Attachment loading failed:",h)}finally{i.value=!1}};return wn(()=>t.task,async h=>{if(h&&t.isOpen)try{i.value=!0,r.value=!1,s.value=await AS(h.projectId,h.id)}catch{r.value=!0}finally{i.value=!1}},{immediate:!0}),wn(()=>t.isOpen,h=>{h&&d()}),wn(()=>t.task,()=>{t.isOpen&&d()}),(h,p)=>(Y(),Os(eo,{"enter-active-class":"transition-transform duration-300","leave-active-class":"transition-transform duration-300","enter-from-class":"-translate-x-full","leave-to-class":"-translate-x-full"},{default:$s(()=>{var g;return[n.isOpen?(Y(),te("div",eV,[M("button",{onClick:p[0]||(p[0]=m=>h.$emit("close")),class:"absolute top-4 right-4 text-white text-xl hover:text-zinc-300"},p[1]||(p[1]=[M("i",{class:"fa-solid fa-xmark"},null,-1)])),M("div",tV,[M("h2",nV,Je(n.task.name),1),M("div",sV,[M("span",{class:pt(["px-3 py-1 rounded-full text-sm text-white",{"bg-zinc-600":n.task.status==="planned","bg-amber-500":n.task.status==="progress","bg-emerald-600":n.task.status==="done"}])},Je(l(n.task.status)),3),M("span",{class:pt(["px-3 py-1 rounded-full text-sm text-white",{"bg-emerald-700":n.task.priority===1,"bg-amber-600":n.task.priority===2,"bg-red-800":n.task.priority===3}])},Je(c(n.task.priority)),3)]),M("div",iV,[p[2]||(p[2]=M("h3",{class:"text-lg text-white"},"",-1)),M("div",{class:"text-zinc-300 prose prose-invert break-words",innerHTML:n.task.description||" "},null,8,rV)]),M("div",oV,[M("div",aV,[p[3]||(p[3]=M("span",null,":",-1)),M("span",null,Je(u(n.task.createdAt)),1)]),n.task.deadline?(Y(),te("div",lV,[p[4]||(p[4]=M("span",null,":",-1)),M("span",null,Je(u(n.task.deadline)),1)])):rn("",!0)]),(g=n.task.labels)!=null&&g.length?(Y(),te("div",cV,[p[5]||(p[5]=M("h3",{class:"text-lg text-white"},"",-1)),M("div",uV,[(Y(!0),te(st,null,Yn(n.task.labels,m=>(Y(),Os(re(i0),{key:m,label:m,class:"h-8"},null,8,["label"]))),128))])])):rn("",!0),M("div",fV,[p[7]||(p[7]=M("h3",{class:"text-lg text-white"}," ",-1)),i.value?(Y(),te("div",dV,"  ... ")):r.value?(Y(),te("div",hV,"    ")):(Y(),te("ul",pV,[(Y(!0),te(st,null,Yn(s.value,(m,y)=>(Y(),te("li",{key:y,class:"flex items-center gap-2 text-blue-500 hover:text-blue-400 group"},[M("i",{class:pt([re(g_)(o(m.name)),"text-lg w-5 flex-shrink-0"])},null,2),M("a",{href:m.url,target:"_blank",class:"truncate hover:underline flex-1",download:m.name},Je(m.name),9,gV),M("button",{onClick:to(b=>f(m),["stop"]),class:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-white"},p[6]||(p[6]=[M("i",{class:"fa-solid fa-download text-sm"},null,-1)]),8,mV)]))),128))]))])])])):rn("",!0)]}),_:1}))}});function xn(n){this.content=n}xn.prototype={constructor:xn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var s=t&&t!=n?this.remove(t):this,i=s.find(n),r=s.content.slice();return i==-1?r.push(t||n,e):(r[i+1]=e,t&&(r[i]=t)),new xn(r)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new xn(t)},addToStart:function(n,e){return new xn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new xn(t)},addBefore:function(n,e,t){var s=this.remove(e),i=s.content.slice(),r=s.find(n);return i.splice(r==-1?i.length:r,0,e,t),new xn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=xn.from(n),n.size?new xn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=xn.from(n),n.size?new xn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=xn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};xn.from=function(n){if(n instanceof xn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new xn(e)};function m_(n,e,t){for(let s=0;;s++){if(s==n.childCount||s==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(s),r=e.child(s);if(i==r){t+=i.nodeSize;continue}if(!i.sameMarkup(r))return t;if(i.isText&&i.text!=r.text){for(let o=0;i.text[o]==r.text[o];o++)t++;return t}if(i.content.size||r.content.size){let o=m_(i.content,r.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function y_(n,e,t,s){for(let i=n.childCount,r=e.childCount;;){if(i==0||r==0)return i==r?null:{a:t,b:s};let o=n.child(--i),a=e.child(--r),l=o.nodeSize;if(o==a){t-=l,s-=l;continue}if(!o.sameMarkup(a))return{a:t,b:s};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,s--;return{a:t,b:s}}if(o.content.size||a.content.size){let c=y_(o.content,a.content,t-1,s-1);if(c)return c}t-=l,s-=l}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,t,s,i=0,r){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&s(l,i+a,r||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),s,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,s,i){let r="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&s&&(o?o=!1:r+=s),r+=c},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,s=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(s)&&(i[i.length-1]=t.withText(t.text+s.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new G(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let s=[],i=0;if(t>e)for(let r=0,o=0;o<t;r++){let a=this.content[r],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),s.push(a),i+=a.nodeSize),o=l}return new G(s,i)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let s=this.content[e];if(s==t)return this;let i=this.content.slice(),r=this.size+t.nodeSize-s.nodeSize;return i[e]=t,new G(i,r)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,s=0;t<this.content.length;t++){let i=this.content[t];e(i,s,t),s+=i.nodeSize}}findDiffStart(e,t=0){return m_(this,e,t)}findDiffEnd(e,t=this.size,s=e.size){return y_(this,e,t,s)}findIndex(e,t=-1){if(e==0)return ad(0,e);if(e==this.size)return ad(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,i=0;;s++){let r=this.child(s),o=i+r.nodeSize;if(o>=e)return o==e||t>0?ad(s+1,o):ad(s,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,s=0;for(let i=0;i<e.length;i++){let r=e[i];s+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new G(t||e,s)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const wm={index:0,offset:0};function ad(n,e){return wm.index=n,wm.offset=e,wm}function $h(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(!$h(n[s],e[s]))return!1}else{for(let s in n)if(!(s in e)||!$h(n[s],e[s]))return!1;for(let s in e)if(!(s in n))return!1}return!0}let xt=class Yy{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,s=!1;for(let i=0;i<e.length;i++){let r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!s&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),s=!0),t&&t.push(r)}}return t||(t=e.slice()),s||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$h(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[t.type];if(!s)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=s.create(t.attrs);return s.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(t[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Yy.none;if(e instanceof Yy)return[e];let t=e.slice();return t.sort((s,i)=>s.type.rank-i.type.rank),t}};xt.none=[];class jh extends Error{}class ue{constructor(e,t,s){this.content=e,this.openStart=t,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let s=v_(this.content,e+this.openStart,t);return s&&new ue(s,this.openStart,this.openEnd)}removeBetween(e,t){return new ue(b_(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ue.empty;let s=t.openStart||0,i=t.openEnd||0;if(typeof s!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ue(G.fromJSON(e,t.content),s,i)}static maxOpen(e,t=!0){let s=0,i=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)s++;for(let r=e.lastChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.lastChild)i++;return new ue(e,s,i)}}ue.empty=new ue(G.empty,0,0);function b_(n,e,t){let{index:s,offset:i}=n.findIndex(e),r=n.maybeChild(s),{index:o,offset:a}=n.findIndex(t);if(i==e||r.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(s!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(s,r.copy(b_(r.content,e-i-1,t-i-1)))}function v_(n,e,t,s){let{index:i,offset:r}=n.findIndex(e),o=n.maybeChild(i);if(r==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=v_(o.content,e-r-1,t);return a&&n.replaceChild(i,o.copy(a))}function bV(n,e,t){if(t.openStart>n.depth)throw new jh("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new jh("Inconsistent open depths");return x_(n,e,t,0)}function x_(n,e,t,s){let i=n.index(s),r=n.node(s);if(i==e.index(s)&&s<n.depth-t.openStart){let o=x_(n,e,t,s+1);return r.copy(r.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==s&&e.depth==s){let o=n.parent,a=o.content;return da(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=vV(t,n);return da(r,E_(n,o,a,e,s))}else return da(r,Bh(n,e,s))}function S_(n,e){if(!e.type.compatibleContent(n.type))throw new jh("Cannot join "+e.type.name+" onto "+n.type.name)}function qy(n,e,t){let s=n.node(t);return S_(s,e.node(t)),s}function fa(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function lu(n,e,t,s){let i=(e||n).node(t),r=0,o=e?e.index(t):i.childCount;n&&(r=n.index(t),n.depth>t?r++:n.textOffset&&(fa(n.nodeAfter,s),r++));for(let a=r;a<o;a++)fa(i.child(a),s);e&&e.depth==t&&e.textOffset&&fa(e.nodeBefore,s)}function da(n,e){return n.type.checkContent(e),n.copy(e)}function E_(n,e,t,s,i){let r=n.depth>i&&qy(n,e,i+1),o=s.depth>i&&qy(t,s,i+1),a=[];return lu(null,n,i,a),r&&o&&e.index(i)==t.index(i)?(S_(r,o),fa(da(r,E_(n,e,t,s,i+1)),a)):(r&&fa(da(r,Bh(n,e,i+1)),a),lu(e,t,i,a),o&&fa(da(o,Bh(t,s,i+1)),a)),lu(s,null,i,a),new G(a)}function Bh(n,e,t){let s=[];if(lu(null,n,t,s),n.depth>t){let i=qy(n,e,t+1);fa(da(i,Bh(n,e,t+1)),s)}return lu(e,null,t,s),new G(s)}function vV(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let r=t-1;r>=0;r--)i=e.node(r).copy(G.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Hu{constructor(e,t,s){this.pos=e,this.path=t,this.parentOffset=s,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],i=e.child(t);return s?e.child(t).cut(s):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let s=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let r=0;r<e;r++)i+=s.child(r).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return xt.none;if(this.textOffset)return e.child(t).marks;let s=e.maybeChild(t-1),i=e.maybeChild(t);if(!s){let a=s;s=i,i=a}let r=s.marks;for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let s=t.marks,i=e.parent.maybeChild(e.index());for(var r=0;r<s.length;r++)s[r].type.spec.inclusive===!1&&(!i||!s[r].isInSet(i.marks))&&(s=s[r--].removeFromSet(s));return s}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!t||t(this.node(s))))return new Vh(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let s=[],i=0,r=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(r),c=r-l;if(s.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;r=c-1,i+=l+1}return new Hu(t,s,r)}static resolveCached(e,t){let s=l1.get(e);if(s)for(let r=0;r<s.elts.length;r++){let o=s.elts[r];if(o.pos==t)return o}else l1.set(e,s=new xV);let i=s.elts[s.i]=Hu.resolve(e,t);return s.i=(s.i+1)%SV,i}}class xV{constructor(){this.elts=[],this.i=0}}const SV=12,l1=new WeakMap;class Vh{constructor(e,t,s){this.$from=e,this.$to=t,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const EV=Object.create(null);let so=class Qy{constructor(e,t,s,i=xt.none){this.type=e,this.attrs=t,this.marks=i,this.content=s||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,s,i=0){this.content.nodesBetween(e,t,s,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,s,i){return this.content.textBetween(e,t,s,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,s){return this.type==e&&$h(this.attrs,t||e.defaultAttrs||EV)&&xt.sameSet(this.marks,s||xt.none)}copy(e=null){return e==this.content?this:new Qy(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Qy(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,s=!1){if(e==t)return ue.empty;let i=this.resolve(e),r=this.resolve(t),o=s?0:i.sharedDepth(t),a=i.start(o),c=i.node(o).content.cut(i.pos-a,r.pos-a);return new ue(c,i.depth-o,r.depth-o)}replace(e,t,s){return bV(this.resolve(e),this.resolve(t),s)}nodeAt(e){for(let t=this;;){let{index:s,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(s),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(t),index:t,offset:s};let i=this.content.child(t-1);return{node:i,index:t-1,offset:s-i.nodeSize}}resolve(e){return Hu.resolveCached(this,e)}resolveNoCache(e){return Hu.resolve(this,e)}rangeHasMark(e,t,s){let i=!1;return t>e&&this.nodesBetween(e,t,r=>(s.isInSet(r.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),w_(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,s=G.empty,i=0,r=s.childCount){let o=this.contentMatchAt(e).matchFragment(s,i,r),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<r;l++)if(!this.type.allowsMarks(s.child(l).marks))return!1;return!0}canReplaceWith(e,t,s,i){if(i&&!this.type.allowsMarks(i))return!1;let r=this.contentMatchAt(e).matchType(s),o=r&&r.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xt.none;for(let t=0;t<this.marks.length;t++){let s=this.marks[t];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!xt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let s;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,s)}let i=G.fromJSON(e,t.content),r=e.nodeType(t.type).create(t.attrs,i,s);return r.type.checkAttrs(r.attrs),r}};so.prototype.text=void 0;class Hh extends so{constructor(e,t,s,i){if(super(e,t,null,i),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):w_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hh(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function w_(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ca{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let s=new wV(e,t);if(s.next==null)return Ca.empty;let i=T_(s);s.next&&s.err("Unexpected trailing text");let r=MV(AV(i));return PV(r,s),r}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,s=e.childCount){let i=this;for(let r=t;i&&r<s;r++)i=i.matchType(e.child(r).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let s=0;s<e.next.length;s++)if(this.next[t].type==e.next[s].type)return!0;return!1}fillBefore(e,t=!1,s=0){let i=[this];function r(o,a){let l=o.matchFragment(e,s);if(l&&(!t||l.validEnd))return G.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=r(f,a.concat(u));if(d)return d}}return null}return r(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let i=s.shift(),r=i.match;if(r.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<r.next.length;o++){let{type:a,next:l}=r.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(s.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(s){e.push(s);for(let i=0;i<s.next.length;i++)e.indexOf(s.next[i].next)==-1&&t(s.next[i].next)}return t(this),e.map((s,i)=>{let r=i+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)r+=(o?", ":"")+s.next[o].type.name+"->"+e.indexOf(s.next[o].next);return r}).join(`
`)}}Ca.empty=new Ca(!0);class wV{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function T_(n){let e=[];do e.push(TV(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function TV(n){let e=[];do e.push(CV(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function CV(n){let e=_V(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=OV(n,e);else break;return e}function c1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function OV(n,e){let t=c1(n),s=t;return n.eat(",")&&(n.next!="}"?s=c1(n):s=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:s,expr:e}}function kV(n,e){let t=n.nodeTypes,s=t[e];if(s)return[s];let i=[];for(let r in t){let o=t[r];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function _V(n){if(n.eat("(")){let e=T_(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=kV(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function AV(n){let e=[[]];return i(r(n,0),t()),e;function t(){return e.push([])-1}function s(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function r(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(r(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=r(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=t())}else if(o.type=="star"){let l=t();return s(a,l),i(r(o.expr,l),l),[s(l)]}else if(o.type=="plus"){let l=t();return i(r(o.expr,a),l),i(r(o.expr,l),l),[s(l)]}else{if(o.type=="opt")return[s(a)].concat(r(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();i(r(o.expr,l),u),l=u}if(o.max==-1)i(r(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();s(l,u),i(r(o.expr,l),u),l=u}return[s(l)]}else{if(o.type=="name")return[s(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function C_(n,e){return e-n}function u1(n,e){let t=[];return s(e),t.sort(C_);function s(i){let r=n[i];if(r.length==1&&!r[0].term)return s(r[0].to);t.push(i);for(let o=0;o<r.length;o++){let{term:a,to:l}=r[o];!a&&t.indexOf(l)==-1&&s(l)}}}function MV(n){let e=Object.create(null);return t(u1(n,0));function t(s){let i=[];s.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);u1(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let r=e[s.join(",")]=new Ca(s.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(C_);r.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return r}}function PV(n,e){for(let t=0,s=[n];t<s.length;t++){let i=s[t],r=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),r&&!(l.isText||l.hasRequiredAttrs())&&(r=!1),s.indexOf(c)==-1&&s.push(c)}r&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function O_(n){let e=Object.create(null);for(let t in n){let s=n[t];if(!s.hasDefault)return null;e[t]=s.default}return e}function k_(n,e){let t=Object.create(null);for(let s in n){let i=e&&e[s];if(i===void 0){let r=n[s];if(r.hasDefault)i=r.default;else throw new RangeError("No value supplied for attribute "+s)}t[s]=i}return t}function __(n,e,t,s){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let r=n[i];r.validate&&r.validate(e[i])}}function A_(n,e){let t=Object.create(null);if(e)for(let s in e)t[s]=new RV(n,s,e[s]);return t}let f1=class M_{constructor(e,t,s){this.name=e,this.schema=t,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=A_(e,s.attrs),this.defaultAttrs=O_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ca.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:k_(this.attrs,e)}create(e=null,t,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new so(this,this.computeAttrs(e),G.from(t),xt.setFrom(s))}createChecked(e=null,t,s){return t=G.from(t),this.checkContent(t),new so(this,this.computeAttrs(e),t,xt.setFrom(s))}createAndFill(e=null,t,s){if(e=this.computeAttrs(e),t=G.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),r=i&&i.fillBefore(G.empty,!0);return r?new so(this,e,t.append(r),xt.setFrom(s)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){__(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?t&&t.push(e[s]):t||(t=e.slice(0,s));return t?t.length?t:xt.none:e}static compile(e,t){let s=Object.create(null);e.forEach((r,o)=>s[r]=new M_(r,t,o));let i=t.spec.topNode||"doc";if(!s[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let r in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function IV(n,e,t){let s=t.split("|");return i=>{let r=i===null?"null":typeof i;if(s.indexOf(r)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${n}, got ${r}`)}}class RV{constructor(e,t,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?IV(e,t,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class xg{constructor(e,t,s,i){this.name=e,this.rank=t,this.schema=s,this.spec=i,this.attrs=A_(e,i.attrs),this.excluded=null;let r=O_(this.attrs);this.instance=r?new xt(this,r):null}create(e=null){return!e&&this.instance?this.instance:new xt(this,k_(this.attrs,e))}static compile(e,t){let s=Object.create(null),i=0;return e.forEach((r,o)=>s[r]=new xg(r,i++,t,o)),s}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){__(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class P_{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=xn.from(e.nodes),t.marks=xn.from(e.marks||{}),this.nodes=f1.compile(this.spec.nodes,this),this.marks=xg.compile(this.spec.marks,this);let s=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let r=this.nodes[i],o=r.spec.content||"",a=r.spec.marks;if(r.contentMatch=s[o]||(s[o]=Ca.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=a=="_"?null:a?d1(this,a.split(" ")):a==""||!r.inlineContent?[]:null}for(let i in this.marks){let r=this.marks[i],o=r.spec.excludes;r.excluded=o==null?[r]:o==""?[]:d1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,s,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof f1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,s,i)}text(e,t){let s=this.nodes.text;return new Hh(s,s.defaultAttrs,e,xt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return so.fromJSON(this,e)}markFromJSON(e){return xt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function d1(n,e){let t=[];for(let s=0;s<e.length;s++){let i=e[s],r=n.marks[i],o=r;if(r)t.push(r);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return t}function DV(n){return n.tag!=null}function NV(n){return n.style!=null}class io{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let s=this.matchedStyles=[];t.forEach(i=>{if(DV(i))this.tags.push(i);else if(NV(i)){let r=/[^=]*/.exec(i.style)[0];s.indexOf(r)<0&&s.push(r),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let r=e.nodes[i.node];return r.contentMatch.matchType(r)})}parse(e,t={}){let s=new p1(this,t,!1);return s.addAll(e,xt.none,t.from,t.to),s.finish()}parseSlice(e,t={}){let s=new p1(this,t,!0);return s.addAll(e,xt.none,t.from,t.to),ue.maxOpen(s.finish())}matchTag(e,t,s){for(let i=s?this.tags.indexOf(s)+1:0;i<this.tags.length;i++){let r=this.tags[i];if($V(e,r.tag)&&(r.namespace===void 0||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){let o=r.getAttrs(e);if(o===!1)continue;r.attrs=o||void 0}return r}}}matchStyle(e,t,s,i){for(let r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){let o=this.styles[r],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!s.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function s(i){let r=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<r)break}t.splice(o,0,i)}for(let i in e.marks){let r=e.marks[i].spec.parseDOM;r&&r.forEach(o=>{s(o=g1(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let r=e.nodes[i].spec.parseDOM;r&&r.forEach(o=>{s(o=g1(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new io(e,io.schemaRules(e)))}}const I_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},LV={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},R_={ol:!0,ul:!0},Uu=1,Zy=2,Yd=4;function h1(n,e,t){return e!=null?(e?Uu:0)|(e==="full"?Zy:0):n&&n.whitespace=="pre"?Uu|Zy:t&-5}class ld{constructor(e,t,s,i,r,o){this.type=e,this.attrs=t,this.marks=s,this.solid=i,this.options=o,this.content=[],this.activeMarks=xt.none,this.match=r||(o&Yd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let s=this.type.contentMatch,i;return(i=s.findWrapping(e.type))?(this.match=s,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Uu)){let s=this.content[this.content.length-1],i;if(s&&s.isText&&(i=/[ \t\r\n\u000c]+$/.exec(s.text))){let r=s;s.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-i[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!I_.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class p1{constructor(e,t,s){this.parser=e,this.options=t,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let i=t.topNode,r,o=h1(null,t.preserveWhitespace,0)|(s?Yd:0);i?r=new ld(i.type,i.attrs,xt.none,!0,t.topMatch||i.type.contentMatch,o):s?r=new ld(null,null,xt.none,!0,null,o):r=new ld(e.schema.topNodeType,null,xt.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let s=e.nodeValue,i=this.top,r=i.options&Zy?"full":this.localPreserveWS||(i.options&Uu)>0;if(r==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(r)r!=="full"?s=s.replace(/\r?\n|\r/g," "):s=s.replace(/\r\n?/g,`
`);else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(s=s.slice(1))}s&&this.insertNode(this.parser.schema.text(s),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,s){let i=this.localPreserveWS,r=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;R_.hasOwnProperty(o)&&this.parser.normalizeLists&&FV(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,s));e:if(l?l.ignore:LV.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(I_.hasOwnProperty(o))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),c=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let f=l&&l.skip?t:this.readStyles(e,t);f&&this.addAll(e,f),c&&this.sync(r),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let s=e.style;if(s&&s.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let r=this.parser.matchedStyles[i],o=s.getPropertyValue(r);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(r,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,s,i){let r,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),s)||this.leafFallback(e,s);else{let l=this.enter(o,t.attrs||null,s,t.preserveWhitespace);l&&(r=!0,s=l)}else{let l=this.parser.schema.marks[t.mark];s=s.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,s,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,s));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,s),this.findAround(e,l,!1)}r&&this.sync(a)&&this.open--}addAll(e,t,s,i){let r=s||0;for(let o=s?e.childNodes[s]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o,t);this.findAtPoint(e,r)}findPlace(e,t){let s,i;for(let r=this.open;r>=0;r--){let o=this.nodes[r],a=o.findWrapping(e);if(a&&(!s||s.length>a.length)&&(s=a,i=o,!a.length)||o.solid)break}if(!s)return null;this.sync(i);for(let r=0;r<s.length;r++)t=this.enterInner(s[r],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let s=this.findPlace(e,t);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let r=xt.none;for(let o of s.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):m1(o.type,e.type))&&(r=o.addToSet(r));return i.content.push(e.mark(r)),!0}return!1}enter(e,t,s,i){let r=this.findPlace(e.create(t),s);return r&&(r=this.enterInner(e,t,s,!0,i)),r}enterInner(e,t,s,i=!1,r){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=h1(e,r,o.options);o.options&Yd&&o.content.length==0&&(a|=Yd);let l=xt.none;return s=s.filter(c=>(o.type?o.type.allowsMarkType(c.type):m1(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ld(e,t,l,i,null,a)),this.open++,s}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Uu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let s=this.nodes[t].content;for(let i=s.length-1;i>=0;i--)e+=s[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==t&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,s){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(s?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),s=this.options.context,i=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),r=-(s?s.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=r;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:s&&l>=r?s.node(l-r).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let t in this.parser.schema.nodes){let s=this.parser.schema.nodes[t];if(s.isTextblock&&s.defaultAttrs)return s}}}function FV(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&R_.hasOwnProperty(s)&&t?(t.appendChild(e),e=t):s=="li"?t=e:s&&(t=null)}}function $V(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function g1(n){let e={};for(let t in n)e[t]=n[t];return e}function m1(n,e){let t=e.schema.nodes;for(let s in t){let i=t[s];if(!i.allowsMarkType(n))continue;let r=[],o=a=>{r.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||r.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class Fa{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},s){s||(s=Tm(t).createDocumentFragment());let i=s,r=[];return e.forEach(o=>{if(r.length||o.marks.length){let a=0,l=0;for(;a<r.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(r[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<r.length;)i=r.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(r.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),s}serializeNodeInner(e,t){let{dom:s,contentDOM:i}=qd(Tm(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return s}serializeNode(e,t={}){let s=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(s),s=r.dom)}return s}serializeMark(e,t,s={}){let i=this.marks[e.type.name];return i&&qd(Tm(s),i(e,t),null,e.attrs)}static renderSpec(e,t,s=null,i){return qd(e,t,s,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fa(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=y1(e.nodes);return t.text||(t.text=s=>s.text),t}static marksFromSchema(e){return y1(e.marks)}}function y1(n){let e={};for(let t in n){let s=n[t].spec.toDOM;s&&(e[t]=s)}return e}function Tm(n){return n.document||window.document}const b1=new WeakMap;function jV(n){let e=b1.get(n);return e===void 0&&b1.set(n,e=BV(n)),e}function BV(n){let e=null;function t(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let i=0;i<s.length;i++)t(s[i]);else for(let i in s)t(s[i])}return t(n),e}function qd(n,e,t,s){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],r;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(r=jV(s))&&r.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=qd(n,d,t,s);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const D_=65535,N_=Math.pow(2,16);function VV(n,e){return n+e*N_}function v1(n){return n&D_}function HV(n){return(n-(n&D_))/N_}const L_=1,F_=2,Qd=4,$_=8;class eb{constructor(e,t,s){this.pos=e,this.delInfo=t,this.recover=s}get deleted(){return(this.delInfo&$_)>0}get deletedBefore(){return(this.delInfo&(L_|Qd))>0}get deletedAfter(){return(this.delInfo&(F_|Qd))>0}get deletedAcross(){return(this.delInfo&Qd)>0}}class ws{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ws.empty)return ws.empty}recover(e){let t=0,s=v1(e);if(!this.inverted)for(let i=0;i<s;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[s*3]+t+HV(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,s){let i=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+r],u=this.ranges[a+o],f=l+c;if(e<=f){let d=c?e==l?-1:e==f?1:t:t,h=l+i+(d<0?0:u);if(s)return h;let p=e==(t<0?l:f)?null:VV(a/3,e-l),g=e==l?F_:e==f?L_:Qd;return(t<0?e!=l:e!=f)&&(g|=$_),new eb(h,g,p)}i+=u-c}return s?e+i:new eb(e+i,0,null)}touches(e,t){let s=0,i=v1(t),r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+r],u=l+c;if(e<=u&&a==i*3)return!0;s+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,s=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?r:0),l=o+(this.inverted?0:r),c=this.ranges[i+t],u=this.ranges[i+s];e(a,a+c,l,l+u),r+=u-c}}invert(){return new ws(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ws.empty:new ws(e<0?[0,-e,0]:[0,0,e])}}ws.empty=new ws([]);class pl{constructor(e=[],t,s=0,i=e.length){this.maps=e,this.mirror=t,this.from=s,this.to=i}slice(e=0,t=this.maps.length){return new pl(this.maps,this.mirror,e,t)}copy(){return new pl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,s=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?s+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,s=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?s-i-1:void 0)}}invert(){let e=new pl;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,s){let i=0;for(let r=this.from;r<this.to;r++){let o=this.maps[r],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(r);if(l!=null&&l>r&&l<this.to){r=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return s?e:new eb(e,i,null)}}const Cm=Object.create(null);class Hn{getMap(){return ws.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Cm[t.stepType];if(!s)throw new RangeError(`No step type ${t.stepType} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in Cm)throw new RangeError("Duplicate use of step JSON ID "+e);return Cm[e]=t,t.prototype.jsonID=e,t}}class Qt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Qt(e,null)}static fail(e){return new Qt(null,e)}static fromReplace(e,t,s,i){try{return Qt.ok(e.replace(t,s,i))}catch(r){if(r instanceof jh)return Qt.fail(r.message);throw r}}}function r0(n,e,t){let s=[];for(let i=0;i<n.childCount;i++){let r=n.child(i);r.content.size&&(r=r.copy(r0(r.content,e,r))),r.isInline&&(r=e(r,t,i)),s.push(r)}return G.fromArray(s)}class zr extends Hn{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=e.resolve(this.from),i=s.node(s.sharedDepth(this.to)),r=new ue(r0(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Qt.fromReplace(e,this.from,this.to,r)}invert(){return new Si(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new zr(t.pos,s.pos,this.mark)}merge(e){return e instanceof zr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new zr(t.from,t.to,e.markFromJSON(t.mark))}}Hn.jsonID("addMark",zr);class Si extends Hn{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=new ue(r0(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Qt.fromReplace(e,this.from,this.to,s)}invert(){return new zr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new Si(t.pos,s.pos,this.mark)}merge(e){return e instanceof Si&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Si(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Si(t.from,t.to,e.markFromJSON(t.mark))}}Hn.jsonID("removeMark",Si);class Wr extends Hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qt.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new ue(G.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let s=this.mark.addToSet(t.marks);if(s.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(s))return new Wr(this.pos,t.marks[i]);return new Wr(this.pos,this.mark)}}return new zl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Wr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Wr(t.pos,e.markFromJSON(t.mark))}}Hn.jsonID("addNodeMark",Wr);class zl extends Hn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qt.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new ue(G.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Wr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zl(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zl(t.pos,e.markFromJSON(t.mark))}}Hn.jsonID("removeNodeMark",zl);class cn extends Hn{constructor(e,t,s,i=!1){super(),this.from=e,this.to=t,this.slice=s,this.structure=i}apply(e){return this.structure&&tb(e,this.from,this.to)?Qt.fail("Structure replace would overwrite content"):Qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ws([this.from,this.to-this.from,this.slice.size])}invert(e){return new cn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deletedAcross&&s.deletedAcross?null:new cn(t.pos,Math.max(t.pos,s.pos),this.slice)}merge(e){if(!(e instanceof cn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ue.empty:new ue(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new cn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ue.empty:new ue(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new cn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new cn(t.from,t.to,ue.fromJSON(e,t.slice),!!t.structure)}}Hn.jsonID("replace",cn);class dn extends Hn{constructor(e,t,s,i,r,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=s,this.gapTo=i,this.slice=r,this.insert=o,this.structure=a}apply(e){if(this.structure&&(tb(e,this.from,this.gapFrom)||tb(e,this.gapTo,this.to)))return Qt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Qt.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,t.content);return s?Qt.fromReplace(e,this.from,this.to,s):Qt.fail("Content does not fit in gap")}getMap(){return new ws([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new dn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),r=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return t.deletedAcross&&s.deletedAcross||i<t.pos||r>s.pos?null:new dn(t.pos,s.pos,i,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new dn(t.from,t.to,t.gapFrom,t.gapTo,ue.fromJSON(e,t.slice),t.insert,!!t.structure)}}Hn.jsonID("replaceAround",dn);function tb(n,e,t){let s=n.resolve(e),i=t-e,r=s.depth;for(;i>0&&r>0&&s.indexAfter(r)==s.node(r).childCount;)r--,i--;if(i>0){let o=s.node(r).maybeChild(s.indexAfter(r));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function UV(n,e,t,s){let i=[],r=[],o,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!s.isInSet(f)&&u.type.allowsMarkType(s.type)){let d=Math.max(c,e),h=Math.min(c+l.nodeSize,t),p=s.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(o&&o.to==d&&o.mark.eq(f[g])?o.to=h:i.push(o=new Si(d,h,f[g])));a&&a.to==d?a.to=h:r.push(a=new zr(d,h,s))}}),i.forEach(l=>n.step(l)),r.forEach(l=>n.step(l))}function zV(n,e,t,s){let i=[],r=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;r++;let l=null;if(s instanceof xg){let c=o.marks,u;for(;u=s.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else s?s.isInSet(o.marks)&&(l=[s]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let f=l[u],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==r-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=c,d.step=r):i.push({style:f,from:Math.max(a,e),to:c,step:r})}}}),i.forEach(o=>n.step(new Si(o.from,o.to,o.style)))}function o0(n,e,t,s=t.contentMatch,i=!0){let r=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<r.childCount;l++){let c=r.child(l),u=a+c.nodeSize,f=s.matchType(c.type);if(!f)o.push(new cn(a,u,ue.empty));else{s=f;for(let d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||n.step(new Si(a,u,c.marks[d]));if(i&&c.isText&&t.whitespace!="pre"){let d,h=/\r?\n|\r/g,p;for(;d=h.exec(c.text);)p||(p=new ue(G.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new cn(a+d.index,a+d.index+d[0].length,p))}}a=u}if(!s.validEnd){let l=s.fillBefore(G.empty,!0);n.replace(a,a,new ue(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function WV(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function oc(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let s=n.depth;;--s){let i=n.$from.node(s),r=n.$from.index(s),o=n.$to.indexAfter(s);if(s<n.depth&&i.canReplace(r,o,t))return s;if(s==0||i.type.spec.isolating||!WV(i,r,o))break}return null}function KV(n,e,t){let{$from:s,$to:i,depth:r}=e,o=s.before(r+1),a=i.after(r+1),l=o,c=a,u=G.empty,f=0;for(let p=r,g=!1;p>t;p--)g||s.index(p)>0?(g=!0,u=G.from(s.node(p).copy(u)),f++):l--;let d=G.empty,h=0;for(let p=r,g=!1;p>t;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=G.from(i.node(p).copy(d)),h++):c++;n.step(new dn(l,c,o,a,new ue(u.append(d),f,h),u.size-f,!0))}function a0(n,e,t=null,s=n){let i=GV(n,e),r=i&&XV(s,e);return r?i.map(x1).concat({type:e,attrs:t}).concat(r.map(x1)):null}function x1(n){return{type:n,attrs:null}}function GV(n,e){let{parent:t,startIndex:s,endIndex:i}=n,r=t.contentMatchAt(s).findWrapping(e);if(!r)return null;let o=r.length?r[0]:e;return t.canReplaceWith(s,i,o)?r:null}function XV(n,e){let{parent:t,startIndex:s,endIndex:i}=n,r=t.child(s),o=e.contentMatch.findWrapping(r.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=s;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function JV(n,e,t){let s=G.empty;for(let o=t.length-1;o>=0;o--){if(s.size){let a=t[o].type.contentMatch.matchFragment(s);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=G.from(t[o].type.create(t[o].attrs,s))}let i=e.start,r=e.end;n.step(new dn(i,r,i,r,new ue(s,0,0),t.length,!0))}function YV(n,e,t,s,i){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(s,l)&&qV(n.doc,n.mapping.slice(r).map(a),s)){let c=null;if(s.schema.linebreakReplacement){let h=s.whitespace=="pre",p=!!s.contentMatch.matchType(s.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&B_(n,o,a,r),o0(n,n.mapping.slice(r).map(a,1),s,void 0,c===null);let u=n.mapping.slice(r),f=u.map(a,1),d=u.map(a+o.nodeSize,1);return n.step(new dn(f,d,f+1,d-1,new ue(G.from(s.create(l,null,o.marks)),0,0),1,!0)),c===!0&&j_(n,o,a,r),!1}})}function j_(n,e,t,s){e.forEach((i,r)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=n.mapping.slice(s).map(t+1+r+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function B_(n,e,t,s){e.forEach((i,r)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(s).map(t+1+r);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function qV(n,e,t){let s=n.resolve(e),i=s.index();return s.parent.canReplaceWith(i,i+1,t)}function QV(n,e,t,s,i){let r=n.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);let o=t.create(s,null,i||r.marks);if(r.isLeaf)return n.replaceWith(e,e+r.nodeSize,o);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new dn(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new ue(G.from(o),0,0),1,!0))}function gl(n,e,t=1,s){let i=n.resolve(e),r=i.depth-t,o=s&&s[s.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>r;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=s&&s[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=s&&s[u]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(r),l=s&&s[0];return i.node(r).canReplaceWith(a,a,l?l.type:i.node(r+1).type)}function ZV(n,e,t=1,s){let i=n.doc.resolve(e),r=G.empty,o=G.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){r=G.from(i.node(a).copy(r));let u=s&&s[c];o=G.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}n.step(new cn(e,e,new ue(r.append(o),t,t),!0))}function wo(n,e){let t=n.resolve(e),s=t.index();return V_(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(s,s+1)}function e4(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:s}=n.type.schema;for(let i=0;i<e.childCount;i++){let r=e.child(i),o=r.type==s?n.type.schema.nodes.text:r.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(r.marks))return!1}return t.validEnd}function V_(n,e){return!!(n&&e&&!n.isLeaf&&e4(n,e))}function Sg(n,e,t=-1){let s=n.resolve(e);for(let i=s.depth;;i--){let r,o,a=s.index(i);if(i==s.depth?(r=s.nodeBefore,o=s.nodeAfter):t>0?(r=s.node(i+1),a++,o=s.node(i).maybeChild(a)):(r=s.node(i).maybeChild(a-1),o=s.node(i+1)),r&&!r.isTextblock&&V_(r,o)&&s.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?s.before(i):s.after(i)}}function t4(n,e,t){let s=null,{linebreakReplacement:i}=n.doc.type.schema,r=n.doc.resolve(e-t),o=r.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);u&&!f?s=!1:!u&&f&&(s=!0)}let a=n.steps.length;if(s===!1){let u=n.doc.resolve(e+t);B_(n,u.node(),u.before(),a)}o.inlineContent&&o0(n,e+t-1,o,r.node().contentMatchAt(r.index()),s==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new cn(c,l.map(e+t,-1),ue.empty,!0)),s===!0){let u=n.doc.resolve(c);j_(n,u.node(),u.before(),n.steps.length)}return n}function n4(n,e,t){let s=n.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),t))return e;if(s.parentOffset==0)for(let i=s.depth-1;i>=0;i--){let r=s.index(i);if(s.node(i).canReplaceWith(r,r,t))return s.before(i+1);if(r>0)return null}if(s.parentOffset==s.parent.content.size)for(let i=s.depth-1;i>=0;i--){let r=s.indexAfter(i);if(s.node(i).canReplaceWith(r,r,t))return s.after(i+1);if(r<s.node(i).childCount)return null}return null}function H_(n,e,t){let s=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let r=0;r<t.openStart;r++)i=i.firstChild.content;for(let r=1;r<=(t.openStart==0&&t.size?2:1);r++)for(let o=s.depth;o>=0;o--){let a=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,l=s.index(o)+(a>0?1:0),c=s.node(o),u=!1;if(r==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?s.pos:a<0?s.before(o+1):s.after(o+1)}return null}function Eg(n,e,t=e,s=ue.empty){if(e==t&&!s.size)return null;let i=n.resolve(e),r=n.resolve(t);return U_(i,r,s)?new cn(e,t,s):new s4(i,r,s).fit()}function U_(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class s4{constructor(e,t,s){this.$from=e,this.$to=t,this.unplaced=s,this.frontier=[],this.placed=G.empty;for(let i=0;i<=e.depth;i++){let r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=G.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,s=this.$from,i=this.close(e<0?this.$to:s.doc.resolve(e));if(!i)return null;let r=this.placed,o=s.depth,a=i.depth;for(;o&&a&&r.childCount==1;)r=r.firstChild.content,o--,a--;let l=new ue(r,o,a);return e>-1?new dn(s.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||s.pos!=this.$to.pos?new cn(s.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,s=0,i=this.unplaced.openEnd;s<e;s++){let r=t.firstChild;if(t.childCount>1&&(i=0),r.type.spec.isolating&&i<=s){e=s;break}t=r.content}for(let t=1;t<=2;t++)for(let s=t==1?e:this.unplaced.openStart;s>=0;s--){let i,r=null;s?(r=Om(this.unplaced.content,s-1).firstChild,i=r.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(t==1&&(o?c.matchType(o.type)||(f=c.fillBefore(G.from(o),!1)):r&&l.compatibleContent(r.type)))return{sliceDepth:s,frontierDepth:a,parent:r,inject:f};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:a,parent:r,wrap:u};if(r&&c.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:s}=this.unplaced,i=Om(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ue(e,t+1,Math.max(s,i.size+t>=e.size-s?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:s}=this.unplaced,i=Om(e,t);if(i.childCount<=1&&t>0){let r=e.size-t<=t+i.size;this.unplaced=new ue(Lc(e,t-1,1),t-1,r?t-1:s)}else this.unplaced=new ue(Lc(e,t,1),t,s)}placeNodes({sliceDepth:e,frontierDepth:t,parent:s,inject:i,wrap:r}){for(;this.depth>t;)this.closeFrontierNode();if(r)for(let g=0;g<r.length;g++)this.openFrontierNode(r[g]);let o=this.unplaced,a=s?s.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));f=f.matchFragment(i)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),m=f.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(f=m,u.push(z_(g.mark(d.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Fc(this.placed,t,G.from(u)),this.frontier[t].match=f,p&&h<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<h;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?e==0?ue.empty:new ue(Lc(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new ue(Lc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!km(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:s}=this.$to,i=this.$to.after(s);for(;s>1&&i==this.$to.end(--s);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:s,type:i}=this.frontier[t],r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=km(e,t,i,s,r);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=km(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:r?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Fc(this.placed,t.depth,t.fit)),e=t.move;for(let s=t.depth+1;s<=e.depth;s++){let i=e.node(s),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(s));this.openFrontierNode(i.type,i.attrs,r)}return e}openFrontierNode(e,t=null,s){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Fc(this.placed,this.depth,G.from(e.create(t,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=Fc(this.placed,this.frontier.length,t))}}function Lc(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Lc(n.firstChild.content,e-1,t)))}function Fc(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Fc(n.lastChild.content,e-1,t)))}function Om(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function z_(n,e,t){if(e<=0)return n;let s=n.content;return e>1&&(s=s.replaceChild(0,z_(s.firstChild,e-1,s.childCount==1?t-1:0))),e>0&&(s=n.type.contentMatch.fillBefore(s).append(s),t<=0&&(s=s.append(n.type.contentMatch.matchFragment(s).fillBefore(G.empty,!0)))),n.copy(s)}function km(n,e,t,s,i){let r=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==r.childCount&&!t.compatibleContent(r.type))return null;let a=s.fillBefore(r.content,!0,o);return a&&!i4(t,r.content,o)?a:null}function i4(n,e,t){for(let s=t;s<e.childCount;s++)if(!n.allowsMarks(e.child(s).marks))return!0;return!1}function r4(n){return n.spec.defining||n.spec.definingForContent}function o4(n,e,t,s){if(!s.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),r=n.doc.resolve(t);if(U_(i,r,s))return n.step(new cn(e,t,s));let o=K_(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==h&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],u=s.openStart;for(let d=s.content,h=0;;h++){let p=d.firstChild;if(c.push(p),h==s.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let h=c[d],p=r4(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=d;else if(p||!h.type.isTextblock)break}for(let d=s.openStart;d>=0;d--){let h=(d+u+1)%(s.openStart+1),p=c[h];if(p)for(let g=0;g<o.length;g++){let m=o[(g+l)%o.length],y=!0;m<0&&(y=!1,m=-m);let b=i.node(m-1),x=i.index(m-1);if(b.canReplaceWith(x,x,p.type,p.marks))return n.replace(i.before(m),y?r.after(m):t,new ue(W_(s.content,0,s.openStart,h),h,s.openEnd))}}let f=n.steps.length;for(let d=o.length-1;d>=0&&(n.replace(e,t,s),!(n.steps.length>f));d--){let h=o[d];h<0||(e=i.before(h),t=r.after(h))}}function W_(n,e,t,s,i){if(e<t){let r=n.firstChild;n=n.replaceChild(0,r.copy(W_(r.content,e+1,t,s,r)))}if(e>s){let r=i.contentMatchAt(0),o=r.fillBefore(n).append(n);n=o.append(r.matchFragment(o).fillBefore(G.empty,!0))}return n}function a4(n,e,t,s){if(!s.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=n4(n.doc,e,s.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ue(G.from(s),0,0))}function l4(n,e,t){let s=n.doc.resolve(e),i=n.doc.resolve(t),r=K_(s,i);for(let o=0;o<r.length;o++){let a=r[o],l=o==r.length-1;if(l&&a==0||s.node(a).type.contentMatch.validEnd)return n.delete(s.start(a),i.end(a));if(a>0&&(l||s.node(a-1).canReplace(s.index(a-1),i.indexAfter(a-1))))return n.delete(s.before(a),i.after(a))}for(let o=1;o<=s.depth&&o<=i.depth;o++)if(e-s.start(o)==s.depth-o&&t>s.end(o)&&i.end(o)-t!=i.depth-o&&s.start(o-1)==i.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),i.index(o-1)))return n.delete(s.before(o),t);n.delete(e,t)}function K_(n,e){let t=[],s=Math.min(n.depth,e.depth);for(let i=s;i>=0;i--){let r=n.start(i);if(r<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&t.push(i)}return t}class ml extends Hn{constructor(e,t,s){super(),this.pos=e,this.attr=t,this.value=s}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qt.fail("No node at attribute step's position");let s=Object.create(null);for(let r in t.attrs)s[r]=t.attrs[r];s[this.attr]=this.value;let i=t.type.create(s,null,t.marks);return Qt.fromReplace(e,this.pos,this.pos+1,new ue(G.from(i),0,t.isLeaf?0:1))}getMap(){return ws.empty}invert(e){return new ml(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ml(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ml(t.pos,t.attr,t.value)}}Hn.jsonID("attr",ml);class zu extends Hn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let s=e.type.create(t,e.content,e.marks);return Qt.ok(s)}getMap(){return ws.empty}invert(e){return new zu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new zu(t.attr,t.value)}}Hn.jsonID("docAttr",zu);let Wl=class extends Error{};Wl=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Wl.prototype=Object.create(Error.prototype);Wl.prototype.constructor=Wl;Wl.prototype.name="TransformError";class G_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new pl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Wl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,s=ue.empty){let i=Eg(this.doc,e,t,s);return i&&this.step(i),this}replaceWith(e,t,s){return this.replace(e,t,new ue(G.from(s),0,0))}delete(e,t){return this.replace(e,t,ue.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,s){return o4(this,e,t,s),this}replaceRangeWith(e,t,s){return a4(this,e,t,s),this}deleteRange(e,t){return l4(this,e,t),this}lift(e,t){return KV(this,e,t),this}join(e,t=1){return t4(this,e,t),this}wrap(e,t){return JV(this,e,t),this}setBlockType(e,t=e,s,i=null){return YV(this,e,t,s,i),this}setNodeMarkup(e,t,s=null,i){return QV(this,e,t,s,i),this}setNodeAttribute(e,t,s){return this.step(new ml(e,t,s)),this}setDocAttribute(e,t){return this.step(new zu(e,t)),this}addNodeMark(e,t){return this.step(new Wr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof xt)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(t=t.isInSet(s.marks),!t)return this}return this.step(new zl(e,t)),this}split(e,t=1,s){return ZV(this,e,t,s),this}addMark(e,t,s){return UV(this,e,t,s),this}removeMark(e,t,s){return zV(this,e,t,s),this}clearIncompatible(e,t,s){return o0(this,e,t,s),this}}const _m=Object.create(null);class je{constructor(e,t,s){this.$anchor=e,this.$head=t,this.ranges=s||[new c4(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ue.empty){let s=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=s,s=s.lastChild;let r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(r);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ue.empty:t),a==0&&w1(e,r,(s?s.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let s=e.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:o,$to:a}=i[r],l=e.mapping.slice(s),c=l.map(o.pos),u=l.map(a.pos);r?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),w1(e,s,t.isInline?-1:1))}}static findFrom(e,t,s=!1){let i=e.parent.inlineContent?new De(e):nl(e.node(0),e.parent,e.pos,e.index(),t,s);if(i)return i;for(let r=e.depth-1;r>=0;r--){let o=t<0?nl(e.node(0),e.node(r),e.before(r+1),e.index(r),t,s):nl(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,s);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Us(e.node(0))}static atStart(e){return nl(e,e,0,0,1)||new Us(e)}static atEnd(e){return nl(e,e,e.content.size,e.childCount,-1)||new Us(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=_m[t.type];if(!s)throw new RangeError(`No selection type ${t.type} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in _m)throw new RangeError("Duplicate use of selection JSON ID "+e);return _m[e]=t,t.prototype.jsonID=e,t}getBookmark(){return De.between(this.$anchor,this.$head).getBookmark()}}je.prototype.visible=!0;class c4{constructor(e,t){this.$from=e,this.$to=t}}let S1=!1;function E1(n){!S1&&!n.parent.inlineContent&&(S1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class De extends je{constructor(e,t=e){E1(e),E1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let s=e.resolve(t.map(this.head));if(!s.parent.inlineContent)return je.near(s);let i=e.resolve(t.map(this.anchor));return new De(i.parent.inlineContent?i:s,s)}replace(e,t=ue.empty){if(super.replace(e,t),t==ue.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof De&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new De(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,s=t){let i=e.resolve(t);return new this(i,s==t?i:e.resolve(s))}static between(e,t,s){let i=e.pos-t.pos;if((!s||i)&&(s=i>=0?1:-1),!t.parent.inlineContent){let r=je.findFrom(t,s,!0)||je.findFrom(t,-s,!0);if(r)t=r.$head;else return je.near(t,s)}return e.parent.inlineContent||(i==0?e=t:(e=(je.findFrom(e,-s,!0)||je.findFrom(e,s,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new De(e,t)}}je.jsonID("text",De);class wg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new wg(e.map(this.anchor),e.map(this.head))}resolve(e){return De.between(e.resolve(this.anchor),e.resolve(this.head))}}class Se extends je{constructor(e){let t=e.nodeAfter,s=e.node(0).resolve(e.pos+t.nodeSize);super(e,s),this.node=t}map(e,t){let{deleted:s,pos:i}=t.mapResult(this.anchor),r=e.resolve(i);return s?je.near(r):new Se(r)}content(){return new ue(G.from(this.node),0,0)}eq(e){return e instanceof Se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new l0(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Se(e.resolve(t.anchor))}static create(e,t){return new Se(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Se.prototype.visible=!1;je.jsonID("node",Se);class l0{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:s}=e.mapResult(this.anchor);return t?new wg(s,s):new l0(s)}resolve(e){let t=e.resolve(this.anchor),s=t.nodeAfter;return s&&Se.isSelectable(s)?new Se(t):je.near(t)}}class Us extends je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ue.empty){if(t==ue.empty){e.delete(0,e.doc.content.size);let s=je.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Us(e)}map(e){return new Us(e)}eq(e){return e instanceof Us}getBookmark(){return u4}}je.jsonID("all",Us);const u4={map(){return this},resolve(n){return new Us(n)}};function nl(n,e,t,s,i,r=!1){if(e.inlineContent)return De.create(n,t);for(let o=s-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!r&&Se.isSelectable(a))return Se.create(n,t-(i<0?a.nodeSize:0))}else{let l=nl(n,a,t+i,i<0?a.childCount:0,i,r);if(l)return l}t+=a.nodeSize*i}return null}function w1(n,e,t){let s=n.steps.length-1;if(s<e)return;let i=n.steps[s];if(!(i instanceof cn||i instanceof dn))return;let r=n.mapping.maps[s],o;r.forEach((a,l,c,u)=>{o==null&&(o=u)}),n.setSelection(je.near(n.doc.resolve(o),t))}const T1=1,C1=2,O1=4;class f4 extends G_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|T1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&T1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=C1,this}ensureMarks(e){return xt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&C1)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let s=this.selection;return t&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||xt.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,s){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(s==null&&(s=t),s=s??t,!e)return this.deleteRange(t,s);let r=this.storedMarks;if(!r){let o=this.doc.resolve(t);r=s==t?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(t,s,i.text(e,r)),this.selection.empty||this.setSelection(je.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=O1,this}get scrolledIntoView(){return(this.updated&O1)>0}}function k1(n,e){return!e||!n?n:n.bind(e)}class $c{constructor(e,t,s){this.name=e,this.init=k1(t.init,s),this.apply=k1(t.apply,s)}}const d4=[new $c("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new $c("selection",{init(n,e){return n.selection||je.atStart(e.doc)},apply(n){return n.selection}}),new $c("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,s){return s.selection.$cursor?n.storedMarks:null}}),new $c("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Am{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=d4.slice(),t&&t.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new $c(s.key,s.spec.state,s))})}}class ll{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=t){let i=this.config.plugins[s];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],s=this.applyInner(e),i=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,s);if(u&&s.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:s,n:t.length}:{state:this,n:0})}t.push(u),s=s.applyInner(u),r=!0}i&&(i[o]={state:s,n:t.length})}}if(!r)return{state:s,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ll(this.config),s=this.config.fields;for(let i=0;i<s.length;i++){let r=s[i];t[r.name]=r.apply(e,this[r.name],this,t)}return t}get tr(){return new f4(this)}static create(e){let t=new Am(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new ll(t);for(let i=0;i<t.fields.length;i++)s[t.fields[i].name]=t.fields[i].init(e,s);return s}reconfigure(e){let t=new Am(this.schema,e.plugins),s=t.fields,i=new ll(t);for(let r=0;r<s.length;r++){let o=s[r].name;i[o]=this.hasOwnProperty(o)?this[o]:s[r].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[s],r=i.spec.state;r&&r.toJSON&&(t[s]=r.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,s){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Am(e.schema,e.plugins),r=new ll(i);return i.fields.forEach(o=>{if(o.name=="doc")r.doc=so.fromJSON(e.schema,t.doc);else if(o.name=="selection")r.selection=je.fromJSON(r.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let a in s){let l=s[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){r[o.name]=c.fromJSON.call(l,e,t[a],r);return}}r[o.name]=o.init(e,r)}}),r}}function X_(n,e,t){for(let s in n){let i=n[s];i instanceof Function?i=i.bind(e):s=="handleDOMEvents"&&(i=X_(i,e,{})),t[s]=i}return t}class Tn{constructor(e){this.spec=e,this.props={},e.props&&X_(e.props,this,this.props),this.key=e.key?e.key.key:J_("plugin")}getState(e){return e[this.key]}}const Mm=Object.create(null);function J_(n){return n in Mm?n+"$"+ ++Mm[n]:(Mm[n]=0,n+"$")}class As{constructor(e="key"){this.key=J_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Sn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Wu=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let nb=null;const Ui=function(n,e,t){let s=nb||(nb=document.createRange());return s.setEnd(n,t??n.nodeValue.length),s.setStart(n,e||0),s},h4=function(){nb=null},Oa=function(n,e,t,s){return t&&(_1(n,e,t,s,-1)||_1(n,e,t,s,1))},p4=/^(img|br|input|textarea|hr)$/i;function _1(n,e,t,s,i){for(;;){if(n==t&&e==s)return!0;if(e==(i<0?0:Fs(n))){let r=n.parentNode;if(!r||r.nodeType!=1||_f(n)||p4.test(n.nodeName)||n.contentEditable=="false")return!1;e=Sn(n)+(i<0?0:1),n=r}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Fs(n):0}else return!1}}function Fs(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function g4(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Fs(n)}else if(n.parentNode&&!_f(n))e=Sn(n),n=n.parentNode;else return null}}function m4(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!_f(n))e=Sn(n)+1,n=n.parentNode;else return null}}function y4(n,e,t){for(let s=e==0,i=e==Fs(n);s||i;){if(n==t)return!0;let r=Sn(n);if(n=n.parentNode,!n)return!1;s=s&&r==0,i=i&&r==Fs(n)}}function _f(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Tg=function(n){return n.focusNode&&Oa(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Uo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function b4(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function v4(n,e,t){if(n.caretPositionFromPoint)try{let s=n.caretPositionFromPoint(e,t);if(s)return{node:s.offsetNode,offset:Math.min(Fs(s.offsetNode),s.offset)}}catch{}if(n.caretRangeFromPoint){let s=n.caretRangeFromPoint(e,t);if(s)return{node:s.startContainer,offset:Math.min(Fs(s.startContainer),s.startOffset)}}}const Oi=typeof navigator<"u"?navigator:null,A1=typeof document<"u"?document:null,To=Oi&&Oi.userAgent||"",sb=/Edge\/(\d+)/.exec(To),Y_=/MSIE \d/.exec(To),ib=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(To),gs=!!(Y_||ib||sb),ro=Y_?document.documentMode:ib?+ib[1]:sb?+sb[1]:0,li=!gs&&/gecko\/(\d+)/i.test(To);li&&+(/Firefox\/(\d+)/.exec(To)||[0,0])[1];const rb=!gs&&/Chrome\/(\d+)/.exec(To),$n=!!rb,q_=rb?+rb[1]:0,Zn=!gs&&!!Oi&&/Apple Computer/.test(Oi.vendor),Kl=Zn&&(/Mobile\/\w+/.test(To)||!!Oi&&Oi.maxTouchPoints>2),Ls=Kl||(Oi?/Mac/.test(Oi.platform):!1),x4=Oi?/Win/.test(Oi.platform):!1,qi=/Android \d/.test(To),Af=!!A1&&"webkitFontSmoothing"in A1.documentElement.style,S4=Af?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function E4(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Ii(n,e){return typeof n=="number"?n:n[e]}function w4(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,s=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*s}}function M1(n,e,t){let s=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,r=n.dom.ownerDocument;for(let o=t||n.dom;o;o=Wu(o)){if(o.nodeType!=1)continue;let a=o,l=a==r.body,c=l?E4(r):w4(a),u=0,f=0;if(e.top<c.top+Ii(s,"top")?f=-(c.top-e.top+Ii(i,"top")):e.bottom>c.bottom-Ii(s,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+Ii(i,"top")-c.top:e.bottom-c.bottom+Ii(i,"bottom")),e.left<c.left+Ii(s,"left")?u=-(c.left-e.left+Ii(i,"left")):e.right>c.right-Ii(s,"right")&&(u=e.right-c.right+Ii(i,"right")),u||f)if(l)r.defaultView.scrollBy(u,f);else{let d=a.scrollLeft,h=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let p=a.scrollLeft-d,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function T4(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),s,i;for(let r=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(r,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){s=a,i=l.top;break}}return{refDOM:s,refTop:i,stack:Q_(n.dom)}}function Q_(n){let e=[],t=n.ownerDocument;for(let s=n;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),n!=t);s=Wu(s));return e}function C4({refDOM:n,refTop:e,stack:t}){let s=n?n.getBoundingClientRect().top:0;Z_(t,s==0?0:s-e)}function Z_(n,e){for(let t=0;t<n.length;t++){let{dom:s,top:i,left:r}=n[t];s.scrollTop!=i+e&&(s.scrollTop=i+e),s.scrollLeft!=r&&(s.scrollLeft=r)}}let Xa=null;function O4(n){if(n.setActive)return n.setActive();if(Xa)return n.focus(Xa);let e=Q_(n);n.focus(Xa==null?{get preventScroll(){return Xa={preventScroll:!0},!0}}:void 0),Xa||(Xa=!1,Z_(e,0))}function eA(n,e){let t,s=2e8,i,r=0,o=e.top,a=e.top,l,c;for(let u=n.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Ui(u).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<s){t=u,s=g,i=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(r=f+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(r=f+1)}}return!t&&l&&(t=l,i=c,s=0),t&&t.nodeType==3?k4(t,i):!t||s&&t.nodeType==1?{node:n,offset:r}:eA(t,i)}function k4(n,e){let t=n.nodeValue.length,s=document.createRange();for(let i=0;i<t;i++){s.setEnd(n,i+1),s.setStart(n,i);let r=vr(s,1);if(r.top!=r.bottom&&c0(e,r))return{node:n,offset:i+(e.left>=(r.left+r.right)/2?1:0)}}return{node:n,offset:0}}function c0(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function _4(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function A4(n,e,t){let{node:s,offset:i}=eA(e,t),r=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();r=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(s,i,r)}function M4(n,e,t,s){let i=-1;for(let r=e,o=!1;r!=n.dom;){let a=n.docView.nearestDesc(r,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>s.left||l.top>s.top?i=a.posBefore:(!o&&l.right<s.left||l.bottom<s.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?s.top<(l.top+l.bottom)/2:s.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;r=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function tA(n,e,t){let s=n.childNodes.length;if(s&&t.top<t.bottom)for(let i=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-t.top)/(t.bottom-t.top))-2)),r=i;;){let o=n.childNodes[r];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(c0(e,c))return tA(o,e,c)}}if((r=(r+1)%s)==i)break}return n}function P4(n,e){let t=n.dom.ownerDocument,s,i=0,r=v4(t,e.left,e.top);r&&({node:s,offset:i}=r);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!c0(e,c)||(o=tA(n.dom,e,c),!o))return null}if(Zn)for(let c=o;s&&c;c=Wu(c))c.draggable&&(s=void 0);if(o=_4(o,e),s){if(li&&s.nodeType==1&&(i=Math.min(i,s.childNodes.length),i<s.childNodes.length)){let u=s.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;Af&&i&&s.nodeType==1&&(c=s.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,s==n.dom&&i==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||s.nodeType!=1||s.childNodes[i-1].nodeName!="BR")&&(a=M4(n,s,i,e))}a==null&&(a=A4(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function P1(n){return n.top<n.bottom||n.left<n.right}function vr(n,e){let t=n.getClientRects();if(t.length){let s=t[e<0?0:t.length-1];if(P1(s))return s}return Array.prototype.find.call(t,P1)||n.getBoundingClientRect()}const I4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nA(n,e,t){let{node:s,offset:i,atom:r}=n.docView.domFromPos(e,t<0?-1:1),o=Af||li;if(s.nodeType==3)if(o&&(I4.test(s.nodeValue)||(t<0?!i:i==s.nodeValue.length))){let l=vr(Ui(s,i,i),t);if(li&&i&&/\s/.test(s.nodeValue[i-1])&&i<s.nodeValue.length){let c=vr(Ui(s,i-1,i-1),-1);if(c.top==l.top){let u=vr(Ui(s,i,i+1),-1);if(u.top!=l.top)return Ec(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==s.nodeValue.length?(l--,u=1):t<0?l--:c++,Ec(vr(Ui(s,l,c),u),u<0)}if(!n.state.doc.resolve(e-(r||0)).parent.inlineContent){if(r==null&&i&&(t<0||i==Fs(s))){let l=s.childNodes[i-1];if(l.nodeType==1)return Pm(l.getBoundingClientRect(),!1)}if(r==null&&i<Fs(s)){let l=s.childNodes[i];if(l.nodeType==1)return Pm(l.getBoundingClientRect(),!0)}return Pm(s.getBoundingClientRect(),t>=0)}if(r==null&&i&&(t<0||i==Fs(s))){let l=s.childNodes[i-1],c=l.nodeType==3?Ui(l,Fs(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ec(vr(c,1),!1)}if(r==null&&i<Fs(s)){let l=s.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ui(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Ec(vr(c,-1),!0)}return Ec(vr(s.nodeType==3?Ui(s):s,-t),t>=0)}function Ec(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Pm(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function sA(n,e,t){let s=n.state,i=n.root.activeElement;s!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{s!=e&&n.updateState(s),i!=n.dom&&i&&i.focus()}}function R4(n,e,t){let s=e.selection,i=t=="up"?s.$from:s.$to;return sA(n,e,()=>{let{node:r}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(r,!0);if(!a)break;if(a.node.isBlock){r=a.contentDOM||a.dom;break}r=a.dom.parentNode}let o=nA(n,i.pos,1);for(let a=r.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ui(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const D4=/[\u0590-\u08ac]/;function N4(n,e,t){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let i=s.parentOffset,r=!i,o=i==s.parent.content.size,a=n.domSelection();return a?!D4.test(s.parent.textContent)||!a.modify?t=="left"||t=="backward"?r:o:sA(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=n.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",t,"character");let h=s.depth?n.docView.domAfterPos(s.before()):n.dom,{focusNode:p,focusOffset:g}=n.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return d!=null&&(a.caretBidiLevel=d),m}):s.pos==s.start()||s.pos==s.end()}let I1=null,R1=null,D1=!1;function L4(n,e,t){return I1==e&&R1==t?D1:(I1=e,R1=t,D1=t=="up"||t=="down"?R4(n,e,t):N4(n,e,t))}const zs=0,N1=1,Ko=2,ki=3;class Mf{constructor(e,t,s,i){this.parent=e,this.children=t,this.dom=s,this.contentDOM=i,this.dirty=zs,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,s=this.posAtStart;;t++){let i=this.children[t];if(i==e)return s;s+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}else{let r,o;if(e==this.contentDOM)r=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!1;break}if(r.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!0;break}if(r.nextSibling)break}}return i??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let s=!0,i=e;i;i=i.parentNode){let r=this.getDesc(i),o;if(r&&(!t||r.node))if(s&&(o=r.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))s=!1;else return r}}getDesc(e){let t=e.pmViewDesc;for(let s=t;s;s=s.parent)if(s==this)return t}posFromDOM(e,t,s){for(let i=e;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,s)}return-1}descAt(e){for(let t=0,s=0;t<this.children.length;t++){let i=this.children[t],r=s+i.size;if(s==e&&r!=s){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<r)return i.descAt(e-s-i.border);s=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,i=0;for(let r=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(a>e||o instanceof rA){i=e-r;break}r=a}if(i)return this.children[s].domFromPos(i-this.children[s].border,t);for(let r;s&&!(r=this.children[s-1]).size&&r instanceof iA&&r.side>=0;s--);if(t<=0){let r,o=!0;for(;r=s?this.children[s-1]:null,!(!r||r.dom.parentNode==this.contentDOM);s--,o=!1);return r&&t&&o&&!r.border&&!r.domAtom?r.domFromPos(r.size,t):{node:this.contentDOM,offset:r?Sn(r.dom)+1:0}}else{let r,o=!0;for(;r=s<this.children.length?this.children[s]:null,!(!r||r.dom.parentNode==this.contentDOM);s++,o=!1);return r&&o&&!r.border&&!r.domAtom?r.domFromPos(0,t):{node:this.contentDOM,offset:r?Sn(r.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let o=s,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let f=a;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Sn(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=Sn(f.dom);break}t+=f.size}r==-1&&(r=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:s}=this.domFromPos(e,0);if(t.nodeType!=1||s==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[s]}setSelection(e,t,s,i=!1){let r=Math.min(e,t),o=Math.max(e,t);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(r>p&&o<m)return g.setSelection(e-p-g.border,t-p-g.border,s,i);p=m}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=s.root.getSelection(),u=s.domSelectionRange(),f=!1;if((li||Zn)&&e==t){let{node:h,offset:p}=a;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Sn(m)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[p-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(li&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&Zn)&&Oa(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Oa(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||e==t)&&!f){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let s=0,i=0;i<this.children.length;i++){let r=this.children[i],o=s+r.size;if(s==o?e<=o&&t>=s:e<o&&t>s){let a=s+r.border,l=o-r.border;if(e>=a&&t<=l){this.dirty=e==s||t==o?Ko:N1,e==a&&t==l&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=ki:r.markDirty(e-a,t-a);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?Ko:ki}s=o}this.dirty=Ko}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let s=e==1?Ko:N1;t.dirty<s&&(t.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class iA extends Mf{constructor(e,t,s,i){let r,o=t.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!r)return i;if(r.parent)return r.parent.posBeforeChild(r)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return this.dirty==zs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class F4 extends Mf{constructor(e,t,s,i){super(e,[],t,null),this.textDOM=s,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ka extends Mf{constructor(e,t,s,i,r){super(e,[],s,i),this.mark=t,this.spec=r}static create(e,t,s,i){let r=i.nodeViews[t.type.name],o=r&&r(t,i,s);return(!o||!o.dom)&&(o=Fa.renderSpec(document,t.type.spec.toDOM(t,s),null,t.attrs)),new ka(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ki||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ki&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=zs){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=zs}}slice(e,t,s){let i=ka.create(this.parent,this.mark,!0,s),r=this.children,o=this.size;t<o&&(r=ab(r,t,o,s)),e>0&&(r=ab(r,0,e,s));for(let a=0;a<r.length;a++)r[a].parent=i;return i.children=r,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class oo extends Mf{constructor(e,t,s,i,r,o,a,l,c){super(e,[],r,o),this.node=t,this.outerDeco=s,this.innerDeco=i,this.nodeDOM=a}static create(e,t,s,i,r,o){let a=r.nodeViews[t.type.name],l,c=a&&a(t,r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},s,i),u=c&&c.dom,f=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=Fa.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!f&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return u=lA(u,s,t),c?l=new $4(e,t,s,i,u,f||null,d,c,r,o+1):t.isText?new Cg(e,t,s,i,u,d,r):new oo(e,t,s,i,u,f||null,d,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let s=this.children[t];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,s){return this.dirty==zs&&e.eq(this.node)&&Uh(t,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let s=this.node.inlineContent,i=t,r=e.composing?this.localCompositionInfo(e,t):null,o=r&&r.pos>-1?r:null,a=r&&r.pos<0,l=new B4(this,o&&o.node,e);U4(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,s,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?xt.none:this.node.child(u).marks,s,e),l.placeWidget(c,e,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,s,e);let h;l.findNodeMatch(c,u,f,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(r.node))>-1&&l.updateNodeAt(c,u,f,h,e)||l.updateNextNode(c,u,f,e,d,i)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],s,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ko)&&(o&&this.protectLocalComposition(e,o),oA(this.contentDOM,this.children,e),Kl&&z4(this.dom))}localCompositionInfo(e,t){let{from:s,to:i}=e.state.selection;if(!(e.state.selection instanceof De)||s<t||i>t+this.node.content.size)return null;let r=e.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let o=r.nodeValue,a=W4(this.node.content,o,s-t,i-t);return a<0?null:{node:r,pos:a,text:o}}else return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:s,text:i}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new F4(this,r,t,i);e.input.compositionNodes.push(o),this.children=ab(this.children,s,s+i.length,e,o)}update(e,t,s,i){return this.dirty==ki||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,s,i),!0)}updateInner(e,t,s,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zs}updateOuterDeco(e){if(Uh(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=aA(this.dom,this.nodeDOM,ob(this.outerDeco,this.node,t),ob(e,this.node,t)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function L1(n,e,t,s,i){lA(s,e,n);let r=new oo(void 0,n,e,t,s,s,s,i,0);return r.contentDOM&&r.updateChildren(i,0),r}class Cg extends oo{constructor(e,t,s,i,r,o,a){super(e,t,s,i,r,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,s,i){return this.dirty==ki||this.dirty!=zs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=zs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=zs,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,s){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,s){let i=this.node.cut(e,t),r=document.createTextNode(i.text);return new Cg(this.parent,i,this.outerDeco,this.innerDeco,r,r,s)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ki)}get domAtom(){return!1}isText(e){return this.node.text==e}}class rA extends Mf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $4 extends oo{constructor(e,t,s,i,r,o,a,l,c,u){super(e,t,s,i,r,o,a,c,u),this.spec=l}update(e,t,s,i){if(this.dirty==ki)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,t,s);return r&&this.updateInner(e,t,s,i),r}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,s,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,s,i){this.spec.setSelection?this.spec.setSelection(e,t,s.root):super.setSelection(e,t,s,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oA(n,e,t){let s=n.firstChild,i=!1;for(let r=0;r<e.length;r++){let o=e[r],a=o.dom;if(a.parentNode==n){for(;a!=s;)s=F1(s),i=!0;s=s.nextSibling}else i=!0,n.insertBefore(a,s);if(o instanceof ka){let l=s?s.previousSibling:n.lastChild;oA(o.contentDOM,o.children,t),s=l?l.nextSibling:n.firstChild}}for(;s;)s=F1(s),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const cu=function(n){n&&(this.nodeName=n)};cu.prototype=Object.create(null);const Go=[new cu];function ob(n,e,t){if(n.length==0)return Go;let s=t?Go[0]:new cu,i=[s];for(let r=0;r<n.length;r++){let o=n[r].type.attrs;if(o){o.nodeName&&i.push(s=new cu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&i.length==1&&i.push(s=new cu(e.isInline?"span":"div")),a=="class"?s.class=(s.class?s.class+" ":"")+l:a=="style"?s.style=(s.style?s.style+";":"")+l:a!="nodeName"&&(s[a]=l))}}}return i}function aA(n,e,t,s){if(t==Go&&s==Go)return e;let i=e;for(let r=0;r<s.length;r++){let o=s[r],a=t[r];if(r){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Go[0]),i=l}j4(i,a||Go[0],o)}return i}function j4(n,e,t){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in t)&&n.removeAttribute(s);for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&t[s]!=e[s]&&n.setAttribute(s,t[s]);if(e.class!=t.class){let s=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&n.classList.remove(s[r]);for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&n.classList.add(i[r]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=s.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function lA(n,e,t){return aA(n,n,Go,ob(e,t,n.nodeType!=1))}function Uh(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function F1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class B4{constructor(e,t,s){this.lock=t,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=V4(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let s=e;s<t;s++)this.top.children[s].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,s){let i=0,r=this.stack.length>>1,o=Math.min(r,e.length);for(;i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=zs,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[r])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ka.create(this.top,e[r],t,s);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,s,i){let r=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,s))r=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,s)&&!this.preMatch.matched.has(c)){r=a;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,t,s,i,r){let o=this.top.children[i];return o.dirty==ki&&o.dom==o.contentDOM&&(o.dirty=Ko),o.update(e,t,s,r)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==s)return i}return-1}e=t}}updateNextNode(e,t,s,i,r,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof oo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=r)return!1;let u=l.dom,f,d=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ki&&Uh(t,l.outerDeco));if(!d&&l.update(e,t,s,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,t,s,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Ko,f.updateChildren(i,o+1),f.dirty=zs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,s,i,r,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Uh(s,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=oo.create(this.top,t,s,i,r,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,s,i,r){let o=oo.create(this.top,e,t,s,i,r);o.contentDOM&&o.updateChildren(i,r+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,s){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let r=new iA(this.top,e,t,s);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ka;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Cg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Zn||$n)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let i=new rA(this.top,[],s,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function V4(n,e){let t=e,s=t.children.length,i=n.childCount,r=new Map,o=[];e:for(;i>0;){let a;for(;;)if(s){let c=t.children[s-1];if(c instanceof ka)t=c,s=c.children.length;else{a=c,s--;break}}else{if(t==e)break e;s=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,r.set(a,i),o.push(a)}}return{index:i,matched:r,matches:o.reverse()}}function H4(n,e){return n.type.side-e.type.side}function U4(n,e,t,s){let i=e.locals(n),r=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);s(u,i,e.forChild(r,u),c),r+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<i.length&&i[o].to==r;){let m=i[o++];m.widget&&(u?(f||(f=[u])).push(m):u=m)}if(u)if(f){f.sort(H4);for(let m=0;m<f.length;m++)t(f[m],c,!!l)}else t(u,c,!!l);let d,h;if(l)h=-1,d=l,l=null;else if(c<n.childCount)h=c,d=n.child(c++);else break;for(let m=0;m<a.length;m++)a[m].to<=r&&a.splice(m--,1);for(;o<i.length&&i[o].from<=r&&i[o].to>r;)a.push(i[o++]);let p=r+d.nodeSize;if(d.isText){let m=p;o<i.length&&i[o].from<m&&(m=i[o].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<p&&(l=d.cut(m-r),d=d.cut(0,m-r),p=m,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=d.isInline&&!d.isLeaf?a.filter(m=>!m.inline):a.slice();s(d,g,e.forChild(r,d),h),r=p}}function z4(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function W4(n,e,t,s){for(let i=0,r=0;i<n.childCount&&r<=s;){let o=n.child(i++),a=r;if(r+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let c=n.child(i++);if(r+=c.nodeSize,!c.isText)break;l+=c.text}if(r>=t){if(r>=s&&l.slice(s-e.length-a,s-a)==e)return s-e.length;let c=a<s?l.lastIndexOf(e,s-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==s&&l.length>=s+e.length-a&&l.slice(s-a,s-a+e.length)==e)return s}}return-1}function ab(n,e,t,s,i){let r=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,u=a+=l.size;c>=t||u<=e?r.push(l):(c<e&&r.push(l.slice(0,e-c,s)),i&&(r.push(i),i=void 0),u>t&&r.push(l.slice(t-c,l.size,s)))}return r}function u0(n,e=null){let t=n.domSelectionRange(),s=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),r=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=s.resolve(o),l,c;if(Tg(t)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Se.isSelectable(f)&&i.parent&&!(f.isInline&&y4(t.focusNode,t.focusOffset,i.dom))){let d=i.posBefore;c=new Se(o==d?a:s.resolve(d))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let f=o,d=o;for(let h=0;h<t.rangeCount;h++){let p=t.getRangeAt(h);f=Math.min(f,n.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,n.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,o]=d==n.state.selection.anchor?[d,f]:[f,d],a=s.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=s.resolve(l);if(!c){let f=e=="pointer"||n.state.selection.head<a.pos&&!r?1:-1;c=f0(n,u,a,f)}return c}function cA(n){return n.editable?n.hasFocus():fA(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function rr(n,e=!1){let t=n.state.selection;if(uA(n,t),!!cA(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&$n){let s=n.domSelectionRange(),i=n.domObserver.currentSelection;if(s.anchorNode&&i.anchorNode&&Oa(s.anchorNode,s.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)G4(n);else{let{anchor:s,head:i}=t,r,o;$1&&!(t instanceof De)&&(t.$from.parent.inlineContent||(r=j1(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=j1(n,t.to))),n.docView.setSelection(s,i,n,e),$1&&(r&&B1(r),o&&B1(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&K4(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const $1=Zn||$n&&q_<63;function j1(n,e){let{node:t,offset:s}=n.docView.domFromPos(e,0),i=s<t.childNodes.length?t.childNodes[s]:null,r=s?t.childNodes[s-1]:null;if(Zn&&i&&i.contentEditable=="false")return Im(i);if((!i||i.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(i)return Im(i);if(r)return Im(r)}}function Im(n){return n.contentEditable="true",Zn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function B1(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function K4(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),s=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=s||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!cA(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function G4(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let s=n.cursorWrapper.dom,i=s.nodeName=="IMG";i?t.setStart(s.parentNode,Sn(s)+1):t.setStart(s,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&gs&&ro<=11&&(s.disabled=!0,s.disabled=!1)}function uA(n,e){if(e instanceof Se){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(V1(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else V1(n)}function V1(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function f0(n,e,t,s){return n.someProp("createSelectionBetween",i=>i(n,e,t))||De.between(e,t,s)}function H1(n){return n.editable&&!n.hasFocus()?!1:fA(n)}function fA(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function X4(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Oa(e.node,e.offset,t.anchorNode,t.anchorOffset)}function lb(n,e){let{$anchor:t,$head:s}=n.selection,i=e>0?t.max(s):t.min(s),r=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return r&&je.findFrom(r,e)}function Ar(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function U1(n,e,t){let s=n.state.selection;if(s instanceof De)if(t.indexOf("s")>-1){let{$head:i}=s,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+r.nodeSize*(e<0?-1:1));return Ar(n,new De(s.$anchor,o))}else if(s.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=lb(n.state,e);return i&&i instanceof Se?Ar(n,i):!1}else if(!(Ls&&t.indexOf("m")>-1)){let i=s.$head,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!r||r.isText)return!1;let a=e<0?i.pos-r.nodeSize:i.pos;return r.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Se.isSelectable(r)?Ar(n,new Se(e<0?n.state.doc.resolve(i.pos-r.nodeSize):i)):Af?Ar(n,new De(n.state.doc.resolve(e<0?a:a+r.nodeSize))):!1:!1}}else return!1;else{if(s instanceof Se&&s.node.isInline)return Ar(n,new De(e>0?s.$to:s.$from));{let i=lb(n.state,e);return i?Ar(n,i):!1}}}function zh(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function uu(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Ja(n,e){return e<0?J4(n):Y4(n)}function J4(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let i,r,o=!1;for(li&&t.nodeType==1&&s<zh(t)&&uu(t.childNodes[s],-1)&&(o=!0);;)if(s>0){if(t.nodeType!=1)break;{let a=t.childNodes[s-1];if(uu(a,-1))i=t,r=--s;else if(a.nodeType==3)t=a,s=t.nodeValue.length;else break}}else{if(dA(t))break;{let a=t.previousSibling;for(;a&&uu(a,-1);)i=t.parentNode,r=Sn(a),a=a.previousSibling;if(a)t=a,s=zh(t);else{if(t=t.parentNode,t==n.dom)break;s=0}}}o?cb(n,t,s):i&&cb(n,i,r)}function Y4(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let i=zh(t),r,o;for(;;)if(s<i){if(t.nodeType!=1)break;let a=t.childNodes[s];if(uu(a,1))r=t,o=++s;else break}else{if(dA(t))break;{let a=t.nextSibling;for(;a&&uu(a,1);)r=a.parentNode,o=Sn(a)+1,a=a.nextSibling;if(a)t=a,s=0,i=zh(t);else{if(t=t.parentNode,t==n.dom)break;s=i=0}}}r&&cb(n,r,o)}function dA(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function q4(n,e){for(;n&&e==n.childNodes.length&&!_f(n);)e=Sn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Q4(n,e){for(;n&&!e&&!_f(n);)e=Sn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function cb(n,e,t){if(e.nodeType!=3){let r,o;(o=q4(e,t))?(e=o,t=0):(r=Q4(e,t))&&(e=r,t=r.nodeValue.length)}let s=n.domSelection();if(!s)return;if(Tg(s)){let r=document.createRange();r.setEnd(e,t),r.setStart(e,t),s.removeAllRanges(),s.addRange(r)}else s.extend&&s.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&rr(n)},50)}function z1(n,e){let t=n.state.doc.resolve(e);if(!($n||x4)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let r=n.coordsAtPos(e-1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left<i.left?"ltr":"rtl"}if(e<t.end()){let r=n.coordsAtPos(e+1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function W1(n,e,t){let s=n.state.selection;if(s instanceof De&&!s.empty||t.indexOf("s")>-1||Ls&&t.indexOf("m")>-1)return!1;let{$from:i,$to:r}=s;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=lb(n.state,e);if(o&&o instanceof Se)return Ar(n,o)}if(!i.parent.inlineContent){let o=e<0?i:r,a=s instanceof Us?je.near(o,e):je.findFrom(o,e);return a?Ar(n,a):!1}return!1}function K1(n,e){if(!(n.state.selection instanceof De))return!0;let{$head:t,$anchor:s,empty:i}=n.state.selection;if(!t.sameParent(s))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let r=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(r&&!r.isText){let o=n.state.tr;return e<0?o.delete(t.pos-r.nodeSize,t.pos):o.delete(t.pos,t.pos+r.nodeSize),n.dispatch(o),!0}return!1}function G1(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Z4(n){if(!Zn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;G1(n,s,"true"),setTimeout(()=>G1(n,s,"false"),20)}return!1}function e5(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function t5(n,e){let t=e.keyCode,s=e5(e);if(t==8||Ls&&t==72&&s=="c")return K1(n,-1)||Ja(n,-1);if(t==46&&!e.shiftKey||Ls&&t==68&&s=="c")return K1(n,1)||Ja(n,1);if(t==13||t==27)return!0;if(t==37||Ls&&t==66&&s=="c"){let i=t==37?z1(n,n.state.selection.from)=="ltr"?-1:1:-1;return U1(n,i,s)||Ja(n,i)}else if(t==39||Ls&&t==70&&s=="c"){let i=t==39?z1(n,n.state.selection.from)=="ltr"?1:-1:1;return U1(n,i,s)||Ja(n,i)}else{if(t==38||Ls&&t==80&&s=="c")return W1(n,-1,s)||Ja(n,-1);if(t==40||Ls&&t==78&&s=="c")return Z4(n)||W1(n,1,s)||Ja(n,1);if(s==(Ls?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function hA(n,e){n.someProp("transformCopied",h=>{e=h(e,n)});let t=[],{content:s,openStart:i,openEnd:r}=e;for(;i>1&&r>1&&s.childCount==1&&s.firstChild.childCount==1;){i--,r--;let h=s.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),s=h.content}let o=n.someProp("clipboardSerializer")||Fa.fromSchema(n.state.schema),a=vA(),l=a.createElement("div");l.appendChild(o.serializeFragment(s,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=bA[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${r}${f?` -${f}`:""} ${JSON.stringify(t)}`);let d=n.someProp("clipboardTextSerializer",h=>h(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function pA(n,e,t,s,i){let r=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(s||r||!t);if(l){if(n.someProp("transformPastedText",d=>{e=d(e,r||s,n)}),r)return e?new ue(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ue.empty;let f=n.someProp("clipboardTextParser",d=>d(e,i,s,n));if(f)a=f;else{let d=i.marks(),{schema:h}=n.state,p=Fa.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=o.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,d)))})}}else n.someProp("transformPastedHTML",f=>{t=f(t,n)}),o=r5(t),Af&&o5(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||io.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!n5.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=a5(X1(a,+u[1],+u[2]),u[4]);else if(a=ue.maxOpen(s5(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=X1(a,f,d)}return n.someProp("transformPasted",f=>{a=f(a,n)}),a}const n5=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function s5(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),r,o=[];if(n.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&r.length&&mA(l,r,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=yA(o[o.length-1],r.length));let u=gA(a,l);o.push(u),i=i.matchType(u.type),r=l}}),o)return G.from(o)}return n}function gA(n,e,t=0){for(let s=e.length-1;s>=t;s--)n=e[s].create(null,G.from(n));return n}function mA(n,e,t,s,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let r=mA(n,e,t,s.lastChild,i+1);if(r)return s.copy(s.content.replaceChild(s.childCount-1,r));if(s.contentMatchAt(s.childCount).matchType(i==n.length-1?t.type:n[i+1]))return s.copy(s.content.append(G.from(gA(t,n,i+1))))}}function yA(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,yA(n.lastChild,e-1)),s=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(s))}function ub(n,e,t,s,i,r){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(r=0),i<s-1&&(a=ub(a,e,t,s,i+1,r)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,r<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function X1(n,e,t){return e<n.openStart&&(n=new ue(ub(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ue(ub(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const bA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let J1=null;function vA(){return J1||(J1=document.implementation.createHTMLDocument("title"))}let Rm=null;function i5(n){let e=window.trustedTypes;return e?(Rm||(Rm=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Rm.createHTML(n)):n}function r5(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=vA().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(n),i;if((i=s&&bA[s[1].toLowerCase()])&&(n=i.map(r=>"<"+r+">").join("")+n+i.map(r=>"</"+r+">").reverse().join("")),t.innerHTML=i5(n),i)for(let r=0;r<i.length;r++)t=t.querySelector(i[r])||t;return t}function o5(n){let e=n.querySelectorAll($n?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let s=e[t];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),s)}}function a5(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return n}let{content:i,openStart:r,openEnd:o}=n;for(let a=s.length-2;a>=0;a-=2){let l=t.nodes[s[a]];if(!l||l.hasRequiredAttrs())break;i=G.from(l.create(s[a+1],i)),r++,o++}return new ue(i,r,o)}const es={},ts={},l5={touchstart:!0,touchmove:!0};class c5{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function u5(n){for(let e in es){let t=es[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=s=>{d5(n,s)&&!d0(n,s)&&(n.editable||!(s.type in ts))&&t(n,s)},l5[e]?{passive:!0}:void 0)}Zn&&n.dom.addEventListener("input",()=>null),fb(n)}function Kr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function f5(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function fb(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=s=>d0(n,s))})}function d0(n,e){return n.someProp("handleDOMEvents",t=>{let s=t[e.type];return s?s(n,e)||e.defaultPrevented:!1})}function d5(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function h5(n,e){!d0(n,e)&&es[e.type]&&(n.editable||!(e.type in ts))&&es[e.type](n,e)}ts.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!SA(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(qi&&$n&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Kl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let s=Date.now();n.input.lastIOSEnter=s,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==s&&(n.someProp("handleKeyDown",i=>i(n,Uo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",s=>s(n,t))||t5(n,t)?t.preventDefault():Kr(n,"key")};ts.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ts.keypress=(n,e)=>{let t=e;if(SA(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ls&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let s=n.state.selection;if(!(s instanceof De)||!s.$from.sameParent(s.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",r=>r(n,s.$from.pos,s.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Og(n){return{left:n.clientX,top:n.clientY}}function p5(n,e){let t=e.x-n.clientX,s=e.y-n.clientY;return t*t+s*s<100}function h0(n,e,t,s,i){if(s==-1)return!1;let r=n.state.doc.resolve(s);for(let o=r.depth+1;o>0;o--)if(n.someProp(e,a=>o>r.depth?a(n,t,r.nodeAfter,r.before(o),i,!0):a(n,t,r.node(o),r.before(o),i,!1)))return!0;return!1}function yl(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let s=n.state.tr.setSelection(e);s.setMeta("pointer",!0),n.dispatch(s)}function g5(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),s=t.nodeAfter;return s&&s.isAtom&&Se.isSelectable(s)?(yl(n,new Se(t)),!0):!1}function m5(n,e){if(e==-1)return!1;let t=n.state.selection,s,i;t instanceof Se&&(s=t.node);let r=n.state.doc.resolve(e);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o);if(Se.isSelectable(a)){s&&t.$from.depth>0&&o>=t.$from.depth&&r.before(t.$from.depth+1)==t.$from.pos?i=r.before(t.$from.depth):i=r.before(o);break}}return i!=null?(yl(n,Se.create(n.state.doc,i)),!0):!1}function y5(n,e,t,s,i){return h0(n,"handleClickOn",e,t,s)||n.someProp("handleClick",r=>r(n,e,s))||(i?m5(n,t):g5(n,t))}function b5(n,e,t,s){return h0(n,"handleDoubleClickOn",e,t,s)||n.someProp("handleDoubleClick",i=>i(n,e,s))}function v5(n,e,t,s){return h0(n,"handleTripleClickOn",e,t,s)||n.someProp("handleTripleClick",i=>i(n,e,s))||x5(n,t,s)}function x5(n,e,t){if(t.button!=0)return!1;let s=n.state.doc;if(e==-1)return s.inlineContent?(yl(n,De.create(s,0,s.content.size)),!0):!1;let i=s.resolve(e);for(let r=i.depth+1;r>0;r--){let o=r>i.depth?i.nodeAfter:i.node(r),a=i.before(r);if(o.inlineContent)yl(n,De.create(s,a+1,a+1+o.content.size));else if(Se.isSelectable(o))yl(n,Se.create(s,a));else continue;return!0}}function p0(n){return Wh(n)}const xA=Ls?"metaKey":"ctrlKey";es.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let s=p0(n),i=Date.now(),r="singleClick";i-n.input.lastClick.time<500&&p5(t,n.input.lastClick)&&!t[xA]&&(n.input.lastClick.type=="singleClick"?r="doubleClick":n.input.lastClick.type=="doubleClick"&&(r="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:r};let o=n.posAtCoords(Og(t));o&&(r=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new S5(n,o,t,!!s)):(r=="doubleClick"?b5:v5)(n,o.pos,o.inside,t)?t.preventDefault():Kr(n,"pointer"))};class S5{constructor(e,t,s,i){this.view=e,this.pos=t,this.event=s,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[xA],this.allowDefault=s.shiftKey;let r,o;if(t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);r=u.parent,o=u.depth?u.before():0}const a=i?null:s.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(s.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||c instanceof Se&&c.from<=o&&c.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&li&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>rr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Og(e))),this.updateAllowDefault(e),this.allowDefault||!t?Kr(this.view,"pointer"):y5(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Zn&&this.mightDrag&&!this.mightDrag.node.isAtom||$n&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(yl(this.view,je.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Kr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}es.touchstart=n=>{n.input.lastTouch=Date.now(),p0(n),Kr(n,"pointer")};es.touchmove=n=>{n.input.lastTouch=Date.now(),Kr(n,"pointer")};es.contextmenu=n=>p0(n);function SA(n,e){return n.composing?!0:Zn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const E5=qi?5e3:-1;ts.compositionstart=ts.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof De&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Wh(n,!0),n.markCursor=null;else if(Wh(n,!e.selection.empty),li&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let s=n.domSelectionRange();for(let i=s.focusNode,r=s.focusOffset;i&&i.nodeType==1&&r!=0;){let o=r<0?i.lastChild:i.childNodes[r-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,r=-1}}n.input.composing=!0}EA(n,E5)};ts.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,EA(n,20))};function EA(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Wh(n),e))}function wA(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=T5());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function w5(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=g4(e.focusNode,e.focusOffset),s=m4(e.focusNode,e.focusOffset);if(t&&s&&t!=s){let i=s.pmViewDesc,r=n.domObserver.lastChangedTextNode;if(t==r||s==r)return r;if(!i||!i.isText(s.nodeValue))return s;if(n.input.compositionNode==s){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return s}}return t||s}function T5(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Wh(n,e=!1){if(!(qi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),wA(n),e||n.docView&&n.docView.dirty){let t=u0(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function C5(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),s.removeAllRanges(),s.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ku=gs&&ro<15||Kl&&S4<604;es.copy=ts.cut=(n,e)=>{let t=e,s=n.state.selection,i=t.type=="cut";if(s.empty)return;let r=Ku?null:t.clipboardData,o=s.content(),{dom:a,text:l}=hA(n,o);r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",l)):C5(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function O5(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function k5(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,s=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),s.parentNode&&s.parentNode.removeChild(s),t?Gu(n,s.value,null,i,e):Gu(n,s.textContent,s.innerHTML,i,e)},50)}function Gu(n,e,t,s,i){let r=pA(n,e,t,s,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,r||ue.empty)))return!0;if(!r)return!1;let o=O5(r),a=o?n.state.tr.replaceSelectionWith(o,s):n.state.tr.replaceSelection(r);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TA(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ts.paste=(n,e)=>{let t=e;if(n.composing&&!qi)return;let s=Ku?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;s&&Gu(n,TA(s),s.getData("text/html"),i,t)?t.preventDefault():k5(n,t)};class CA{constructor(e,t,s){this.slice=e,this.move=t,this.node=s}}const OA=Ls?"altKey":"ctrlKey";es.dragstart=(n,e)=>{let t=e,s=n.input.mouseDown;if(s&&s.done(),!t.dataTransfer)return;let i=n.state.selection,r=i.empty?null:n.posAtCoords(Og(t)),o;if(!(r&&r.pos>=i.from&&r.pos<=(i instanceof Se?i.to-1:i.to))){if(s&&s.mightDrag)o=Se.create(n.state.doc,s.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let f=n.docView.nearestDesc(t.target,!0);f&&f.node.type.spec.draggable&&f!=n.docView&&(o=Se.create(n.state.doc,f.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:u}=hA(n,a);(!t.dataTransfer.files.length||!$n||q_>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ku?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ku||t.dataTransfer.setData("text/plain",c),n.dragging=new CA(u,!t[OA],o)};es.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ts.dragover=ts.dragenter=(n,e)=>e.preventDefault();ts.drop=(n,e)=>{let t=e,s=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Og(t));if(!i)return;let r=n.state.doc.resolve(i.pos),o=s&&s.slice;o?n.someProp("transformPasted",p=>{o=p(o,n)}):o=pA(n,TA(t.dataTransfer),Ku?null:t.dataTransfer.getData("text/html"),!1,r);let a=!!(s&&!t[OA]);if(n.someProp("handleDrop",p=>p(n,t,o||ue.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?H_(n.state.doc,r.pos,o):r.pos;l==null&&(l=r.pos);let c=n.state.tr;if(a){let{node:p}=s;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&Se.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Se(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,y,b)=>p=b),c.setSelection(f0(n,h,c.doc.resolve(p)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};es.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&rr(n)},20))};es.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};es.beforeinput=(n,e)=>{if($n&&qi&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:s}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=s||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",r=>r(n,Uo(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in ts)es[n]=ts[n];function Xu(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Kh{constructor(e,t){this.toDOM=e,this.spec=t||ha,this.side=this.spec.side||0}map(e,t,s,i){let{pos:r,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new js(r-s,r-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Kh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ao{constructor(e,t){this.attrs=e,this.spec=t||ha}map(e,t,s,i){let r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-s,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-s;return r>=o?null:new js(r,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ao&&Xu(this.attrs,e.attrs)&&Xu(this.spec,e.spec)}static is(e){return e.type instanceof ao}destroy(){}}class g0{constructor(e,t){this.attrs=e,this.spec=t||ha}map(e,t,s,i){let r=e.mapResult(t.from+i,1);if(r.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new js(r.pos-s,o.pos-s,this)}valid(e,t){let{index:s,offset:i}=e.content.findIndex(t.from),r;return i==t.from&&!(r=e.child(s)).isText&&i+r.nodeSize==t.to}eq(e){return this==e||e instanceof g0&&Xu(this.attrs,e.attrs)&&Xu(this.spec,e.spec)}destroy(){}}class js{constructor(e,t,s){this.from=e,this.to=t,this.type=s}copy(e,t){return new js(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,s){return this.type.map(e,this,t,s)}static widget(e,t,s){return new js(e,e,new Kh(t,s))}static inline(e,t,s,i){return new js(e,t,new ao(s,i))}static node(e,t,s,i){return new js(e,t,new g0(s,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ao}get widget(){return this.type instanceof Kh}}const sl=[],ha={};class en{constructor(e,t){this.local=e.length?e:sl,this.children=t.length?t:sl}static create(e,t){return t.length?Gh(t,e,0,ha):Mn}find(e,t,s){let i=[];return this.findInner(e??0,t??1e9,i,0,s),i}findInner(e,t,s,i,r){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&s.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,s,i+a,r)}}map(e,t,s){return this==Mn||e.maps.length==0?this:this.mapInner(e,t,0,0,s||ha)}mapInner(e,t,s,i,r){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,s,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?_5(this.children,o||[],e,t,s,i,r):o?new en(o.sort(pa),sl):Mn}add(e,t){return t.length?this==Mn?en.create(e,t):this.addInner(e,t,0):this}addInner(e,t,s){let i,r=0;e.forEach((a,l)=>{let c=l+s,u;if(u=_A(t,a,c)){for(i||(i=this.children.slice());r<i.length&&i[r]<l;)r+=3;i[r]==l?i[r+2]=i[r+2].addInner(a,u,c+1):i.splice(r,0,l,l+a.nodeSize,Gh(u,a,c+1,ha)),r+=3}});let o=kA(r?AA(t):t,-s);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new en(o.length?this.local.concat(o).sort(pa):this.local,i||this.children)}remove(e){return e.length==0||this==Mn?this:this.removeInner(e,0)}removeInner(e,t){let s=this.children,i=this.local;for(let r=0;r<s.length;r+=3){let o,a=s[r]+t,l=s[r+1]+t;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;s==this.children&&(s=this.children.slice());let c=s[r+2].removeInner(o,a+1);c!=Mn?s[r+2]=c:(s.splice(r,3),r-=3)}if(i.length){for(let r=0,o;r<e.length;r++)if(o=e[r])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return s==this.children&&i==this.local?this:i.length||s.length?new en(i,s):Mn}forChild(e,t){if(this==Mn)return this;if(t.isLeaf)return en.empty;let s,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(s=this.children[a+2]);break}let r=e+1,o=r+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>r&&l.type instanceof ao){let c=Math.max(r,l.from)-r,u=Math.min(o,l.to)-r;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new en(i.sort(pa),sl);return s?new Dr([a,s]):a}return s||Mn}eq(e){if(this==e)return!0;if(!(e instanceof en)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return m0(this.localsInner(e))}localsInner(e){if(this==Mn)return sl;if(e.inlineContent||!this.local.some(ao.is))return this.local;let t=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof ao||t.push(this.local[s]);return t}forEachSet(e){e(this)}}en.empty=new en([],[]);en.removeOverlap=m0;const Mn=en.empty;class Dr{constructor(e){this.members=e}map(e,t){const s=this.members.map(i=>i.map(e,t,ha));return Dr.from(s)}forChild(e,t){if(t.isLeaf)return en.empty;let s=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(e,t);r!=Mn&&(r instanceof Dr?s=s.concat(r.members):s.push(r))}return Dr.from(s)}eq(e){if(!(e instanceof Dr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,s=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(e);if(r.length)if(!t)t=r;else{s&&(t=t.slice(),s=!1);for(let o=0;o<r.length;o++)t.push(r[o])}}return t?m0(s?t:t.sort(pa)):sl}static from(e){switch(e.length){case 0:return Mn;case 1:return e[0];default:return new Dr(e.every(t=>t instanceof en)?e:e.reduce((t,s)=>t.concat(s instanceof en?s:s.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function _5(n,e,t,s,i,r,o){let a=n.slice();for(let c=0,u=r;c<t.maps.length;c++){let f=0;t.maps[c].forEach((d,h,p,g)=>{let m=g-p-(h-d);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||d>b+u-f)continue;let x=a[y]+u-f;h>=x?a[y+1]=d<=x?-2:-1:d>=u&&m&&(a[y]+=m,a[y+1]+=m)}f+=m}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+r),f=u-i;if(f<0||f>=s.content.size){l=!0;continue}let d=t.map(n[c+1]+r,-1),h=d-i,{index:p,offset:g}=s.content.findIndex(f),m=s.maybeChild(p);if(m&&g==f&&g+m.nodeSize==h){let y=a[c+2].mapInner(t,m,u+1,n[c]+r+1,o);y!=Mn?(a[c]=f,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=A5(a,n,e,t,i,r,o),u=Gh(c,s,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let h=u.children[f];for(;d<a.length&&a[d]<h;)d+=3;a.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new en(e.sort(pa),a)}function kA(n,e){if(!e||!n.length)return n;let t=[];for(let s=0;s<n.length;s++){let i=n[s];t.push(new js(i.from+e,i.to+e,i.type))}return t}function A5(n,e,t,s,i,r,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(s,i,c);f?t.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+r+1);return t}function _A(n,e,t){if(e.isLeaf)return null;let s=t+e.nodeSize,i=null;for(let r=0,o;r<n.length;r++)(o=n[r])&&o.from>t&&o.to<s&&((i||(i=[])).push(o),n[r]=null);return i}function AA(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Gh(n,e,t,s){let i=[],r=!1;e.forEach((a,l)=>{let c=_A(n,a,l+t);if(c){r=!0;let u=Gh(c,a,t+l+1,s);u!=Mn&&i.push(l,l+a.nodeSize,u)}});let o=kA(r?AA(n):n,-t).sort(pa);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(s.onRemove&&s.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new en(o,i):Mn}function pa(n,e){return n.from-e.from||n.to-e.to}function m0(n){let e=n;for(let t=0;t<e.length-1;t++){let s=e[t];if(s.from!=s.to)for(let i=t+1;i<e.length;i++){let r=e[i];if(r.from==s.from){r.to!=s.to&&(e==n&&(e=n.slice()),e[i]=r.copy(r.from,s.to),Y1(e,i+1,r.copy(s.to,r.to)));continue}else{r.from<s.to&&(e==n&&(e=n.slice()),e[t]=s.copy(s.from,r.from),Y1(e,i,s.copy(r.from,s.to)));break}}}return e}function Y1(n,e,t){for(;e<n.length&&pa(t,n[e])>0;)e++;n.splice(e,0,t)}function Dm(n){let e=[];return n.someProp("decorations",t=>{let s=t(n.state);s&&s!=Mn&&e.push(s)}),n.cursorWrapper&&e.push(en.create(n.state.doc,[n.cursorWrapper.deco])),Dr.from(e)}const M5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},P5=gs&&ro<=11;class I5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class R5{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new I5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let i=0;i<s.length;i++)this.queue.push(s[i]);gs&&ro<=11&&s.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),P5&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,M5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(H1(this.view)){if(this.suppressingSelectionUpdates)return rr(this.view);if(gs&&ro<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Oa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,s;for(let r=e.focusNode;r;r=Wu(r))t.add(r);for(let r=e.anchorNode;r;r=Wu(r))if(t.has(r)){s=r;break}let i=s&&this.view.docView.nearestDesc(s);if(i&&i.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let s=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&H1(e)&&!this.ignoreSelectionChange(s),r=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let f=this.registerMutation(t[u],l);f&&(r=r<0?f.from:Math.min(f.from,r),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(li&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||L5(e,f)!=h)&&d.remove()}}}let c=null;r<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Tg(s)&&(c=u0(e))&&c.eq(je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,rr(e),this.currentSelection.set(s),e.scrollToSelection()):(r>-1||i)&&(r>-1&&(e.docView.markDirty(r,o),D5(e)),this.handleDOMChange(r,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||rr(e),this.currentSelection.set(s))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];t.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let i=e.previousSibling,r=e.nextSibling;if(gs&&ro<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d)}let o=i&&i.parentNode==e.target?Sn(i)+1:0,a=s.localPosFromDOM(e.target,o,-1),l=r&&r.parentNode==e.target?Sn(r):e.target.childNodes.length,c=s.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let q1=new WeakMap,Q1=!1;function D5(n){if(!q1.has(n)&&(q1.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=li,Q1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Q1=!0}}function Z1(n,e){let t=e.startContainer,s=e.startOffset,i=e.endContainer,r=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Oa(o.node,o.offset,i,r)&&([t,s,i,r]=[i,r,t,s]),{anchorNode:t,anchorOffset:s,focusNode:i,focusOffset:r}}function N5(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Z1(n,i)}let t;function s(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",s,!0),t?Z1(n,t):null}function L5(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let s=n.docView.nearestDesc(t,!0);if(s&&s.node.isBlock)return t}return null}function F5(n,e,t){let{node:s,fromOffset:i,toOffset:r,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Tg(l)||c.push({node:l.focusNode,offset:l.focusOffset})),$n&&n.input.lastKeyCode===8)for(let m=r;m>i;m--){let y=s.childNodes[m-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){r=m;break}if(!b||b.size)break}let f=n.state.doc,d=n.someProp("domParser")||io.fromSchema(n.state.schema),h=f.resolve(o),p=null,g=d.parse(s,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:r,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:$5,context:h});if(c&&c[0].pos!=null){let m=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=m),p={anchor:m+o,head:y+o}}return{doc:g,sel:p,from:o,to:a}}function $5(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Zn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Zn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const j5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function B5(n,e,t,s,i){let r=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let w=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,O=u0(n,w);if(O&&!n.state.selection.eq(O)){if($n&&qi&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",T=>T(n,Uo(13,"Enter"))))return;let C=n.state.tr.setSelection(O);w=="pointer"?C.setMeta("pointer",!0):w=="key"&&C.scrollIntoView(),r&&C.setMeta("composition",r),n.dispatch(C)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=F5(n,e,t),u=n.state.doc,f=u.slice(c.from,c.to),d,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(d=n.state.selection.to,h="end"):(d=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let p=U5(f.content,c.doc.content,c.from,d,h);if(p&&n.input.domChangeCount++,(Kl&&n.input.lastIOSEnter>Date.now()-225||qi)&&i.some(w=>w.nodeType==1&&!j5.test(w.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",w=>w(n,Uo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(s&&l instanceof De&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let w=eE(n,n.state.doc,c.sel);if(w&&!w.eq(n.state.selection)){let O=n.state.tr.setSelection(w);r&&O.setMeta("composition",r),n.dispatch(O)}}return}n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof De&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),gs&&ro<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA,x;if((Kl&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(w=>w.nodeName=="DIV"||w.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&!g.sameParent(m)&&(x=je.findFrom(c.doc.resolve(g.pos+1),1,!0))&&x.head==m.pos)&&n.someProp("handleKeyDown",w=>w(n,Uo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&H5(u,p.start,p.endA,g,m)&&n.someProp("handleKeyDown",w=>w(n,Uo(8,"Backspace")))){qi&&$n&&n.domObserver.suppressSelectionUpdates();return}$n&&p.endB==p.start&&(n.input.lastChromeDelete=Date.now()),qi&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(w){return w(n,Uo(13,"Enter"))})},20));let v=p.start,S=p.endA,E,k,_;if(b){if(g.pos==m.pos)gs&&ro<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>rr(n),20)),E=n.state.tr.delete(v,S),k=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(_=V5(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))E=n.state.tr,_.type=="add"?E.addMark(v,S,_.mark):E.removeMark(v,S,_.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let w=g.parent.textBetween(g.parentOffset,m.parentOffset);if(n.someProp("handleTextInput",O=>O(n,v,S,w)))return;E=n.state.tr.insertText(w,v,S)}}if(E||(E=n.state.tr.replace(v,S,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let w=eE(n,E.doc,c.sel);w&&!($n&&n.composing&&w.empty&&(p.start!=p.endB||n.input.lastChromeDelete<Date.now()-100)&&(w.head==v||w.head==E.mapping.map(S)-1)||gs&&w.empty&&w.head==v)&&E.setSelection(w)}k&&E.ensureMarks(k),r&&E.setMeta("composition",r),n.dispatch(E.scrollIntoView())}function eE(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:f0(n,e.resolve(t.anchor),e.resolve(t.head))}function V5(n,e){let t=n.firstChild.marks,s=e.firstChild.marks,i=t,r=s,o,a,l;for(let u=0;u<s.length;u++)i=s[u].removeFromSet(i);for(let u=0;u<t.length;u++)r=t[u].removeFromSet(r);if(i.length==1&&r.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&r.length==1)a=r[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(G.from(c).eq(n))return{mark:a,type:o}}function H5(n,e,t,s,i){if(t-e<=i.pos-s.pos||Nm(s,!0,!1)<i.pos)return!1;let r=n.resolve(e);if(!s.parent.isTextblock){let a=r.nodeAfter;return a!=null&&t==e+a.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let o=n.resolve(Nm(r,!0,!0));return!o.parent.isTextblock||o.pos>t||Nm(o,!0,!1)<t?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function Nm(n,e,t){let s=n.depth,i=e?n.end():n.pos;for(;s>0&&(e||n.indexAfter(s)==n.node(s).childCount);)s--,i++,e=!1;if(t){let r=n.node(s).maybeChild(n.indexAfter(s));for(;r&&!r.isLeaf;)r=r.firstChild,i++}return i}function U5(n,e,t,s,i){let r=n.findDiffStart(e,t);if(r==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,r-Math.min(o,a));s-=o+l-r}if(o<r&&n.size<e.size){let l=s<=r&&s>=o?r-s:0;r-=l,r&&r<e.size&&tE(e.textBetween(r-1,r+1))&&(r+=l?1:-1),a=r+(a-o),o=r}else if(a<r){let l=s<=r&&s>=a?r-s:0;r-=l,r&&r<n.size&&tE(n.textBetween(r-1,r+1))&&(r+=l?1:-1),o=r+(o-a),a=r}return{start:r,endA:o,endB:a}}function tE(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class z5{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new c5,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(oE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=iE(this),sE(this),this.nodeViews=rE(this),this.docView=L1(this.state.doc,nE(this),Dm(this),this.dom,this),this.domObserver=new R5(this,(s,i,r,o)=>B5(this,s,i,r,o)),this.domObserver.start(),u5(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&fb(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(oE),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let s in this._props)t[s]=this._props[s];t.state=this.state;for(let s in e)t[s]=e[s];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var s;let i=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(wA(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=rE(this);K5(h,this.nodeViews)&&(this.nodeViews=h,r=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&fb(this),this.editable=iE(this),sE(this);let l=Dm(this),c=nE(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=r||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&T4(this);if(o){this.domObserver.stop();let h=f&&(gs||$n)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&W5(i.selection,e.selection);if(f){let p=$n?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=w5(this)),(r||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=L1(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&X4(this))?rr(this,h):(uA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((s=this.dragging)===null||s===void 0)&&s.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&C4(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Se){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&M1(this,t.getBoundingClientRect(),e)}else M1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let s=this.directPlugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let s=this.state.plugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let s=this.pluginViews[t];s.update&&s.update(this,e)}}updateDraggedNode(e,t){let s=e.node,i=-1;if(this.state.doc.nodeAt(s.from)==s.node)i=s.from;else{let r=s.from+(this.state.doc.content.size-t.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==s.node&&(i=r)}this.dragging=new CA(e.slice,e.move,i<0?void 0:Se.create(this.state.doc,i))}someProp(e,t){let s=this._props&&this._props[e],i;if(s!=null&&(i=t?t(s):s))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let a=r[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(gs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&O4(this.dom),rr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return P4(this,e)}coordsAtPos(e,t=1){return nA(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,s=-1){let i=this.docView.posFromDOM(e,t,s);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return L4(this,t||this.state,e)}pasteHTML(e,t){return Gu(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Gu(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(f5(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,h4())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return h5(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Zn&&this.root.nodeType===11&&b4(this.dom.ownerDocument)==this.dom&&N5(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function nE(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let s in t)s=="class"?e.class+=" "+t[s]:s=="style"?e.style=(e.style?e.style+";":"")+t[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(t[s]))}),e.translate||(e.translate="no"),[js.node(0,n.state.doc.content.size,e)]}function sE(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:js.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function iE(n){return!n.someProp("editable",e=>e(n.state)===!1)}function W5(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function rE(n){let e=Object.create(null);function t(s){for(let i in s)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=s[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function K5(n,e){let t=0,s=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)s++;return t!=s}function oE(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ho={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},G5=typeof navigator<"u"&&/Mac/.test(navigator.platform),X5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var En=0;En<10;En++)ho[48+En]=ho[96+En]=String(En);for(var En=1;En<=24;En++)ho[En+111]="F"+En;for(var En=65;En<=90;En++)ho[En]=String.fromCharCode(En+32),Xh[En]=String.fromCharCode(En);for(var Lm in ho)Xh.hasOwnProperty(Lm)||(Xh[Lm]=ho[Lm]);function J5(n){var e=G5&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||X5&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Xh:ho)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Y5=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function q5(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let s,i,r,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))s=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))Y5?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return s&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),r&&(t="Shift-"+t),t}function Q5(n){let e=Object.create(null);for(let t in n)e[q5(t)]=n[t];return e}function Fm(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Z5(n){return new Tn({props:{handleKeyDown:MA(n)}})}function MA(n){let e=Q5(n);return function(t,s){let i=J5(s),r,o=e[Fm(i,s)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(s.shiftKey){let a=e[Fm(i,s,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((s.shiftKey||s.altKey||s.metaKey||i.charCodeAt(0)>127)&&(r=ho[s.keyCode])&&r!=i){let a=e[Fm(r,s)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const eH=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function PA(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const tH=(n,e,t)=>{let s=PA(n,t);if(!s)return!1;let i=y0(s);if(!i){let o=s.blockRange(),a=o&&oc(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let r=i.nodeBefore;if(NA(n,i,e,-1))return!0;if(s.parent.content.size==0&&(Gl(r,"end")||Se.isSelectable(r)))for(let o=s.depth;;o--){let a=Eg(n.doc,s.before(o),s.after(o),ue.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Gl(r,"end")?je.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Se.create(l.doc,i.pos-r.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return r.isAtom&&i.depth==s.depth-1?(e&&e(n.tr.delete(i.pos-r.nodeSize,i.pos).scrollIntoView()),!0):!1},nH=(n,e,t)=>{let s=PA(n,t);if(!s)return!1;let i=y0(s);return i?IA(n,i,e):!1},sH=(n,e,t)=>{let s=RA(n,t);if(!s)return!1;let i=b0(s);return i?IA(n,i,e):!1};function IA(n,e,t){let s=e.nodeBefore,i=s,r=e.pos-1;for(;!i.isTextblock;r--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Eg(n.doc,r,l,ue.empty);if(!c||c.from!=r||c instanceof cn&&c.slice.size>=l-r)return!1;if(t){let u=n.tr.step(c);u.setSelection(De.create(u.doc,r)),t(u.scrollIntoView())}return!0}function Gl(n,e,t=!1){for(let s=n;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(t&&s.childCount!=1)return!1}return!1}const iH=(n,e,t)=>{let{$head:s,empty:i}=n.selection,r=s;if(!i)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):s.parentOffset>0)return!1;r=y0(s)}let o=r&&r.nodeBefore;return!o||!Se.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Se.create(n.doc,r.pos-o.nodeSize)).scrollIntoView()),!0)};function y0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function RA(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const rH=(n,e,t)=>{let s=RA(n,t);if(!s)return!1;let i=b0(s);if(!i)return!1;let r=i.nodeAfter;if(NA(n,i,e,1))return!0;if(s.parent.content.size==0&&(Gl(r,"start")||Se.isSelectable(r))){let o=Eg(n.doc,s.before(),s.after(),ue.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(Gl(r,"start")?je.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Se.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return r.isAtom&&i.depth==s.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+r.nodeSize).scrollIntoView()),!0):!1},oH=(n,e,t)=>{let{$head:s,empty:i}=n.selection,r=s;if(!i)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):s.parentOffset<s.parent.content.size)return!1;r=b0(s)}let o=r&&r.nodeAfter;return!o||!Se.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Se.create(n.doc,r.pos)).scrollIntoView()),!0)};function b0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const aH=(n,e)=>{let t=n.selection,s=t instanceof Se,i;if(s){if(t.node.isTextblock||!wo(n.doc,t.from))return!1;i=t.from}else if(i=Sg(n.doc,t.from,-1),i==null)return!1;if(e){let r=n.tr.join(i);s&&r.setSelection(Se.create(r.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0},lH=(n,e)=>{let t=n.selection,s;if(t instanceof Se){if(t.node.isTextblock||!wo(n.doc,t.to))return!1;s=t.to}else if(s=Sg(n.doc,t.to,1),s==null)return!1;return e&&e(n.tr.join(s).scrollIntoView()),!0},cH=(n,e)=>{let{$from:t,$to:s}=n.selection,i=t.blockRange(s),r=i&&oc(i);return r==null?!1:(e&&e(n.tr.lift(i,r).scrollIntoView()),!0)},uH=(n,e)=>{let{$head:t,$anchor:s}=n.selection;return!t.parent.type.spec.code||!t.sameParent(s)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function DA(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const fH=(n,e)=>{let{$head:t,$anchor:s}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(s))return!1;let i=t.node(-1),r=t.indexAfter(-1),o=DA(i.contentMatchAt(r));if(!o||!i.canReplaceWith(r,r,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(je.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},dH=(n,e)=>{let t=n.selection,{$from:s,$to:i}=t;if(t instanceof Us||s.parent.inlineContent||i.parent.inlineContent)return!1;let r=DA(i.parent.contentMatchAt(i.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){let o=(!s.parentOffset&&i.index()<i.parent.childCount?s:i).pos,a=n.tr.insert(o,r.createAndFill());a.setSelection(De.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},hH=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let r=t.before();if(gl(n.doc,r))return e&&e(n.tr.split(r).scrollIntoView()),!0}let s=t.blockRange(),i=s&&oc(s);return i==null?!1:(e&&e(n.tr.lift(s,i).scrollIntoView()),!0)},pH=(n,e)=>{let{$from:t,to:s}=n.selection,i,r=t.sharedDepth(s);return r==0?!1:(i=t.before(r),e&&e(n.tr.setSelection(Se.create(n.doc,i))),!0)};function gH(n,e,t){let s=e.nodeBefore,i=e.nodeAfter,r=e.index();return!s||!i||!s.type.compatibleContent(i.type)?!1:!s.content.size&&e.parent.canReplace(r-1,r)?(t&&t(n.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(r,r+1)||!(i.isTextblock||wo(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function NA(n,e,t,s){let i=e.nodeBefore,r=e.nodeAfter,o,a,l=i.type.spec.isolating||r.type.spec.isolating;if(!l&&gH(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(r.type))&&a.matchType(o[0]||r.type).validEnd){if(t){let h=e.pos+r.nodeSize,p=G.empty;for(let y=o.length-1;y>=0;y--)p=G.from(o[y].create(null,p));p=G.from(i.copy(p));let g=n.tr.step(new dn(e.pos-1,h,e.pos,h,new ue(p,1,0),o.length,!0)),m=g.doc.resolve(h+2*o.length);m.nodeAfter&&m.nodeAfter.type==i.type&&wo(g.doc,m.pos)&&g.join(m.pos),t(g.scrollIntoView())}return!0}let u=r.type.spec.isolating||s>0&&l?null:je.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&oc(f);if(d!=null&&d>=e.depth)return t&&t(n.tr.lift(f,d).scrollIntoView()),!0;if(c&&Gl(r,"start",!0)&&Gl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=r,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(t){let y=G.empty;for(let x=p.length-1;x>=0;x--)y=G.from(p[x].copy(y));let b=n.tr.step(new dn(e.pos-p.length,e.pos+r.nodeSize,e.pos+m,e.pos+r.nodeSize-m,new ue(y,p.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function LA(n){return function(e,t){let s=e.selection,i=n<0?s.$from:s.$to,r=i.depth;for(;i.node(r).isInline;){if(!r)return!1;r--}return i.node(r).isTextblock?(t&&t(e.tr.setSelection(De.create(e.doc,n<0?i.start(r):i.end(r)))),!0):!1}}const mH=LA(-1),yH=LA(1);function bH(n,e=null){return function(t,s){let{$from:i,$to:r}=t.selection,o=i.blockRange(r),a=o&&a0(o,n,e);return a?(s&&s(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function aE(n,e=null){return function(t,s){let i=!1;for(let r=0;r<t.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[r];t.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,n)}})}if(!i)return!1;if(s){let r=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];r.setBlockType(a,l,n,e)}s(r.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function vH(n,e=null){return function(t,s){let{$from:i,$to:r}=t.selection,o=i.blockRange(r);if(!o)return!1;let a=s?t.tr:null;return xH(a,o,n,e)?(s&&s(a.scrollIntoView()),!0):!1}}function xH(n,e,t,s=null){let i=!1,r=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);r=new Vh(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Vh(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=a0(r,t,s,e);return a?(n&&SH(n,e,a,i,t),!0):!1}function SH(n,e,t,s,i){let r=G.empty;for(let u=t.length-1;u>=0;u--)r=G.from(t[u].type.create(t[u].attrs,r));n.step(new dn(e.start-(s?2:0),e.end,e.start,e.end,new ue(r,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==i&&(o=u+1);let a=t.length-o,l=e.start+t.length-(s?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&gl(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function EH(n){return function(e,t){let{$from:s,$to:i}=e.selection,r=s.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return r?t?s.node(r.depth-1).type==n?wH(e,t,n,r):TH(e,t,r):!0:!1}}function wH(n,e,t,s){let i=n.tr,r=s.end,o=s.$to.end(s.depth);r<o&&(i.step(new dn(r-1,o,r,o,new ue(G.from(t.create(null,s.parent.copy())),1,0),1,!0)),s=new Vh(i.doc.resolve(s.$from.pos),i.doc.resolve(o),s.depth));const a=oc(s);if(a==null)return!1;i.lift(s,a);let l=i.mapping.map(r,-1)-1;return wo(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function TH(n,e,t){let s=n.tr,i=t.parent;for(let h=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)h-=i.child(p).nodeSize,s.delete(h-1,h+1);let r=s.doc.resolve(t.start),o=r.nodeAfter;if(s.mapping.map(t.end)!=t.start+r.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=r.node(-1),u=r.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?G.empty:G.from(i))))return!1;let f=r.pos,d=f+o.nodeSize;return s.step(new dn(f-(a?1:0),d+(l?1:0),f+1,d-1,new ue((a?G.empty:G.from(i.copy(G.empty))).append(l?G.empty:G.from(i.copy(G.empty))),a?0:1,l?0:1),a?0:1)),e(s.scrollIntoView()),!0}function CH(n){return function(e,t){let{$from:s,$to:i}=e.selection,r=s.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!r)return!1;let o=r.startIndex;if(o==0)return!1;let a=r.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=G.from(c?n.create():null),f=new ue(G.from(n.create(null,G.from(a.type.create(null,u)))),c?3:1,0),d=r.start,h=r.end;t(e.tr.step(new dn(d-(c?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function kg(n){const{state:e,transaction:t}=n;let{selection:s}=t,{doc:i}=t,{storedMarks:r}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return r},get selection(){return s},get doc(){return i},get tr(){return s=t.selection,i=t.doc,r=t.storedMarks,t}}}class _g{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:s}=this,{view:i}=t,{tr:r}=s,o=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:s,editor:i,state:r}=this,{view:o}=i,a=[],l=!!e,c=e||r.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(s).map(([d,h])=>[d,(...g)=>{const m=this.buildProps(c,t),y=h(...g)(m);return a.push(y),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:s}=this,i=!1,r=e||s.tr,o=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(e,t=!0){const{rawCommands:s,editor:i,state:r}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:kg({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class OH{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const s=this.callbacks[e];return s&&s.forEach(i=>i.apply(this,t)),this}off(e,t){const s=this.callbacks[e];return s&&(t?this.callbacks[e]=s.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const s=(...i)=>{this.off(e,s),t.apply(this,i)};return this.on(e,s)}removeAllListeners(){this.callbacks={}}}function he(n,e,t){return n.config[e]===void 0&&n.parent?he(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?he(n.parent,e,t):null}):n.config[e]}function Ag(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),s=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:s}}function FA(n){const e=[],{nodeExtensions:t,markExtensions:s}=Ag(n),i=[...t,...s],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=he(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...r,...h}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=he(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const d={...r,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:u,attribute:d})})}),e}function pn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function gn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const s={...e};return Object.entries(t).forEach(([i,r])=>{if(!s[i]){s[i]=r;return}if(i==="class"){const a=r?String(r).split(" "):[],l=s[i]?s[i].split(" "):[],c=a.filter(u=>!l.includes(u));s[i]=[...l,...c].join(" ")}else if(i==="style"){const a=r?r.split(";").map(u=>u.trim()).filter(Boolean):[],l=s[i]?s[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),a.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),s[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else s[i]=r}),s},{})}function db(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,s)=>gn(t,s),{})}function $A(n){return typeof n=="function"}function ze(n,e=void 0,...t){return $A(n)?e?n.bind(e)(...t):n(...t):n}function kH(n={}){return Object.keys(n).length===0&&n.constructor===Object}function _H(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function lE(n,e){return"style"in n?n:{...n,getAttrs:t=>{const s=n.getAttrs?n.getAttrs(t):n.attrs;if(s===!1)return!1;const i=e.reduce((r,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):_H(t.getAttribute(o.name));return a==null?r:{...r,[o.name]:a}},{});return{...s,...i}}}}function cE(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&kH(t)?!1:t!=null))}function AH(n,e){var t;const s=FA(n),{nodeExtensions:i,markExtensions:r}=Ag(n),o=(t=i.find(c=>he(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=s.filter(y=>y.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},d=n.reduce((y,b)=>{const x=he(b,"extendNodeSchema",f);return{...y,...x?x(c):{}}},{}),h=cE({...d,content:ze(he(c,"content",f)),marks:ze(he(c,"marks",f)),group:ze(he(c,"group",f)),inline:ze(he(c,"inline",f)),atom:ze(he(c,"atom",f)),selectable:ze(he(c,"selectable",f)),draggable:ze(he(c,"draggable",f)),code:ze(he(c,"code",f)),whitespace:ze(he(c,"whitespace",f)),linebreakReplacement:ze(he(c,"linebreakReplacement",f)),defining:ze(he(c,"defining",f)),isolating:ze(he(c,"isolating",f)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),p=ze(he(c,"parseHTML",f));p&&(h.parseDOM=p.map(y=>lE(y,u)));const g=he(c,"renderHTML",f);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:db(y,u)}));const m=he(c,"renderText",f);return m&&(h.toText=m),[c.name,h]})),l=Object.fromEntries(r.map(c=>{const u=s.filter(m=>m.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},d=n.reduce((m,y)=>{const b=he(y,"extendMarkSchema",f);return{...m,...b?b(c):{}}},{}),h=cE({...d,inclusive:ze(he(c,"inclusive",f)),excludes:ze(he(c,"excludes",f)),group:ze(he(c,"group",f)),spanning:ze(he(c,"spanning",f)),code:ze(he(c,"code",f)),attrs:Object.fromEntries(u.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=ze(he(c,"parseHTML",f));p&&(h.parseDOM=p.map(m=>lE(m,u)));const g=he(c,"renderHTML",f);return g&&(h.toDOM=m=>g({mark:m,HTMLAttributes:db(m,u)})),[c.name,h]}));return new P_({topNode:o,nodes:a,marks:l})}function $m(n,e){return e.nodes[n]||e.marks[n]||null}function uE(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function v0(n,e){const t=Fa.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const MH=(n,e=500)=>{let t="";const s=n.parentOffset;return n.parent.nodesBetween(Math.max(0,s-e),s,(i,r,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:r,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,s-r))}),t};function x0(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Mg{constructor(e){this.find=e.find,this.handler=e.handler}}const PH=(n,e)=>{if(x0(e))return e.exec(n);const t=e(n);if(!t)return null;const s=[t.text];return s.index=t.index,s.input=n,s.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(t.replaceWith)),s};function cd(n){var e;const{editor:t,from:s,to:i,text:r,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(s);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let u=!1;const f=MH(c)+r;return o.forEach(d=>{if(u)return;const h=PH(f,d.find);if(!h)return;const p=l.state.tr,g=kg({state:l.state,transaction:p}),m={from:s-(h[0].length-r.length),to:i},{commands:y,chain:b,can:x}=new _g({editor:t,state:g});d.handler({state:g,range:m,match:h,commands:y,chain:b,can:x})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:s,to:i,text:r}),l.dispatch(p),u=!0)}),u}function IH(n){const{editor:e,rules:t}=n,s=new Tn({state:{init(){return null},apply(i,r,o){const a=i.getMeta(s);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=v0(G.from(u),o.schema);const{from:f}=l,d=f+u.length;cd({editor:e,from:f,to:d,text:u,rules:t,plugin:s})}),i.selectionSet||i.docChanged?null:r}},props:{handleTextInput(i,r,o,a){return cd({editor:e,from:r,to:o,text:a,rules:t,plugin:s})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:r}=i.state.selection;r&&cd({editor:e,from:r.pos,to:r.pos,text:"",rules:t,plugin:s})}),!1)},handleKeyDown(i,r){if(r.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?cd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:s}):!1}},isInputRules:!0});return s}function RH(n){return Object.prototype.toString.call(n).slice(8,-1)}function ud(n){return RH(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Pg(n,e){const t={...n};return ud(n)&&ud(e)&&Object.keys(e).forEach(s=>{ud(e[s])&&ud(n[s])?t[s]=Pg(n[s],e[s]):t[s]=e[s]}),t}class _i{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ze(he(this,"addOptions",{name:this.name}))),this.storage=ze(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _i(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _i(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ze(he(t,"addOptions",{name:t.name})),t.storage=ze(he(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:s}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&s.removeStoredMark(l),s.insertText(" ",i.pos),e.view.dispatch(s),!0}return!1}}function DH(n){return typeof n=="number"}class NH{constructor(e){this.find=e.find,this.handler=e.handler}}const LH=(n,e,t)=>{if(x0(e))return[...n.matchAll(e)];const s=e(n,t);return s?s.map(i=>{const r=[i.text];return r.index=i.index,r.input=n,r.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(i.replaceWith)),r}):[]};function FH(n){const{editor:e,state:t,from:s,to:i,rule:r,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:u}=new _g({editor:e,state:t}),f=[];return t.doc.nodesBetween(s,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(s,p),m=Math.min(i,p+h.content.size),y=h.textBetween(g-p,m-p,void 0,"");LH(y,r.find,o).forEach(x=>{if(x.index===void 0)return;const v=g+x.index+1,S=v+x[0].length,E={from:t.tr.mapping.map(v),to:t.tr.mapping.map(S)},k=r.handler({state:t,range:E,match:x,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});f.push(k)})}),f.every(h=>h!==null)}let fd=null;const $H=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function jH(n){const{editor:e,rules:t}=n;let s=null,i=!1,r=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:f,to:d,rule:h,pasteEvt:p})=>{const g=u.tr,m=kg({state:u,transaction:g});if(!(!FH({editor:e,state:m,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:p,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new Tn({view(f){const d=p=>{var g;s=!((g=f.dom.parentElement)===null||g===void 0)&&g.contains(p.target)?f.dom.parentElement:null,s&&(fd=e)},h=()=>{fd&&(fd=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(r=s===f.dom.parentElement,a=d,!r){const h=fd;h&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(f,d)=>{var h;const p=(h=d.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,h)=>{const p=f[0],g=p.getMeta("uiEvent")==="paste"&&!i,m=p.getMeta("uiEvent")==="drop"&&!r,y=p.getMeta("applyPasteRules"),b=!!y;if(!g&&!m&&!b)return;if(b){let{text:S}=y;typeof S=="string"?S=S:S=v0(G.from(S),h.schema);const{from:E}=y,k=E+S.length,_=$H(S);return l({rule:u,state:h,from:E,to:{b:k},pasteEvt:_})}const x=d.doc.content.findDiffStart(h.doc.content),v=d.doc.content.findDiffEnd(h.doc.content);if(!(!DH(x)||!v||x===v.b))return l({rule:u,state:h,from:x,to:v,pasteEvt:o})}}))}function BH(n){const e=n.filter((t,s)=>n.indexOf(t)!==s);return Array.from(new Set(e))}class cl{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=cl.resolve(e),this.schema=AH(this.extensions,t),this.setupExtensions()}static resolve(e){const t=cl.sort(cl.flatten(e)),s=BH(t.map(i=>i.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const s={name:t.name,options:t.options,storage:t.storage},i=he(t,"addExtensions",s);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((s,i)=>{const r=he(s,"priority")||100,o=he(i,"priority")||100;return r>o?-1:r<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const s={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:$m(t.name,this.schema)},i=he(t,"addCommands",s);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=cl.sort([...this.extensions].reverse()),s=[],i=[],r=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:$m(o.name,this.schema)},l=[],c=he(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&he(o,"exitable",a)&&(u.ArrowRight=()=>_i.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([m,y])=>[m,()=>y({editor:e})]));u={...u,...g}}const f=Z5(u);l.push(f);const d=he(o,"addInputRules",a);uE(o,e.options.enableInputRules)&&d&&s.push(...d());const h=he(o,"addPasteRules",a);uE(o,e.options.enablePasteRules)&&h&&i.push(...h());const p=he(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[IH({editor:e,rules:s}),...jH({editor:e,rules:i}),...r]}get attributes(){return FA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ag(this.extensions);return Object.fromEntries(t.filter(s=>!!he(s,"addNodeView")).map(s=>{const i=this.attributes.filter(l=>l.type===s.name),r={name:s.name,options:s.options,storage:s.storage,editor:e,type:pn(s.name,this.schema)},o=he(s,"addNodeView",r);if(!o)return[];const a=(l,c,u,f,d)=>{const h=db(l,i);return o()({node:l,view:c,getPos:u,decorations:f,innerDecorations:d,editor:e,extension:s,HTMLAttributes:h})};return[s.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const s={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:$m(e.name,this.schema)};e.type==="mark"&&(!((t=ze(he(e,"keepOnSplit",s)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=he(e,"onBeforeCreate",s),r=he(e,"onCreate",s),o=he(e,"onUpdate",s),a=he(e,"onSelectionUpdate",s),l=he(e,"onTransaction",s),c=he(e,"onFocus",s),u=he(e,"onBlur",s),f=he(e,"onDestroy",s);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class ns{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ze(he(this,"addOptions",{name:this.name}))),this.storage=ze(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ns(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ns({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ze(he(t,"addOptions",{name:t.name})),t.storage=ze(he(t,"addStorage",{name:t.name,options:t.options})),t}}function jA(n,e,t){const{from:s,to:i}=e,{blockSeparator:r=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(s,i,(l,c,u,f)=>{var d;l.isBlock&&c>s&&(a+=r);const h=o==null?void 0:o[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(s,c)-c,i-c))}),a}function BA(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const VH=ns.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Tn({key:new As("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:s,selection:i}=e,{ranges:r}=i,o=Math.min(...r.map(u=>u.$from.pos)),a=Math.max(...r.map(u=>u.$to.pos)),l=BA(t);return jA(s,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),HH=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),UH=(n=!1)=>({commands:e})=>e.setContent("",n),zH=()=>({state:n,tr:e,dispatch:t})=>{const{selection:s}=e,{ranges:i}=s;return t&&i.forEach(({$from:r,$to:o})=>{n.doc.nodesBetween(r.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+a.nodeSize)),h=f.blockRange(d);if(!h)return;const p=oc(h);if(a.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},WH=n=>e=>n(e),KH=()=>({state:n,dispatch:e})=>dH(n,e),GH=(n,e)=>({editor:t,tr:s})=>{const{state:i}=t,r=i.doc.slice(n.from,n.to);s.deleteRange(n.from,n.to);const o=s.mapping.map(e);return s.insert(o,r.content),s.setSelection(new De(s.doc.resolve(o-1))),!0},XH=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,s=t.$anchor.node();if(s.content.size>0)return!1;const i=n.selection.$anchor;for(let r=i.depth;r>0;r-=1)if(i.node(r).type===s.type){if(e){const a=i.before(r),l=i.after(r);n.delete(a,l).scrollIntoView()}return!0}return!1},JH=n=>({tr:e,state:t,dispatch:s})=>{const i=pn(n,t.schema),r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i){if(s){const l=r.before(o),c=r.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},YH=n=>({tr:e,dispatch:t})=>{const{from:s,to:i}=n;return t&&e.delete(s,i),!0},qH=()=>({state:n,dispatch:e})=>eH(n,e),QH=()=>({commands:n})=>n.keyboardShortcut("Enter"),ZH=()=>({state:n,dispatch:e})=>fH(n,e);function Jh(n,e,t={strict:!0}){const s=Object.keys(e);return s.length?s.every(i=>t.strict?e[i]===n[i]:x0(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function VA(n,e,t={}){return n.find(s=>s.type===e&&Jh(Object.fromEntries(Object.keys(t).map(i=>[i,s.attrs[i]])),t))}function fE(n,e,t={}){return!!VA(n,e,t)}function S0(n,e,t){var s;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((s=i.node.marks[0])===null||s===void 0?void 0:s.attrs),!VA([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&fE([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&fE([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Co(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const eU=(n,e={})=>({tr:t,state:s,dispatch:i})=>{const r=Co(n,s.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const f=S0(l,r,e);if(f&&f.from<=c&&f.to>=u){const d=De.create(o,f.from,f.to);t.setSelection(d)}}return!0},tU=n=>e=>{const t=typeof n=="function"?n(e):n;for(let s=0;s<t.length;s+=1)if(t[s](e))return!0;return!1};function HA(n){return n instanceof De}function Xo(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function UA(n,e=null){if(!e)return null;const t=je.atStart(n),s=je.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return s;const i=t.from,r=s.to;return e==="all"?De.create(n,Xo(0,i,r),Xo(n.content.size,i,r)):De.create(n,Xo(e,i,r),Xo(e,i,r))}function nU(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function E0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const sU=(n=null,e={})=>({editor:t,view:s,tr:i,dispatch:r})=>{e={scrollIntoView:!0,...e};const o=()=>{(E0()||nU())&&s.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(s.hasFocus()&&n===null||n===!1)return!0;if(r&&n===null&&!HA(t.state.selection))return o(),!0;const a=UA(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return r&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},iU=(n,e)=>t=>n.every((s,i)=>e(s,{...t,index:i})),rU=(n,e)=>({tr:t,commands:s})=>s.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),zA=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const s=e[t];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?n.removeChild(s):s.nodeType===1&&zA(s)}return n};function dd(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return zA(t)}function Yh(n,e,t){if(n instanceof so||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const s=typeof n=="object"&&n!==null,i=typeof n=="string";if(s)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(r){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",r),Yh("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const l=new P_({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?io.fromSchema(l).parseSlice(dd(n),t.parseOptions):io.fromSchema(l).parse(dd(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const r=io.fromSchema(e);return t.slice?r.parseSlice(dd(n),t.parseOptions).content:r.parse(dd(n),t.parseOptions)}return Yh("",e,t)}function oU(n,e,t){const s=n.steps.length-1;if(s<e)return;const i=n.steps[s];if(!(i instanceof cn||i instanceof dn))return;const r=n.mapping.maps[s];let o=0;r.forEach((a,l,c,u)=>{o===0&&(o=u)}),n.setSelection(je.near(n.doc.resolve(o),t))}const aU=n=>!("type"in n),lU=(n,e,t)=>({tr:s,dispatch:i,editor:r})=>{var o;if(i){t={parseOptions:r.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Yh(e,r.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:r.options.enableContentCheck})}catch(p){return r.emit("contentError",{editor:r,error:p,disableCollaboration:()=>{r.storage.collaboration&&(r.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,f=!0;if((aU(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,f=f?p.isBlock:!1}),l===c&&f){const{parent:p}=s.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let h;if(u){if(Array.isArray(e))h=e.map(p=>p.text||"").join("");else if(e instanceof G){let p="";e.forEach(g=>{g.text&&(p+=g.text)}),h=p}else typeof e=="object"&&e&&e.text?h=e.text:h=e;s.insertText(h,l,c)}else h=a,s.replaceWith(l,c,h);t.updateSelection&&oU(s,s.steps.length-1,-1),t.applyInputRules&&s.setMeta("applyInputRules",{from:l,text:h}),t.applyPasteRules&&s.setMeta("applyPasteRules",{from:l,text:h})}return!0},cU=()=>({state:n,dispatch:e})=>aH(n,e),uU=()=>({state:n,dispatch:e})=>lH(n,e),fU=()=>({state:n,dispatch:e})=>tH(n,e),dU=()=>({state:n,dispatch:e})=>rH(n,e),hU=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Sg(n.doc,n.selection.$from.pos,-1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},pU=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Sg(n.doc,n.selection.$from.pos,1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},gU=()=>({state:n,dispatch:e})=>nH(n,e),mU=()=>({state:n,dispatch:e})=>sH(n,e);function WA(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function yU(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let s,i,r,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))s=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))E0()||WA()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return s&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),r&&(t=`Shift-${t}`),t}const bU=n=>({editor:e,view:t,tr:s,dispatch:i})=>{const r=yU(n).split(/-(?!$)/),o=r.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(s.mapping);u&&i&&s.maybeStep(u)}),!0};function Ju(n,e,t={}){const{from:s,to:i,empty:r}=n.selection,o=e?pn(e,n.schema):null,a=[];n.doc.nodesBetween(s,i,(f,d)=>{if(f.isText)return;const h=Math.max(s,d),p=Math.min(i,d+f.nodeSize);a.push({node:f,from:h,to:p})});const l=i-s,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Jh(f.node.attrs,t,{strict:!1}));return r?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}const vU=(n,e={})=>({state:t,dispatch:s})=>{const i=pn(n,t.schema);return Ju(t,i,e)?cH(t,s):!1},xU=()=>({state:n,dispatch:e})=>hH(n,e),SU=n=>({state:e,dispatch:t})=>{const s=pn(n,e.schema);return EH(s)(e,t)},EU=()=>({state:n,dispatch:e})=>uH(n,e);function Ig(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function dE(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((s,i)=>(t.includes(i)||(s[i]=n[i]),s),{})}const wU=(n,e)=>({tr:t,state:s,dispatch:i})=>{let r=null,o=null;const a=Ig(typeof n=="string"?n:n.name,s.schema);return a?(a==="node"&&(r=pn(n,s.schema)),a==="mark"&&(o=Co(n,s.schema)),i&&t.selection.ranges.forEach(l=>{s.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{r&&r===c.type&&t.setNodeMarkup(u,void 0,dE(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&t.addMark(u,u+c.nodeSize,o.create(dE(f.attrs,e)))})})}),!0):!1},TU=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),CU=()=>({tr:n,dispatch:e})=>{if(e){const t=new Us(n.doc);n.setSelection(t)}return!0},OU=()=>({state:n,dispatch:e})=>iH(n,e),kU=()=>({state:n,dispatch:e})=>oH(n,e),_U=()=>({state:n,dispatch:e})=>pH(n,e),AU=()=>({state:n,dispatch:e})=>yH(n,e),MU=()=>({state:n,dispatch:e})=>mH(n,e);function hb(n,e,t={},s={}){return Yh(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:s.errorOnInvalidContent})}const PU=(n,e=!1,t={},s={})=>({editor:i,tr:r,dispatch:o,commands:a})=>{var l,c;const{doc:u}=r;if(t.preserveWhitespace!=="full"){const f=hb(n,i.schema,t,{errorOnInvalidContent:(l=s.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&r.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return o&&r.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=s.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function KA(n,e){const t=Co(e,n.schema),{from:s,to:i,empty:r}=n.selection,o=[];r?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(s,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function IU(n,e){const t=new G_(n);return e.forEach(s=>{s.steps.forEach(i=>{t.step(i)})}),t}function RU(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function DU(n,e,t){const s=[];return n.nodesBetween(e.from,e.to,(i,r)=>{t(i)&&s.push({node:i,pos:r})}),s}function NU(n,e){for(let t=n.depth;t>0;t-=1){const s=n.node(t);if(e(s))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:s}}}function w0(n){return e=>NU(e.$from,n)}function LU(n,e){const t={from:0,to:n.content.size};return jA(n,t,e)}function FU(n,e){const t=pn(e,n.schema),{from:s,to:i}=n.selection,r=[];n.doc.nodesBetween(s,i,a=>{r.push(a)});const o=r.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function GA(n,e){const t=Ig(typeof e=="string"?e:e.name,n.schema);return t==="node"?FU(n,e):t==="mark"?KA(n,e):{}}function $U(n,e=JSON.stringify){const t={};return n.filter(s=>{const i=e(s);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function jU(n){const e=$U(n);return e.length===1?e:e.filter((t,s)=>!e.filter((r,o)=>o!==s).some(r=>t.oldRange.from>=r.oldRange.from&&t.oldRange.to<=r.oldRange.to&&t.newRange.from>=r.newRange.from&&t.newRange.to<=r.newRange.to))}function BU(n){const{mapping:e,steps:t}=n,s=[];return e.maps.forEach((i,r)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[r];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(r).map(a,-1),u=e.slice(r).map(l),f=e.invert().map(c,-1),d=e.invert().map(u);s.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),jU(s)}function T0(n,e,t){const s=[];return n===e?t.resolve(n).marks().forEach(i=>{const r=t.resolve(n),o=S0(r,i.type);o&&s.push({mark:i,...o})}):t.nodesBetween(n,e,(i,r)=>{!i||(i==null?void 0:i.nodeSize)===void 0||s.push(...i.marks.map(o=>({from:r,to:r+i.nodeSize,mark:o})))}),s}function Zd(n,e,t){return Object.fromEntries(Object.entries(t).filter(([s])=>{const i=n.find(r=>r.type===e&&r.name===s);return i?i.attribute.keepOnSplit:!1}))}function pb(n,e,t={}){const{empty:s,ranges:i}=n.selection,r=e?Co(e,n.schema):null;if(s)return!!(n.storedMarks||n.selection.$from.marks()).filter(f=>r?r.name===f.type.name:!0).find(f=>Jh(f.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;n.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,m),b=Math.min(p,m+g.nodeSize),x=b-y;o+=x,a.push(...g.marks.map(v=>({mark:v,from:y,to:b})))})}),o===0)return!1;const l=a.filter(f=>r?r.name===f.mark.type.name:!0).filter(f=>Jh(f.mark.attrs,t,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=a.filter(f=>r?f.mark.type!==r&&f.mark.type.excludes(r):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=o}function VU(n,e,t={}){if(!e)return Ju(n,null,t)||pb(n,null,t);const s=Ig(e,n.schema);return s==="node"?Ju(n,e,t):s==="mark"?pb(n,e,t):!1}function hE(n,e){const{nodeExtensions:t}=Ag(e),s=t.find(o=>o.name===n);if(!s)return!1;const i={name:s.name,options:s.options,storage:s.storage},r=ze(he(s,"group",i));return typeof r!="string"?!1:r.split(" ").includes("list")}function C0(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var s;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((s=n.text)!==null&&s!==void 0?s:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(r=>{i!==!1&&(C0(r,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function HU(n){return n instanceof Se}function UU(n,e,t){var s;const{selection:i}=e;let r=null;if(HA(i)&&(r=i.$cursor),r){const a=(s=n.storedMarks)!==null&&s!==void 0?s:r.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const h=!d||d.type.allowsMarkType(t),p=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=h&&p}return!c}),c})}const zU=(n,e={})=>({tr:t,state:s,dispatch:i})=>{const{selection:r}=t,{empty:o,ranges:a}=r,l=Co(n,s.schema);if(i)if(o){const c=KA(s,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;s.doc.nodesBetween(u,f,(d,h)=>{const p=Math.max(h,u),g=Math.min(h+d.nodeSize,f);d.marks.find(y=>y.type===l)?d.marks.forEach(y=>{l===y.type&&t.addMark(p,g,l.create({...y.attrs,...e}))}):t.addMark(p,g,l.create(e))})});return UU(s,t,l)},WU=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),KU=(n,e={})=>({state:t,dispatch:s,chain:i})=>{const r=pn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),r.isTextblock?i().command(({commands:a})=>aE(r,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>aE(r,{...o,...e})(a,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},GU=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,i=Xo(n,0,s.content.size),r=Se.create(s,i);e.setSelection(r)}return!0},XU=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,{from:i,to:r}=typeof n=="number"?{from:n,to:n}:n,o=De.atStart(s).from,a=De.atEnd(s).to,l=Xo(i,o,a),c=Xo(r,o,a),u=De.create(s,l,c);e.setSelection(u)}return!0},JU=n=>({state:e,dispatch:t})=>{const s=pn(n,e.schema);return CH(s)(e,t)};function pE(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const s=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(s)}}const YU=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:s,editor:i})=>{const{selection:r,doc:o}=e,{$from:a,$to:l}=r,c=i.extensionManager.attributes,u=Zd(c,a.node().type.name,a.node().attrs);if(r instanceof Se&&r.node.isBlock)return!a.parentOffset||!gl(o,a.pos)?!1:(s&&(n&&pE(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:RU(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&d?[{type:d,attrs:u}]:void 0,p=gl(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&gl(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:u}]:void 0),s){if(p&&(r instanceof De&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const g=e.mapping.map(a.before()),m=e.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}n&&pE(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},qU=(n,e={})=>({tr:t,state:s,dispatch:i,editor:r})=>{var o;const a=pn(n,s.schema),{$from:l,$to:c}=s.selection,u=s.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const d=r.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=G.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let _=l.depth-b;_>=l.depth-3;_-=1)y=G.from(l.node(_).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,v={...Zd(d,l.node().type.name,l.node().attrs),...e},S=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(v))||void 0;y=y.append(G.from(a.createAndFill(null,S)||void 0));const E=l.before(l.depth-(b-1));t.replace(E,l.after(-x),new ue(y,4-b,0));let k=-1;t.doc.nodesBetween(E,t.doc.content.size,(_,w)=>{if(k>-1)return!1;_.isTextblock&&_.content.size===0&&(k=w+1)}),k>-1&&t.setSelection(De.near(t.doc.resolve(k))),t.scrollIntoView()}return!0}const h=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...Zd(d,f.type.name,f.attrs),...e},g={...Zd(d,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const m=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];if(!gl(t.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:b}=s,{splittableMarks:x}=r.extensionManager,v=b||y.$to.parentOffset&&y.$from.marks();if(t.split(l.pos,2,m).scrollIntoView(),!v||!i)return!0;const S=v.filter(E=>x.includes(E.type.name));t.ensureMarks(S)}return!0},jm=(n,e)=>{const t=w0(o=>o.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(s===void 0)return!0;const i=n.doc.nodeAt(s);return t.node.type===(i==null?void 0:i.type)&&wo(n.doc,t.pos)&&n.join(t.pos),!0},Bm=(n,e)=>{const t=w0(o=>o.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(t.start).after(t.depth);if(s===void 0)return!0;const i=n.doc.nodeAt(s);return t.node.type===(i==null?void 0:i.type)&&wo(n.doc,s)&&n.join(s),!0},QU=(n,e,t,s={})=>({editor:i,tr:r,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=pn(n,o.schema),p=pn(e,o.schema),{selection:g,storedMarks:m}=o,{$from:y,$to:b}=g,x=y.blockRange(b),v=m||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const S=w0(E=>hE(E.type.name,f))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(p);if(hE(S.node.type.name,f)&&h.validContent(S.node.content)&&a)return l().command(()=>(r.setNodeMarkup(S.pos,h),!0)).command(()=>jm(r,h)).command(()=>Bm(r,h)).run()}return!t||!v||!a?l().command(()=>u().wrapInList(h,s)?!0:c.clearNodes()).wrapInList(h,s).command(()=>jm(r,h)).command(()=>Bm(r,h)).run():l().command(()=>{const E=u().wrapInList(h,s),k=v.filter(_=>d.includes(_.type.name));return r.ensureMarks(k),E?!0:c.clearNodes()}).wrapInList(h,s).command(()=>jm(r,h)).command(()=>Bm(r,h)).run()},ZU=(n,e={},t={})=>({state:s,commands:i})=>{const{extendEmptyMarkRange:r=!1}=t,o=Co(n,s.schema);return pb(s,o,e)?i.unsetMark(o,{extendEmptyMarkRange:r}):i.setMark(o,e)},ez=(n,e,t={})=>({state:s,commands:i})=>{const r=pn(n,s.schema),o=pn(e,s.schema),a=Ju(s,r,t);let l;return s.selection.$anchor.sameParent(s.selection.$head)&&(l=s.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(r,{...l,...t})},tz=(n,e={})=>({state:t,commands:s})=>{const i=pn(n,t.schema);return Ju(t,i,e)?s.lift(i):s.wrapIn(i,e)},nz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let s=0;s<t.length;s+=1){const i=t[s];let r;if(i.spec.isInputRules&&(r=i.getState(n))){if(e){const o=n.tr,a=r.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(r.text){const l=o.doc.resolve(r.from).marks();o.replaceWith(r.from,r.to,n.schema.text(r.text,l))}else o.delete(r.from,r.to)}return!0}}return!1},sz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:s,ranges:i}=t;return s||e&&i.forEach(r=>{n.removeMark(r.$from.pos,r.$to.pos)}),!0},iz=(n,e={})=>({tr:t,state:s,dispatch:i})=>{var r;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Co(n,s.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:d,to:h}=a;const p=(r=c.marks().find(m=>m.type===l))===null||r===void 0?void 0:r.attrs,g=S0(c,l,p);g&&(d=g.from,h=g.to),t.removeMark(d,h,l)}else f.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,l)});return t.removeStoredMark(l),!0},rz=(n,e={})=>({tr:t,state:s,dispatch:i})=>{let r=null,o=null;const a=Ig(typeof n=="string"?n:n.name,s.schema);return a?(a==="node"&&(r=pn(n,s.schema)),a==="mark"&&(o=Co(n,s.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,d,h,p;t.selection.empty?s.doc.nodesBetween(c,u,(g,m)=>{r&&r===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g)}):s.doc.nodesBetween(c,u,(g,m)=>{m<c&&r&&r===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g),m>=c&&m<=u&&(r&&r===g.type&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(y=>{if(o===y.type){const b=Math.max(m,c),x=Math.min(m+g.nodeSize,u);t.addMark(b,x,o.create({...y.attrs,...e}))}}))}),d&&(f!==void 0&&t.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(g=>{o===g.type&&t.addMark(h,p,o.create({...g.attrs,...e}))}))}),!0):!1},oz=(n,e={})=>({state:t,dispatch:s})=>{const i=pn(n,t.schema);return bH(i,e)(t,s)},az=(n,e={})=>({state:t,dispatch:s})=>{const i=pn(n,t.schema);return vH(i,e)(t,s)};var lz=Object.freeze({__proto__:null,blur:HH,clearContent:UH,clearNodes:zH,command:WH,createParagraphNear:KH,cut:GH,deleteCurrentNode:XH,deleteNode:JH,deleteRange:YH,deleteSelection:qH,enter:QH,exitCode:ZH,extendMarkRange:eU,first:tU,focus:sU,forEach:iU,insertContent:rU,insertContentAt:lU,joinBackward:fU,joinDown:uU,joinForward:dU,joinItemBackward:hU,joinItemForward:pU,joinTextblockBackward:gU,joinTextblockForward:mU,joinUp:cU,keyboardShortcut:bU,lift:vU,liftEmptyBlock:xU,liftListItem:SU,newlineInCode:EU,resetAttributes:wU,scrollIntoView:TU,selectAll:CU,selectNodeBackward:OU,selectNodeForward:kU,selectParentNode:_U,selectTextblockEnd:AU,selectTextblockStart:MU,setContent:PU,setMark:zU,setMeta:WU,setNode:KU,setNodeSelection:GU,setTextSelection:XU,sinkListItem:JU,splitBlock:YU,splitListItem:qU,toggleList:QU,toggleMark:ZU,toggleNode:ez,toggleWrap:tz,undoInputRule:nz,unsetAllMarks:sz,unsetMark:iz,updateAttributes:rz,wrapIn:oz,wrapInList:az});const cz=ns.create({name:"commands",addCommands(){return{...lz}}}),uz=ns.create({name:"drop",addProseMirrorPlugins(){return[new Tn({key:new As("tiptapDrop"),props:{handleDrop:(n,e,t,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:s})}}})]}}),fz=ns.create({name:"editable",addProseMirrorPlugins(){return[new Tn({key:new As("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dz=ns.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Tn({key:new As("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const s=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,t)=>{n.isFocused=!1;const s=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),hz=ns.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:d,parent:h}=f,p=f.parent.isTextblock&&d>0?a.doc.resolve(d-1):f,g=p.parent.type.spec.isolating,m=f.pos-f.parentOffset,y=g&&p.parent.childCount===1?m===f.pos:je.atStart(c).from===d;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...s},r={...s,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return E0()||WA()?r:i},addProseMirrorPlugins(){return[new Tn({key:new As("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const s=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!s||i)return;const{empty:r,from:o,to:a}=e.selection,l=je.atStart(e.doc).from,c=je.atEnd(e.doc).to;if(r||!(o===l&&a===c)||!C0(t.doc))return;const d=t.tr,h=kg({state:t,transaction:d}),{commands:p}=new _g({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),pz=ns.create({name:"paste",addProseMirrorPlugins(){return[new Tn({key:new As("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),gz=ns.create({name:"tabindex",addProseMirrorPlugins(){return[new Tn({key:new As("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class zo{get name(){return this.node.type.name}constructor(e,t,s=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:t,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new zo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new zo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new zo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,s)=>{const i=t.isBlock&&!t.isTextblock,r=t.isAtom&&!t.isText,o=this.pos+s+(r?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new zo(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new zo(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let s=null,i=this.parent;for(;i&&!s;){if(i.node.type.name===e)if(Object.keys(t).length>0){const r=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(r[l]!==t[l])break}}else s=i;i=i.parent}return s}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},s=!1){let i=[];if(!this.children||this.children.length===0)return i;const r=Object.keys(t);return this.children.forEach(o=>{s&&i.length>0||(o.node.type.name===e&&r.every(l=>t[l]===o.node.attrs[l])&&i.push(o),!(s&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,s))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const mz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function yz(n,e,t){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let bz=class extends OH{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:s,moved:i})=>this.options.onDrop(t,s,i)),this.on("paste",({event:t,slice:s})=>this.options.onPaste(t,s)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=yz(mz,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const s=$A(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let s=t;if([].concat(e).forEach(r=>{const o=typeof r=="string"?`${r}$`:r.key;s=t.filter(a=>!a.key.startsWith(o))}),t.length===s.length)return;const i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[fz,VH.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),cz,dz,hz,gz,uz,pz].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new cl(i,this)}createCommandManager(){this.commandManager=new _g({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=hb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=hb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const s=UA(t,this.options.autofocus);this.view=new z5(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ll.create({doc:t,selection:s||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),s=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),r=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return GA(this.state,e)}isActive(e,t){const s=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return VU(this.state,s,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return v0(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:s={}}=e||{};return LU(this.state.doc,{blockSeparator:t,textSerializers:{...BA(this.schema),...s}})}get isEmpty(){return C0(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelector(e,t))||null}$nodes(e,t){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new zo(t,this)}get $doc(){return this.$pos(0)}};function Xl(n){return new Mg({find:n.find,handler:({state:e,range:t,match:s})=>{const i=ze(n.getAttributes,void 0,s);if(i===!1||i===null)return null;const{tr:r}=e,o=s[s.length-1],a=s[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(T0(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===n.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<t.to&&r.delete(u,t.to),c>t.from&&r.delete(t.from+l,c);const d=t.from+l+o.length;r.addMark(t.from+l,d,n.type.create(i||{})),r.removeStoredMark(n.type)}}})}function vz(n){return new Mg({find:n.find,handler:({state:e,range:t,match:s})=>{const i=ze(n.getAttributes,void 0,s)||{},{tr:r}=e,o=t.from;let a=t.to;const l=n.type.create(i);if(s[1]){const c=s[0].lastIndexOf(s[1]);let u=o+c;u>a?u=a:a=u+s[1].length;const f=s[0][s[0].length-1];r.insertText(f,o+s[0].length-1),r.replaceWith(u,a,l)}else if(s[0]){const c=n.type.isInline?o:o-1;r.insert(c,n.type.create(i)).delete(r.mapping.map(o),r.mapping.map(a))}r.scrollIntoView()}})}function gb(n){return new Mg({find:n.find,handler:({state:e,range:t,match:s})=>{const i=e.doc.resolve(t.from),r=ze(n.getAttributes,void 0,s)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,r)}})}function Yu(n){return new Mg({find:n.find,handler:({state:e,range:t,match:s,chain:i})=>{const r=ze(n.getAttributes,void 0,s)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&a0(l,n.type,r);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:h}=n.editor.extensionManager,p=d||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(m=>h.includes(m.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const f=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,r).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&wo(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(s,u))&&o.join(t.from-1)}})}class ms{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ze(he(this,"addOptions",{name:this.name}))),this.storage=ze(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ms(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ms(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ze(he(t,"addOptions",{name:t.name})),t.storage=ze(he(t,"addStorage",{name:t.name,options:t.options})),t}}function _a(n){return new NH({find:n.find,handler:({state:e,range:t,match:s,pasteEvent:i})=>{const r=ze(n.getAttributes,void 0,s,i);if(r===!1||r===null)return null;const{tr:o}=e,a=s[s.length-1],l=s[0];let c=t.to;if(a){const u=l.search(/\S/),f=t.from+l.indexOf(a),d=f+a.length;if(T0(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===n.type&&m!==p.mark.type)).filter(p=>p.to>f).length)return null;d<t.to&&o.delete(d,t.to),f>t.from&&o.delete(t.from+u,f),c=t.from+u+a.length,o.addMark(t.from+u,c,n.type.create(r||{})),o.removeStoredMark(n.type)}}})}function gE(n){return tv((e,t)=>({get(){return e(),n},set(s){n=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}class xz extends bz{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=gE(this.view.state),this.reactiveExtensionStorage=gE(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),Zb(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const s=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=s),s}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}const Sz=vt({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const e=me(),t=_s();return DC(()=>{const s=n.editor;s&&s.options.element&&e.value&&Da(()=>{if(!e.value||!s.options.element.firstChild)return;const i=re(e.value);e.value.append(...s.options.element.childNodes),s.contentComponent=t.ctx._,t&&(s.appContext={...t.appContext,provides:t.provides}),s.setOptions({element:i}),s.createNodeViews()})}),tc(()=>{const s=n.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:e}},render(){return bf("div",{ref:n=>{this.rootEl=n}})}}),Ez=(n={})=>{const e=Up();return ks(()=>{e.value=new xz(n)}),tc(()=>{var t,s,i;const r=(t=e.value)===null||t===void 0?void 0:t.options.element,o=r==null?void 0:r.cloneNode(!0);(s=r==null?void 0:r.parentNode)===null||s===void 0||s.replaceChild(o,r),(i=e.value)===null||i===void 0||i.destroy()}),e},wz=/^\s*>\s$/,XA=ms.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yu({find:wz,type:this.type})]}}),Tz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Cz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Oz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,kz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,JA=_i.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xl({find:Tz,type:this.type}),Xl({find:Oz,type:this.type})]},addPasteRules(){return[_a({find:Cz,type:this.type}),_a({find:kz,type:this.type})]}}),_z="listItem",mE="textStyle",yE=/^\s*([-+*])\s$/,YA=ms.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_z,this.editor.getAttributes(mE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Yu({find:yE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Yu({find:yE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mE),editor:this.editor})),[n]}}),Az=/(^|[^`])`([^`]+)`(?!`)/,Mz=/(^|[^`])`([^`]+)`(?!`)/g,Pz=_i.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xl({find:Az,type:this.type})]},addPasteRules(){return[_a({find:Mz,type:this.type})]}}),Iz=/^```([a-z]+)?[\s\n]$/,Rz=/^~~~([a-z]+)?[\s\n]$/,Dz=ms.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,r=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return r||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",gn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:s,empty:i}=t;if(!i||s.parent.type!==this.type)return!1;const r=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!r||!o?!1:n.chain().command(({tr:a})=>(a.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:s}=e,{$from:i,empty:r}=t;if(!r||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:s.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(je.near(s.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[gb({find:Iz,type:this.type,getAttributes:n=>({language:n[1]})}),gb({find:Rz,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Tn({key:new As("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,r=i==null?void 0:i.mode;if(!t||!r)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:r},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(De.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),Nz=ms.create({name:"doc",topNode:!0,content:"block+"});function Lz(n={}){return new Tn({view(e){return new Fz(e,n)}})}class Fz{constructor(e,t){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=t.width)!==null&&s!==void 0?s:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let r=o=>{this[i](o)};return e.dom.addEventListener(i,r),{name:i,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,s;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),f=a?u.bottom:u.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!s){let a=this.editorView.coordsAtPos(this.cursorPos);s={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let r,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")r=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();r=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=s.left-r+"px",this.element.style.top=s.top-o+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=s&&s.type.spec.disableDropCursor,r=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!r){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=H_(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const $z=ns.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Lz(this.options)]}});class Vt extends je{constructor(e){super(e,e)}map(e,t){let s=e.resolve(t.map(this.head));return Vt.valid(s)?new Vt(s):je.near(s)}content(){return ue.empty}eq(e){return e instanceof Vt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vt(e.resolve(t.pos))}getBookmark(){return new O0(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!jz(e)||!Bz(e))return!1;let s=t.type.spec.allowGapCursor;if(s!=null)return s;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,s=!1){e:for(;;){if(!s&&Vt.valid(e))return e;let i=e.pos,r=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){r=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let l=e.doc.resolve(i);if(Vt.valid(l))return l}for(;;){let o=t>0?r.firstChild:r.lastChild;if(!o){if(r.isAtom&&!r.isText&&!Se.isSelectable(r)){e=e.doc.resolve(i+r.nodeSize*t),s=!1;continue e}break}r=o,i+=t;let a=e.doc.resolve(i);if(Vt.valid(a))return a}return null}}}Vt.prototype.visible=!1;Vt.findFrom=Vt.findGapCursorFrom;je.jsonID("gapcursor",Vt);class O0{constructor(e){this.pos=e}map(e){return new O0(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Vt.valid(t)?new Vt(t):je.near(t)}}function jz(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),s=n.node(e);if(t==0){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Bz(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),s=n.node(e);if(t==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Vz(){return new Tn({props:{decorations:Wz,createSelectionBetween(n,e,t){return e.pos==t.pos&&Vt.valid(t)?new Vt(t):null},handleClick:Uz,handleKeyDown:Hz,handleDOMEvents:{beforeinput:zz}}})}const Hz=MA({ArrowLeft:hd("horiz",-1),ArrowRight:hd("horiz",1),ArrowUp:hd("vert",-1),ArrowDown:hd("vert",1)});function hd(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,i,r){let o=s.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof De){if(!r.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=s.doc.resolve(e>0?a.after():a.before())}let c=Vt.findGapCursorFrom(a,e,l);return c?(i&&i(s.tr.setSelection(new Vt(c))),!0):!1}}function Uz(n,e,t){if(!n||!n.editable)return!1;let s=n.state.doc.resolve(e);if(!Vt.valid(s))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Se.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Vt(s))),!0)}function zz(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Vt))return!1;let{$from:t}=n.state.selection,s=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!s)return!1;let i=G.empty;for(let o=s.length-1;o>=0;o--)i=G.from(s[o].createAndFill(null,i));let r=n.state.tr.replace(t.pos,t.pos,new ue(i,0,0));return r.setSelection(De.near(r.doc.resolve(t.pos+1))),n.dispatch(r),!1}function Wz(n){if(!(n.selection instanceof Vt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",en.create(n.doc,[js.widget(n.selection.head,e,{key:"gapcursor"})])}const Kz=ns.create({name:"gapCursor",addProseMirrorPlugins(){return[Vz()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ze(he(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Gz=ms.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",gn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:s})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:r}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=s.extensionManager,l=r||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(d=>a.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Xz=ms.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,gn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>gb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var qh=200,hn=function(){};hn.prototype.append=function(e){return e.length?(e=hn.from(e),!this.length&&e||e.length<qh&&this.leafAppend(e)||this.length<qh&&e.leafPrepend(this)||this.appendInner(e)):this};hn.prototype.prepend=function(e){return e.length?hn.from(e).append(this):this};hn.prototype.appendInner=function(e){return new Jz(this,e)};hn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?hn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};hn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};hn.prototype.forEach=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length),t<=s?this.forEachInner(e,t,s,0):this.forEachInvertedInner(e,t,s,0)};hn.prototype.map=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length);var i=[];return this.forEach(function(r,o){return i.push(e(r,o))},t,s),i};hn.from=function(e){return e instanceof hn?e:e&&e.length?new qA(e):hn.empty};var qA=function(n){function e(s){n.call(this),this.values=s}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,r){return i==0&&r==this.length?this:new e(this.values.slice(i,r))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,r,o,a){for(var l=r;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,o,a){for(var l=r-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=qh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=qh)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(hn);hn.empty=new qA([]);var Jz=function(n){function e(t,s){n.call(this),this.left=t,this.right=s,this.length=t.length+s.length,this.depth=Math.max(t.depth,s.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,i,r,o){var a=this.left.length;if(i<a&&this.left.forEachInner(s,i,Math.min(r,a),o)===!1||r>a&&this.right.forEachInner(s,Math.max(i-a,0),Math.min(this.length,r)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,r,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(s,i-a,Math.max(r,a)-a,o+a)===!1||r<a&&this.left.forEachInvertedInner(s,Math.min(i,a),r,o)===!1)return!1},e.prototype.sliceInner=function(s,i){if(s==0&&i==this.length)return this;var r=this.left.length;return i<=r?this.left.slice(s,i):s>=r?this.right.slice(s-r,i-r):this.left.slice(s,r).append(this.right.slice(0,i-r))},e.prototype.leafAppend=function(s){var i=this.right.leafAppend(s);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(s){var i=this.left.leafPrepend(s);if(i)return new e(i,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(hn);const Yz=500;class ni{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let i,r;t&&(i=this.remapping(s,this.items.length),r=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(s,d+1),r=i.maps.length),r--,u.push(f);return}if(i){u.push(new hi(f.map));let h=f.step.map(i.slice(r)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new hi(p,void 0,void 0,c.length+u.length))),r--,p&&i.appendMap(p,r)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(r)):f.selection,l=new ni(this.items.slice(0,s).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,s,i){let r=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),d=new hi(e.mapping.maps[u],f,t),h;(h=l&&l.merge(d))&&(d=h,u?r.pop():a=a.slice(0,a.length-1)),r.push(d),t&&(o++,t=void 0),i||(l=d)}let c=o-s.depth;return c>Qz&&(a=qz(a,c),o-=c),new ni(a.append(r),o)}remapping(e,t){let s=new pl;return this.items.forEach((i,r)=>{let o=i.mirrorOffset!=null&&r-i.mirrorOffset>=e?s.maps.length-i.mirrorOffset:void 0;s.appendMap(i.map,o)},e,t),s}addMaps(e){return this.eventCount==0?this:new ni(this.items.append(e.map(t=>new hi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let s=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=t;this.items.forEach(d=>{let h=r.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=r.maps[h];if(d.step){let g=e.steps[h].invert(e.docs[h]),m=d.selection&&d.selection.map(r.slice(l+1,h));m&&a++,s.push(new hi(p,g,m))}else s.push(new hi(p))},i);let c=[];for(let d=t;d<o;d++)c.push(new hi(r.maps[d]));let u=this.items.slice(0,i).append(c).append(s),f=new ni(u,a);return f.emptyItemCount()>Yz&&(f=f.compress(this.items.length-s.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),s=t.maps.length,i=[],r=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&r++;else if(o.step){let l=o.step.map(t.slice(s)),c=l&&l.getMap();if(s--,c&&t.appendMap(c,s),l){let u=o.selection&&o.selection.map(t.slice(s));u&&r++;let f=new hi(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else o.map&&s--},this.items.length,0),new ni(hn.from(i.reverse()),r)}}ni.empty=new ni(hn.empty,0);function qz(n,e){let t;return n.forEach((s,i)=>{if(s.selection&&e--==0)return t=i,!1}),n.slice(t)}class hi{constructor(e,t,s,i){this.map=e,this.step=t,this.selection=s,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new hi(t.getMap().invert(),t,this.selection)}}}class Mr{constructor(e,t,s,i,r){this.done=e,this.undone=t,this.prevRanges=s,this.prevTime=i,this.prevComposition=r}}const Qz=20;function Zz(n,e,t,s){let i=t.getMeta(ga),r;if(i)return i.historyState;t.getMeta(n6)&&(n=new Mr(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(ga))return o.getMeta(ga).redo?new Mr(n.done.addTransform(t,void 0,s,eh(e)),n.undone,bE(t.mapping.maps),n.prevTime,n.prevComposition):new Mr(n.done,n.undone.addTransform(t,void 0,s,eh(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-s.newGroupDelay||!e6(t,n.prevRanges)),c=o?Vm(n.prevRanges,t.mapping):bE(t.mapping.maps);return new Mr(n.done.addTransform(t,l?e.selection.getBookmark():void 0,s,eh(e)),ni.empty,c,t.time,a??n.prevComposition)}else return(r=t.getMeta("rebased"))?new Mr(n.done.rebased(t,r),n.undone.rebased(t,r),Vm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Mr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Vm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function e6(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((s,i)=>{for(let r=0;r<e.length;r+=2)s<=e[r+1]&&i>=e[r]&&(t=!0)}),t}function bE(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((s,i,r,o)=>e.push(r,o));return e}function Vm(n,e){if(!n)return null;let t=[];for(let s=0;s<n.length;s+=2){let i=e.map(n[s],1),r=e.map(n[s+1],-1);i<=r&&t.push(i,r)}return t}function t6(n,e,t){let s=eh(e),i=ga.get(e).spec.config,r=(t?n.undone:n.done).popEvent(e,s);if(!r)return null;let o=r.selection.resolve(r.transform.doc),a=(t?n.done:n.undone).addTransform(r.transform,e.selection.getBookmark(),i,s),l=new Mr(t?a:r.remaining,t?r.remaining:a,null,0,-1);return r.transform.setSelection(o).setMeta(ga,{redo:t,historyState:l})}let Hm=!1,vE=null;function eh(n){let e=n.plugins;if(vE!=e){Hm=!1,vE=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Hm=!0;break}}return Hm}const ga=new As("history"),n6=new As("closeHistory");function s6(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Tn({key:ga,state:{init(){return new Mr(ni.empty,ni.empty,null,0,-1)},apply(e,t,s){return Zz(t,s,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let s=t.inputType,i=s=="historyUndo"?ZA:s=="historyRedo"?eM:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function QA(n,e){return(t,s)=>{let i=ga.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(s){let r=t6(i,t,n);r&&s(e?r.scrollIntoView():r)}return!0}}const ZA=QA(!1,!0),eM=QA(!0,!0),i6=ns.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>ZA(n,e),redo:()=>({state:n,dispatch:e})=>eM(n,e)}},addProseMirrorPlugins(){return[s6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),r6=ms.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",gn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:s,$to:i}=t,r=n();return s.parentOffset===0?r.insertContentAt({from:Math.max(s.pos-1,0),to:i.pos},{type:this.name}):HU(t)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(De.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Se.create(o.doc,c.pos)):o.setSelection(De.create(o.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(o.insert(u,f),o.setSelection(De.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[vz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),o6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,a6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,l6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,c6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,tM=_i.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xl({find:o6,type:this.type}),Xl({find:l6,type:this.type})]},addPasteRules(){return[_a({find:a6,type:this.type}),_a({find:c6,type:this.type})]}}),u6=ms.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",gn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),f6="listItem",xE="textStyle",SE=/^(\d+)\.\s$/,nM=ms.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",gn(this.options.HTMLAttributes,t),0]:["ol",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(f6,this.editor.getAttributes(xE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Yu({find:SE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Yu({find:SE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xE)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),d6=ms.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),h6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,p6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,sM=_i.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xl({find:h6,type:this.type})]},addPasteRules(){return[_a({find:p6,type:this.type})]}}),g6=ms.create({name:"text",group:"inline"}),m6=ns.create({name:"starterKit",addExtensions(){var n,e,t,s,i,r,o,a,l,c,u,f,d,h,p,g,m,y;const b=[];return this.options.bold!==!1&&b.push(JA.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&b.push(XA.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&b.push(YA.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&b.push(Pz.configure((s=this.options)===null||s===void 0?void 0:s.code)),this.options.codeBlock!==!1&&b.push(Dz.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&b.push(Nz.configure((r=this.options)===null||r===void 0?void 0:r.document)),this.options.dropcursor!==!1&&b.push($z.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&b.push(Kz.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(Gz.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(Xz.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&b.push(i6.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&b.push(r6.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&b.push(tM.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&b.push(u6.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&b.push(nM.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&b.push(d6.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(sM.configure((m=this.options)===null||m===void 0?void 0:m.strike)),this.options.text!==!1&&b.push(g6.configure((y=this.options)===null||y===void 0?void 0:y.text)),b}}),y6="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",b6="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Jl=(n,e)=>{for(const t in e)n[t]=e[t];return n},mb="numeric",yb="ascii",bb="alpha",fu="asciinumeric",jc="alphanumeric",vb="domain",iM="emoji",v6="scheme",x6="slashscheme",Um="whitespace";function S6(n,e){return n in e||(e[n]=[]),e[n]}function Jo(n,e,t){e[mb]&&(e[fu]=!0,e[jc]=!0),e[yb]&&(e[fu]=!0,e[bb]=!0),e[fu]&&(e[jc]=!0),e[bb]&&(e[jc]=!0),e[jc]&&(e[vb]=!0),e[iM]&&(e[vb]=!0);for(const s in e){const i=S6(s,t);i.indexOf(n)<0&&i.push(n)}}function E6(n,e){const t={};for(const s in e)e[s].indexOf(n)>=0&&(t[s]=!0);return t}function ds(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}ds.groups={};ds.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let s=0;s<e.jr.length;s++){const i=e.jr[s][0],r=e.jr[s][1];if(r&&i.test(n))return r}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,s){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,s)},tr(n,e,t,s){s=s||ds.groups;let i;return e&&e.j?i=e:(i=new ds(e),t&&s&&Jo(e,t,s)),this.jr.push([n,i]),i},ts(n,e,t,s){let i=this;const r=n.length;if(!r)return i;for(let o=0;o<r-1;o++)i=i.tt(n[o]);return i.tt(n[r-1],e,t,s)},tt(n,e,t,s){s=s||ds.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const r=e;let o,a=i.go(n);if(a?(o=new ds,Jl(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ds,r){if(s)if(o.t&&typeof o.t=="string"){const l=Jl(E6(o.t,s),t);Jo(r,l,s)}else t&&Jo(r,t,s);o.t=r}return i.j[n]=o,o}};const Ve=(n,e,t,s,i)=>n.ta(e,t,s,i),Lt=(n,e,t,s,i)=>n.tr(e,t,s,i),EE=(n,e,t,s,i)=>n.ts(e,t,s,i),q=(n,e,t,s,i)=>n.tt(e,t,s,i),Fi="WORD",xb="UWORD",rM="ASCIINUMERICAL",oM="ALPHANUMERICAL",qu="LOCALHOST",Sb="TLD",Eb="UTLD",th="SCHEME",il="SLASH_SCHEME",k0="NUM",wb="WS",_0="NL",du="OPENBRACE",hu="CLOSEBRACE",Qh="OPENBRACKET",Zh="CLOSEBRACKET",ep="OPENPAREN",tp="CLOSEPAREN",np="OPENANGLEBRACKET",sp="CLOSEANGLEBRACKET",ip="FULLWIDTHLEFTPAREN",rp="FULLWIDTHRIGHTPAREN",op="LEFTCORNERBRACKET",ap="RIGHTCORNERBRACKET",lp="LEFTWHITECORNERBRACKET",cp="RIGHTWHITECORNERBRACKET",up="FULLWIDTHLESSTHAN",fp="FULLWIDTHGREATERTHAN",dp="AMPERSAND",A0="APOSTROPHE",hp="ASTERISK",Pr="AT",pp="BACKSLASH",gp="BACKTICK",mp="CARET",Nr="COLON",M0="COMMA",yp="DOLLAR",pi="DOT",bp="EQUALS",P0="EXCLAMATION",Ds="HYPHEN",pu="PERCENT",vp="PIPE",xp="PLUS",Sp="POUND",gu="QUERY",I0="QUOTE",aM="FULLWIDTHMIDDLEDOT",R0="SEMI",gi="SLASH",mu="TILDE",Ep="UNDERSCORE",lM="EMOJI",wp="SYM";var cM=Object.freeze({__proto__:null,WORD:Fi,UWORD:xb,ASCIINUMERICAL:rM,ALPHANUMERICAL:oM,LOCALHOST:qu,TLD:Sb,UTLD:Eb,SCHEME:th,SLASH_SCHEME:il,NUM:k0,WS:wb,NL:_0,OPENBRACE:du,CLOSEBRACE:hu,OPENBRACKET:Qh,CLOSEBRACKET:Zh,OPENPAREN:ep,CLOSEPAREN:tp,OPENANGLEBRACKET:np,CLOSEANGLEBRACKET:sp,FULLWIDTHLEFTPAREN:ip,FULLWIDTHRIGHTPAREN:rp,LEFTCORNERBRACKET:op,RIGHTCORNERBRACKET:ap,LEFTWHITECORNERBRACKET:lp,RIGHTWHITECORNERBRACKET:cp,FULLWIDTHLESSTHAN:up,FULLWIDTHGREATERTHAN:fp,AMPERSAND:dp,APOSTROPHE:A0,ASTERISK:hp,AT:Pr,BACKSLASH:pp,BACKTICK:gp,CARET:mp,COLON:Nr,COMMA:M0,DOLLAR:yp,DOT:pi,EQUALS:bp,EXCLAMATION:P0,HYPHEN:Ds,PERCENT:pu,PIPE:vp,PLUS:xp,POUND:Sp,QUERY:gu,QUOTE:I0,FULLWIDTHMIDDLEDOT:aM,SEMI:R0,SLASH:gi,TILDE:mu,UNDERSCORE:Ep,EMOJI:lM,SYM:wp});const Ri=/[a-z]/,wc=new RegExp("\\p{L}","u"),zm=new RegExp("\\p{Emoji}","u"),Di=/\d/,Wm=/\s/,wE="\r",Km=`
`,w6="",T6="",Gm="";let pd=null,gd=null;function C6(n=[]){const e={};ds.groups=e;const t=new ds;pd==null&&(pd=TE(y6)),gd==null&&(gd=TE(b6)),q(t,"'",A0),q(t,"{",du),q(t,"}",hu),q(t,"[",Qh),q(t,"]",Zh),q(t,"(",ep),q(t,")",tp),q(t,"<",np),q(t,">",sp),q(t,"",ip),q(t,"",rp),q(t,"",op),q(t,"",ap),q(t,"",lp),q(t,"",cp),q(t,"",up),q(t,"",fp),q(t,"&",dp),q(t,"*",hp),q(t,"@",Pr),q(t,"`",gp),q(t,"^",mp),q(t,":",Nr),q(t,",",M0),q(t,"$",yp),q(t,".",pi),q(t,"=",bp),q(t,"!",P0),q(t,"-",Ds),q(t,"%",pu),q(t,"|",vp),q(t,"+",xp),q(t,"#",Sp),q(t,"?",gu),q(t,'"',I0),q(t,"/",gi),q(t,";",R0),q(t,"~",mu),q(t,"_",Ep),q(t,"\\",pp),q(t,"",aM);const s=Lt(t,Di,k0,{[mb]:!0});Lt(s,Di,s);const i=Lt(s,Ri,rM,{[fu]:!0}),r=Lt(s,wc,oM,{[jc]:!0}),o=Lt(t,Ri,Fi,{[yb]:!0});Lt(o,Di,i),Lt(o,Ri,o),Lt(i,Di,i),Lt(i,Ri,i);const a=Lt(t,wc,xb,{[bb]:!0});Lt(a,Ri),Lt(a,Di,r),Lt(a,wc,a),Lt(r,Di,r),Lt(r,Ri),Lt(r,wc,r);const l=q(t,Km,_0,{[Um]:!0}),c=q(t,wE,wb,{[Um]:!0}),u=Lt(t,Wm,wb,{[Um]:!0});q(t,Gm,u),q(c,Km,l),q(c,Gm,u),Lt(c,Wm,u),q(u,wE),q(u,Km),Lt(u,Wm,u),q(u,Gm,u);const f=Lt(t,zm,lM,{[iM]:!0});q(f,"#"),Lt(f,zm,f),q(f,w6,f);const d=q(f,T6);q(d,"#"),Lt(d,zm,f);const h=[[Ri,o],[Di,i]],p=[[Ri,null],[wc,a],[Di,r]];for(let g=0;g<pd.length;g++)gr(t,pd[g],Sb,Fi,h);for(let g=0;g<gd.length;g++)gr(t,gd[g],Eb,xb,p);Jo(Sb,{tld:!0,ascii:!0},e),Jo(Eb,{utld:!0,alpha:!0},e),gr(t,"file",th,Fi,h),gr(t,"mailto",th,Fi,h),gr(t,"http",il,Fi,h),gr(t,"https",il,Fi,h),gr(t,"ftp",il,Fi,h),gr(t,"ftps",il,Fi,h),Jo(th,{scheme:!0,ascii:!0},e),Jo(il,{slashscheme:!0,ascii:!0},e),n=n.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<n.length;g++){const m=n[g][0],b=n[g][1]?{[v6]:!0}:{[x6]:!0};m.indexOf("-")>=0?b[vb]=!0:Ri.test(m)?Di.test(m)?b[fu]=!0:b[yb]=!0:b[mb]=!0,EE(t,m,m,b)}return EE(t,"localhost",qu,{ascii:!0}),t.jd=new ds(wp),{start:t,tokens:Jl({groups:e},cM)}}function uM(n,e){const t=O6(e.replace(/[A-Z]/g,a=>a.toLowerCase())),s=t.length,i=[];let r=0,o=0;for(;o<s;){let a=n,l=null,c=0,u=null,f=-1,d=-1;for(;o<s&&(l=a.go(t[o]));)a=l,a.accepts()?(f=0,d=0,u=a):f>=0&&(f+=t[o].length,d++),c+=t[o].length,r+=t[o].length,o++;r-=f,o-=d,c-=f,i.push({t:u.t,v:e.slice(r-c,r),s:r-c,e:r})}return i}function O6(n){const e=[],t=n.length;let s=0;for(;s<t;){let i=n.charCodeAt(s),r,o=i<55296||i>56319||s+1===t||(r=n.charCodeAt(s+1))<56320||r>57343?n[s]:n.slice(s,s+2);e.push(o),s+=o.length}return e}function gr(n,e,t,s,i){let r;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?r=n.j[l]:(r=new ds(s),r.jr=i.slice(),n.j[l]=r),n=r}return r=new ds(t),r.jr=i.slice(),n.j[e[o-1]]=r,r}function TE(n){const e=[],t=[];let s=0,i="0123456789";for(;s<n.length;){let r=0;for(;i.indexOf(n[s+r])>=0;)r++;if(r>0){e.push(t.join(""));for(let o=parseInt(n.substring(s,s+r),10);o>0;o--)t.pop();s+=r}else t.push(n[s]),s++}return e}const Qu={defaultProtocol:"http",events:null,format:CE,formatHref:CE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function D0(n,e=null){let t=Jl({},Qu);n&&(t=Jl(t,n instanceof D0?n.o:n));const s=t.ignoreTags,i=[];for(let r=0;r<s.length;r++)i.push(s[r].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}D0.prototype={o:Qu,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const s=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Qu[n],typeof i=="function"&&s&&(i=i(e,t))):typeof i=="function"&&s&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let s=this.o[n];return typeof s=="function"&&e!=null&&(s=s(e,t.t,t)),s},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function CE(n){return n}function fM(n,e){this.t="token",this.v=n,this.tk=e}fM.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),s=n.get("format",e,this);return t&&s.length>t?s.substring(0,t)+"":s},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Qu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),s=n.get("formatHref",t,this),i=n.get("tagName",t,e),r=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),u=n.getObj("attributes",t,e),f=n.getObj("events",t,e);return o.href=s,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Jl(o,u),{tagName:i,attributes:o,content:r,eventListeners:f}}};function Rg(n,e){class t extends fM{constructor(i,r){super(i,r),this.t=n}}for(const s in e)t.prototype[s]=e[s];return t.t=n,t}const OE=Rg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kE=Rg("text"),k6=Rg("nl"),md=Rg("url",{isLink:!0,toHref(n=Qu.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==qu&&n[1].t===Nr}}),Is=n=>new ds(n);function _6({groups:n}){const e=n.domain.concat([dp,hp,Pr,pp,gp,mp,yp,bp,Ds,k0,pu,vp,xp,Sp,gi,wp,mu,Ep]),t=[Nr,M0,pi,P0,pu,gu,I0,R0,np,sp,du,hu,Zh,Qh,ep,tp,ip,rp,op,ap,lp,cp,up,fp],s=[dp,A0,hp,pp,gp,mp,yp,bp,Ds,du,hu,pu,vp,xp,Sp,gu,gi,wp,mu,Ep],i=Is(),r=q(i,mu);Ve(r,s,r),Ve(r,n.domain,r);const o=Is(),a=Is(),l=Is();Ve(i,n.domain,o),Ve(i,n.scheme,a),Ve(i,n.slashscheme,l),Ve(o,s,r),Ve(o,n.domain,o);const c=q(o,Pr);q(r,Pr,c),q(a,Pr,c),q(l,Pr,c);const u=q(r,pi);Ve(u,s,r),Ve(u,n.domain,r);const f=Is();Ve(c,n.domain,f),Ve(f,n.domain,f);const d=q(f,pi);Ve(d,n.domain,f);const h=Is(OE);Ve(d,n.tld,h),Ve(d,n.utld,h),q(c,qu,h);const p=q(f,Ds);q(p,Ds,p),Ve(p,n.domain,f),Ve(h,n.domain,f),q(h,pi,d),q(h,Ds,p);const g=q(h,Nr);Ve(g,n.numeric,OE);const m=q(o,Ds),y=q(o,pi);q(m,Ds,m),Ve(m,n.domain,o),Ve(y,s,r),Ve(y,n.domain,o);const b=Is(md);Ve(y,n.tld,b),Ve(y,n.utld,b),Ve(b,n.domain,o),Ve(b,s,r),q(b,pi,y),q(b,Ds,m),q(b,Pr,c);const x=q(b,Nr),v=Is(md);Ve(x,n.numeric,v);const S=Is(md),E=Is();Ve(S,e,S),Ve(S,t,E),Ve(E,e,S),Ve(E,t,E),q(b,gi,S),q(v,gi,S);const k=q(a,Nr),_=q(l,Nr),w=q(_,gi),O=q(w,gi);Ve(a,n.domain,o),q(a,pi,y),q(a,Ds,m),Ve(l,n.domain,o),q(l,pi,y),q(l,Ds,m),Ve(k,n.domain,S),q(k,gi,S),q(k,gu,S),Ve(O,n.domain,S),Ve(O,e,S),q(O,gi,S);const C=[[du,hu],[Qh,Zh],[ep,tp],[np,sp],[ip,rp],[op,ap],[lp,cp],[up,fp]];for(let T=0;T<C.length;T++){const[I,L]=C[T],j=q(S,I);q(E,I,j),q(j,L,S);const D=Is(md);Ve(j,e,D);const V=Is();Ve(j,t),Ve(D,e,D),Ve(D,t,V),Ve(V,e,D),Ve(V,t,V),q(D,L,S),q(V,L,S)}return q(i,qu,b),q(i,_0,k6),{start:i,tokens:cM}}function A6(n,e,t){let s=t.length,i=0,r=[],o=[];for(;i<s;){let a=n,l=null,c=null,u=0,f=null,d=-1;for(;i<s&&!(l=a.go(t[i].t));)o.push(t[i++]);for(;i<s&&(c=l||a.go(t[i].t));)l=null,a=c,a.accepts()?(d=0,f=a):d>=0&&d++,i++,u++;if(d<0)i-=u,i<s&&(o.push(t[i]),i++);else{o.length>0&&(r.push(Xm(kE,e,o)),o=[]),i-=d,u-=d;const h=f.t,p=t.slice(i-u,i);r.push(Xm(h,e,p))}}return o.length>0&&r.push(Xm(kE,e,o)),r}function Xm(n,e,t){const s=t[0].s,i=t[t.length-1].e,r=e.slice(s,i);return new n(r,t)}const M6=typeof console<"u"&&console&&console.warn||(()=>{}),P6="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function I6(){return ds.groups={},Ot.scanner=null,Ot.parser=null,Ot.tokenQueue=[],Ot.pluginQueue=[],Ot.customSchemes=[],Ot.initialized=!1,Ot}function _E(n,e=!1){if(Ot.initialized&&M6(`linkifyjs: already initialized - will not register custom scheme "${n}" ${P6}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ot.customSchemes.push([n,e])}function R6(){Ot.scanner=C6(Ot.customSchemes);for(let n=0;n<Ot.tokenQueue.length;n++)Ot.tokenQueue[n][1]({scanner:Ot.scanner});Ot.parser=_6(Ot.scanner.tokens);for(let n=0;n<Ot.pluginQueue.length;n++)Ot.pluginQueue[n][1]({scanner:Ot.scanner,parser:Ot.parser});return Ot.initialized=!0,Ot}function N0(n){return Ot.initialized||R6(),A6(Ot.parser.start,n,uM(Ot.scanner.start,n))}N0.scan=uM;function dM(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const s=new D0(t),i=N0(n),r=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&s.check(a)&&r.push(a.toFormattedObject(s))}return r}function D6(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function N6(n){return new Tn({key:new As("autolink"),appendTransaction:(e,t,s)=>{const i=e.some(c=>c.docChanged)&&!t.doc.eq(s.doc),r=e.some(c=>c.getMeta("preventAutolink"));if(!i||r)return;const{tr:o}=s,a=IU(t.doc,[...e]);if(BU(a).forEach(({newRange:c})=>{const u=DU(s.doc,c,h=>h.isTextblock);let f,d;if(u.length>1?(f=u[0],d=s.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):u.length&&s.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(f=u[0],d=s.doc.textBetween(f.pos,c.to,void 0," ")),f&&d){const h=d.split(" ").filter(y=>y!=="");if(h.length<=0)return!1;const p=h[h.length-1],g=f.pos+d.lastIndexOf(p);if(!p)return!1;const m=N0(p).map(y=>y.toObject(n.defaultProtocol));if(!D6(m))return!1;m.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>s.schema.marks.code?!s.doc.rangeHasMark(y.from,y.to,s.schema.marks.code):!0).filter(y=>n.validate(y.value)).filter(y=>n.shouldAutoLink(y.value)).forEach(y=>{T0(y.from,y.to,s.doc).some(b=>b.mark.type===n.type)||o.addMark(y.from,y.to,n.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function L6(n){return new Tn({key:new As("handleClickLink"),props:{handleClick:(e,t,s)=>{var i,r;if(s.button!==0||!e.editable)return!1;let o=s.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(d=>d.nodeName==="A"))return!1;const l=GA(e.state,n.type.name),c=s.target,u=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,f=(r=c==null?void 0:c.target)!==null&&r!==void 0?r:l.target;return c&&u?(window.open(u,f),!0):!1}}})}function F6(n){return new Tn({key:new As("handlePasteLink"),props:{handlePaste:(e,t,s)=>{const{state:i}=e,{selection:r}=i,{empty:o}=r;if(o)return!1;let a="";s.content.forEach(c=>{a+=c.textContent});const l=dM(a,{defaultProtocol:n.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:n.editor.commands.setMark(n.type,{href:l.href})}}})}const $6=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Io(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const i=typeof s=="string"?s:s.scheme;i&&t.push(i)}),!n||n.replace($6,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const j6=_i.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){_E(n);return}_E(n.scheme,n.optionalSlashes)})},onDestroy(){I6()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Io(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Io(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Io(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gn(this.options.HTMLAttributes,n),0]:["a",gn(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:s=>!!Io(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:s=>!!Io(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[_a({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:s}=this.options,i=dM(n).filter(r=>r.isLink&&this.options.isAllowedUri(r.value,{defaultValidate:o=>!!Io(o,t),protocols:t,defaultProtocol:s}));i.length&&i.forEach(r=>e.push({text:r.value,data:{href:r.href},index:r.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(N6({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:i=>!!Io(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(L6({type:this.type})),this.options.linkOnPaste&&n.push(F6({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),B6=_i.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",gn(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function V6(n){const e=Ez({content:n,extensions:[m6,j6.configure({HTMLAttributes:{class:"text-blue-500 underline"}}),JA,tM,B6,sM,YA,nM,XA]});return{editor:e,toggleBold:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBold().run()},toggleItalic:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleItalic().run()},toggleUnderline:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleUnderline().run()},toggleStrike:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleStrike().run()},toggleLink:()=>{var f;const u=window.prompt(" URL: ");u&&((f=e.value)==null||f.chain().focus().toggleLink({href:u}).run())},toggleBulletList:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBulletList().run()},toggleOrderedList:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleOrderedList().run()},toggleBlockquote:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBlockquote().run()}}}const H6={class:"flex flex-col gap-6"},U6={class:"bg-bg-dark ml-2 rounded-lg p-2 flex flex-wrap justify-between gap-4 px-4 text-gray-300"},z6={class:"flex flex-wrap gap-4"},W6={class:"flex flex-wrap gap-4"},K6={class:"bg-bg-dark h-96 ml-2 rounded-lg p-2 flex justify-between gap-4 px-4 text-gray-300 overflow-y-auto max-h-[650px]"},G6={class:"w-full h-full"},X6=vt({__name:"TextEditor",props:{modelValue:String},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,{editor:i,toggleBold:r,toggleItalic:o,toggleUnderline:a,toggleStrike:l,toggleLink:c,toggleBulletList:u,toggleOrderedList:f,toggleBlockquote:d}=V6(t.modelValue||"");return wn(()=>{var h;return(h=i.value)==null?void 0:h.getHTML()},h=>{s("update:modelValue",h||"")}),(h,p)=>{var g,m,y,b,x,v,S,E;return Y(),te("div",H6,[M("div",U6,[M("div",z6,[M("button",{onClick:p[0]||(p[0]=(...k)=>re(r)&&re(r)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(g=re(i))!=null&&g.isActive("bold")?"bg-slate-700":"bg-transparent"])},p[8]||(p[8]=[M("span",{class:"fa-solid fa-bold"},null,-1)]),2),M("button",{onClick:p[1]||(p[1]=(...k)=>re(o)&&re(o)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(m=re(i))!=null&&m.isActive("italic")?"bg-slate-700":"bg-transparent"])},p[9]||(p[9]=[M("span",{class:"fa-solid fa-italic"},null,-1)]),2),M("button",{onClick:p[2]||(p[2]=(...k)=>re(a)&&re(a)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(y=re(i))!=null&&y.isActive("underline")?"bg-slate-700":"bg-transparent"])},p[10]||(p[10]=[M("span",{class:"fa-solid fa-underline"},null,-1)]),2),M("button",{onClick:p[3]||(p[3]=(...k)=>re(l)&&re(l)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(b=re(i))!=null&&b.isActive("strike")?"bg-slate-700":"bg-transparent"])},p[11]||(p[11]=[M("span",{class:"fa-solid fa-strikethrough"},null,-1)]),2),M("button",{onClick:p[4]||(p[4]=(...k)=>re(c)&&re(c)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(x=re(i))!=null&&x.isActive("link")?"bg-slate-700":"bg-transparent"])},p[12]||(p[12]=[M("span",{class:"fa-solid fa-link"},null,-1)]),2)]),M("div",W6,[M("button",{onClick:p[5]||(p[5]=(...k)=>re(u)&&re(u)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(v=re(i))!=null&&v.isActive("bulletList")?"bg-slate-700":"bg-transparent"])},p[13]||(p[13]=[M("span",{class:"fa-solid fa-list-ul"},null,-1)]),2),M("button",{onClick:p[6]||(p[6]=(...k)=>re(f)&&re(f)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(S=re(i))!=null&&S.isActive("orderedList")?"bg-slate-700":"bg-transparent"])},p[14]||(p[14]=[M("span",{class:"fa-solid fa-list-ol"},null,-1)]),2),M("button",{onClick:p[7]||(p[7]=(...k)=>re(d)&&re(d)(...k)),class:pt(["px-2 rounded-sm hover:bg-gray-500 duration-150",(E=re(i))!=null&&E.isActive("blockquote")?"bg-slate-700":"bg-transparent"])},p[15]||(p[15]=[M("span",{class:"fa-solid fa-quote-left"},null,-1)]),2)])]),M("div",K6,[M("div",G6,[ve(re(Sz),{editor:re(i),class:"h-full break-words"},null,8,["editor"])])])])}}}),hM=Eo(X6,[["__scopeId","data-v-4d244093"]]),J6={class:"flex flex-col gap-6"},Y6={class:"flex gap-4 justify-end"},q6=["disabled"],Q6={key:0},Z6={key:1},eW=vt({__name:"TaskEditPanel",props:{task:{type:Object,required:!0},isOpen:Boolean},emits:["close","updated","notify"],setup(n,{emit:e}){const t=n,s=e,i=me({name:t.task.name,description:t.task.description,status:t.task.status,priority:t.task.priority,deadline:t.task.deadline?o(t.task.deadline):void 0}),r=me(!1);function o(l){return new Date(l).toISOString().slice(0,16)}wn(()=>t.task,l=>{i.value={name:l.name,description:l.description,status:l.status,priority:l.priority,deadline:l.deadline?o(l.deadline):void 0}});const a=async()=>{try{r.value=!0;const l={...i.value,deadline:i.value.deadline?i.value.deadline:void 0};await Fd(t.task.id,l),s("updated",{...t.task,...l}),s("notify",{type:"success",message:"  "}),s("close")}catch(l){console.error("  :",l),s("notify",{type:"error",message:"   "})}finally{r.value=!1}};return(l,c)=>(Y(),Os(eo,{"enter-active-class":"transition-transform duration-300","leave-active-class":"transition-transform duration-300","enter-from-class":"translate-x-full","leave-to-class":"translate-x-full"},{default:$s(()=>[n.isOpen?(Y(),te("div",{key:0,onClick:c[8]||(c[8]=to(()=>{},["stop"])),class:"fixed right-0 top-0 bottom-0 w-[400px] bg-zinc-900 shadow-xl z-50 overflow-y-auto p-8"},[M("button",{onClick:c[0]||(c[0]=u=>l.$emit("close")),class:"absolute top-4 right-4 text-white text-xl hover:text-zinc-300"},c[9]||(c[9]=[M("i",{class:"fa-solid fa-xmark"},null,-1)])),M("div",J6,[c[17]||(c[17]=M("h2",{class:"text-2xl font-bold text-white"}," ",-1)),M("form",{onSubmit:to(a,["prevent"]),class:"space-y-6"},[M("div",null,[c[10]||(c[10]=M("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"   ",-1)),Vr(M("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>i.value.name=u),type:"text",required:"",class:"w-full bg-bg-accent-dark rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Pl,i.value.name]])]),M("div",null,[c[11]||(c[11]=M("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"  ",-1)),ve(re(hM),{onClick:c[2]||(c[2]=to(()=>{},["stop"])),modelValue:i.value.description,"onUpdate:modelValue":c[3]||(c[3]=u=>i.value.description=u),class:"bg-bg-accent-dark rounded-md"},null,8,["modelValue"])]),M("div",null,[c[13]||(c[13]=M("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"  ",-1)),Vr(M("select",{"onUpdate:modelValue":c[4]||(c[4]=u=>i.value.status=u),class:"w-full bg-bg-accent-dark rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},c[12]||(c[12]=[M("option",{value:"planned"},"",-1),M("option",{value:"progress"}," ",-1),M("option",{value:"done"},"",-1)]),512),[[xa,i.value.status]])]),M("div",null,[c[15]||(c[15]=M("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"  ",-1)),Vr(M("select",{"onUpdate:modelValue":c[5]||(c[5]=u=>i.value.priority=u),class:"w-full bg-bg-accent-dark rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},c[14]||(c[14]=[M("option",{value:1},"",-1),M("option",{value:2},"",-1),M("option",{value:3},"",-1)]),512),[[xa,i.value.priority]])]),M("div",null,[c[16]||(c[16]=M("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"  ",-1)),Vr(M("input",{"onUpdate:modelValue":c[6]||(c[6]=u=>i.value.deadline=u),type:"datetime-local",class:"w-full bg-bg-accent-dark rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Pl,i.value.deadline]])]),M("div",Y6,[M("button",{type:"button",onClick:c[7]||(c[7]=u=>l.$emit("close")),class:"px-4 py-2 text-gray-300 hover:text-white transition-colors"},"  "),M("button",{type:"submit",class:"px-4 py-2 bg-blue-600 rounded-md text-white hover:bg-blue-700 transition-colors",disabled:r.value},[r.value?(Y(),te("span",Q6,"...")):(Y(),te("span",Z6," "))],8,q6)])],32)])])):rn("",!0)]),_:1}))}}),tW={class:"flex justify-between gap-4"},nW={class:"inline-block mt-2 text-md truncate max-w-[100%]"},sW={class:"bg-bg-accent-dark rounded-sm px-2 py-2"},iW={class:"mt-4 grid grid-cols-2"},rW={class:"flex flex-col"},oW={class:"flex gap-1 items-center text-xs text-gray-400"},aW={class:"flex gap-1 items-center text-xs text-gray-400"},lW={key:0,class:"grid grid-cols-2 gap-1"},cW={class:"mt-4 flex gap-2 justify-center items-center"},uW={class:"text-sm"},AE=vt({__name:"KanbanTaskCard",props:{task:{}},emits:["edit","delete","freeze","hide"],setup(n,{emit:e}){const t=n,s=e,i=me(!1),r=me(!1),o=me(!1),a=me(!1),l=v=>{switch(v){case 1:return"";case 2:return"";case 3:return"";default:return" "}},c=v=>{s("edit",v),o.value=!1},u=v=>new Date(v).toLocaleDateString("ru-RU"),f=async()=>{s("edit",t.task.id),o.value=!0},d=async()=>{s("delete",t.task.id),r.value=!0},h=async()=>{s("hide",t.task.id)},p=async()=>{s("freeze",t.task.id)},g=()=>{i.value=!i.value},m=()=>{i.value=!1},y=()=>{o.value=!1},b=()=>{a.value=!0},x=()=>{a.value=!1};return(v,S)=>(Y(),te("div",null,[ve(re(eW),{task:v.task,isOpen:o.value,onClose:y,onUpdated:c},null,8,["task","isOpen"]),M("div",{class:pt(["w-72 h-42 p-2 flex flex-col justify-between rounded-md border-2 cursor-pointer",v.task.isFrozen?"bg-gray-800 border-gray-600":"bg-bg-dark border-gray-700 hover:border-blue-500"])},[ve(re(yV),{task:v.task,isOpen:i.value,onClose:m},null,8,["task","isOpen"]),M("div",tW,[M("button",{onClick:f,id:"edit",class:"hover:bg-gray-600 w-6 h-6 flex items-center justify-center rounded-full duration-150"},S[0]||(S[0]=[M("i",{class:"fa-solid fa-pen-to-square"},null,-1)])),M("button",{onClick:p,id:"froze",class:"hover:bg-gray-600 w-6 h-6 flex items-center justify-center rounded-full duration-150"},[M("i",{class:pt(["fa-solid fa-snowflake",v.task.isFrozen?"text-gray-300":""])},null,2)]),M("button",{onClick:h,id:"hide",class:"hover:bg-gray-600 w-6 h-6 flex items-center justify-center rounded-full duration-150"},[M("i",{class:pt(v.task.isVisible?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)]),M("button",{onClick:b,id:"delete",class:"hover:bg-gray-600 w-6 h-6 flex items-center justify-center rounded-full duration-150"},S[1]||(S[1]=[M("i",{class:"fa-regular fa-trash-can"},null,-1)]))]),M("div",{onClick:g},[M("span",nW,[M("code",sW,Je(v.task.name),1)]),M("div",iW,[M("div",rW,[M("span",oW,[S[2]||(S[2]=M("i",{class:"fa-solid fa-chart-simple"},null,-1)),M("span",null,Je(l(v.task.priority)),1)]),M("span",aW,[S[3]||(S[3]=M("i",{class:"fa-regular fa-calendar-days"},null,-1)),M("span",null,Je(u(new Date(v.task.createdAt))),1)])]),v.task.labels&&v.task.labels.length>0?(Y(),te("div",lW,[(Y(!0),te(st,null,Yn(v.task.labels.slice(0,2),(E,k)=>(Y(),Os(re(i0),{key:k,label:E,class:"w-14 truncate"},null,8,["label"]))),128))])):rn("",!0)]),M("div",cW,[S[4]||(S[4]=M("i",{class:"fa-solid fa-clock text-xl"},null,-1)),M("span",uW,Je(u(new Date(v.task.deadline))),1)])]),ve(re(wv),{"is-open":a.value,title:" ?",message:` ,     ${v.task.name}?    .`,"confirm-text":"","is-loading":r.value,onConfirm:d,onCancel:x},null,8,["is-open","message","is-loading"])],2)]))}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pf(n){return n+.5|0}const Gr=(n,e,t)=>Math.max(Math.min(n,t),e);function Bc(n){return Gr(Pf(n*2.55),0,255)}function lo(n){return Gr(Pf(n*255),0,255)}function zi(n){return Gr(Pf(n/2.55)/100,0,1)}function ME(n){return Gr(Pf(n*100),0,100)}const Rs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Tb=[..."0123456789ABCDEF"],fW=n=>Tb[n&15],dW=n=>Tb[(n&240)>>4]+Tb[n&15],yd=n=>(n&240)>>4===(n&15),hW=n=>yd(n.r)&&yd(n.g)&&yd(n.b)&&yd(n.a);function pW(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Rs[n[1]]*17,g:255&Rs[n[2]]*17,b:255&Rs[n[3]]*17,a:e===5?Rs[n[4]]*17:255}:(e===7||e===9)&&(t={r:Rs[n[1]]<<4|Rs[n[2]],g:Rs[n[3]]<<4|Rs[n[4]],b:Rs[n[5]]<<4|Rs[n[6]],a:e===9?Rs[n[7]]<<4|Rs[n[8]]:255})),t}const gW=(n,e)=>n<255?e(n):"";function mW(n){var e=hW(n)?fW:dW;return n?"#"+e(n.r)+e(n.g)+e(n.b)+gW(n.a,e):void 0}const yW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pM(n,e,t){const s=e*Math.min(t,1-t),i=(r,o=(r+n/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function bW(n,e,t){const s=(i,r=(i+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function vW(n,e,t){const s=pM(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)s[i]*=1-e-t,s[i]+=e;return s}function xW(n,e,t,s,i){return n===i?(e-t)/s+(e<t?6:0):e===i?(t-n)/s+2:(n-e)/s+4}function L0(n){const t=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(t,s,i),o=Math.min(t,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=xW(t,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function F0(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(lo)}function $0(n,e,t){return F0(pM,n,e,t)}function SW(n,e,t){return F0(vW,n,e,t)}function EW(n,e,t){return F0(bW,n,e,t)}function gM(n){return(n%360+360)%360}function wW(n){const e=yW.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Bc(+e[5]):lo(+e[5]));const i=gM(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=SW(i,r,o):e[1]==="hsv"?s=EW(i,r,o):s=$0(i,r,o),{r:s[0],g:s[1],b:s[2],a:t}}function TW(n,e){var t=L0(n);t[0]=gM(t[0]+e),t=$0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function CW(n){if(!n)return;const e=L0(n),t=e[0],s=ME(e[1]),i=ME(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${i}%, ${zi(n.a)})`:`hsl(${t}, ${s}%, ${i}%)`}const PE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},IE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OW(){const n={},e=Object.keys(IE),t=Object.keys(PE);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<t.length;i++)r=t[i],a=a.replace(r,PE[r]);r=parseInt(IE[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let bd;function kW(n){bd||(bd=OW(),bd.transparent=[0,0,0,0]);const e=bd[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _W=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function AW(n){const e=_W.exec(n);let t=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?Bc(o):Gr(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Bc(s):Gr(s,0,255)),i=255&(e[4]?Bc(i):Gr(i,0,255)),r=255&(e[6]?Bc(r):Gr(r,0,255)),{r:s,g:i,b:r,a:t}}}function MW(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${zi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Jm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ya=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function PW(n,e,t){const s=Ya(zi(n.r)),i=Ya(zi(n.g)),r=Ya(zi(n.b));return{r:lo(Jm(s+t*(Ya(zi(e.r))-s))),g:lo(Jm(i+t*(Ya(zi(e.g))-i))),b:lo(Jm(r+t*(Ya(zi(e.b))-r))),a:n.a+t*(e.a-n.a)}}function vd(n,e,t){if(n){let s=L0(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=$0(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function mM(n,e){return n&&Object.assign(e||{},n)}function RE(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=lo(n[3]))):(e=mM(n,{r:0,g:0,b:0,a:1}),e.a=lo(e.a)),e}function IW(n){return n.charAt(0)==="r"?AW(n):wW(n)}class Zu{constructor(e){if(e instanceof Zu)return e;const t=typeof e;let s;t==="object"?s=RE(e):t==="string"&&(s=pW(e)||kW(e)||IW(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=mM(this._rgb);return e&&(e.a=zi(e.a)),e}set rgb(e){this._rgb=RE(e)}rgbString(){return this._valid?MW(this._rgb):void 0}hexString(){return this._valid?mW(this._rgb):void 0}hslString(){return this._valid?CW(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=PW(this._rgb,e._rgb,t)),this}clone(){return new Zu(this.rgb)}alpha(e){return this._rgb.a=lo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Pf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vd(this._rgb,2,e),this}darken(e){return vd(this._rgb,2,-e),this}saturate(e){return vd(this._rgb,1,e),this}desaturate(e){return vd(this._rgb,1,-e),this}rotate(e){return TW(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ni(){}const RW=(()=>{let n=0;return()=>n++})();function at(n){return n==null}function Rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function zt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function xs(n,e){return zt(n)?n:e}function $e(n,e){return typeof n>"u"?e:n}const DW=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,yM=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function bt(n,e,t,s){let i,r,o;if(Rt(n))for(r=n.length,i=0;i<r;i++)e.call(t,n[i],i);else if(Qe(n))for(o=Object.keys(n),r=o.length,i=0;i<r;i++)e.call(t,n[o[i]],o[i])}function Tp(n,e){let t,s,i,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(i=n[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Cp(n){if(Rt(n))return n.map(Cp);if(Qe(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let i=0;for(;i<s;++i)e[t[i]]=Cp(n[t[i]]);return e}return n}function bM(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function NW(n,e,t,s){if(!bM(n))return;const i=e[n],r=t[n];Qe(i)&&Qe(r)?ef(i,r,s):e[n]=Cp(r)}function ef(n,e,t){const s=Rt(e)?e:[e],i=s.length;if(!Qe(n))return n;t=t||{};const r=t.merger||NW;let o;for(let a=0;a<i;++a){if(o=s[a],!Qe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,t)}return n}function yu(n,e){return ef(n,e,{merger:LW})}function LW(n,e,t){if(!bM(n))return;const s=e[n],i=t[n];Qe(s)&&Qe(i)?yu(s,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Cp(i))}const DE={"":n=>n,x:n=>n.x,y:n=>n.y};function FW(n){const e=n.split("."),t=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function $W(n){const e=FW(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function po(n,e){return(DE[e]||(DE[e]=$W(e)))(n)}function j0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const tf=n=>typeof n<"u",go=n=>typeof n=="function",NE=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function jW(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const At=Math.PI,_t=2*At,BW=_t+At,Op=Number.POSITIVE_INFINITY,VW=At/180,Kt=At/2,Ro=At/4,LE=At*2/3,Xr=Math.log10,wi=Math.sign;function bu(n,e,t){return Math.abs(n-e)<t}function FE(n){const e=Math.round(n);n=bu(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Xr(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function HW(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function Yl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function UW(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function vM(n,e,t){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function si(n){return n*(At/180)}function B0(n){return n*(180/At)}function $E(n){if(!zt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function xM(n,e){const t=e.x-n.x,s=e.y-n.y,i=Math.sqrt(t*t+s*s);let r=Math.atan2(s,t);return r<-.5*At&&(r+=_t),{angle:r,distance:i}}function Cb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function zW(n,e){return(n-e+BW)%_t-At}function Es(n){return(n%_t+_t)%_t}function nf(n,e,t,s){const i=Es(n),r=Es(e),o=Es(t),a=Es(r-i),l=Es(o-i),c=Es(i-r),u=Es(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function un(n,e,t){return Math.max(e,Math.min(t,n))}function WW(n){return un(n,-32768,32767)}function Qi(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function V0(n,e,t){t=t||(o=>n[o]<e);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,t(r)?i=r:s=r;return{lo:i,hi:s}}const Zi=(n,e,t,s)=>V0(n,t,s?i=>{const r=n[i][e];return r<t||r===t&&n[i+1][e]===t}:i=>n[i][e]<t),KW=(n,e,t)=>V0(n,t,s=>n[s][e]>=t);function GW(n,e,t){let s=0,i=n.length;for(;s<i&&n[s]<e;)s++;for(;i>s&&n[i-1]>t;)i--;return s>0||i<n.length?n.slice(s,i):n}const SM=["push","pop","shift","splice","unshift"];function XW(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),SM.forEach(t=>{const s="_onData"+j0(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function jE(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(SM.forEach(r=>{delete n[r]}),delete n._chartjs)}function EM(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const wM=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function TM(n,e){let t=[],s=!1;return function(...i){t=i,s||(s=!0,wM.call(window,()=>{s=!1,n.apply(e,t)}))}}function JW(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const H0=n=>n==="start"?"left":n==="end"?"right":"center",An=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,YW=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function CM(n,e,t){const s=e.length;let i=0,r=s;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();f&&(i=un(Math.min(Zi(a,l,c).lo,t?s:Zi(e,l,o.getPixelForValue(c)).lo),0,s-1)),d?r=un(Math.max(Zi(a,o.axis,u,!0).hi+1,t?0:Zi(e,l,o.getPixelForValue(u),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function OM(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),r}const xd=n=>n===0||n===1,BE=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*_t/t)),VE=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*_t/t)+1,vu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Kt)+1,easeOutSine:n=>Math.sin(n*Kt),easeInOutSine:n=>-.5*(Math.cos(At*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>xd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>xd(n)?n:BE(n,.075,.3),easeOutElastic:n=>xd(n)?n:VE(n,.075,.3),easeInOutElastic(n){return xd(n)?n:n<.5?.5*BE(n*2,.1125,.45):.5+.5*VE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-vu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vu.easeInBounce(n*2)*.5:vu.easeOutBounce(n*2-1)*.5+.5};function U0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function HE(n){return U0(n)?n:new Zu(n)}function Ym(n){return U0(n)?n:new Zu(n).saturate(.5).darken(.1).hexString()}const qW=["x","y","borderWidth","radius","tension"],QW=["color","borderColor","backgroundColor"];function ZW(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:QW},numbers:{type:"number",properties:qW}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function e8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const UE=new Map;function t8(n,e){e=e||{};const t=n+JSON.stringify(e);let s=UE.get(t);return s||(s=new Intl.NumberFormat(n,e),UE.set(t,s)),s}function If(n,e,t){return t8(e,t).format(n)}const kM={values(n){return Rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=n8(n,t)}const o=Xr(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),If(n,s,l)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Xr(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?kM.numeric.call(this,n,e,t):""}};function n8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Dg={formatters:kM};function s8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Aa=Object.create(null),Ob=Object.create(null);function xu(n,e){if(!e)return n;const t=e.split(".");for(let s=0,i=t.length;s<i;++s){const r=t[s];n=n[r]||(n[r]=Object.create(null))}return n}function qm(n,e,t){return typeof e=="string"?ef(xu(n,e),t):ef(xu(n,""),e)}class i8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ym(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ym(i.borderColor),this.hoverColor=(s,i)=>Ym(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qm(this,e,t)}get(e){return xu(this,e)}describe(e,t){return qm(Ob,e,t)}override(e,t){return qm(Aa,e,t)}route(e,t,s,i){const r=xu(this,e),o=xu(this,s),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return Qe(l)?Object.assign({},c,l):$e(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var Dt=new i8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZW,e8,s8]);function r8(n){return!n||at(n.size)||at(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function kp(n,e,t,s,i){let r=e[i];return r||(r=e[i]=n.measureText(i).width,t.push(i)),r>s&&(s=r),s}function o8(n,e,t,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,f,d;for(l=0;l<a;l++)if(f=t[l],f!=null&&!Rt(f))o=kp(n,i,r,o,f);else if(Rt(f))for(c=0,u=f.length;c<u;c++)d=f[c],d!=null&&!Rt(d)&&(o=kp(n,i,r,o,d));n.restore();const h=r.length/2;if(h>t.length){for(l=0;l<h;l++)delete i[r[l]];r.splice(0,h)}return o}function Do(n,e,t){const s=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*s)/s+i}function zE(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function kb(n,e,t,s){_M(n,e,t,s,null)}function _M(n,e,t,s,i){let r,o,a,l,c,u,f,d;const h=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*VW;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),h){default:i?n.ellipse(t,s,i/2,g,0,0,_t):n.arc(t,s,g,0,_t),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=LE,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=LE,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+Ro)*l,f=Math.cos(m+Ro)*(i?i/2-c:l),a=Math.sin(m+Ro)*l,d=Math.sin(m+Ro)*(i?i/2-c:l),n.arc(t-f,s-a,c,m-At,m-Kt),n.arc(t+d,s-o,c,m-Kt,m),n.arc(t+f,s+a,c,m,m+Kt),n.arc(t-d,s+o,c,m+Kt,m+At),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,s-l,2*u,2*l);break}m+=Ro;case"rectRot":f=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-f,s-a),n.lineTo(t+d,s-o),n.lineTo(t+f,s+a),n.lineTo(t-d,s+o),n.closePath();break;case"crossRot":m+=Ro;case"cross":f=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-f,s-a),n.lineTo(t+f,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"star":f=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-f,s-a),n.lineTo(t+f,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o),m+=Ro,f=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-f,s-a),n.lineTo(t+f,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(t-o,s-a),n.lineTo(t+o,s+a);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(m)*(i?i/2:g),s+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function er(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ng(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Lg(n){n.restore()}function a8(n,e,t,s,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else i==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function l8(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function c8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),at(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function u8(n,e,t,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function f8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ma(n,e,t,s,i,r={}){const o=Rt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,c8(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&f8(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),at(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,t,s,r.maxWidth)),n.fillText(c,t,s,r.maxWidth),u8(n,t,s,c,r),s+=Number(i.lineHeight);n.restore()}function sf(n,e){const{x:t,y:s,w:i,h:r,radius:o}=e;n.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*At,At,!0),n.lineTo(t,s+r-o.bottomLeft),n.arc(t+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,At,Kt,!0),n.lineTo(t+i-o.bottomRight,s+r),n.arc(t+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Kt,0,!0),n.lineTo(t+i,s+o.topRight),n.arc(t+i-o.topRight,s+o.topRight,o.topRight,0,-Kt,!0),n.lineTo(t+o.topLeft,s)}const d8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,h8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function p8(n,e){const t=(""+n).match(d8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const g8=n=>+n||0;function z0(n,e){const t={},s=Qe(e),i=s?Object.keys(e):e,r=Qe(n)?s?o=>$e(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=g8(r(o));return t}function AM(n){return z0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ma(n){return z0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Vn(n){const e=AM(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function on(n,e){n=n||{},e=e||Dt.font;let t=$e(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=$e(n.style,e.style);s&&!(""+s).match(h8)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:$e(n.family,e.family),lineHeight:p8($e(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:$e(n.weight,e.weight),string:""};return i.string=r8(i),i}function Vc(n,e,t,s){let i,r,o;for(i=0,r=n.length;i<r;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function m8(n,e,t){const{min:s,max:i}=n,r=yM(e,(i-s)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Oo(n,e){return Object.assign(Object.create(n),e)}function W0(n,e=[""],t,s,i=()=>n[0]){const r=t||n;typeof s>"u"&&(s=RM("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>W0([a,...n],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return PM(a,l,()=>T8(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return KE(a).includes(l)},ownKeys(a){return KE(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ql(n,e,t,s){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:MM(n,s),setContext:r=>ql(n,r,t,s),override:r=>ql(n.override(r),e,t,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return PM(r,o,()=>b8(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function MM(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:s,isScriptable:go(t)?t:()=>t,isIndexable:go(s)?s:()=>s}}const y8=(n,e)=>n?n+j0(e):e,K0=(n,e)=>Qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function PM(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function b8(n,e,t){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=n;let a=s[e];return go(a)&&o.isScriptable(e)&&(a=v8(e,a,n,t)),Rt(a)&&a.length&&(a=x8(e,a,n,o.isIndexable)),K0(e,a)&&(a=ql(a,i,r&&r[e],o)),a}function v8(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(r,o||s);return a.delete(n),K0(n,l)&&(l=G0(i._scopes,i,n,l)),l}function x8(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&s(n))return e[r.index%e.length];if(Qe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=G0(c,i,n,u);e.push(ql(f,r,o&&o[n],a))}}return e}function IM(n,e,t){return go(n)?n(e,t):n}const S8=(n,e)=>n===!0?e:typeof n=="string"?po(e,n):void 0;function E8(n,e,t,s,i){for(const r of e){const o=S8(t,r);if(o){n.add(o);const a=IM(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==s)return a}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function G0(n,e,t,s){const i=e._rootScopes,r=IM(e._fallback,t,s),o=[...n,...i],a=new Set;a.add(s);let l=WE(a,o,t,r||t,s);return l===null||typeof r<"u"&&r!==t&&(l=WE(a,o,r,l,s),l===null)?!1:W0(Array.from(a),[""],i,r,()=>w8(e,t,s))}function WE(n,e,t,s,i){for(;t;)t=E8(n,e,t,s,i);return t}function w8(n,e,t){const s=n._getTarget();e in s||(s[e]={});const i=s[e];return Rt(i)&&Qe(t)?t:i||{}}function T8(n,e,t,s){let i;for(const r of e)if(i=RM(y8(r,n),t),typeof i<"u")return K0(n,i)?G0(t,s,n,i):i}function RM(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function KE(n){let e=n._keys;return e||(e=n._keys=C8(n._scopes)),e}function C8(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function DM(n,e,t,s){const{iScale:i}=n,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+t,u=e[c],o[a]={r:i.parse(po(u,r),c)};return o}const O8=Number.EPSILON||1e-14,Ql=(n,e)=>e<n.length&&!n[e].skip&&n[e],NM=n=>n==="x"?"y":"x";function k8(n,e,t,s){const i=n.skip?e:n,r=e,o=t.skip?e:t,a=Cb(r,i),l=Cb(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=s*c,d=s*u;return{previous:{x:r.x-f*(o.x-i.x),y:r.y-f*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function _8(n,e,t){const s=n.length;let i,r,o,a,l,c=Ql(n,0);for(let u=0;u<s-1;++u)if(l=c,c=Ql(n,u+1),!(!l||!c)){if(bu(e[u],0,O8)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],r=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=r*o*e[u])}}function A8(n,e,t="x"){const s=NM(t),i=n.length;let r,o,a,l=Ql(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Ql(n,c+1),!a)continue;const u=a[t],f=a[s];o&&(r=(u-o[t])/3,a[`cp1${t}`]=u-r,a[`cp1${s}`]=f-r*e[c]),l&&(r=(l[t]-u)/3,a[`cp2${t}`]=u+r,a[`cp2${s}`]=f+r*e[c])}}function M8(n,e="x"){const t=NM(e),s=n.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Ql(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=Ql(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}r[o]=a?c?wi(i[o-1])!==wi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}_8(n,i,r),A8(n,r,e)}function Sd(n,e,t){return Math.max(Math.min(n,t),e)}function P8(n,e){let t,s,i,r,o,a=er(n[0],e);for(t=0,s=n.length;t<s;++t)o=r,r=a,a=t<s-1&&er(n[t+1],e),r&&(i=n[t],o&&(i.cp1x=Sd(i.cp1x,e.left,e.right),i.cp1y=Sd(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Sd(i.cp2x,e.left,e.right),i.cp2y=Sd(i.cp2y,e.top,e.bottom)))}function I8(n,e,t,s,i){let r,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")M8(n,i);else{let c=s?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=k8(c,a,n[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&P8(n,t)}function X0(){return typeof window<"u"&&typeof document<"u"}function J0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _p(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Fg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function R8(n,e){return Fg(n).getPropertyValue(e)}const D8=["top","right","bottom","left"];function ya(n,e,t){const s={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=D8[i];s[r]=parseFloat(n[e+"-"+r+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const N8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function L8(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(N8(i,r,n.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Bo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,i=Fg(t),r=i.boxSizing==="border-box",o=ya(i,"padding"),a=ya(i,"border","width"),{x:l,y:c,box:u}=L8(n,t),f=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:h,height:p}=e;return r&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/h*t.width/s),y:Math.round((c-d)/p*t.height/s)}}function F8(n,e,t){let s,i;if(e===void 0||t===void 0){const r=n&&J0(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=Fg(r),l=ya(a,"border","width"),c=ya(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,s=_p(a.maxWidth,r,"clientWidth"),i=_p(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:s||Op,maxHeight:i||Op}}const Ed=n=>Math.round(n*10)/10;function $8(n,e,t,s){const i=Fg(n),r=ya(i,"margin"),o=_p(i.maxWidth,n,"clientWidth")||Op,a=_p(i.maxHeight,n,"clientHeight")||Op,l=F8(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=ya(i,"border","width"),h=ya(i,"padding");c-=h.width+d.width,u-=h.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Ed(Math.min(c,o,l.maxWidth)),u=Ed(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ed(c/2)),(e!==void 0||t!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Ed(Math.floor(u*s))),{width:c,height:u}}function GE(n,e,t){const s=e||1,i=Math.floor(n.height*s),r=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(n.currentDevicePixelRatio=s,o.height=i,o.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const j8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};X0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function XE(n,e){const t=R8(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Vo(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function B8(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function V8(n,e,t,s){const i={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=Vo(n,i,t),a=Vo(i,r,t),l=Vo(r,e,t),c=Vo(o,a,t),u=Vo(a,l,t);return Vo(c,u,t)}const H8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},U8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function bl(n,e,t){return n?H8(e,t):U8()}function LM(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function FM(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function $M(n){return n==="angle"?{between:nf,compare:zW,normalize:Es}:{between:Qi,compare:(e,t)=>e-t,normalize:e=>e}}function JE({start:n,end:e,count:t,loop:s,style:i}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:i}}function z8(n,e,t){const{property:s,start:i,end:r}=t,{between:o,normalize:a}=$M(s),l=e.length;let{start:c,end:u,loop:f}=n,d,h;if(f){for(c+=l,u+=l,d=0,h=l;d<h&&o(a(e[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:n.style}}function jM(n,e,t){if(!t)return[n];const{property:s,start:i,end:r}=t,o=e.length,{compare:a,between:l,normalize:c}=$M(s),{start:u,end:f,loop:d,style:h}=z8(n,e,t),p=[];let g=!1,m=null,y,b,x;const v=()=>l(i,x,y)&&a(i,x)!==0,S=()=>a(r,y)===0||l(r,x,y),E=()=>g||v(),k=()=>!g||S();for(let _=u,w=u;_<=f;++_)b=e[_%o],!b.skip&&(y=c(b[s]),y!==x&&(g=l(y,i,r),m===null&&E()&&(m=a(y,i)===0?_:w),m!==null&&k()&&(p.push(JE({start:m,end:_,loop:d,count:o,style:h})),m=null),w=_,x=y));return m!==null&&p.push(JE({start:m,end:f,loop:d,count:o,style:h})),p}function BM(n,e){const t=[],s=n.segments;for(let i=0;i<s.length;i++){const r=jM(s[i],n.points,e);r.length&&t.push(...r)}return t}function W8(n,e,t,s){let i=0,r=e-1;if(t&&!s)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&n[r%e].skip;)r--;return r%=e,{start:i,end:r}}function K8(n,e,t,s){const i=n.length,r=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function G8(n,e){const t=n.points,s=n.options.spanGaps,i=t.length;if(!i)return[];const r=!!n._loop,{start:o,end:a}=W8(t,i,r,s);if(s===!0)return YE(n,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return YE(n,K8(t,o,l,c),t,e)}function YE(n,e,t,s){return!s||!s.setContext||!t?e:X8(n,e,t,s)}function X8(n,e,t,s){const i=n._chart.getContext(),r=qE(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=r,f=e[0].start,d=f;function h(p,g,m,y){const b=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=b;for(;t[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,f=g%l)}}for(const p of e){f=a?f:p.start;let g=t[f%l],m;for(d=f+1;d<=p.end;d++){const y=t[d%l];m=qE(s.setContext(Oo(i,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),J8(m,u)&&h(f,d-1,p.loop,u),g=y,u=m}f<d-1&&h(f,d-1,p.loop,u)}return c}function qE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function J8(n,e){if(!e)return!1;const t=[],s=function(i,r){return U0(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Y8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const r=t.listeners[i],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $i=new Y8;const QE="transparent",q8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=HE(n||QE),i=s.valid&&HE(e||QE);return i&&i.valid?i.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Q8{constructor(e,t,s,i){const r=t[s];i=Vc([e.to,i,r,e.from]);const o=Vc([e.from,r,i]);this._active=!0,this._fn=e.fn||q8[e.type||typeof o],this._easing=vu[e.easing]||vu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Vc([e.to,t,i,e.from]),this._from=Vc([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<s),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=r;return}l=t/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class VM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Qe(e))return;const t=Object.keys(Dt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Qe(r))return;const o={};for(const a of t)o[a]=r[a];(Rt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,t){const s=t.options,i=eK(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&Z8(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let f=r[c];const d=s.get(c);if(f)if(d&&f.active()){f.update(d,u,a);continue}else f.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=f=new Q8(d,e,c,u),i.push(f)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return $i.add(this._chart,s),!0}}function Z8(n,e){const t=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function eK(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ZE(n,e){const t=n&&n.options||{},s=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function tK(n,e,t){if(t===!1)return!1;const s=ZE(n,t),i=ZE(e,t);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function nK(n){let e,t,s,i;return Qe(n)?(e=n.top,t=n.right,s=n.bottom,i=n.left):e=t=s=i=n,{top:e,right:t,bottom:s,left:i,disabled:n===!1}}function HM(n,e){const t=[],s=n._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)t.push(s[i].index);return t}function ew(n,e,t,s={}){const i=n.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,s.all)continue;break}c=n.values[l],zt(c)&&(r||e===0||wi(e)===wi(c))&&(e+=c)}return!u&&!s.all?0:e}function sK(n,e){const{iScale:t,vScale:s}=e,i=t.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:n[u]};return a}function Qm(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function iK(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function rK(n){const{min:e,max:t,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function oK(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function tw(n,e,t,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function nw(n,e){const{chart:t,_cachedMeta:s}=n,i=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=iK(r,o,s),f=e.length;let d;for(let h=0;h<f;++h){const p=e[h],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});d=y[c]=oK(i,u,g),d[a]=m,d._top=tw(d,o,!0,s.type),d._bottom=tw(d,o,!1,s.type);const b=d._visualValues||(d._visualValues={});b[a]=m}}function Zm(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function aK(n,e){return Oo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lK(n,e,t){return Oo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Tc(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][t]===void 0)return;delete r[s][t],r[s]._visualValues!==void 0&&r[s]._visualValues[t]!==void 0&&delete r[s]._visualValues[t]}}}const ey=n=>n==="reset"||n==="none",sw=(n,e)=>e?n:Object.assign({},n),cK=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:HM(t,!0),values:null};class oi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Tc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(f,d,h,p)=>f==="x"?d:f==="r"?p:h,r=t.xAxisID=$e(s.xAxisID,Zm(e,"x")),o=t.yAxisID=$e(s.yAxisID,Zm(e,"y")),a=t.rAxisID=$e(s.rAxisID,Zm(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,r,o,a),u=t.vAxisID=i(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jE(this._data,this),e._stacked&&Tc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Qe(t)){const i=this._cachedMeta;this._data=sK(t,i)}else if(s!==t){if(s){jE(s,this);const i=this._cachedMeta;Tc(i),i._parsed=[]}t&&Object.isExtensible(t)&&XW(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Qm(t.vScale,t),t.stack!==s.stack&&(i=!0,Tc(t),t.stack=s.stack),this._resyncElements(e),(i||r!==t._stacked)&&(nw(this,t._parsed),t._stacked=Qm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&t===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,f,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Rt(i[e])?d=this.parseArrayData(s,i,e,t):Qe(i[e])?d=this.parseObjectData(s,i,e,t):d=this.parsePrimitiveData(s,i,e,t);const h=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<t;++u)s._parsed[u+e]=f=d[u],l&&(h()&&(l=!1),c=f);s._sorted=l}o&&nw(this,d)}parsePrimitiveData(e,t,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,f=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+s,f[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(t[p],p)};return f}parseArrayData(e,t,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+s,f=t[u],a[l]={x:r.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,t,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,d,h;for(u=0,f=i;u<f;++u)d=u+s,h=t[d],c[u]={x:r.parse(po(h,a),d),y:o.parse(po(h,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:HM(i,!0),values:t._stacks[e.axis]._visualValues};return ew(a,o,r.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const r=s[t.axis];let o=r===null?NaN:r;const a=i&&s._stacks[t.axis];i&&a&&(i.values=a,o=ew(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=cK(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=rK(a);let d,h;function p(){h=i[d];const g=h[a.axis];return!zt(h[e.axis])||u>g||f<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,h,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],zt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=nK($e(this.options.clip,tK(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=lK(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=aK(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&tf(s);if(a)return sw(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),h=Object.keys(Dt.elements[e]),p=()=>this.getContext(s,i,t),g=c.resolveNamedOptions(d,h,p,f);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(sw(g,l))),g}_resolveAnimations(e,t,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(d,this.getContext(e,s,t))}const c=new VM(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ey(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:o}}updateElement(e,t,s,i){ey(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!ey(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,s=!0){const i=this._cachedMeta,r=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&Tc(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ne(oi,"defaults",{}),ne(oi,"datasetElementType",null),ne(oi,"dataElementType",null);function uK(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=t.length;i<r;i++)s=s.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=EM(s.sort((i,r)=>i-r))}return n._cache.$bar}function fK(n){const e=n.iScale,t=uK(e,n.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(tf(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=t.length;i<r;++i)o=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function dK(n,e,t,s){const i=t.barThickness;let r,o;return at(i)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[n]-r/2}}function hK(n,e,t,s){const i=e.pixels,r=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:t.barPercentage,start:c}}function pK(n,e,t,s){const i=t.parse(n[0],s),r=t.parse(n[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function UM(n,e,t,s){return Rt(n)?pK(n,e,t,s):e[t.axis]=t.parse(n,s),e}function iw(n,e,t,s){const i=n.iScale,r=n.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,f,d;for(c=t,u=t+s;c<u;++c)d=e[c],f={},f[i.axis]=a||i.parse(o[c],c),l.push(UM(d,f,r,c));return l}function ty(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gK(n,e,t){return n!==0?wi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function mK(n){let e,t,s,i,r;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:s,reverse:e,top:i,bottom:r}}function yK(n,e,t,s){let i=e.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=mK(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?i=c:(t._bottom||0)===s?i=u:(r[rw(u,o,a,l)]=!0,i=c)),r[rw(i,o,a,l)]=!0,n.borderSkipped=r}function rw(n,e,t,s){return s?(n=bK(n,e,t),n=ow(n,t,e)):n=ow(n,e,t),n}function bK(n,e,t){return n===e?t:n===t?e:n}function ow(n,e,t){return n==="start"?e:n==="end"?t:n}function vK(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class nh extends oi{parsePrimitiveData(e,t,s,i){return iw(e,t,s,i)}parseArrayData(e,t,s,i){return iw(e,t,s,i)}parseObjectData(e,t,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,f=[];let d,h,p,g;for(d=s,h=s+i;d<h;++d)g=t[d],p={},p[r.axis]=r.parse(po(g,c),d),f.push(UM(po(g,u),p,o,d));return f}updateRangeFromParsed(e,t,s,i){super.updateRangeFromParsed(e,t,s,i);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:i}=t,r=this.getParsed(e),o=r._custom,a=ty(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+s;h++){const p=this.getParsed(h),g=r||at(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,u),y=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!y||ty(p._custom)||o===y._top||o===y._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};d&&(b.options=f||this.resolveDataElementOptions(h,e[h].active?"active":i));const x=b.options||e[h].options;yK(b,x,y,o),vK(b,x,u.ratio),this.updateElement(e[h],h,b,i)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[s.axis],c=u=>{const f=u._parsed.find(h=>h[s.axis]===l),d=f&&f[u.vScale.axis];if(at(d)||isNaN(d))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,s){const i=this._getStacks(e,s),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||fK(t),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=ty(c);let f=l[t.axis],d=0,h=s?this.applyStack(t,l,s):f,p,g;h!==f&&(d=h-f,h=f),u&&(f=c.barStart,h=c.barEnd-c.barStart,f!==0&&wi(f)!==wi(c.barEnd)&&(d=0),d+=f);const m=!at(r)&&!u?r:d;let y=t.getPixelForValue(m);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(d+h):p=y,g=p-y,Math.abs(g)<o){g=gK(g,t,a)*o,f===a&&(y-=g/2);const b=t.getPixelForDecimal(0),x=t.getPixelForDecimal(1),v=Math.min(b,x),S=Math.max(b,x);y=Math.max(Math.min(y,S),v),p=y+g,s&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(p)-t.getValueForPixel(y))}if(y===t.getPixelForValue(a)){const b=wi(g)*t.getLineWidthForValue(a)/2;y+=b,g-=b}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const s=t.scale,i=this.options,r=i.skipNull,o=$e(i.maxBarThickness,1/0);let a,l;if(t.grouped){const c=r?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?hK(e,t,i,c):dK(e,t,i,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*f+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}ne(nh,"id","bar"),ne(nh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ne(nh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sh extends oi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,i){const r=super.parsePrimitiveData(e,t,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,t,s,i){const r=super.parseArrayData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=$e(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,t,s,i){const r=super.parseObjectData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=$e(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,i),u=o.axis,f=a.axis;for(let d=t;d<t+s;d++){const h=e[d],p=!r&&this.getParsed(d),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[f]=r?a.getBasePixel():a.getPixelForValue(p[f]);g.skip=isNaN(m)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(d,h.active?"active":i),r&&(g.options.radius=0)),this.updateElement(h,d,g,i)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return t!=="active"&&(i.radius=0),i.radius+=$e(s&&s._custom,r),i}}ne(sh,"id","bubble"),ne(sh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ne(sh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function xK(n,e,t){let s=1,i=1,r=0,o=0;if(e<_t){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),d=Math.sin(l),h=(x,v,S)=>nf(x,a,l,!0)?1:Math.max(v,v*t,S,S*t),p=(x,v,S)=>nf(x,a,l,!0)?-1:Math.min(v,v*t,S,S*t),g=h(0,c,f),m=h(Kt,u,d),y=p(At,c,f),b=p(At+Kt,u,d);s=(g-y)/2,i=(m-b)/2,r=-(g+y)/2,o=-(m+b)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Yo extends oi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(Qe(s[e])){const{key:l="value"}=this._parsing;r=c=>+po(s[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return si(this.options.rotation-90)}_getCircumference(){return si(this.options.circumference)}_getRotationExtents(){let e=_t,t=-_t;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(DW(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:g}=xK(f,u,l),m=(s.width-o)/d,y=(s.height-o)/h,b=Math.max(Math.min(m,y)/2,0),x=yM(this.options.radius,b),v=Math.max(x*l,0),S=(x-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/_t)}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,d=r&&c.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(t,i);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,r);for(b=t;b<t+s;++b){const x=this._circumference(b,r),v=e[b],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+x,circumference:x,outerRadius:p,innerRadius:h};m&&(S.options=g||this.resolveDataElementOptions(b,v.active?"active":i)),y+=x,this.updateElement(v,b,S,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?_t*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=If(t._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max($e(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ne(Yo,"id","doughnut"),ne(Yo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ne(Yo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ne(Yo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class ih extends oi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=CM(t,i,o);this._drawStart=a,this._drawCount=l,OM(t)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(t,i),d=o.axis,h=a.axis,{spanGaps:p,segment:g}=this.options,m=Yl(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none",b=t+s,x=e.length;let v=t>0&&this.getParsed(t-1);for(let S=0;S<x;++S){const E=e[S],k=y?E:{};if(S<t||S>=b){k.skip=!0;continue}const _=this.getParsed(S),w=at(_[h]),O=k[d]=o.getPixelForValue(_[d],S),C=k[h]=r||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,_,l):_[h],S);k.skip=isNaN(O)||isNaN(C)||w,k.stop=S>0&&Math.abs(_[d]-v[d])>m,g&&(k.parsed=_,k.raw=c.data[S]),f&&(k.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),y||this.updateElement(E,S,k,i),v=_}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ne(ih,"id","line"),ne(ih,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ne(ih,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Su extends oi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=If(t._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,s,i){return DM.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,f=c.yCenter,d=c.getIndexAngle(0)-.5*At;let h=d,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)h+=this._computeAngle(p,i,g);for(p=t;p<t+s;p++){const m=e[p];let y=h,b=h+this._computeAngle(p,i,g),x=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=b,r&&(l.animateScale&&(x=0),l.animateRotate&&(y=b=d));const v={x:u,y:f,innerRadius:0,outerRadius:x,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(p,m.active?"active":i)};this.updateElement(m,p,v,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?si(this.resolveDataElementOptions(e,t).angle||s):0}}ne(Su,"id","polarArea"),ne(Su,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ne(Su,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _b extends Yo{}ne(_b,"id","pie"),ne(_b,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rh extends oi{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,i){return DM.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta,s=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=t;a<t+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),f=o?r.xCenter:u.x,d=o?r.yCenter:u.y,h={x:f,y:d,angle:u.angle,skip:isNaN(f)||isNaN(d),options:c};this.updateElement(l,a,h,i)}}}ne(rh,"id","radar"),ne(rh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ne(rh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oh extends oi{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:o}=CM(t,s,i);if(this._drawStart=r,this._drawCount=o,OM(t)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(t,i),f=this.getSharedOptions(u),d=this.includeOptions(i,f),h=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,y=Yl(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none";let x=t>0&&this.getParsed(t-1);for(let v=t;v<t+s;++v){const S=e[v],E=this.getParsed(v),k=b?S:{},_=at(E[p]),w=k[h]=o.getPixelForValue(E[h],v),O=k[p]=r||_?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],v);k.skip=isNaN(w)||isNaN(O)||_,k.stop=v>0&&Math.abs(E[h]-x[h])>y,m&&(k.parsed=E,k.raw=c.data[v]),d&&(k.options=f||this.resolveDataElementOptions(v,S.active?"active":i)),b||this.updateElement(S,v,k,i),x=E}this.updateSharedOptions(f,i,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,o)/2}}ne(oh,"id","scatter"),ne(oh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ne(oh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var SK=Object.freeze({__proto__:null,BarController:nh,BubbleController:sh,DoughnutController:Yo,LineController:ih,PieController:_b,PolarAreaController:Su,RadarController:rh,ScatterController:oh});function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Y0{constructor(e){ne(this,"options");this.options=e||{}}static override(e){Object.assign(Y0.prototype,e)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var EK={_date:Y0};function wK(n,e,t,s){const{controller:i,data:r,_sorted:o}=n,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?KW:Zi;if(s){if(i._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const f=l(r,e,t-u),d=l(r,e,t+u);return{lo:f.lo,hi:d.hi}}}}else return l(r,e,t)}return{lo:0,hi:r.length-1}}function Rf(n,e,t,s,i){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:f,hi:d}=wK(r[a],e,o,i);for(let h=f;h<=d;++h){const p=u[h];p.skip||s(p,c,h)}}}function TK(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=t?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ny(n,e,t,s,i){const r=[];return!i&&!n.isPointInArea(e)||Rf(n,t,e,function(a,l,c){!i&&!er(a,n.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function CK(n,e,t,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:f}=xM(o,{x:e.x,y:e.y});nf(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Rf(n,t,e,r),i}function OK(n,e,t,s,i,r){let o=[];const a=TK(t);let l=Number.POSITIVE_INFINITY;function c(u,f,d){const h=u.inRange(e.x,e.y,i);if(s&&!h)return;const p=u.getCenterPoint(i);if(!(!!r||n.isPointInArea(p))&&!h)return;const m=a(e,p);m<l?(o=[{element:u,datasetIndex:f,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:f,index:d})}return Rf(n,t,e,c),o}function sy(n,e,t,s,i,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!s?CK(n,e,t,i):OK(n,e,t,s,i,r)}function aw(n,e,t,s,i){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return Rf(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var kK={evaluateInteractionItems:Rf,modes:{index(n,e,t,s){const i=Bo(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?ny(n,i,r,s,o):sy(n,i,r,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,s){const i=Bo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?ny(n,i,r,s,o):sy(n,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,s){const i=Bo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return ny(n,i,r,s,o)},nearest(n,e,t,s){const i=Bo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return sy(n,i,r,t.intersect,s,o)},x(n,e,t,s){const i=Bo(e,n);return aw(n,i,"x",t.intersect,s)},y(n,e,t,s){const i=Bo(e,n);return aw(n,i,"y",t.intersect,s)}}};const zM=["left","top","right","bottom"];function Cc(n,e){return n.filter(t=>t.pos===e)}function lw(n,e){return n.filter(t=>zM.indexOf(t.pos)===-1&&t.box.axis===e)}function Oc(n,e){return n.sort((t,s)=>{const i=e?s:t,r=e?t:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function _K(n){const e=[];let t,s,i,r,o,a;for(t=0,s=(n||[]).length;t<s;++t)i=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function AK(n){const e={};for(const t of n){const{stack:s,pos:i,stackWeight:r}=t;if(!s||!zM.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function MK(n,e){const t=AK(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return t}function PK(n){const e=_K(n),t=Oc(e.filter(c=>c.box.fullSize),!0),s=Oc(Cc(e,"left"),!0),i=Oc(Cc(e,"right")),r=Oc(Cc(e,"top"),!0),o=Oc(Cc(e,"bottom")),a=lw(e,"x"),l=lw(e,"y");return{fullSize:t,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Cc(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function cw(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function WM(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function IK(n,e,t,s){const{pos:i,box:r}=t,o=n.maxPadding;if(!Qe(i)){t.size&&(n[i]-=t.size);const f=s[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?r.height:r.width),t.size=f.size/f.count,n[i]+=t.size}r.getPadding&&WM(o,r.getPadding());const a=Math.max(0,e.outerWidth-cw(o,n,"left","right")),l=Math.max(0,e.outerHeight-cw(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function RK(n){const e=n.maxPadding;function t(s){const i=Math.max(e[s]-n[s],0);return n[s]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function DK(n,e){const t=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return s(n?["left","right"]:["top","bottom"])}function Hc(n,e,t,s){const i=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||e.w,a.height||e.h,DK(a.horizontal,e));const{same:f,other:d}=IK(e,t,a,s);c|=f&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Hc(i,e,t,s)||u}function wd(n,e,t,s,i){n.top=t,n.left=e,n.right=e+s,n.bottom=t+i,n.width=s,n.height=i}function uw(n,e,t,s){const i=t.padding;let{x:r,y:o}=e;for(const a of n){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,d=c.size||l.height;tf(c.start)&&(o=c.start),l.fullSize?wd(l,i.left,o,t.outerWidth-i.right-i.left,d):wd(l,e.left+c.placed,o,f,d),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,d=c.size||l.width;tf(c.start)&&(r=c.start),l.fullSize?wd(l,r,i.top,d,t.outerHeight-i.bottom-i.top):wd(l,r,e.top+c.placed,d,f),c.start=r,c.placed+=f,r=l.right}}e.x=r,e.y=o}var jn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const i=Vn(n.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=PK(n.boxes),l=a.vertical,c=a.horizontal;bt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);WM(d,Vn(s));const h=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),p=MK(l.concat(c),f);Hc(a.fullSize,h,f,p),Hc(l,h,f,p),Hc(c,h,f,p)&&Hc(l,h,f,p),RK(h),uw(a.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,uw(a.rightAndBottom,h,f,p),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},bt(a.chartArea,g=>{const m=g.box;Object.assign(m,n.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class KM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class NK extends KM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ah="$chartjs",LK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fw=n=>n===null||n==="";function FK(n,e){const t=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[ah]={initial:{height:s,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",fw(i)){const r=XE(n,"width");r!==void 0&&(n.width=r)}if(fw(s))if(n.style.height==="")n.height=n.width/(e||2);else{const r=XE(n,"height");r!==void 0&&(n.height=r)}return n}const GM=j8?{passive:!0}:!1;function $K(n,e,t){n&&n.addEventListener(e,t,GM)}function jK(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,GM)}function BK(n,e){const t=LK[n.type]||n.type,{x:s,y:i}=Bo(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Ap(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function VK(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ap(a.addedNodes,s),o=o&&!Ap(a.removedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function HK(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ap(a.removedNodes,s),o=o&&!Ap(a.addedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const rf=new Map;let dw=0;function XM(){const n=window.devicePixelRatio;n!==dw&&(dw=n,rf.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function UK(n,e){rf.size||window.addEventListener("resize",XM),rf.set(n,e)}function zK(n){rf.delete(n),rf.size||window.removeEventListener("resize",XM)}function WK(n,e,t){const s=n.canvas,i=s&&J0(s);if(!i)return;const r=TM((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),UK(n,r),o}function iy(n,e,t){t&&t.disconnect(),e==="resize"&&zK(n)}function KK(n,e,t){const s=n.canvas,i=TM(r=>{n.ctx!==null&&t(BK(r,n))},n);return $K(s,e,i),i}class GK extends KM{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(FK(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[ah])return!1;const s=t[ah].initial;["height","width"].forEach(r=>{const o=s[r];at(o)?t.removeAttribute(r):t.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[ah],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:VK,detach:HK,resize:WK}[t]||KK;i[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:iy,detach:iy,resize:iy}[t]||jK)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return $8(e,t,s,i)}isAttached(e){const t=e&&J0(e);return!!(t&&t.isConnected)}}function XK(n){return!X0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?NK:GK}var Id;let fr=(Id=class{constructor(){ne(this,"x");ne(this,"y");ne(this,"active",!1);ne(this,"options");ne(this,"$animations")}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Yl(this.x)&&Yl(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}},ne(Id,"defaults",{}),ne(Id,"defaultRoutes"),Id);function JK(n,e){const t=n.options.ticks,s=YK(n),i=Math.min(t.maxTicksLimit||s,s),r=t.major.enabled?QK(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return ZK(e,c,r,o/i),c;const u=qK(r,e,i);if(o>0){let f,d;const h=o>1?Math.round((l-a)/(o-1)):null;for(Td(e,c,u,at(h)?0:a-h,a),f=0,d=o-1;f<d;f++)Td(e,c,u,r[f],r[f+1]);return Td(e,c,u,l,at(h)?e.length:l+h),c}return Td(e,c,u),c}function YK(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(s,i))}function qK(n,e,t){const s=e7(n),i=e.length/t;if(!s)return Math.max(i,1);const r=HW(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function QK(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function ZK(n,e,t,s){let i=0,r=t[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===r&&(e.push(n[o]),i++,r=t[i*s])}function Td(n,e,t,s,i){const r=$e(s,0),o=Math.min($e(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-s,t=l/Math.floor(l/t)),u=r;u<0;)a++,u=Math.round(r+a*t);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(r+a*t))}function e7(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const t7=n=>n==="left"?"right":n==="right"?"left":n,hw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,pw=(n,e)=>Math.min(e||n,n);function gw(n,e){const t=[],s=n.length/e,i=n.length;let r=0;for(;r<i;r+=s)t.push(n[Math.floor(r)]);return t}function n7(n,e,t){const s=n.ticks.length,i=Math.min(e,s-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(s===1?c=Math.max(l-r,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function s7(n,e){bt(n,t=>{const s=t.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[s[r]];s.splice(0,i)}})}function kc(n){return n.drawTicks?n.tickLength:0}function mw(n,e){if(!n.display)return 0;const t=on(n.font,e),s=Vn(n.padding);return(Rt(n.text)?n.text.length:1)*t.lineHeight+s.height}function i7(n,e){return Oo(n,{scale:e,type:"scale"})}function r7(n,e,t){return Oo(n,{tick:t,index:e,type:"tick"})}function o7(n,e,t){let s=H0(n);return(t&&e!=="right"||!t&&e==="right")&&(s=t7(s)),s}function a7(n,e,t,s){const{top:i,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let f=0,d,h,p;const g=o-i,m=a-r;if(n.isHorizontal()){if(h=An(s,r,a),Qe(t)){const y=Object.keys(t)[0],b=t[y];p=u[y].getPixelForValue(b)+g-e}else t==="center"?p=(c.bottom+c.top)/2+g-e:p=hw(n,t,e);d=a-r}else{if(Qe(t)){const y=Object.keys(t)[0],b=t[y];h=u[y].getPixelForValue(b)-m+e}else t==="center"?h=(c.left+c.right)/2-m+e:h=hw(n,t,e);p=An(s,o,i),f=t==="left"?-Kt:Kt}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}class $a extends fr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=xs(e,Number.POSITIVE_INFINITY),t=xs(t,Number.NEGATIVE_INFINITY),s=xs(s,Number.POSITIVE_INFINITY),i=xs(i,Number.NEGATIVE_INFINITY),{min:xs(e,s),max:xs(t,i),minDefined:zt(e),maxDefined:zt(t)}}getMinMax(e){let{min:t,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:t,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),r||(s=Math.max(s,o.max));return t=r&&t>s?s:t,s=i&&t>s?t:s,{min:xs(t,xs(s,t)),max:xs(s,xs(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m8(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?gw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=JK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Tt(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=pw(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,d=u.highest.height,h=un(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),f+6>a&&(a=h/(s-(e.offset?.5:1)),l=this.maxHeight-kc(e.grid)-t.padding-mw(e.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),o=B0(Math.min(Math.asin(un((u.highest.height+6)/a,-1,1)),Math.asin(un(l/c,-1,1))-Math.asin(un(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=mw(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=kc(r)+l):(e.height=this.maxHeight,e.width=kc(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:d}=this._getLabelSizes(),h=s.padding*2,p=si(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const y=s.mirror?0:m*f.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+h)}else{const y=s.mirror?0:g*f.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+y+h)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?c?(d=i*e.width,h=s*t.height):(d=s*e.height,h=i*t.width):r==="start"?h=t.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let u=t.height/2,f=e.height/2;r==="start"?(u=0,f=e.height):r==="end"&&(u=t.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)at(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=gw(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/pw(t,s));let c=0,u=0,f,d,h,p,g,m,y,b,x,v,S;for(f=0;f<t;f+=l){if(p=e[f].label,g=this._resolveTickFontOptions(f),i.font=m=g.string,y=r[m]=r[m]||{data:{},gc:[]},b=g.lineHeight,x=v=0,!at(p)&&!Rt(p))x=kp(i,y.data,y.gc,x,p),v=b;else if(Rt(p))for(d=0,h=p.length;d<h;++d)S=p[d],!at(S)&&!Rt(S)&&(x=kp(i,y.data,y.gc,x,S),v+=b);o.push(x),a.push(v),c=Math.max(x,c),u=Math.max(v,u)}s7(r,t);const E=o.indexOf(c),k=a.indexOf(u),_=w=>({width:o[w]||0,height:a[w]||0});return{first:_(0),last:_(t-1),widest:_(E),highest:_(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return WW(this._alignToPixels?Do(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=r7(this.getContext(),e,s))}return this.$context||(this.$context=i7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=si(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=kc(r),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(D){return Do(s,D,g)};let b,x,v,S,E,k,_,w,O,C,T,I;if(o==="top")b=y(this.bottom),k=this.bottom-d,w=b-m,C=y(e.top)+m,I=e.bottom;else if(o==="bottom")b=y(this.top),C=e.top,I=y(e.bottom)-m,k=b+m,w=this.top+d;else if(o==="left")b=y(this.right),E=this.right-d,_=b-m,O=y(e.left)+m,T=e.right;else if(o==="right")b=y(this.left),O=e.left,T=y(e.right)-m,E=b+m,_=this.left+d;else if(t==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(Qe(o)){const D=Object.keys(o)[0],V=o[D];b=y(this.chart.scales[D].getPixelForValue(V))}C=e.top,I=e.bottom,k=b+m,w=k+d}else if(t==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(Qe(o)){const D=Object.keys(o)[0],V=o[D];b=y(this.chart.scales[D].getPixelForValue(V))}E=b-m,_=E-d,O=e.left,T=e.right}const L=$e(i.ticks.maxTicksLimit,f),j=Math.max(1,Math.ceil(f/L));for(x=0;x<f;x+=j){const D=this.getContext(x),V=r.setContext(D),W=a.setContext(D),de=V.lineWidth,Ue=V.color,Ne=W.dash||[],Me=W.dashOffset,lt=V.tickWidth,it=V.tickColor,ht=V.tickBorderDash||[],_e=V.tickBorderDashOffset;v=n7(this,x,l),v!==void 0&&(S=Do(s,v,de),c?E=_=O=T=S:k=w=C=I=S,h.push({tx1:E,ty1:k,tx2:_,ty2:w,x1:O,y1:C,x2:T,y2:I,width:de,color:Ue,borderDash:Ne,borderDashOffset:Me,tickWidth:lt,tickColor:it,tickBorderDash:ht,tickBorderDashOffset:_e}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=r,d=kc(s.grid),h=d+u,p=f?-u:h,g=-si(this.labelRotation),m=[];let y,b,x,v,S,E,k,_,w,O,C,T,I="middle";if(i==="top")E=this.bottom-p,k=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+p,k=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,S=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,S=j.x}else if(t==="x"){if(i==="center")E=(e.top+e.bottom)/2+h;else if(Qe(i)){const j=Object.keys(i)[0],D=i[j];E=this.chart.scales[j].getPixelForValue(D)+h}k=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")S=(e.left+e.right)/2-h;else if(Qe(i)){const j=Object.keys(i)[0],D=i[j];S=this.chart.scales[j].getPixelForValue(D)}k=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const L=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){x=a[y],v=x.label;const j=r.setContext(this.getContext(y));_=this.getPixelForTick(y)+r.labelOffset,w=this._resolveTickFontOptions(y),O=w.lineHeight,C=Rt(v)?v.length:1;const D=C/2,V=j.color,W=j.textStrokeColor,de=j.textStrokeWidth;let Ue=k;o?(S=_,k==="inner"&&(y===b-1?Ue=this.options.reverse?"left":"right":y===0?Ue=this.options.reverse?"right":"left":Ue="center"),i==="top"?c==="near"||g!==0?T=-C*O+O/2:c==="center"?T=-L.highest.height/2-D*O+O:T=-L.highest.height+O/2:c==="near"||g!==0?T=O/2:c==="center"?T=L.highest.height/2-D*O:T=L.highest.height-C*O,f&&(T*=-1),g!==0&&!j.showLabelBackdrop&&(S+=O/2*Math.sin(g))):(E=_,T=(1-C)*O/2);let Ne;if(j.showLabelBackdrop){const Me=Vn(j.backdropPadding),lt=L.heights[y],it=L.widths[y];let ht=T-Me.top,_e=0-Me.left;switch(I){case"middle":ht-=lt/2;break;case"bottom":ht-=lt;break}switch(k){case"center":_e-=it/2;break;case"right":_e-=it;break;case"inner":y===b-1?_e-=it:y>0&&(_e-=it/2);break}Ne={left:_e,top:ht,width:it+Me.width,height:lt+Me.height,color:j.backdropColor}}m.push({label:v,font:w,textOffset:T,options:{rotation:g,color:V,strokeColor:W,strokeWidth:de,textAlign:Ue,textBaseline:I,translation:[S,E],backdrop:Ne}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-si(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const l=i[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,d;this.isHorizontal()?(c=Do(e,this.left,o)-o/2,u=Do(e,this.right,a)+a/2,f=d=l):(f=Do(e,this.top,o)-o/2,d=Do(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,f),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Ng(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ma(s,c,0,u,l,a)}i&&Lg(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const r=on(s.font),o=Vn(s.padding),a=s.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||Qe(t)?(l+=o.bottom,Rt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=a7(this,l,t,a);Ma(e,s.text,0,0,r,{color:s.color,maxWidth:f,rotation:d,textAlign:o7(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=$e(e.grid&&e.grid.z,-1),i=$e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$a.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return on(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Cd{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;u7(t)&&(s=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,l7(e,o,s),this.override&&Dt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in Dt[i]&&(delete Dt[i][s],this.override&&delete Aa[s])}}function l7(n,e,t){const s=ef(Object.create(null),[t?Dt.get(t):{},Dt.get(e),n.defaults]);Dt.set(e,s),n.defaultRoutes&&c7(e,n.defaultRoutes),n.descriptors&&Dt.describe(e,n.descriptors)}function c7(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),i=s.pop(),r=[n].concat(s).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");Dt.route(r,i,l,a)})}function u7(n){return"id"in n&&"defaults"in n}class f7{constructor(){this.controllers=new Cd(oi,"datasets",!0),this.elements=new Cd(fr,"elements"),this.plugins=new Cd(Object,"plugins"),this.scales=new Cd($a,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):bt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,s){const i=j0(e);Tt(s["before"+i],[],s),t[e](s),Tt(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var mi=new f7;class d7{constructor(){this._init=[]}notify(e,t,s,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,s);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[t,i,r.options];if(Tt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){at(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=$e(s.options&&s.options.plugins,{}),r=h7(s);return i===!1&&!t?[]:g7(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function h7(n){const e={},t=[],s=Object.keys(mi.plugins.items);for(let r=0;r<s.length;r++)t.push(mi.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function p7(n,e){return!e&&n===!1?null:n===!0?{}:n}function g7(n,{plugins:e,localIds:t},s,i){const r=[],o=n.getContext();for(const a of e){const l=a.id,c=p7(s[l],i);c!==null&&r.push({plugin:a,options:m7(n.config,{plugin:a,local:t[l]},c,o)})}return r}function m7(n,{plugin:e,local:t},s,i){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(s,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ab(n,e){const t=Dt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function y7(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function b7(n,e){return n===e?"_index_":"_value_"}function yw(n){if(n==="x"||n==="y"||n==="r")return n}function v7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Mb(n,...e){if(yw(n))return n;for(const t of e){const s=t.axis||v7(t.position)||n.length>1&&yw(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function bw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function x7(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return bw(n,"x",t[0])||bw(n,"y",t[0])}return{}}function S7(n,e){const t=Aa[n.type]||{scales:{}},s=e.scales||{},i=Ab(n.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Qe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Mb(o,a,x7(o,n),Dt.scales[a.type]),c=b7(l,i),u=t.scales||{};r[o]=yu(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Ab(a,e),u=(Aa[a]||{}).scales||{};Object.keys(u).forEach(f=>{const d=y7(f,l),h=o[d+"AxisID"]||d;r[h]=r[h]||Object.create(null),yu(r[h],[{axis:d},s[h],u[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];yu(a,[Dt.scales[a.type],Dt.scale])}),r}function JM(n){const e=n.options||(n.options={});e.plugins=$e(e.plugins,{}),e.scales=S7(n,e)}function YM(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function E7(n){return n=n||{},n.data=YM(n.data),JM(n),n}const vw=new Map,qM=new Set;function Od(n,e){let t=vw.get(n);return t||(t=e(),vw.set(n,t),qM.add(t)),t}const _c=(n,e,t)=>{const s=po(e,t);s!==void 0&&n.add(s)};class w7{constructor(e){this._config=E7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=YM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),JM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Od(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Od(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Od(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Od(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return(!i||t)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(f=>_c(l,e,f))),u.forEach(f=>_c(l,i,f)),u.forEach(f=>_c(l,Aa[r]||{},f)),u.forEach(f=>_c(l,Dt,f)),u.forEach(f=>_c(l,Ob,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),qM.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Aa[t]||{},Dt.datasets[t]||{},{type:t},Dt,Ob]}resolveNamedOptions(e,t,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=xw(this._resolverCache,e,i);let l=o;if(C7(o,t)){r.$shared=!1,s=go(s)?s():s;const c=this.createResolver(e,s,a);l=ql(o,s,c)}for(const c of t)r[c]=l[c];return r}createResolver(e,t,s=[""],i){const{resolver:r}=xw(this._resolverCache,e,s);return Qe(t)?ql(r,t,void 0,i):r}}function xw(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const i=t.join();let r=s.get(i);return r||(r={resolver:W0(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const T7=n=>Qe(n)&&Object.getOwnPropertyNames(n).some(e=>go(n[e]));function C7(n,e){const{isScriptable:t,isIndexable:s}=MM(n);for(const i of e){const r=t(i),o=s(i),a=(o||r)&&n[i];if(r&&(go(a)||T7(a))||o&&Rt(a))return!0}return!1}var O7="4.4.7";const k7=["top","bottom","left","right","chartArea"];function Sw(n,e){return n==="top"||n==="bottom"||k7.indexOf(n)===-1&&e==="x"}function Ew(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function ww(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Tt(t&&t.onComplete,[n],e)}function _7(n){const e=n.chart,t=e.options.animation;Tt(t&&t.onProgress,[n],e)}function QM(n){return X0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lh={},Tw=n=>{const e=QM(n);return Object.values(lh).filter(t=>t.canvas===e).pop()};function A7(n,e,t){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=e){const o=n[i];delete n[i],(t>0||r>e)&&(n[r+t]=o)}}}function M7(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}function kd(n,e,t){return n.options.clip?n[t]:e[t]}function P7(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:kd(t,e,"left"),right:kd(t,e,"right"),top:kd(s,e,"top"),bottom:kd(s,e,"bottom")}:e}class Wi{static register(...e){mi.add(...e),Cw()}static unregister(...e){mi.remove(...e),Cw()}constructor(e,t){const s=this.config=new w7(t),i=QM(e),r=Tw(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||XK(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=RW(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new d7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JW(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],lh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",ww),$i.listen(this,"progress",_7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:r}=this;return at(e)?t&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zE(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(e,t){$i.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,GE(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Tt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};bt(t,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=Mb(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),bt(r,o=>{const a=o.options,l=a.id,c=Mb(l,a),u=$e(a.type,o.dtype);(a.position===void 0||Sw(a.position,c)!==Sw(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in s&&s[l].type===u)f=s[l];else{const d=mi.getScale(u);f=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(a,e)}),bt(i,(o,a)=>{o||delete s[a]}),bt(s,o=>{jn.configure(this,o,o.options),jn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Ew("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,i)=>{t.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const r=t[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Ab(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=mi.getController(a),{datasetElementType:c,dataElementType:u}=Dt.datasets[a];Object.assign(l,{dataElementType:mi.getElement(u),datasetElementType:c&&mi.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){bt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),d=!i&&r.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||bt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ew("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){bt(this.scales,e=>{jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!NE(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of t){const o=s==="_removeElements"?-r:r;A7(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<t;r++)if(!NE(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],bt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,go(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),ww({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,r;for(i=0,r=t.length;i<r;++i){const o=t[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s=e._clip,i=!s.disabled,r=P7(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Ng(t,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&Lg(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return er(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const r=kK.modes[t];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Oo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);tf(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$i.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete lh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};bt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){bt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},bt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Tp(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=r(t,e),a=s?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:r}=this,o=t,a=this._getActiveElements(e,i,s,o),l=jW(e),c=M7(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Tt(r.onHover,[e,a,this],this),l&&Tt(r.onClick,[e,a,this],this));const u=!Tp(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,s,i){if(e.type==="mouseout")return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}ne(Wi,"defaults",Dt),ne(Wi,"instances",lh),ne(Wi,"overrides",Aa),ne(Wi,"registry",mi),ne(Wi,"version",O7),ne(Wi,"getChart",Tw);function Cw(){return bt(Wi.instances,n=>n._plugins.invalidate())}function I7(n,e,t){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;n.beginPath(),n.arc(r,o,a,s-c,t+c),l>i?(c=i/l,n.arc(r,o,l,t+c,s-c,!0)):n.arc(r,o,i,t+Kt,s-Kt),n.closePath(),n.clip()}function R7(n){return z0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function D7(n,e,t,s){const i=R7(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(t-Math.min(r,l))*s/2;return un(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:un(i.innerStart,0,o),innerEnd:un(i.innerEnd,0,o)}}function qa(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function Mp(n,e,t,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+s+t-c,0),d=u>0?u+s+t+c:0;let h=0;const p=i-l;if(s){const j=u>0?u-s:0,D=f>0?f-s:0,V=(j+D)/2,W=V!==0?p*V/(V+s):p;h=(p-W)/2}const g=Math.max(.001,p*f-t/At)/f,m=(p-g)/2,y=l+m+h,b=i-m-h,{outerStart:x,outerEnd:v,innerStart:S,innerEnd:E}=D7(e,d,f,b-y),k=f-x,_=f-v,w=y+x/k,O=b-v/_,C=d+S,T=d+E,I=y+S/C,L=b-E/T;if(n.beginPath(),r){const j=(w+O)/2;if(n.arc(o,a,f,w,j),n.arc(o,a,f,j,O),v>0){const de=qa(_,O,o,a);n.arc(de.x,de.y,v,O,b+Kt)}const D=qa(T,b,o,a);if(n.lineTo(D.x,D.y),E>0){const de=qa(T,L,o,a);n.arc(de.x,de.y,E,b+Kt,L+Math.PI)}const V=(b-E/d+(y+S/d))/2;if(n.arc(o,a,d,b-E/d,V,!0),n.arc(o,a,d,V,y+S/d,!0),S>0){const de=qa(C,I,o,a);n.arc(de.x,de.y,S,I+Math.PI,y-Kt)}const W=qa(k,y,o,a);if(n.lineTo(W.x,W.y),x>0){const de=qa(k,w,o,a);n.arc(de.x,de.y,x,y-Kt,w)}}else{n.moveTo(o,a);const j=Math.cos(w)*f+o,D=Math.sin(w)*f+a;n.lineTo(j,D);const V=Math.cos(O)*f+o,W=Math.sin(O)*f+a;n.lineTo(V,W)}n.closePath()}function N7(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Mp(n,e,t,s,l,i);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%_t||_t))}return Mp(n,e,t,s,l,i),n.fill(),l}function L7(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:d}=l,h=l.borderAlign==="inner";if(!c)return;n.setLineDash(f||[]),n.lineDashOffset=d,h?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let p=e.endAngle;if(r){Mp(n,e,t,s,p,i);for(let g=0;g<r;++g)n.stroke();isNaN(a)||(p=o+(a%_t||_t))}h&&I7(n,e,p),r||(Mp(n,e,t,s,p,i),n.stroke())}class Uc extends fr{constructor(t){super();ne(this,"circumference");ne(this,"endAngle");ne(this,"fullCircles");ne(this,"innerRadius");ne(this,"outerRadius");ne(this,"pixelMargin");ne(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=xM(r,{x:t,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,p=$e(d,c-l),g=nf(o,l,c)&&l!==c,m=p>=_t||g,y=Qi(a,u+h,f+h);return m&&y}getCenterPoint(t){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,f=(r+o)/2,d=(a+l+u+c)/2;return{x:s+Math.cos(f)*d,y:i+Math.sin(f)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>_t?Math.floor(i/_t):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(At,i||0)),u=r*c;t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,N7(t,this,u,o,a),L7(t,this,u,o,a),t.restore()}}ne(Uc,"id","arc"),ne(Uc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ne(Uc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ne(Uc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function ZM(n,e,t=e){n.lineCap=$e(t.borderCapStyle,e.borderCapStyle),n.setLineDash($e(t.borderDash,e.borderDash)),n.lineDashOffset=$e(t.borderDashOffset,e.borderDashOffset),n.lineJoin=$e(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=$e(t.borderWidth,e.borderWidth),n.strokeStyle=$e(t.borderColor,e.borderColor)}function F7(n,e,t){n.lineTo(t.x,t.y)}function $7(n){return n.stepped?a8:n.tension||n.cubicInterpolationMode==="monotone"?l8:F7}function eP(n,e,t={}){const s=n.length,{start:i=0,end:r=s-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function j7(n,e,t,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=eP(i,t,s),u=$7(r);let{move:f=!0,reverse:d}=s||{},h,p,g;for(h=0;h<=c;++h)p=i[(a+(d?c-h:h))%o],!p.skip&&(f?(n.moveTo(p.x,p.y),f=!1):u(n,g,p,d,r.stepped),g=p);return l&&(p=i[(a+(d?c:0))%o],u(n,g,p,d,r.stepped)),!!l}function B7(n,e,t,s){const i=e.points,{count:r,start:o,ilen:a}=eP(i,t,s),{move:l=!0,reverse:c}=s||{};let u=0,f=0,d,h,p,g,m,y;const b=v=>(o+(c?a-v:v))%r,x=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(h=i[b(0)],n.moveTo(h.x,h.y)),d=0;d<=a;++d){if(h=i[b(d)],h.skip)continue;const v=h.x,S=h.y,E=v|0;E===p?(S<g?g=S:S>m&&(m=S),u=(f*u+v)/++f):(x(),n.lineTo(v,S),p=E,f=0,g=m=S),y=S}x()}function Pb(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?B7:j7}function V7(n){return n.stepped?B8:n.tension||n.cubicInterpolationMode==="monotone"?V8:Vo}function H7(n,e,t,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,s)&&i.closePath()),ZM(n,e.options),n.stroke(i)}function U7(n,e,t,s){const{segments:i,options:r}=e,o=Pb(e);for(const a of i)ZM(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const z7=typeof Path2D=="function";function W7(n,e,t,s){z7&&!e.options.segment?H7(n,e,t,s):U7(n,e,t,s)}class Jr extends fr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;I8(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],r=this.points,o=BM(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=V7(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:d}=o[c],h=r[f],p=r[d];if(h===p){a.push(h);continue}const g=Math.abs((i-h[t])/(p[t]-h[t])),m=l(h,p,g,s.stepped);m[t]=e[t],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,t,s){return Pb(this)(e,this,t,s)}path(e,t,s){const i=this.segments,r=Pb(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const a of i)o&=r(e,this,a,{start:t,end:t+s-1});return!!o}draw(e,t,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),W7(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ne(Jr,"id","line"),ne(Jr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ne(Jr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ne(Jr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ow(n,e,t,s){const i=n.options,{[t]:r}=n.getProps([t],s);return Math.abs(e-r)<i.radius+i.hitRadius}class ch extends fr{constructor(t){super();ne(this,"parsed");ne(this,"skip");ne(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,s){return Ow(this,t,"x",s)}inYRange(t,s){return Ow(this,t,"y",s)}getCenterPoint(t){const{x:s,y:i}=this.getProps(["x","y"],t);return{x:s,y:i}}size(t){t=t||this.options||{};let s=t.radius||0;s=Math.max(s,s&&t.hoverRadius||0);const i=s&&t.borderWidth||0;return(s+i)*2}draw(t,s){const i=this.options;this.skip||i.radius<.1||!er(this,s,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,kb(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ne(ch,"id","point"),ne(ch,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ne(ch,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tP(n,e){const{x:t,y:s,base:i,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,f;return n.horizontal?(f=o/2,a=Math.min(t,i),l=Math.max(t,i),c=s-f,u=s+f):(f=r/2,a=t-f,l=t+f,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Yr(n,e,t,s){return n?0:un(e,t,s)}function K7(n,e,t){const s=n.options.borderWidth,i=n.borderSkipped,r=AM(s);return{t:Yr(i.top,r.top,0,t),r:Yr(i.right,r.right,0,e),b:Yr(i.bottom,r.bottom,0,t),l:Yr(i.left,r.left,0,e)}}function G7(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=ma(i),o=Math.min(e,t),a=n.borderSkipped,l=s||Qe(i);return{topLeft:Yr(!l||a.top||a.left,r.topLeft,0,o),topRight:Yr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Yr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Yr(!l||a.bottom||a.right,r.bottomRight,0,o)}}function X7(n){const e=tP(n),t=e.right-e.left,s=e.bottom-e.top,i=K7(n,t/2,s/2),r=G7(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ry(n,e,t,s){const i=e===null,r=t===null,a=n&&!(i&&r)&&tP(n,s);return a&&(i||Qi(e,a.left,a.right))&&(r||Qi(t,a.top,a.bottom))}function J7(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Y7(n,e){n.rect(e.x,e.y,e.w,e.h)}function oy(n,e,t={}){const s=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-s,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+o,radius:n.radius}}class uh extends fr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=X7(this),a=J7(o.radius)?sf:Y7;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,oy(o,t,r)),e.clip(),a(e,oy(r,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,oy(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,s){return ry(this,e,t,s)}inXRange(e,t){return ry(this,e,null,t)}inYRange(e,t){return ry(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ne(uh,"id","bar"),ne(uh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ne(uh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var q7=Object.freeze({__proto__:null,ArcElement:Uc,BarElement:uh,LineElement:Jr,PointElement:ch});const Ib=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kw=Ib.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function nP(n){return Ib[n%Ib.length]}function sP(n){return kw[n%kw.length]}function Q7(n,e){return n.borderColor=nP(e),n.backgroundColor=sP(e),++e}function Z7(n,e){return n.backgroundColor=n.data.map(()=>nP(e++)),e}function e9(n,e){return n.backgroundColor=n.data.map(()=>sP(e++)),e}function t9(n){let e=0;return(t,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof Yo?e=Z7(t,e):i instanceof Su?e=e9(t,e):i&&(e=Q7(t,e))}}function _w(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function n9(n){return n&&(n.borderColor||n.backgroundColor)}function s9(){return Dt.borderColor!=="rgba(0,0,0,0.1)"||Dt.backgroundColor!=="rgba(0,0,0,0.1)"}var i9={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,o=_w(s)||n9(i)||r&&_w(r)||s9();if(!t.forceOverride&&o)return;const a=t9(n);s.forEach(a)}};function r9(n,e,t,s,i){const r=i.samples||s;if(r>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(r-2);let l=0;const c=e+t-1;let u=e,f,d,h,p,g;for(o[l++]=n[u],f=0;f<r-2;f++){let m=0,y=0,b;const x=Math.floor((f+1)*a)+1+e,v=Math.min(Math.floor((f+2)*a)+1,t)+e,S=v-x;for(b=x;b<v;b++)m+=n[b].x,y+=n[b].y;m/=S,y/=S;const E=Math.floor(f*a)+1+e,k=Math.min(Math.floor((f+1)*a)+1,t)+e,{x:_,y:w}=n[u];for(h=p=-1,b=E;b<k;b++)p=.5*Math.abs((_-m)*(n[b].y-w)-(_-n[b].x)*(y-w)),p>h&&(h=p,d=n[b],g=b);o[l++]=d,u=g}return o[l++]=n[c],o}function o9(n,e,t,s){let i=0,r=0,o,a,l,c,u,f,d,h,p,g;const m=[],y=e+t-1,b=n[e].x,v=n[y].x-b;for(o=e;o<e+t;++o){a=n[o],l=(a.x-b)/v*s,c=a.y;const S=l|0;if(S===u)c<p?(p=c,f=o):c>g&&(g=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!at(f)&&!at(d)){const k=Math.min(f,d),_=Math.max(f,d);k!==h&&k!==E&&m.push({...n[k],x:i}),_!==h&&_!==E&&m.push({...n[_],x:i})}o>0&&E!==h&&m.push(n[E]),m.push(a),u=S,r=0,p=g=c,f=d=h=o}}return m}function iP(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Aw(n){n.data.datasets.forEach(e=>{iP(e)})}function a9(n,e){const t=e.length;let s=0,i;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=un(Zi(e,r.axis,o).lo,0,t-1)),c?i=un(Zi(e,r.axis,a).hi+1,s,t)-s:i=t-s,{start:s,count:i}}var l9={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Aw(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(r),c=o||i.data;if(Vc([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:f,count:d}=a9(l,c);const h=t.threshold||4*s;if(d<=h){iP(i);return}at(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=r9(c,f,d,s,t);break;case"min-max":p=o9(c,f,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(n){Aw(n)}};function c9(n,e,t){const s=n.segments,i=n.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=q0(l,c,i);const u=Rb(t,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const f=BM(e,u);for(const d of f){const h=Rb(t,r[d.start],r[d.end],d.loop),p=jM(a,i,h);for(const g of p)o.push({source:g,target:d,start:{[t]:Mw(u,h,"start",Math.max)},end:{[t]:Mw(u,h,"end",Math.min)}})}}return o}function Rb(n,e,t,s){if(s)return;let i=e[n],r=t[n];return n==="angle"&&(i=Es(i),r=Es(r)),{property:n,start:i,end:r}}function u9(n,e){const{x:t=null,y:s=null}=n||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=q0(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:c.y}))}),r}function q0(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Mw(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function rP(n,e){let t=[],s=!1;return Rt(n)?(s=!0,t=n):t=u9(n,e),t.length?new Jr({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function Pw(n){return n&&n.fill!==!1}function f9(n,e,t){let i=n[e].fill;const r=[e];let o;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!zt(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function d9(n,e,t){const s=m9(n);if(Qe(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return zt(i)&&Math.floor(i)===i?h9(s[0],e,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function h9(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function p9(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Qe(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function g9(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:Qe(n)?s=n.value:s=e.getBaseValue(),s}function m9(n){const e=n.options,t=e.fill;let s=$e(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function y9(n){const{scale:e,index:t,line:s}=n,i=[],r=s.segments,o=s.points,a=b9(e,t);a.push(rP({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)v9(i,o[u],a)}return new Jr({points:i,options:{}})}function b9(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function v9(n,e,t){const s=[];for(let i=0;i<t.length;i++){const r=t[i],{first:o,last:a,point:l}=x9(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function x9(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const i=s[t],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],f=o[u.start][t],d=o[u.end][t];if(Qi(i,f,d)){a=i===f,l=i===d;break}}return{first:a,last:l,point:s}}class oP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:r,radius:o}=this;return t=t||{start:0,end:_t},e.arc(i,r,o,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function S9(n){const{chart:e,fill:t,line:s}=n;if(zt(t))return E9(e,t);if(t==="stack")return y9(n);if(t==="shape")return!0;const i=w9(n);return i instanceof oP?i:rP(i,s)}function E9(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function w9(n){return(n.scale||{}).getPointPositionForValue?C9(n):T9(n)}function T9(n){const{scale:e={},fill:t}=n,s=p9(t,e);if(zt(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function C9(n){const{scale:e,fill:t}=n,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=g9(t,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new oP({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function ay(n,e,t){const s=S9(e),{line:i,scale:r,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:f=c}=l||{};s&&i.points.length&&(Ng(n,t),O9(n,{line:i,target:s,above:u,below:f,area:t,scale:r,axis:o}),Lg(n))}function O9(n,e){const{line:t,target:s,above:i,below:r,area:o,scale:a}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&r!==i&&(Iw(n,s,o.top),Rw(n,{line:t,target:s,color:i,scale:a,property:l}),n.restore(),n.save(),Iw(n,s,o.bottom)),Rw(n,{line:t,target:s,color:r,scale:a,property:l}),n.restore()}function Iw(n,e,t){const{segments:s,points:i}=e;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],f=i[q0(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Rw(n,e){const{line:t,target:s,property:i,color:r,scale:o}=e,a=c9(t,s,i);for(const{source:l,target:c,start:u,end:f}of a){const{style:{backgroundColor:d=r}={}}=l,h=s!==!0;n.save(),n.fillStyle=d,k9(n,o,h&&Rb(i,u,f)),n.beginPath();const p=!!t.pathSegment(n,l);let g;if(h){p?n.closePath():Dw(n,s,f,i);const m=!!s.pathSegment(n,c,{move:p,reverse:!0});g=p&&m,g||Dw(n,s,u,i)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function k9(n,e,t){const{top:s,bottom:i}=e.chart.chartArea,{property:r,start:o,end:a}=t||{};r==="x"&&(n.beginPath(),n.rect(o,s,a-o,i-s),n.clip())}function Dw(n,e,t,s){const i=e.interpolate(t,s);i&&n.lineTo(i.x,i.y)}var _9={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Jr&&(l={visible:n.isDatasetVisible(o),index:o,fill:d9(a,o,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=f9(i,o,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&ay(n.ctx,a,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Pw(r)&&ay(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!Pw(s)||t.drawTime!=="beforeDatasetDraw"||ay(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Nw=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},A9=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Lw extends fr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=on(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Nw(s,r);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=e;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-u;return this.legendItems.forEach((p,g)=>{const m=s+t/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(f+=u,c[c.length-(g>0?0:1)]=0,h+=u,d++),l[g]={left:0,top:h,row:d,width:m,height:i},c[c.length-1]+=m+a}),f}_fitCols(e,t,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,d=0,h=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{const{itemWidth:b,itemHeight:x}=M9(s,t,r,m,i);y>0&&h+x+2*a>u&&(f+=d+a,c.push({width:d,height:h}),p+=d+a,g++,d=h=0),l[y]={left:p,top:h,col:g,width:b,height:x},d=Math.max(d,b),h+=x+a}),f+=d,c.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:r}}=this,o=bl(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=An(s,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=An(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=An(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=An(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ng(e,this),this._draw(),Lg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=Dt.color,l=bl(e.rtl,this.left,this.width),c=on(o.font),{padding:u}=o,f=c.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=Nw(o,f),y=function(E,k,_){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const w=$e(_.lineWidth,1);if(i.fillStyle=$e(_.fillStyle,a),i.lineCap=$e(_.lineCap,"butt"),i.lineDashOffset=$e(_.lineDashOffset,0),i.lineJoin=$e(_.lineJoin,"miter"),i.lineWidth=w,i.strokeStyle=$e(_.strokeStyle,a),i.setLineDash($e(_.lineDash,[])),o.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:w},C=l.xPlus(E,p/2),T=k+d;_M(i,O,C,T,o.pointStyleWidth&&p)}else{const O=k+Math.max((f-g)/2,0),C=l.leftForLtr(E,p),T=ma(_.borderRadius);i.beginPath(),Object.values(T).some(I=>I!==0)?sf(i,{x:C,y:O,w:p,h:g,radius:T}):i.rect(C,O,p,g),i.fill(),w!==0&&i.stroke()}i.restore()},b=function(E,k,_){Ma(i,_.text,E,k+m/2,c,{strikethrough:_.hidden,textAlign:l.textAlign(_.textAlign)})},x=this.isHorizontal(),v=this._computeTitleHeight();x?h={x:An(r,this.left+u,this.right-s[0]),y:this.top+u+v,line:0}:h={x:this.left+u,y:An(r,this.top+v+u,this.bottom-t[0].height),line:0},LM(this.ctx,e.textDirection);const S=m+u;this.legendItems.forEach((E,k)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const _=i.measureText(E.text).width,w=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),O=p+d+_;let C=h.x,T=h.y;l.setWidth(this.width),x?k>0&&C+O+u>this.right&&(T=h.y+=S,h.line++,C=h.x=An(r,this.left+u,this.right-s[h.line])):k>0&&T+S>this.bottom&&(C=h.x=C+t[h.line].width+u,h.line++,T=h.y=An(r,this.top+v+u,this.bottom-t[h.line].height));const I=l.x(C);if(y(I,T,E),C=YW(w,C+p+d,x?C+O:this.right,e.rtl),b(l.x(C),T,E),x)h.x+=O+u;else if(typeof E.text!="string"){const L=c.lineHeight;h.y+=aP(E,L)+u}else h.y+=S}),FM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=on(t.font),i=Vn(t.padding);if(!t.display)return;const r=bl(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=s.size/2,c=i.top+l;let u,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,f=An(e.align,f,this.right-d);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+An(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=An(a,f,f+d);o.textAlign=r.textAlign(H0(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,Ma(o,t.text,h,u,s)}_computeTitleHeight(){const e=this.options.title,t=on(e.font),s=Vn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,r;if(Qi(e,this.left,this.right)&&Qi(t,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Qi(e,i.left,i.left+i.width)&&Qi(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!R9(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=A9(i,s);i&&!r&&Tt(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Tt(t.onHover,[e,s,this],this)}else s&&Tt(t.onClick,[e,s,this],this)}}function M9(n,e,t,s,i){const r=P9(s,n,e,t),o=I9(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function P9(n,e,t,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+s.measureText(i).width}function I9(n,e,t){let s=n;return typeof e.text!="string"&&(s=aP(e,t)),s}function aP(n,e){const t=n.text?n.text.length:0;return e*t}function R9(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var D9={id:"legend",_element:Lw,start(n,e,t){const s=n.legend=new Lw({ctx:n.ctx,options:t,chart:n});jn.configure(n,s,t),jn.addBox(n,s)},stop(n){jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;jn.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Vn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Q0 extends fr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Rt(s.text)?s.text.length:1;this._padding=Vn(s.padding);const r=i*on(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=An(a,s,r),f=t+e,c=r-s):(o.position==="left"?(u=s+e,f=An(a,i,t),l=At*-.5):(u=r-e,f=An(a,t,i),l=At*.5),c=i-t),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=on(t.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ma(e,t.text,0,0,s,{color:t.color,maxWidth:l,rotation:c,textAlign:H0(t.align),textBaseline:"middle",translation:[o,a]})}}function N9(n,e){const t=new Q0({ctx:n.ctx,options:e,chart:n});jn.configure(n,t,e),jn.addBox(n,t),n.titleBlock=t}var L9={id:"title",_element:Q0,start(n,e,t){N9(n,t)},stop(n){const e=n.titleBlock;jn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;jn.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _d=new WeakMap;var F9={id:"subtitle",start(n,e,t){const s=new Q0({ctx:n.ctx,options:t,chart:n});jn.configure(n,s,t),jn.addBox(n,s),_d.set(n,s)},stop(n){jn.removeBox(n,_d.get(n)),_d.delete(n)},beforeUpdate(n,e,t){const s=_d.get(n);jn.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zc={average(n){if(!n.length)return!1;let e,t,s=new Set,i=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Cb(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,s=l.y}return{x:t,y:s}}};function fi(n,e){return e&&(Rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ji(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function $9(n,e){const{element:t,datasetIndex:s,index:i}=e,r=n.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:n,label:o,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function Fw(n,e){const t=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:o,boxHeight:a}=e,l=on(e.bodyFont),c=on(e.titleFont),u=on(e.footerFont),f=r.length,d=i.length,h=s.length,p=Vn(e.padding);let g=p.height,m=0,y=s.reduce((v,S)=>v+S.before.length+S.lines.length+S.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const v=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*v+(y-h)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const x=function(v){m=Math.max(m,t.measureText(v).width+b)};return t.save(),t.font=c.string,bt(n.title,x),t.font=l.string,bt(n.beforeBody.concat(n.afterBody),x),b=e.displayColors?o+2+e.boxPadding:0,bt(s,v=>{bt(v.before,x),bt(v.lines,x),bt(v.after,x)}),b=0,t.font=u.string,bt(n.footer,x),t.restore(),m+=p.width,{width:m,height:g}}function j9(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function B9(n,e,t,s){const{x:i,width:r}=s,o=t.caretSize+t.caretPadding;if(n==="left"&&i+r+o>e.width||n==="right"&&i-r-o<0)return!0}function V9(n,e,t,s){const{x:i,width:r}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),B9(c,n,e,t)&&(c="center"),c}function $w(n,e,t){const s=t.yAlign||e.yAlign||j9(n,t);return{xAlign:t.xAlign||e.xAlign||V9(n,e,t,s),yAlign:s}}function H9(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function U9(n,e,t){let{y:s,height:i}=n;return e==="top"?s+=t:e==="bottom"?s-=i+t:s-=i/2,s}function jw(n,e,t,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+r,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:h}=ma(o);let p=H9(e,a);const g=U9(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(f,h)+i),{x:un(p,0,s.width-e.width),y:un(g,0,s.height-e.height)}}function Ad(n,e,t){const s=Vn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function Bw(n){return fi([],ji(n))}function z9(n,e,t){return Oo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Vw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const lP={beforeTitle:Ni,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:Ni,beforeBody:Ni,beforeLabel:Ni,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return at(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ni,afterBody:Ni,beforeFooter:Ni,footer:Ni,afterFooter:Ni};function ls(n,e,t,s){const i=n[e].call(t,s);return typeof i>"u"?lP[e].call(t,s):i}class Db extends fr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,r=new VM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=z9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,i=ls(s,"beforeTitle",this,e),r=ls(s,"title",this,e),o=ls(s,"afterTitle",this,e);let a=[];return a=fi(a,ji(i)),a=fi(a,ji(r)),a=fi(a,ji(o)),a}getBeforeBody(e,t){return Bw(ls(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return bt(e,r=>{const o={before:[],lines:[],after:[]},a=Vw(s,r);fi(o.before,ji(ls(a,"beforeLabel",this,r))),fi(o.lines,ls(a,"label",this,r)),fi(o.after,ji(ls(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,t){return Bw(ls(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=ls(s,"beforeFooter",this,e),r=ls(s,"footer",this,e),o=ls(s,"afterFooter",this,e);let a=[];return a=fi(a,ji(i)),a=fi(a,ji(r)),a=fi(a,ji(o)),a}_createItems(e){const t=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push($9(this.chart,t[l]));return e.filter&&(a=a.filter((u,f,d)=>e.filter(u,f,d,s))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,s))),bt(a,u=>{const f=Vw(e.callbacks,u);i.push(ls(f,"labelColor",this,u)),r.push(ls(f,"labelPointStyle",this,u)),o.push(ls(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=zc[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Fw(this,s),c=Object.assign({},a,l),u=$w(this.chart,s,c),f=jw(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const r=this.getCaretPosition(e,s,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=ma(a),{x:d,y:h}=e,{width:p,height:g}=t;let m,y,b,x,v,S;return r==="center"?(v=h+g/2,i==="left"?(m=d,y=m-o,x=v+o,S=v-o):(m=d+p,y=m+o,x=v-o,S=v+o),b=m):(i==="left"?y=d+Math.max(l,u)+o:i==="right"?y=d+p-Math.max(c,f)-o:y=this.caretX,r==="top"?(x=h,v=x-o,m=y-o,b=y+o):(x=h+g,v=x+o,m=y+o,b=y-o),S=x),{x1:m,x2:y,x3:b,y1:x,y2:v,y3:S}}drawTitle(e,t,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=bl(s.rtl,this.x,this.width);for(e.x=Ad(this,s.titleAlign,s),t.textAlign=c.textAlign(s.titleAlign),t.textBaseline="middle",o=on(s.titleFont),a=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,t,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=on(r.bodyFont),f=Ad(this,"left",r),d=i.x(f),h=l<u.lineHeight?(u.lineHeight-l)/2:0,p=t.y+h;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,y=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,kb(e,g,m,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,kb(e,g,m,y)}else{e.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),y=ma(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,sf(e,{x:g,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sf(e,{x:m,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,f=on(s.bodyFont);let d=f.lineHeight,h=0;const p=bl(s.rtl,this.x,this.width),g=function(_){t.fillText(_,p.x(e.x+h),e.y+d/2),e.y+=d+r},m=p.textAlign(o);let y,b,x,v,S,E,k;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=Ad(this,m,s),t.fillStyle=s.bodyColor,bt(this.beforeBody,g),h=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,v=0,E=i.length;v<E;++v){for(y=i[v],b=this.labelTextColors[v],t.fillStyle=b,bt(y.before,g),x=y.lines,a&&x.length&&(this._drawColorBox(t,e,v,p,s),d=Math.max(f.lineHeight,l)),S=0,k=x.length;S<k;++S)g(x[S]),d=f.lineHeight;bt(y.after,g)}h=0,d=f.lineHeight,bt(this.afterBody,g),e.y-=r}drawFooter(e,t,s){const i=this.footer,r=i.length;let o,a;if(r){const l=bl(s.rtl,this.x,this.width);for(e.x=Ad(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",o=on(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=ma(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+f,l),o==="top"&&this.drawCaret(e,t,s,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,t,s,i),t.lineTo(a+c,l+u-p),t.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,t,s,i),t.lineTo(a+h,l+u),t.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&r==="left"&&this.drawCaret(e,t,s,i),t.lineTo(a,l+f),t.quadraticCurveTo(a,l,a+f,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=zc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Fw(this,e),l=Object.assign({},o,this._size),c=$w(t,e,l),u=jw(e,l,c,t);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Vn(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,t),LM(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),FM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Tp(s,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,s),a=this._positionChanged(o,e),l=t||!Tp(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:i,options:r}=this,o=zc[r.position].call(this,e,t);return o!==!1&&(s!==o.x||i!==o.y)}}ne(Db,"positioners",zc);var W9={id:"tooltip",_element:Db,positioners:zc,afterInit(n,e,t){t&&(n.tooltip=new Db({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},K9=Object.freeze({__proto__:null,Colors:i9,Decimation:l9,Filler:_9,Legend:D9,SubTitle:F9,Title:L9,Tooltip:W9});const G9=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function X9(n,e,t,s){const i=n.indexOf(e);if(i===-1)return G9(n,e,t,s);const r=n.lastIndexOf(e);return i!==r?t:i}const J9=(n,e)=>n===null?null:un(Math.round(n),0,e);function Hw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Nb extends $a{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:i,label:r}of t)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(at(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:X9(s,e,$e(t,e),this._addedLabels),J9(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return Hw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ne(Nb,"id","category"),ne(Nb,"defaults",{ticks:{callback:Hw}});function Y9(n,e){const t=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=n,h=r||1,p=u-1,{min:g,max:m}=e,y=!at(o),b=!at(a),x=!at(c),v=(m-g)/(f+1);let S=FE((m-g)/p/h)*h,E,k,_,w;if(S<1e-14&&!y&&!b)return[{value:g},{value:m}];w=Math.ceil(m/S)-Math.floor(g/S),w>p&&(S=FE(w*S/p/h)*h),at(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(k=Math.floor(g/S)*S,_=Math.ceil(m/S)*S):(k=g,_=m),y&&b&&r&&UW((a-o)/r,S/1e3)?(w=Math.round(Math.min((a-o)/S,u)),S=(a-o)/w,k=o,_=a):x?(k=y?o:k,_=b?a:_,w=c-1,S=(_-k)/w):(w=(_-k)/S,bu(w,Math.round(w),S/1e3)?w=Math.round(w):w=Math.ceil(w));const O=Math.max($E(S),$E(k));E=Math.pow(10,at(l)?O:l),k=Math.round(k*E)/E,_=Math.round(_*E)/E;let C=0;for(y&&(d&&k!==o?(t.push({value:o}),k<o&&C++,bu(Math.round((k+C*S)*E)/E,o,Uw(o,v,n))&&C++):k<o&&C++);C<w;++C){const T=Math.round((k+C*S)*E)/E;if(b&&T>a)break;t.push({value:T})}return b&&d&&_!==a?t.length&&bu(t[t.length-1].value,a,Uw(a,v,n))?t[t.length-1].value=a:t.push({value:a}):(!b||_===a)&&t.push({value:_}),t}function Uw(n,e,{horizontal:t,minRotation:s}){const i=si(s),r=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class Pp extends $a{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return at(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=t?i:l,a=l=>r=s?r:l;if(e){const l=wi(i),c=wi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=Y9(i,r);return e.bounds==="ticks"&&vM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return If(e,this.chart.options.locale,this.options.ticks.format)}}class Lb extends Pp{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=si(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ne(Lb,"id","linear"),ne(Lb,"defaults",{ticks:{callback:Dg.formatters.numeric}});const of=n=>Math.floor(Xr(n)),Lo=(n,e)=>Math.pow(10,of(n)+e);function zw(n){return n/Math.pow(10,of(n))===1}function Ww(n,e,t){const s=Math.pow(10,t),i=Math.floor(n/s);return Math.ceil(e/s)-i}function q9(n,e){const t=e-n;let s=of(t);for(;Ww(n,e,s)>10;)s++;for(;Ww(n,e,s)<10;)s--;return Math.min(s,of(n))}function Q9(n,{min:e,max:t}){e=xs(n.min,e);const s=[],i=of(e);let r=q9(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((c-u)/Math.pow(10,r)),d=xs(n.min,Math.round((l+u+f*Math.pow(10,r))*o)/o);for(;d<t;)s.push({value:d,major:zw(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),d=Math.round((l+u+f*Math.pow(10,r))*o)/o;const h=xs(n.max,d);return s.push({value:h,major:zw(h),significand:f}),s}class Fb extends $a{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Pp.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return zt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zt(e)?Math.max(0,e):null,this.max=zt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zt(this._userMin)&&(this.min=e===Lo(this.min,0)?Lo(this.min,-1):Lo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=t?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Lo(s,-1)),o(Lo(i,1)))),s<=0&&r(Lo(i,-1)),i<=0&&o(Lo(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=Q9(t,this);return e.bounds==="ticks"&&vM(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":If(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Xr(e),this._valueRange=Xr(this.max)-Xr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Xr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ne(Fb,"id","logarithmic"),ne(Fb,"defaults",{ticks:{callback:Dg.formatters.logarithmic,major:{enabled:!0}}});function $b(n){const e=n.ticks;if(e.display&&n.display){const t=Vn(e.backdropPadding);return $e(e.font&&e.font.size,Dt.font.size)+t.height}return 0}function Z9(n,e,t){return t=Rt(t)?t:[t],{w:o8(n,e.string,t),h:t.length*e.lineHeight}}function Kw(n,e,t,s,i){return n===s||n===i?{start:e-t/2,end:e+t/2}:n<s||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function eG(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),s=[],i=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?At/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),f=on(c.font),d=Z9(n.ctx,f,n._pointLabels[l]);s[l]=d;const h=Es(n.getIndexAngle(l)+a),p=Math.round(B0(h)),g=Kw(p,u.x,d.w,0,180),m=Kw(p,u.y,d.h,90,270);tG(t,e,h,g,m)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=iG(n,s,i)}function tG(n,e,t,s,i){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,n.l=Math.min(n.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function nG(n,e,t){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=t,l=n.getPointPosition(e,s+i+o,r),c=Math.round(B0(Es(l.angle+Kt))),u=aG(l.y,a.h,c),f=rG(c),d=oG(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:d,top:u,right:d+a.w,bottom:u+a.h}}function sG(n,e){if(!e)return!0;const{left:t,top:s,right:i,bottom:r}=n;return!(er({x:t,y:s},e)||er({x:t,y:r},e)||er({x:i,y:s},e)||er({x:i,y:r},e))}function iG(n,e,t){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:$b(r)/2,additionalAngle:o?At/i:0};let c;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];const f=nG(n,u,l);s.push(f),a==="auto"&&(f.visible=sG(f,c),f.visible&&(c=f))}return s}function rG(n){return n===0||n===180?"center":n<180?"left":"right"}function oG(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function aG(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function lG(n,e,t){const{left:s,top:i,right:r,bottom:o}=t,{backdropColor:a}=e;if(!at(a)){const l=ma(e.borderRadius),c=Vn(e.backdropPadding);n.fillStyle=a;const u=s-c.left,f=i-c.top,d=r-s+c.width,h=o-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),sf(n,{x:u,y:f,w:d,h,radius:l}),n.fill()):n.fillRect(u,f,d,h)}}function cG(n,e){const{ctx:t,options:{pointLabels:s}}=n;for(let i=e-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(n.getPointLabelContext(i));lG(t,o,r);const a=on(o.font),{x:l,y:c,textAlign:u}=r;Ma(t,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function cP(n,e,t,s){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,_t);else{let r=n.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=n.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function uG(n,e,t,s,i){const r=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),cP(n,t,o,s),r.closePath(),r.stroke(),r.restore())}function fG(n,e,t){return Oo(n,{label:t,index:e,type:"pointLabel"})}class Wc extends Pp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Vn($b(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=zt(e)&&!isNaN(e)?e:0,this.max=zt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$b(this.options))}generateTickLabels(e){Pp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,s)=>{const i=Tt(this.options.pointLabels.callback,[t,s],this);return i||i===0?i:""}).filter((t,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?eG(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,i))}getIndexAngle(e){const t=_t/(this._pointLabels.length||1),s=this.options.startAngle||0;return Es(e*t+si(s))}getDistanceFromCenterForValue(e){if(at(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(at(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return fG(this.getContext(),e,s)}}getPointPosition(e,t,s=0){const i=this.getIndexAngle(e)-Kt+s;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),cP(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:i,border:r}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&cG(this,o),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(f),h=i.setContext(d),p=r.setContext(d);uG(this,h,l,o,p)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:d}=u;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=s.setContext(this.getContext(l)),u=on(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=Vn(c.backdropPadding);e.fillRect(-o/2-f.left,-r-u.size/2-f.top,o+f.width,u.size+f.height)}Ma(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ne(Wc,"id","radialLinear"),ne(Wc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ne(Wc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ne(Wc,"descriptors",{angleLines:{_fallback:"grid"}});const $g={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hs=Object.keys($g);function Gw(n,e){return n-e}function Xw(n,e){if(at(e))return null;const t=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),zt(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Yl(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,i)),+o)}function Jw(n,e,t,s){const i=hs.length;for(let r=hs.indexOf(n);r<i-1;++r){const o=$g[hs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=s)return hs[r]}return hs[i-1]}function dG(n,e,t,s,i){for(let r=hs.length-1;r>=hs.indexOf(t);r--){const o=hs[r];if($g[o].common&&n._adapter.diff(i,s,o)>=e-1)return o}return hs[t?hs.indexOf(t):0]}function hG(n){for(let e=hs.indexOf(n)+1,t=hs.length;e<t;++e)if($g[hs[e]].common)return hs[e]}function Yw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:i}=V0(t,e),r=t[s]>=e?t[s]:t[i];n[r]=!0}}function pG(n,e,t,s){const i=n._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=t[a],l>=0&&(e[l].major=!0);return e}function qw(n,e,t){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!t?s:pG(n,s,i,t)}class af extends $a{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new EK._date(e.adapters.date);i.init(t),yu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Xw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=zt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),r=zt(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=GW(i,r,o);return this._unit=t.unit||(s.autoSkip?Jw(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):dG(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:hG(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),qw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=un(t,0,o),s=un(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Jw(r.minUnit,t,s,this._getLabelCapacity(t)),a=$e(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Yl(l)||l===!0,u={};let f=t,d,h;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(s,t,o)>1e5*a)throw new Error(t+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,h=0;d<s;d=+e.add(d,a,o),h++)Yw(u,d,p);return(d===s||i.bounds==="ticks"||h===1)&&Yw(u,d,p),Object.keys(u).sort(Gw).map(g=>+g)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,o=t||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,i){const r=this.options,o=r.ticks.callback;if(o)return Tt(o,[e,t,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],d=s[t],h=c&&f&&d&&d.major;return this._adapter.format(e,i||(h?f:u))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=si(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,qw(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,s=i.length;t<s;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(Xw(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return EM(e.sort(Gw))}}ne(af,"id","time"),ne(af,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Md(n,e,t){let s=0,i=n.length-1,r,o,a,l;t?(e>=n[s].pos&&e<=n[i].pos&&({lo:s,hi:i}=Zi(n,"pos",e)),{pos:r,time:a}=n[s],{pos:o,time:l}=n[i]):(e>=n[s].time&&e<=n[i].time&&({lo:s,hi:i}=Zi(n,"time",e)),{time:r,pos:a}=n[s],{time:o,pos:l}=n[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class jb extends af{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Md(t,this.min),this._tableRange=Md(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=s&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Md(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Md(this._table,s*this._tableRange+this._minPos,!0)}}ne(jb,"id","timeseries"),ne(jb,"defaults",af.defaults);var gG=Object.freeze({__proto__:null,CategoryScale:Nb,LinearScale:Lb,LogarithmicScale:Fb,RadialLinearScale:Wc,TimeScale:af,TimeSeriesScale:jb});const mG=[SK,q7,K9,gG],yG={class:"w-full max-w-3xl bg-bg-dark p-4 rounded-md shadow-sm shadow-f14-font-dark flex flex-col items-center"},bG={class:"w-full h-64"},vG=vt({__name:"ActivityChart",setup(n){Wi.register(...mG);const e=me(null);return ks(()=>{e.value&&new Wi(e.value,{type:"bar",data:{labels:["27.01.2025","28.01.2025","29.01.2025"],datasets:[{label:" ",data:[3,6,9,12,15,18,21],backgroundColor:"#8090F4"},{label:" ",data:[2,4,6,8,10,12,14],backgroundColor:"#37DC74"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255, 255, 255, 0.3)"}},y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.3)"}}}}})}),(t,s)=>(Y(),te("div",yG,[s[0]||(s[0]=M("h3",{class:"text-center text-white mb-4"}," ",-1)),M("div",bG,[M("canvas",{ref_key:"chartCanvas",ref:e,class:"w-full h-full"},null,512)])]))}}),xG={class:"flex flex-col items-center"},SG={class:"text-2xl"},EG={class:"bg-bg-accent-dark text-white rounded-md px-2 py-1"},wG=vt({__name:"Workspace",setup(n){const e=eg(),t=me(typeof e.query.projectId=="string"?e.query.projectId:void 0),s=me(typeof e.query.name=="string"?e.query.name:void 0);return wn(()=>e.query.projectId,i=>{typeof i=="string"?t.value=i:t.value=void 0}),wn(()=>e.query.name,i=>{typeof i=="string"?s.value=i:s.value=void 0}),(i,r)=>(Y(),te("div",xG,[M("span",SG,[M("code",EG,Je(s.value),1)]),ve(re(q3),{projectId:t.value,projectName:s.value},null,8,["projectId","projectName"]),ve(re(vG),{class:"mb-20"})]))}}),TG={class:"relative"},CG=["value"],OG={key:0,class:"absolute z-10 mt-2 bg-bg-accent-dark border border-gray-700 rounded-lg shadow-lg"},kG={class:"flex justify-between items-center p-4 bg-gray-800 rounded-t-lg"},_G={class:"flex gap-2"},AG=["value"],MG=["value"],PG={class:"grid grid-cols-7 gap-2 p-4"},IG=["onClick"],RG=vt({__name:"DatePicker",props:{modelValue:{type:Date,default:()=>new Date}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,i=me(!1),r=me(new Date(t.modelValue)),o=me(r.value.getMonth()),a=me(r.value.getFullYear()),l=["","","","","","",""],c=["","","","","","","","","","","",""],u=nn(()=>{const v=new Date().getFullYear(),S=2025,E=v+20;return Array.from({length:E-S+1},(k,_)=>S+_)}),f=nn(()=>{const v=r.value.getFullYear(),S=r.value.getMonth(),E=new Date(v,S,1),_=new Date(v,S+1,0).getDate(),w=E.getDay()||7,O=[];for(let C=1;C<w;C++)O.push({day:"",date:null,isCurrentMonth:!1,isSelected:!1});for(let C=1;C<=_;C++){const T=new Date(v,S,C);O.push({day:C,date:T,isCurrentMonth:!0,isSelected:T.toDateString()===t.modelValue.toDateString()})}return O}),d=nn(()=>t.modelValue.toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})),h=()=>{i.value=!i.value},p=()=>{r.value.setMonth(r.value.getMonth()-1),b()},g=()=>{r.value.setMonth(r.value.getMonth()+1),b()},m=()=>{r.value.setMonth(o.value),b()},y=()=>{r.value.setFullYear(a.value),b()},b=()=>{r.value=new Date(r.value)},x=v=>{v&&(s("update:modelValue",v),i.value=!1)};return(v,S)=>(Y(),te("div",TG,[M("input",{type:"text",value:d.value,onClick:h,class:"w-full px-4 py-2 border border-gray-700 bg-bg-accent-dark text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",placeholder:" ",readonly:""},null,8,CG),i.value?(Y(),te("div",OG,[M("div",kG,[M("button",{onClick:p,class:"p-2 hover:bg-gray-700 rounded-full text-white"},S[2]||(S[2]=[M("i",{class:"fas fa-chevron-left"},null,-1)])),M("div",_G,[Vr(M("select",{"onUpdate:modelValue":S[0]||(S[0]=E=>o.value=E),onChange:m,class:"bg-gray-700 text-white rounded-md px-2 py-1"},[(Y(),te(st,null,Yn(c,(E,k)=>M("option",{key:k,value:k},Je(E),9,AG)),64))],544),[[xa,o.value]]),Vr(M("select",{"onUpdate:modelValue":S[1]||(S[1]=E=>a.value=E),onChange:y,class:"bg-gray-700 text-white rounded-md px-2 py-1"},[(Y(!0),te(st,null,Yn(u.value,E=>(Y(),te("option",{key:E,value:E},Je(E),9,MG))),128))],544),[[xa,a.value]])]),M("button",{onClick:g,class:"p-2 hover:bg-gray-700 rounded-full text-white"},S[3]||(S[3]=[M("i",{class:"fas fa-chevron-right"},null,-1)]))]),M("div",PG,[(Y(),te(st,null,Yn(l,E=>M("div",{key:E,class:"text-center text-sm text-gray-400"},Je(E),1)),64)),(Y(!0),te(st,null,Yn(f.value,E=>{var k;return Y(),te("div",{key:((k=E.date)==null?void 0:k.toISOString())||"empty",onClick:_=>x(E.date),class:pt(["text-center p-2 rounded-full cursor-pointer",E.isCurrentMonth?"text-white":"text-gray-500",E.isSelected?"bg-blue-500 text-white":"hover:bg-gray-700"])},Je(E.day),11,IG)}),128))])])):rn("",!0)]))}}),DG=Eo(RG,[["__scopeId","data-v-79cd44e2"]]),NG={class:"mt-28 flex flex-col items-center gap-4 px-4"},LG={class:"bg-bg-accent-dark p-8 rounded-lg shadow-lg w-full md:w-[90%] lg:w-[70%] grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-4"},FG={class:"text-xl text-gray-300 ml-2"},$G={class:"text-f14-font-dark bg-bg-dark rounded-md px-2 ml-2"},jG={class:"flex flex-col gap-4 bg-bg-dark rounded-md p-4 overflow-y-auto max-h-[550px] max-w-[400px] w-full"},BG={class:"flex mt-4 gap-4 items-center"},VG={class:"mt-4"},HG={key:0,class:"flex flex-wrap gap-2 mt-2 max-w-full overflow-hidden"},UG={class:"truncate"},zG=["onClick"],WG={key:1},KG={key:0,class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},GG={key:1},XG={key:2,class:"flex items-center justify-center gap-2"},JG={class:"flex gap-4 items-center mt-6"},YG={key:4,class:"mt-4"},qG={class:"space-y-2"},QG={class:"text-xs"},ZG=["onClick"],eX=vt({__name:"CreateTask",setup(n){const e=So(),t=eg(),s=me(""),i=me("1"),r=me(t.query.name||""),o=me(t.query.id||""),a=me([]),l=me([]),c=me(!1),u=me(""),f=me(!1);ks(async()=>{a.value=await MS()});const d=me(""),h=me(new Date),p=me([]),g=async C=>{const T=C.target,I=T.files;I&&I.length>5?(alert("  : 5"),T.value=""):I&&(p.value=Array.from(I))},m=C=>{p.value.splice(C,1)},y=C=>{var I;const T=((I=C.name.split(".").pop())==null?void 0:I.toLowerCase())||"";return g_(T)},b=()=>{c.value=!0},x=async()=>{if(u.value.trim())try{const C={id:Date.now(),label:u.value};await m$(C),a.value=await MS(),u.value="",c.value=!1}catch(C){console.error("   :",C)}},v=()=>{u.value="",c.value=!1},S=C=>{E(C)?w(C):k(C)},E=C=>l.value.some(T=>T.id===C.id),k=C=>{l.value.push(C)},_=C=>{l.value.splice(C,1)},w=C=>{l.value=l.value.filter(T=>T.id!==C.id)},O=async()=>{try{const C=tk(),T=Array.isArray(o.value)?o.value[0]:o.value;if(!T)return alert("  "),e.back();if(!d.value.trim()){f.value=!0;return}const I=s.value.replace(/<[^>]+>/gm,"").trim(),L={id:C,name:d.value,description:I.length>0?s.value:null,createdAt:new Date().toISOString(),deadline:h.value.toISOString(),priority:parseInt(i.value),labels:l.value.map(j=>j.label),status:"planned",projectId:T,isFrozen:!1,isVisible:!1};await f$(T,L),await h$(T,C),await p$(T,C,p.value),e.back()}catch(C){console.error("   :",C)}};return(C,T)=>(Y(),te(st,null,[ve(re(wv),{isOpen:f.value,title:"",message:",   ",confirmText:"OK",cancelText:"",onConfirm:T[0]||(T[0]=I=>f.value=!1)},null,8,["isOpen"]),M("div",NG,[M("div",null,[M("button",{onClick:T[1]||(T[1]=(...I)=>re(e).back&&re(e).back(...I)),class:"flex items-center gap-2 hover:text-gray-300"},T[7]||(T[7]=[M("i",{class:"fa-solid fa-chevron-left"},null,-1),M("span",null," ",-1)]))]),M("div",LG,[M("div",null,[M("span",FG,[T[8]||(T[8]=Yp("     ")),M("code",$G,Je(r.value),1)]),ve(re(Ch),{type:"text",modelValue:d.value,"onUpdate:modelValue":T[2]||(T[2]=I=>d.value=I),placeholder:"",class:"rounded-md p-2 w-full max-w-md"},null,8,["modelValue"]),ve(re(hM),{modelValue:s.value,"onUpdate:modelValue":T[3]||(T[3]=I=>s.value=I)},null,8,["modelValue"])]),M("div",jG,[T[19]||(T[19]=M("span",null," :",-1)),ve(re(DG),{modelValue:h.value,"onUpdate:modelValue":T[4]||(T[4]=I=>h.value=I),placeholder:" "},null,8,["modelValue"]),M("div",BG,[T[10]||(T[10]=M("span",null,":",-1)),Vr(M("select",{"onUpdate:modelValue":T[5]||(T[5]=I=>i.value=I),class:"bg-bg-accent-dark rounded-md p-2 cursor-pointer"},T[9]||(T[9]=[M("option",{value:"1"},"",-1),M("option",{value:"2"},"",-1),M("option",{value:"3"},"",-1)]),512),[[xa,i.value]])]),M("div",VG,[T[13]||(T[13]=M("span",null,"",-1)),l.value.length>0?(Y(),te("div",HG,[(Y(!0),te(st,null,Yn(l.value,(I,L)=>(Y(),te("div",{key:I.id,class:"flex items-center gap-2 bg-blue-500 text-white rounded-md px-2 py-1 text-sm max-w-[150px]"},[M("span",UG,Je(I.label),1),M("button",{onClick:j=>_(L),class:"text-white hover:text-red-500"},T[11]||(T[11]=[M("i",{class:"fa-solid fa-xmark"},null,-1)]),8,zG)]))),128))])):(Y(),te("div",WG,T[12]||(T[12]=[M("span",{class:"text-xs text-gray-300"},"     ",-1)])))]),a.value.length>0?(Y(),te("div",KG,[(Y(!0),te(st,null,Yn(a.value,I=>(Y(),Os(re(i0),{class:pt(["h-8",{"opacity-50 cursor-not-allowed":E(I)}]),key:I.id,label:I.label,onClick:L=>S(I)},null,8,["label","class","onClick"]))),128))])):(Y(),te("div",GG,[ve(re(Tv))])),c.value?(Y(),te("div",XG,[ve(re(Ch),{type:"text",modelValue:u.value,"onUpdate:modelValue":T[6]||(T[6]=I=>u.value=I),placeholder:" ",class:"h-9"},null,8,["modelValue"]),M("button",{onClick:x,class:"w-10 h-6 bg-blue-500 text-white rounded-md hover:bg-blue-600"},T[14]||(T[14]=[M("i",{class:"fa-solid fa-check"},null,-1)])),M("button",{onClick:v,class:"w-10 h-6 bg-red-500 text-white rounded-md hover:bg-red-600"},T[15]||(T[15]=[M("i",{class:"fa-solid fa-xmark"},null,-1)]))])):(Y(),te("button",{key:3,onClick:b,class:"h-8 flex items-center justify-center bg-gray-700 text-white rounded-md hover:bg-gray-600"},T[16]||(T[16]=[M("span",null,"+",-1)]))),M("div",JG,[T[17]||(T[17]=M("label",{for:"file-input",class:"cursor-pointer"},[M("span",{class:"bg-blue-500 text-xs text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors"},"   ")],-1)),M("input",{id:"file-input",type:"file",multiple:"",class:"hidden",onChange:g},null,32)]),T[20]||(T[20]=M("span",{class:"text-xs text-gray-400"},"  : 5",-1)),p.value.length>0?(Y(),te("div",YG,[M("ul",qG,[(Y(!0),te(st,null,Yn(p.value,(I,L)=>(Y(),te("li",{key:L,class:"flex items-center text-gray-300 gap-2"},[M("i",{class:pt(["text-md",y(I)])},null,2),M("span",QG,Je(I.name),1),M("button",{onClick:j=>m(L),class:"text-red-500 hover:text-red-700"},T[18]||(T[18]=[M("i",{class:"fa-solid fa-xmark"},null,-1)]),8,ZG)]))),128))])])):rn("",!0),M("button",{onClick:O,class:"mt-10 flex justify-center gap-2 bg-blue-500 text-white rounded-md px-4 py-2 hover:bg-blue-600"},"  ")])])])],64))}}),tX=Eo(eX,[["__scopeId","data-v-47044fed"]]),uP=CL({history:eL(),routes:[{path:"/",name:"main",component:XF},{path:"/:pathMatch(.*)*",redirect:"/"},{path:"/auth",name:"auth",component:i$},{path:"/create-new-project",name:"create-new-project",component:x$,meta:{requiresAuth:!0}},{path:"/projects",name:"projects",component:K$,meta:{requiresAuth:!0}},{path:"/projects/workspace",name:"workspace",component:wG,meta:{requiresAuth:!0}},{path:"/projects/workspace/create-task",name:"create-task",component:tX,meta:{requiresAuth:!0}}]});uP.beforeEach(async(n,e,t)=>{By.value||await new Promise(s=>{const i=()=>{By.value?s(!0):setTimeout(i,50)};i()}),n.meta.requiresAuth?ri.value?t():t("/auth"):n.path==="/auth"&&ri.value?t("/projects"):t()});var jg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Df=typeof window>"u"||"Deno"in globalThis;function Ys(){}function nX(n,e){return typeof n=="function"?n(e):n}function sX(n){return typeof n=="number"&&n>=0&&n!==1/0}function iX(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Qw(n,e){return typeof n=="function"?n(e):n}function rX(n,e){return typeof n=="function"?n(e):n}function Zw(n,e){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==Z0(o,e.options))return!1}else if(!cf(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||r&&!r(e))}function eT(n,e){const{exact:t,status:s,predicate:i,mutationKey:r}=n;if(r){if(!e.options.mutationKey)return!1;if(t){if(lf(e.options.mutationKey)!==lf(r))return!1}else if(!cf(e.options.mutationKey,r))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Z0(n,e){return((e==null?void 0:e.queryKeyHashFn)||lf)(n)}function lf(n){return JSON.stringify(n,(e,t)=>Bb(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function cf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!cf(n[t],e[t])):!1}function fP(n,e){if(n===e)return n;const t=tT(n)&&tT(e);if(t||Bb(n)&&Bb(e)){const s=t?n:Object.keys(n),i=s.length,r=t?e:Object.keys(e),o=r.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:r[c];(!t&&s.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=fP(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function tT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Bb(n){if(!nT(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!nT(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function nT(n){return Object.prototype.toString.call(n)==="[object Object]"}function oX(n){return new Promise(e=>{setTimeout(e,n)})}function aX(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?fP(n,e):e}function lX(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function cX(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var ex=Symbol();function dP(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===ex?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var qo,Lr,vl,rT,uX=(rT=class extends jg{constructor(){super();ft(this,qo);ft(this,Lr);ft(this,vl);Le(this,vl,e=>{if(!Df&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){U(this,Lr)||this.setEventListener(U(this,vl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Lr))==null||e.call(this),Le(this,Lr,void 0))}setEventListener(e){var t;Le(this,vl,e),(t=U(this,Lr))==null||t.call(this),Le(this,Lr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){U(this,qo)!==e&&(Le(this,qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof U(this,qo)=="boolean"?U(this,qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qo=new WeakMap,Lr=new WeakMap,vl=new WeakMap,rT),hP=new uX,xl,Fr,Sl,oT,fX=(oT=class extends jg{constructor(){super();ft(this,xl,!0);ft(this,Fr);ft(this,Sl);Le(this,Sl,e=>{if(!Df&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){U(this,Fr)||this.setEventListener(U(this,Sl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Fr))==null||e.call(this),Le(this,Fr,void 0))}setEventListener(e){var t;Le(this,Sl,e),(t=U(this,Fr))==null||t.call(this),Le(this,Fr,e(this.setOnline.bind(this)))}setOnline(e){U(this,xl)!==e&&(Le(this,xl,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return U(this,xl)}},xl=new WeakMap,Fr=new WeakMap,Sl=new WeakMap,oT),Ip=new fX;function dX(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),n(i)},t.reject=i=>{s({status:"rejected",reason:i}),e(i)},t}function hX(n){return Math.min(1e3*2**n,3e4)}function pP(n){return(n??"online")==="online"?Ip.isOnline():!0}var gP=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ly(n){return n instanceof gP}function mP(n){let e=!1,t=0,s=!1,i;const r=dX(),o=g=>{var m;s||(d(new gP(g)),(m=n.abort)==null||m.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>hP.isFocused()&&(n.networkMode==="always"||Ip.isOnline())&&n.canRun(),u=()=>pP(n.networkMode)&&n.canRun(),f=g=>{var m;s||(s=!0,(m=n.onSuccess)==null||m.call(n,g),i==null||i(),r.resolve(g))},d=g=>{var m;s||(s=!0,(m=n.onError)==null||m.call(n,g),i==null||i(),r.reject(g))},h=()=>new Promise(g=>{var m;i=y=>{(s||c())&&g(y)},(m=n.onPause)==null||m.call(n)}).then(()=>{var g;i=void 0,s||(g=n.onContinue)==null||g.call(n)}),p=()=>{if(s)return;let g;const m=t===0?n.initialPromise:void 0;try{g=m??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(s)return;const b=n.retry??(Df?0:3),x=n.retryDelay??hX,v=typeof x=="function"?x(t,y):x,S=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,y);if(e||!S){d(y);return}t++,(E=n.onFail)==null||E.call(n,t,y),oX(v).then(()=>c()?void 0:h()).then(()=>{e?d(y):p()})})};return{promise:r,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),r)}}function pX(){let n=[],e=0,t=a=>{a()},s=a=>{a()},i=a=>setTimeout(a,0);const r=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{i=a}}}var Jn=pX(),Qo,aT,yP=(aT=class{constructor(){ft(this,Qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sX(this.gcTime)&&Le(this,Qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Df?1/0:5*60*1e3))}clearGcTimeout(){U(this,Qo)&&(clearTimeout(U(this,Qo)),Le(this,Qo,void 0))}},Qo=new WeakMap,aT),El,wl,Ns,Zo,_n,uf,ea,qs,Bi,lT,gX=(lT=class extends yP{constructor(e){super();ft(this,qs);ft(this,El);ft(this,wl);ft(this,Ns);ft(this,Zo);ft(this,_n);ft(this,uf);ft(this,ea);Le(this,ea,!1),Le(this,uf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Le(this,Zo,e.client),Le(this,Ns,U(this,Zo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Le(this,El,yX(this.options)),this.state=e.state??U(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,_n))==null?void 0:e.promise}setOptions(e){this.options={...U(this,uf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Ns).remove(this)}setData(e,t){const s=aX(this.state.data,e,this.options);return Cn(this,qs,Bi).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){Cn(this,qs,Bi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,i;const t=(s=U(this,_n))==null?void 0:s.promise;return(i=U(this,_n))==null||i.cancel(e),t?t.then(Ys).catch(Ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,El))}isActive(){return this.observers.some(e=>rX(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!iX(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=U(this,_n))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=U(this,_n))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Ns).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(U(this,_n)&&(U(this,ea)?U(this,_n).cancel({revert:!0}):U(this,_n).cancelRetry()),this.scheduleGc()),U(this,Ns).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,qs,Bi).call(this,{type:"invalidate"})}fetch(e,t){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(U(this,_n))return U(this,_n).continueRetry(),U(this,_n).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Le(this,ea,!0),s.signal)})},r=()=>{const f=dP(this.options,t),d={client:U(this,Zo),queryKey:this.queryKey,meta:this.meta};return i(d),Le(this,ea,!1),this.options.persister?this.options.persister(f,d,this):f(d)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:U(this,Zo),state:this.state,fetchFn:r};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Le(this,wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Cn(this,qs,Bi).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var d,h,p,g;ly(f)&&f.silent||Cn(this,qs,Bi).call(this,{type:"error",error:f}),ly(f)||((h=(d=U(this,Ns).config).onError)==null||h.call(d,f,this),(g=(p=U(this,Ns).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.scheduleGc()};return Le(this,_n,mP({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var d,h,p,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){a(m);return}(h=(d=U(this,Ns).config).onSuccess)==null||h.call(d,f,this),(g=(p=U(this,Ns).config).onSettled)==null||g.call(p,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,d)=>{Cn(this,qs,Bi).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{Cn(this,qs,Bi).call(this,{type:"pause"})},onContinue:()=>{Cn(this,qs,Bi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,_n).start()}},El=new WeakMap,wl=new WeakMap,Ns=new WeakMap,Zo=new WeakMap,_n=new WeakMap,uf=new WeakMap,ea=new WeakMap,qs=new WeakSet,Bi=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...mX(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ly(i)&&i.revert&&U(this,wl)?{...U(this,wl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Ns).notify({query:this,type:"updated",action:e})})},lT);function mX(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pP(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function yX(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var bi,cT,bP=(cT=class extends jg{constructor(t={}){super();ft(this,bi);this.config=t,Le(this,bi,new Map)}build(t,s,i){const r=s.queryKey,o=s.queryHash??Z0(r,s);let a=this.get(o);return a||(a=new gX({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){U(this,bi).has(t.queryHash)||(U(this,bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=U(this,bi).get(t.queryHash);s&&(t.destroy(),s===t&&U(this,bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,bi).get(t)}getAll(){return[...U(this,bi).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Zw(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>Zw(t,i)):s}notify(t){Jn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bi=new WeakMap,cT),vi,Wn,ta,xi,xr,uT,bX=(uT=class extends yP{constructor(e){super();ft(this,xi);ft(this,vi);ft(this,Wn);ft(this,ta);this.mutationId=e.mutationId,Le(this,Wn,e.mutationCache),Le(this,vi,[]),this.state=e.state||vX(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,vi).includes(e)||(U(this,vi).push(e),this.clearGcTimeout(),U(this,Wn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Le(this,vi,U(this,vi).filter(t=>t!==e)),this.scheduleGc(),U(this,Wn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,vi).length||(this.state.status==="pending"?this.scheduleGc():U(this,Wn).remove(this))}continue(){var e;return((e=U(this,ta))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,r,o,a,l,c,u,f,d,h,p,g,m,y,b,x,v,S,E,k;Le(this,ta,mP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,w)=>{Cn(this,xi,xr).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Cn(this,xi,xr).call(this,{type:"pause"})},onContinue:()=>{Cn(this,xi,xr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Wn).canRun(this)}));const t=this.state.status==="pending",s=!U(this,ta).canStart();try{if(!t){Cn(this,xi,xr).call(this,{type:"pending",variables:e,isPaused:s}),await((r=(i=U(this,Wn).config).onMutate)==null?void 0:r.call(i,e,this));const w=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));w!==this.state.context&&Cn(this,xi,xr).call(this,{type:"pending",context:w,variables:e,isPaused:s})}const _=await U(this,ta).start();return await((c=(l=U(this,Wn).config).onSuccess)==null?void 0:c.call(l,_,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,_,e,this.state.context)),await((h=(d=U(this,Wn).config).onSettled)==null?void 0:h.call(d,_,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,_,null,e,this.state.context)),Cn(this,xi,xr).call(this,{type:"success",data:_}),_}catch(_){try{throw await((y=(m=U(this,Wn).config).onError)==null?void 0:y.call(m,_,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,_,e,this.state.context)),await((S=(v=U(this,Wn).config).onSettled)==null?void 0:S.call(v,void 0,_,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,_,e,this.state.context)),_}finally{Cn(this,xi,xr).call(this,{type:"error",error:_})}}finally{U(this,Wn).runNext(this)}}},vi=new WeakMap,Wn=new WeakMap,ta=new WeakMap,xi=new WeakSet,xr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Jn.batch(()=>{U(this,vi).forEach(s=>{s.onMutationUpdate(e)}),U(this,Wn).notify({mutation:this,type:"updated",action:e})})},uT);function vX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,Qs,ff,fT,vP=(fT=class extends jg{constructor(t={}){super();ft(this,Ki);ft(this,Qs);ft(this,ff);this.config=t,Le(this,Ki,new Set),Le(this,Qs,new Map),Le(this,ff,0)}build(t,s,i){const r=new bX({mutationCache:this,mutationId:++Lf(this,ff)._,options:t.defaultMutationOptions(s),state:i});return this.add(r),r}add(t){U(this,Ki).add(t);const s=Pd(t);if(typeof s=="string"){const i=U(this,Qs).get(s);i?i.push(t):U(this,Qs).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,Ki).delete(t)){const s=Pd(t);if(typeof s=="string"){const i=U(this,Qs).get(s);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&U(this,Qs).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Pd(t);if(typeof s=="string"){const i=U(this,Qs).get(s),r=i==null?void 0:i.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){var i;const s=Pd(t);if(typeof s=="string"){const r=(i=U(this,Qs).get(s))==null?void 0:i.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jn.batch(()=>{U(this,Ki).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,Ki).clear(),U(this,Qs).clear()})}getAll(){return Array.from(U(this,Ki))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>eT(s,i))}findAll(t={}){return this.getAll().filter(s=>eT(t,s))}notify(t){Jn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Jn.batch(()=>Promise.all(t.map(s=>s.continue().catch(Ys))))}},Ki=new WeakMap,Qs=new WeakMap,ff=new WeakMap,fT);function Pd(n){var e;return(e=n.options.scope)==null?void 0:e.id}function sT(n){return{onFetch:(e,t)=>{var u,f,d,h,p;const s=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,r=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=dP(e.options,e.fetchOptions),b=async(x,v,S)=>{if(g)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const E={client:e.client,queryKey:e.queryKey,pageParam:v,direction:S?"backward":"forward",meta:e.options.meta};m(E);const k=await y(E),{maxPages:_}=e.options,w=S?cX:lX;return{pages:w(x.pages,k,_),pageParams:w(x.pageParams,v,_)}};if(i&&r.length){const x=i==="backward",v=x?xX:iT,S={pages:r,pageParams:o},E=v(s,S);a=await b(S,E,x)}else{const x=n??r.length;do{const v=l===0?o[0]??s.initialPageParam:iT(s,a);if(l>0&&v==null)break;a=await b(a,v),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function iT(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function xX(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var jt,$r,jr,Tl,Cl,Br,Ol,kl,dT,SX=(dT=class{constructor(e={}){ft(this,jt);ft(this,$r);ft(this,jr);ft(this,Tl);ft(this,Cl);ft(this,Br);ft(this,Ol);ft(this,kl);Le(this,jt,e.queryCache||new bP),Le(this,$r,e.mutationCache||new vP),Le(this,jr,e.defaultOptions||{}),Le(this,Tl,new Map),Le(this,Cl,new Map),Le(this,Br,0)}mount(){Lf(this,Br)._++,U(this,Br)===1&&(Le(this,Ol,hP.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jt).onFocus())})),Le(this,kl,Ip.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jt).onOnline())})))}unmount(){var e,t;Lf(this,Br)._--,U(this,Br)===0&&((e=U(this,Ol))==null||e.call(this),Le(this,Ol,void 0),(t=U(this,kl))==null||t.call(this),Le(this,kl,void 0))}isFetching(e){return U(this,jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,$r).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=U(this,jt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=U(this,jt).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Qw(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return U(this,jt).findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),r=U(this,jt).get(i.queryHash),o=r==null?void 0:r.state.data,a=nX(t,o);if(a!==void 0)return U(this,jt).build(this,i).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return Jn.batch(()=>U(this,jt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=U(this,jt).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=U(this,jt);Jn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=U(this,jt),i={type:"active",...e};return Jn.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries(i,t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=Jn.batch(()=>U(this,jt).findAll(e).map(r=>r.cancel(s)));return Promise.all(i).then(Ys).catch(Ys)}invalidateQueries(e,t={}){return Jn.batch(()=>{if(U(this,jt).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const s={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(s,t)})}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=Jn.batch(()=>U(this,jt).findAll(e).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,s);return s.throwOnError||(o=o.catch(Ys)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Ys)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=U(this,jt).build(this,t);return s.isStaleByTime(Qw(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ys).catch(Ys)}fetchInfiniteQuery(e){return e.behavior=sT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ys).catch(Ys)}ensureInfiniteQueryData(e){return e.behavior=sT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ip.isOnline()?U(this,$r).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,jt)}getMutationCache(){return U(this,$r)}getDefaultOptions(){return U(this,jr)}setDefaultOptions(e){Le(this,jr,e)}setQueryDefaults(e,t){U(this,Tl).set(lf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Tl).values()],s={};return t.forEach(i=>{cf(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){U(this,Cl).set(lf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Cl).values()];let s={};return t.forEach(i=>{cf(e,i.mutationKey)&&(s={...s,...i.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,jr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Z0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ex&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,jr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,jt).clear(),U(this,$r).clear()}},jt=new WeakMap,$r=new WeakMap,jr=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,Br=new WeakMap,Ol=new WeakMap,kl=new WeakMap,dT),EX="VUE_QUERY_CLIENT";function wX(n){const e=n?`:${n}`:"";return`${EX}${e}`}function Vb(n,e,t="",s=0){if(e){const i=e(n,t,s);if(i===void 0&&Gt(n)||i!==void 0)return i}if(Array.isArray(n))return n.map((i,r)=>Vb(i,e,String(r),s+1));if(typeof n=="object"&&CX(n)){const i=Object.entries(n).map(([r,o])=>[r,Vb(o,e,r,s+1)]);return Object.fromEntries(i)}return n}function TX(n,e){return Vb(n,e)}function Ge(n,e=!1){return TX(n,(t,s,i)=>{if(i===1&&s==="queryKey")return Ge(t,!0);if(e&&OX(t))return Ge(t(),e);if(Gt(t))return Ge(re(t),e)})}function CX(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function OX(n){return typeof n=="function"}var kX=class extends bP{find(n){return super.find(Ge(n))}findAll(n={}){return super.findAll(Ge(n))}},_X=class extends vP{find(n){return super.find(Ge(n))}findAll(n={}){return super.findAll(Ge(n))}},AX=class extends SX{constructor(n={}){const e={defaultOptions:n.defaultOptions,queryCache:n.queryCache||new kX,mutationCache:n.mutationCache||new _X};super(e),this.isRestoring=me(!1)}isFetching(n={}){return super.isFetching(Ge(n))}isMutating(n={}){return super.isMutating(Ge(n))}getQueryData(n){return super.getQueryData(Ge(n))}ensureQueryData(n){return super.ensureQueryData(Ge(n))}getQueriesData(n){return super.getQueriesData(Ge(n))}setQueryData(n,e,t={}){return super.setQueryData(Ge(n),e,Ge(t))}setQueriesData(n,e,t={}){return super.setQueriesData(Ge(n),e,Ge(t))}getQueryState(n){return super.getQueryState(Ge(n))}removeQueries(n={}){return super.removeQueries(Ge(n))}resetQueries(n={},e={}){return super.resetQueries(Ge(n),Ge(e))}cancelQueries(n={},e={}){return super.cancelQueries(Ge(n),Ge(e))}invalidateQueries(n={},e={}){const t=Ge(n),s=Ge(e);if(super.invalidateQueries({...t,refetchType:"none"},s),t.refetchType==="none")return Promise.resolve();const i={...t,type:t.refetchType??t.type??"active"};return Da().then(()=>super.refetchQueries(i,s))}refetchQueries(n={},e={}){return super.refetchQueries(Ge(n),Ge(e))}fetchQuery(n){return super.fetchQuery(Ge(n))}prefetchQuery(n){return super.prefetchQuery(Ge(n))}fetchInfiniteQuery(n){return super.fetchInfiniteQuery(Ge(n))}prefetchInfiniteQuery(n){return super.prefetchInfiniteQuery(Ge(n))}setDefaultOptions(n){super.setDefaultOptions(Ge(n))}setQueryDefaults(n,e){super.setQueryDefaults(Ge(n),Ge(e))}getQueryDefaults(n){return super.getQueryDefaults(Ge(n))}setMutationDefaults(n,e){super.setMutationDefaults(Ge(n),Ge(e))}getMutationDefaults(n){return super.getMutationDefaults(Ge(n))}},MX={install:(n,e={})=>{const t=wX(e.queryClientKey);let s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;s=new AX(o)}Df||s.mount();let i=()=>{};if(e.clientPersister){s.isRestoring.value=!0;const[o,a]=e.clientPersister(s);i=o,a.then(()=>{var l;s.isRestoring.value=!1,(l=e.clientPersisterOnSuccess)==null||l.call(e,s)})}const r=()=>{s.unmount(),i()};if(n.onUnmount)n.onUnmount(r);else{const o=n.unmount;n.unmount=function(){r(),o()}}n.provide(t,s)}};ek();const PX=wh(HF);PX.use(MX).use(uP).mount("#app");export{NO as g};
