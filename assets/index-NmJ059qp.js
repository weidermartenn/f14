var EI=Object.defineProperty;var ax=n=>{throw TypeError(n)};var kI=(n,e,t)=>e in n?EI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var K=(n,e,t)=>kI(n,typeof e!="symbol"?e+"":e,t),Ug=(n,e,t)=>e.has(n)||ax("Cannot "+t);var X=(n,e,t)=>(Ug(n,e,"read from private field"),t?t.call(n):e.get(n)),yt=(n,e,t)=>e.has(n)?ax("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ue=(n,e,t,s)=>(Ug(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Nn=(n,e,t)=>(Ug(n,e,"access private method"),t);var zd=(n,e,t,s)=>({set _(r){Ue(n,e,r,t)},get _(){return X(n,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tn(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const st={},ua=[],wn=()=>{},hl=()=>!1,To=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Fp=n=>n.startsWith("onUpdate:"),rt=Object.assign,jp=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},_I=Object.prototype.hasOwnProperty,bt=(n,e)=>_I.call(n,e),ge=Array.isArray,da=n=>Fa(n)==="[object Map]",Co=n=>Fa(n)==="[object Set]",fy=n=>Fa(n)==="[object Date]",yk=n=>Fa(n)==="[object RegExp]",Ie=n=>typeof n=="function",Le=n=>typeof n=="string",ds=n=>typeof n=="symbol",wt=n=>n!==null&&typeof n=="object",Bp=n=>(wt(n)||Ie(n))&&Ie(n.then)&&Ie(n.catch),W0=Object.prototype.toString,Fa=n=>W0.call(n),bk=n=>Fa(n).slice(8,-1),md=n=>Fa(n)==="[object Object]",Vp=n=>Le(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,fi=Tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vk=Tn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),zp=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},TI=/-(\w)/g,It=zp(n=>n.replace(TI,(e,t)=>t?t.toUpperCase():"")),CI=/\B([A-Z])/g,Wn=zp(n=>n.replace(CI,"-$1").toLowerCase()),Oo=zp(n=>n.charAt(0).toUpperCase()+n.slice(1)),fa=zp(n=>n?`on${Oo(n)}`:""),zn=(n,e)=>!Object.is(n,e),ha=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},K0=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Cu=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Ou=n=>{const e=Le(n)?Number(n):NaN;return isNaN(e)?n:e};let lx;const yd=()=>lx||(lx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),OI=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function AI(n){return OI.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function MI(n,e){return n+JSON.stringify(e,(t,s)=>typeof s=="function"?s.toString():s)}const II={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},PI={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},DI={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},RI={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},NI={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},LI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",G0=Tn(LI),$I=G0,cx=2;function xk(n,e=0,t=n.length){if(e=Math.max(0,Math.min(e,n.length)),t=Math.max(0,Math.min(t,n.length)),e>t)return"";let s=n.split(/(\r?\n)/);const r=s.filter((a,l)=>l%2===1);s=s.filter((a,l)=>l%2===0);let i=0;const o=[];for(let a=0;a<s.length;a++)if(i+=s[a].length+(r[a]&&r[a].length||0),i>=e){for(let l=a-cx;l<=a+cx||t>i;l++){if(l<0||l>=s.length)continue;const c=l+1;o.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${s[l]}`);const u=s[l].length,d=r[l]&&r[l].length||0;if(l===a){const f=e-(i-(u+d)),h=Math.max(1,t>i?u-f:t-e);o.push("   |  "+" ".repeat(f)+"^".repeat(h))}else if(l>a){if(t>i){const f=Math.max(Math.min(t-i,u),1);o.push("   |  "+"^".repeat(f))}i+=u+d}}break}return o.join(`
`)}function ja(n){if(ge(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],r=Le(s)?X0(s):ja(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Le(n)||wt(n))return n}const FI=/;(?![^(]*\))/g,jI=/:([^]+)/,BI=/\/\*[^]*?\*\//g;function X0(n){const e={};return n.replace(BI,"").split(FI).forEach(t=>{if(t){const s=t.split(jI);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function VI(n){if(!n)return"";if(Le(n))return n;let e="";for(const t in n){const s=n[t];if(Le(s)||typeof s=="number"){const r=t.startsWith("--")?t:Wn(t);e+=`${r}:${s};`}}return e}function ke(n){let e="";if(Le(n))e=n;else if(ge(n))for(let t=0;t<n.length;t++){const s=ke(n[t]);s&&(e+=s+" ")}else if(wt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function wk(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Le(e)&&(n.class=ke(e)),t&&(n.style=ja(t)),n}const zI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",UI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",HI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",WI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Sk=Tn(zI),Ek=Tn(UI),kk=Tn(HI),_k=Tn(WI),Tk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ck=Tn(Tk),KI=Tn(Tk+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function J0(n){return!!n||n===""}const GI=/[>/="'\u0009\u000a\u000c\u0020]/,Hg={};function XI(n){if(Hg.hasOwnProperty(n))return Hg[n];const e=GI.test(n);return e&&console.error(`unsafe attribute name: ${n}`),Hg[n]=!e}const JI={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},YI=Tn("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),qI=Tn("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),QI=Tn("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function ZI(n){if(n==null)return!1;const e=typeof n;return e==="string"||e==="number"||e==="boolean"}const e2=/["'&<>]/;function t2(n){const e=""+n,t=e2.exec(e);if(!t)return e;let s="",r,i,o=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(s+=e.slice(o,i)),o=i+1,s+=r}return o!==i?s+e.slice(o,i):s}const n2=/^-?>|<!--|-->|--!>|<!-$/g;function s2(n){return n.replace(n2,"")}const Ok=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function r2(n,e){return n.replace(Ok,t=>e?t==='"'?'\\\\\\"':`\\\\${t}`:`\\${t}`)}function i2(n,e){if(n.length!==e.length)return!1;let t=!0;for(let s=0;t&&s<n.length;s++)t=yi(n[s],e[s]);return t}function yi(n,e){if(n===e)return!0;let t=fy(n),s=fy(e);if(t||s)return t&&s?n.getTime()===e.getTime():!1;if(t=ds(n),s=ds(e),t||s)return n===e;if(t=ge(n),s=ge(e),t||s)return t&&s?i2(n,e):!1;if(t=wt(n),s=wt(e),t||s){if(!t||!s)return!1;const r=Object.keys(n).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!yi(n[o],e[o]))return!1}}return String(n)===String(e)}function bd(n,e){return n.findIndex(t=>yi(t,e))}const Ak=n=>!!(n&&n.__v_isRef===!0),ae=n=>Le(n)?n:n==null?"":ge(n)||wt(n)&&(n.toString===W0||!Ie(n.toString))?Ak(n)?ae(n.value):JSON.stringify(n,Mk,2):String(n),Mk=(n,e)=>Ak(e)?Mk(n,e.value):da(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,r],i)=>(t[Wg(s,i)+" =>"]=r,t),{})}:Co(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Wg(t))}:ds(e)?Wg(e):wt(e)&&!ge(e)&&!md(e)?String(e):e,Wg=(n,e="")=>{var t;return ds(n)?`Symbol(${(t=n.description)!=null?t:e})`:n},o2=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:ua,EMPTY_OBJ:st,NO:hl,NOOP:wn,PatchFlagNames:PI,PatchFlags:II,ShapeFlags:DI,SlotFlags:RI,camelize:It,capitalize:Oo,cssVarNameEscapeSymbolsRE:Ok,def:K0,escapeHtml:t2,escapeHtmlComment:s2,extend:rt,genCacheKey:MI,genPropsAccessExp:AI,generateCodeFrame:xk,getEscapedCssVarName:r2,getGlobalThis:yd,hasChanged:zn,hasOwn:bt,hyphenate:Wn,includeBooleanAttr:J0,invokeArrayFns:ha,isArray:ge,isBooleanAttr:KI,isBuiltInDirective:vk,isDate:fy,isFunction:Ie,isGloballyAllowed:G0,isGloballyWhitelisted:$I,isHTMLTag:Sk,isIntegerKey:Vp,isKnownHtmlAttr:YI,isKnownMathMLAttr:QI,isKnownSvgAttr:qI,isMap:da,isMathMLTag:kk,isModelListener:Fp,isObject:wt,isOn:To,isPlainObject:md,isPromise:Bp,isRegExp:yk,isRenderableAttrValue:ZI,isReservedProp:fi,isSSRSafeAttrName:XI,isSVGTag:Ek,isSet:Co,isSpecialBooleanAttr:Ck,isString:Le,isSymbol:ds,isVoidTag:_k,looseEqual:yi,looseIndexOf:bd,looseToNumber:Cu,makeMap:Tn,normalizeClass:ke,normalizeProps:wk,normalizeStyle:ja,objectToString:W0,parseStringStyle:X0,propsToAttrMap:JI,remove:jp,slotFlagsText:NI,stringifyStyle:VI,toDisplayString:ae,toHandlerKey:fa,toNumber:Ou,toRawType:bk,toTypeString:Fa},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rs;class Y0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rs,!e&&rs&&(this.index=(rs.scopes||(rs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=rs;try{return rs=this,e()}finally{rs=t}}}on(){rs=this}off(){rs=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function a2(n){return new Y0(n)}function Ik(){return rs}function l2(n,e=!1){rs&&rs.cleanups.push(n)}let At;const Kg=new WeakSet;class Au{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rs&&rs.active&&rs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kg.has(this)&&(Kg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ux(this),Rk(this);const e=At,t=mr;At=this,mr=!0;try{return this.fn()}finally{Nk(this),At=e,mr=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Z0(e);this.deps=this.depsTail=void 0,ux(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hy(this)&&this.run()}get dirty(){return hy(this)}}let Pk=0,qc,Qc;function Dk(n,e=!1){if(n.flags|=8,e){n.next=Qc,Qc=n;return}n.next=qc,qc=n}function q0(){Pk++}function Q0(){if(--Pk>0)return;if(Qc){let e=Qc;for(Qc=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;qc;){let e=qc;for(qc=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function Rk(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Nk(n){let e,t=n.depsTail,s=t;for(;s;){const r=s.prevDep;s.version===-1?(s===t&&(t=r),Z0(s),c2(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}n.deps=e,n.depsTail=t}function hy(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lk(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function Lk(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Mu))return;n.globalVersion=Mu;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!hy(n)){n.flags&=-3;return}const t=At,s=mr;At=n,mr=!0;try{Rk(n);const r=n.fn(n._value);(e.version===0||zn(r,n._value))&&(n._value=r,e.version++)}catch(r){throw e.version++,r}finally{At=t,mr=s,Nk(n),n.flags&=-3}}function Z0(n,e=!1){const{dep:t,prevSub:s,nextSub:r}=n;if(s&&(s.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)Z0(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function c2(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}function u2(n,e){n.effect instanceof Au&&(n=n.effect.fn);const t=new Au(n);e&&rt(t,e);try{t.run()}catch(r){throw t.stop(),r}const s=t.run.bind(t);return s.effect=t,s}function d2(n){n.effect.stop()}let mr=!0;const $k=[];function Ao(){$k.push(mr),mr=!1}function Mo(){const n=$k.pop();mr=n===void 0?!0:n}function ux(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=At;At=void 0;try{e()}finally{At=t}}}let Mu=0,f2=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Up{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!At||!mr||At===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==At)t=this.activeLink=new f2(At,this),At.deps?(t.prevDep=At.depsTail,At.depsTail.nextDep=t,At.depsTail=t):At.deps=At.depsTail=t,Fk(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=At.depsTail,t.nextDep=void 0,At.depsTail.nextDep=t,At.depsTail=t,At.deps===t&&(At.deps=s)}return t}trigger(e){this.version++,Mu++,this.notify(e)}notify(e){q0();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Q0()}}}function Fk(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Fk(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const yh=new WeakMap,pa=Symbol(""),py=Symbol(""),Iu=Symbol("");function Un(n,e,t){if(mr&&At){let s=yh.get(n);s||yh.set(n,s=new Map);let r=s.get(t);r||(s.set(t,r=new Up),r.map=s,r.key=t),r.track()}}function ri(n,e,t,s,r,i){const o=yh.get(n);if(!o){Mu++;return}const a=l=>{l&&l.trigger()};if(q0(),e==="clear")o.forEach(a);else{const l=ge(n),c=l&&Vp(t);if(l&&t==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===Iu||!ds(f)&&f>=u)&&a(d)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(Iu)),e){case"add":l?c&&a(o.get("length")):(a(o.get(pa)),da(n)&&a(o.get(py)));break;case"delete":l||(a(o.get(pa)),da(n)&&a(o.get(py)));break;case"set":da(n)&&a(o.get(pa));break}}Q0()}function h2(n,e){const t=yh.get(n);return t&&t.get(e)}function Ga(n){const e=dt(n);return e===n?e:(Un(e,"iterate",Iu),$s(n)?e:e.map(Hn))}function Hp(n){return Un(n=dt(n),"iterate",Iu),n}const p2={__proto__:null,[Symbol.iterator](){return Gg(this,Symbol.iterator,Hn)},concat(...n){return Ga(this).concat(...n.map(e=>ge(e)?Ga(e):e))},entries(){return Gg(this,"entries",n=>(n[1]=Hn(n[1]),n))},every(n,e){return Vr(this,"every",n,e,void 0,arguments)},filter(n,e){return Vr(this,"filter",n,e,t=>t.map(Hn),arguments)},find(n,e){return Vr(this,"find",n,e,Hn,arguments)},findIndex(n,e){return Vr(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Vr(this,"findLast",n,e,Hn,arguments)},findLastIndex(n,e){return Vr(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Vr(this,"forEach",n,e,void 0,arguments)},includes(...n){return Xg(this,"includes",n)},indexOf(...n){return Xg(this,"indexOf",n)},join(n){return Ga(this).join(n)},lastIndexOf(...n){return Xg(this,"lastIndexOf",n)},map(n,e){return Vr(this,"map",n,e,void 0,arguments)},pop(){return fc(this,"pop")},push(...n){return fc(this,"push",n)},reduce(n,...e){return dx(this,"reduce",n,e)},reduceRight(n,...e){return dx(this,"reduceRight",n,e)},shift(){return fc(this,"shift")},some(n,e){return Vr(this,"some",n,e,void 0,arguments)},splice(...n){return fc(this,"splice",n)},toReversed(){return Ga(this).toReversed()},toSorted(n){return Ga(this).toSorted(n)},toSpliced(...n){return Ga(this).toSpliced(...n)},unshift(...n){return fc(this,"unshift",n)},values(){return Gg(this,"values",Hn)}};function Gg(n,e,t){const s=Hp(n),r=s[e]();return s!==n&&!$s(n)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=t(i.value)),i}),r}const g2=Array.prototype;function Vr(n,e,t,s,r,i){const o=Hp(n),a=o!==n&&!$s(n),l=o[e];if(l!==g2[e]){const d=l.apply(n,i);return a?Hn(d):d}let c=t;o!==n&&(a?c=function(d,f){return t.call(this,Hn(d),f,n)}:t.length>2&&(c=function(d,f){return t.call(this,d,f,n)}));const u=l.call(o,c,s);return a&&r?r(u):u}function dx(n,e,t,s){const r=Hp(n);let i=t;return r!==n&&($s(n)?t.length>3&&(i=function(o,a,l){return t.call(this,o,a,l,n)}):i=function(o,a,l){return t.call(this,o,Hn(a),l,n)}),r[e](i,...s)}function Xg(n,e,t){const s=dt(n);Un(s,"iterate",Iu);const r=s[e](...t);return(r===-1||r===!1)&&Gp(t[0])?(t[0]=dt(t[0]),s[e](...t)):r}function fc(n,e,t=[]){Ao(),q0();const s=dt(n)[e].apply(n,t);return Q0(),Mo(),s}const m2=Tn("__proto__,__v_isRef,__isVue"),jk=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ds));function y2(n){ds(n)||(n=String(n));const e=dt(this);return Un(e,"has",n),e.hasOwnProperty(n)}class Bk{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return i;if(t==="__v_raw")return s===(r?i?Kk:Wk:i?Hk:Uk).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ge(e);if(!r){let l;if(o&&(l=p2[t]))return l;if(t==="hasOwnProperty")return y2}const a=Reflect.get(e,t,nn(e)?e:s);return(ds(t)?jk.has(t):m2(t))||(r||Un(e,"get",t),i)?a:nn(a)?o&&Vp(t)?a:a.value:wt(a)?r?tb(a):Ba(a):a}}class Vk extends Bk{constructor(e=!1){super(!1,e)}set(e,t,s,r){let i=e[t];if(!this._isShallow){const l=xo(i);if(!$s(s)&&!xo(s)&&(i=dt(i),s=dt(s)),!ge(e)&&nn(i)&&!nn(s))return l?!1:(i.value=s,!0)}const o=ge(e)&&Vp(t)?Number(t)<e.length:bt(e,t),a=Reflect.set(e,t,s,nn(e)?e:r);return e===dt(r)&&(o?zn(s,i)&&ri(e,"set",t,s):ri(e,"add",t,s)),a}deleteProperty(e,t){const s=bt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&s&&ri(e,"delete",t,void 0),r}has(e,t){const s=Reflect.has(e,t);return(!ds(t)||!jk.has(t))&&Un(e,"has",t),s}ownKeys(e){return Un(e,"iterate",ge(e)?"length":pa),Reflect.ownKeys(e)}}class zk extends Bk{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const b2=new Vk,v2=new zk,x2=new Vk(!0),w2=new zk(!0),gy=n=>n,Ud=n=>Reflect.getPrototypeOf(n);function S2(n,e,t){return function(...s){const r=this.__v_raw,i=dt(r),o=da(i),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...s),u=t?gy:e?my:Hn;return!e&&Un(i,"iterate",l?py:pa),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Hd(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function E2(n,e){const t={get(r){const i=this.__v_raw,o=dt(i),a=dt(r);n||(zn(r,a)&&Un(o,"get",r),Un(o,"get",a));const{has:l}=Ud(o),c=e?gy:n?my:Hn;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!n&&Un(dt(r),"iterate",pa),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=dt(i),a=dt(r);return n||(zn(r,a)&&Un(o,"has",r),Un(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=dt(a),c=e?gy:n?my:Hn;return!n&&Un(l,"iterate",pa),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return rt(t,n?{add:Hd("add"),set:Hd("set"),delete:Hd("delete"),clear:Hd("clear")}:{add(r){!e&&!$s(r)&&!xo(r)&&(r=dt(r));const i=dt(this);return Ud(i).has.call(i,r)||(i.add(r),ri(i,"add",r,r)),this},set(r,i){!e&&!$s(i)&&!xo(i)&&(i=dt(i));const o=dt(this),{has:a,get:l}=Ud(o);let c=a.call(o,r);c||(r=dt(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?zn(i,u)&&ri(o,"set",r,i):ri(o,"add",r,i),this},delete(r){const i=dt(this),{has:o,get:a}=Ud(i);let l=o.call(i,r);l||(r=dt(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&ri(i,"delete",r,void 0),c},clear(){const r=dt(this),i=r.size!==0,o=r.clear();return i&&ri(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=S2(r,n,e)}),t}function Wp(n,e){const t=E2(n,e);return(s,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?s:Reflect.get(bt(t,r)&&r in s?t:s,r,i)}const k2={get:Wp(!1,!1)},_2={get:Wp(!1,!0)},T2={get:Wp(!0,!1)},C2={get:Wp(!0,!0)},Uk=new WeakMap,Hk=new WeakMap,Wk=new WeakMap,Kk=new WeakMap;function O2(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function A2(n){return n.__v_skip||!Object.isExtensible(n)?0:O2(bk(n))}function Ba(n){return xo(n)?n:Kp(n,!1,b2,k2,Uk)}function eb(n){return Kp(n,!1,x2,_2,Hk)}function tb(n){return Kp(n,!0,v2,T2,Wk)}function M2(n){return Kp(n,!0,w2,C2,Kk)}function Kp(n,e,t,s,r){if(!wt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=r.get(n);if(i)return i;const o=A2(n);if(o===0)return n;const a=new Proxy(n,o===2?s:t);return r.set(n,a),a}function lo(n){return xo(n)?lo(n.__v_raw):!!(n&&n.__v_isReactive)}function xo(n){return!!(n&&n.__v_isReadonly)}function $s(n){return!!(n&&n.__v_isShallow)}function Gp(n){return n?!!n.__v_raw:!1}function dt(n){const e=n&&n.__v_raw;return e?dt(e):n}function nb(n){return!bt(n,"__v_skip")&&Object.isExtensible(n)&&K0(n,"__v_skip",!0),n}const Hn=n=>wt(n)?Ba(n):n,my=n=>wt(n)?tb(n):n;function nn(n){return n?n.__v_isRef===!0:!1}function B(n){return Gk(n,!1)}function Xp(n){return Gk(n,!0)}function Gk(n,e){return nn(n)?n:new I2(n,e)}class I2{constructor(e,t){this.dep=new Up,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:dt(e),this._value=t?e:Hn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||$s(e)||xo(e);e=s?e:dt(e),zn(e,t)&&(this._rawValue=e,this._value=s?e:Hn(e),this.dep.trigger())}}function P2(n){n.dep&&n.dep.trigger()}function te(n){return nn(n)?n.value:n}function D2(n){return Ie(n)?n():te(n)}const R2={get:(n,e,t)=>e==="__v_raw"?n:te(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const r=n[e];return nn(r)&&!nn(t)?(r.value=t,!0):Reflect.set(n,e,t,s)}};function sb(n){return lo(n)?n:new Proxy(n,R2)}class N2{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Up,{get:s,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=s,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function rb(n){return new N2(n)}function L2(n){const e=ge(n)?new Array(n.length):{};for(const t in n)e[t]=Xk(n,t);return e}class $2{constructor(e,t,s){this._object=e,this._key=t,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return h2(dt(this._object),this._key)}}class F2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function j2(n,e,t){return nn(n)?n:Ie(n)?new F2(n):wt(n)&&arguments.length>1?Xk(n,e,t):B(n)}function Xk(n,e,t){const s=n[e];return nn(s)?s:new $2(n,e,t)}class B2{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Up(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&At!==this)return Dk(this,!0),!0}get value(){const e=this.dep.track();return Lk(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function V2(n,e,t=!1){let s,r;return Ie(n)?s=n:(s=n.get,r=n.set),new B2(s,r,t)}const z2={GET:"get",HAS:"has",ITERATE:"iterate"},U2={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Wd={},bh=new WeakMap;let Di;function H2(){return Di}function Jk(n,e=!1,t=Di){if(t){let s=bh.get(t);s||bh.set(t,s=[]),s.push(n)}}function W2(n,e,t=st){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=t,c=S=>r?S:$s(S)||r===!1||r===0?ii(S,1):ii(S);let u,d,f,h,p=!1,g=!1;if(nn(n)?(d=()=>n.value,p=$s(n)):lo(n)?(d=()=>c(n),p=!0):ge(n)?(g=!0,p=n.some(S=>lo(S)||$s(S)),d=()=>n.map(S=>{if(nn(S))return S.value;if(lo(S))return c(S);if(Ie(S))return l?l(S,2):S()})):Ie(n)?e?d=l?()=>l(n,2):n:d=()=>{if(f){Ao();try{f()}finally{Mo()}}const S=Di;Di=u;try{return l?l(n,3,[h]):n(h)}finally{Di=S}}:d=wn,e&&r){const S=d,w=r===!0?1/0:r;d=()=>ii(S(),w)}const m=Ik(),y=()=>{u.stop(),m&&m.active&&jp(m.effects,u)};if(i&&e){const S=e;e=(...w)=>{S(...w),y()}}let b=g?new Array(n.length).fill(Wd):Wd;const x=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const w=u.run();if(r||p||(g?w.some((k,T)=>zn(k,b[T])):zn(w,b))){f&&f();const k=Di;Di=u;try{const T=[w,b===Wd?void 0:g&&b[0]===Wd?[]:b,h];l?l(e,3,T):e(...T),b=w}finally{Di=k}}}else u.run()};return a&&a(x),u=new Au(d),u.scheduler=o?()=>o(x,!1):x,h=S=>Jk(S,!1,u),f=u.onStop=()=>{const S=bh.get(u);if(S){if(l)l(S,4);else for(const w of S)w();bh.delete(u)}},e?s?x(!0):b=u.run():o?o(x.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function ii(n,e=1/0,t){if(e<=0||!wt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,nn(n))ii(n.value,e,t);else if(ge(n))for(let s=0;s<n.length;s++)ii(n[s],e,t);else if(Co(n)||da(n))n.forEach(s=>{ii(s,e,t)});else if(md(n)){for(const s in n)ii(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&ii(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yk=[];function K2(n){Yk.push(n)}function G2(){Yk.pop()}function X2(n,e){}const J2={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Y2={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function oc(n,e,t,s){try{return s?n(...s):n()}catch(r){Va(r,e,t)}}function tr(n,e,t,s){if(Ie(n)){const r=oc(n,e,t,s);return r&&Bp(r)&&r.catch(i=>{Va(i,e,t)}),r}if(ge(n)){const r=[];for(let i=0;i<n.length;i++)r.push(tr(n[i],e,t,s));return r}}function Va(n,e,t,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||st;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](n,l,c)===!1)return}a=a.parent}if(i){Ao(),oc(i,null,10,[n,l,c]),Mo();return}}q2(n,t,r,s,o)}function q2(n,e,t,s=!0,r=!1){if(r)throw n;console.error(n)}const is=[];let Er=-1;const bl=[];let Ri=null,ol=0;const qk=Promise.resolve();let vh=null;function Br(n){const e=vh||qk;return n?e.then(this?n.bind(this):n):e}function Q2(n){let e=Er+1,t=is.length;for(;e<t;){const s=e+t>>>1,r=is[s],i=Du(r);i<n||i===n&&r.flags&2?e=s+1:t=s}return e}function ib(n){if(!(n.flags&1)){const e=Du(n),t=is[is.length-1];!t||!(n.flags&2)&&e>=Du(t)?is.push(n):is.splice(Q2(e),0,n),n.flags|=1,Qk()}}function Qk(){vh||(vh=qk.then(Zk))}function Pu(n){ge(n)?bl.push(...n):Ri&&n.id===-1?Ri.splice(ol+1,0,n):n.flags&1||(bl.push(n),n.flags|=1),Qk()}function fx(n,e,t=Er+1){for(;t<is.length;t++){const s=is[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;is.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function xh(n){if(bl.length){const e=[...new Set(bl)].sort((t,s)=>Du(t)-Du(s));if(bl.length=0,Ri){Ri.push(...e);return}for(Ri=e,ol=0;ol<Ri.length;ol++){const t=Ri[ol];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Ri=null,ol=0}}const Du=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Zk(n){try{for(Er=0;Er<is.length;Er++){const e=is[Er];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),oc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Er<is.length;Er++){const e=is[Er];e&&(e.flags&=-2)}Er=-1,is.length=0,xh(),vh=null,(is.length||bl.length)&&Zk()}}let al,Kd=[];function e_(n,e){var t,s;al=n,al?(al.enabled=!0,Kd.forEach(({event:r,args:i})=>al.emit(r,...i)),Kd=[]):typeof window<"u"&&window.HTMLElement&&!((s=(t=window.navigator)==null?void 0:t.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{e_(i,e)}),setTimeout(()=>{al||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Kd=[])},3e3)):Kd=[]}let hn=null,Jp=null;function Ru(n){const e=hn;return hn=n,Jp=n&&n.type.__scopeId||null,e}function Z2(n){Jp=n}function eP(){Jp=null}const tP=n=>Ht;function Ht(n,e=hn,t){if(!e||n._n)return n;const s=(...r)=>{s._d&&ky(-1);const i=Ru(e);let o;try{o=n(...r)}finally{Ru(i),s._d&&ky(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function jt(n,e){if(hn===null)return n;const t=Sd(hn),s=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=st]=e[r];i&&(Ie(i)&&(i={mounted:i,updated:i}),i.deep&&ii(o),s.push({dir:i,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Or(n,e,t,s){const r=n.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Ao(),tr(l,t,8,[n.el,a,n,e]),Mo())}}const t_=Symbol("_vte"),n_=n=>n.__isTeleport,Zc=n=>n&&(n.disabled||n.disabled===""),hx=n=>n&&(n.defer||n.defer===""),px=n=>typeof SVGElement<"u"&&n instanceof SVGElement,gx=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,yy=(n,e)=>{const t=n&&n.to;return Le(t)?e?e(t):null:t},s_={name:"Teleport",__isTeleport:!0,process(n,e,t,s,r,i,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:m}}=c,y=Zc(e.props);let{shapeFlag:b,children:x,dynamicChildren:S}=e;if(n==null){const w=e.el=g(""),k=e.anchor=g("");h(w,t,s),h(k,t,s);const T=(E,_)=>{b&16&&(r&&r.isCE&&(r.ce._teleportTarget=E),u(x,E,_,r,i,o,a,l))},C=()=>{const E=e.target=yy(e.props,p),_=r_(E,e,g,h);E&&(o!=="svg"&&px(E)?o="svg":o!=="mathml"&&gx(E)&&(o="mathml"),y||(T(E,_),Bf(e,!1)))};y&&(T(t,k),Bf(e,!0)),hx(e.props)?un(()=>{C(),e.el.__isMounted=!0},i):C()}else{if(hx(e.props)&&!n.el.__isMounted){un(()=>{s_.process(n,e,t,s,r,i,o,a,l,c),delete n.el.__isMounted},i);return}e.el=n.el,e.targetStart=n.targetStart;const w=e.anchor=n.anchor,k=e.target=n.target,T=e.targetAnchor=n.targetAnchor,C=Zc(n.props),E=C?t:k,_=C?w:T;if(o==="svg"||px(k)?o="svg":(o==="mathml"||gx(k))&&(o="mathml"),S?(f(n.dynamicChildren,S,E,r,i,o,a),gb(n,e,!0)):l||d(n,e,E,_,r,i,o,a,!1),y)C?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):Gd(e,t,w,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const O=e.target=yy(e.props,p);O&&Gd(e,O,null,c,0)}else C&&Gd(e,k,T,c,1);Bf(e,y)}},remove(n,e,t,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=n;if(d&&(r(c),r(u)),i&&r(l),o&16){const h=i||!Zc(f);for(let p=0;p<a.length;p++){const g=a[p];s(g,e,t,h,!!g.dynamicChildren)}}},move:Gd,hydrate:nP};function Gd(n,e,t,{o:{insert:s},m:r},i=2){i===0&&s(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,d=i===2;if(d&&s(o,e,t),(!d||Zc(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,t,2);d&&s(a,e,t)}function nP(n,e,t,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=yy(e.props,l);if(f){const h=Zc(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(n),e,a(n),t,s,r,i),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(n);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||r_(f,e,u,c),d(p&&o(p),e,f,t,s,r,i)}Bf(e,h)}return e.anchor&&o(e.anchor)}const sP=s_;function Bf(n,e){const t=n.ctx;if(t&&t.ut){let s,r;for(e?(s=n.el,r=n.anchor):(s=n.targetStart,r=n.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}function r_(n,e,t,s){const r=e.targetStart=t(""),i=e.targetAnchor=t("");return r[t_]=i,n&&(s(r,n),s(i,n)),i}const Ni=Symbol("_leaveCb"),Xd=Symbol("_enterCb");function ob(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{n.isMounted=!0}),ac(()=>{n.isUnmounting=!0}),n}const Vs=[Function,Array],ab={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vs,onEnter:Vs,onAfterEnter:Vs,onEnterCancelled:Vs,onBeforeLeave:Vs,onLeave:Vs,onAfterLeave:Vs,onLeaveCancelled:Vs,onBeforeAppear:Vs,onAppear:Vs,onAfterAppear:Vs,onAppearCancelled:Vs},i_=n=>{const e=n.subTree;return e.component?i_(e.component):e},rP={name:"BaseTransition",props:ab,setup(n,{slots:e}){const t=Fs(),s=ob();return()=>{const r=e.default&&Yp(e.default(),!0);if(!r||!r.length)return;const i=o_(r),o=dt(n),{mode:a}=o;if(s.isLeaving)return Jg(i);const l=mx(i);if(!l)return Jg(i);let c=Ll(l,o,s,t,d=>c=d);l.type!==an&&bi(l,c);let u=t.subTree&&mx(t.subTree);if(u&&u.type!==an&&!dr(l,u)&&i_(t).type!==an){let d=Ll(u,o,s,t);if(bi(u,d),a==="out-in"&&l.type!==an)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,t.job.flags&8||t.update(),delete d.afterLeave,u=void 0},Jg(i);a==="in-out"&&l.type!==an?d.delayLeave=(f,h,p)=>{const g=l_(s,u);g[String(u.key)]=u,f[Ni]=()=>{h(),f[Ni]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function o_(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==an){e=t;break}}return e}const a_=rP;function l_(n,e){const{leavingVNodes:t}=n;let s=t.get(e.type);return s||(s=Object.create(null),t.set(e.type,s)),s}function Ll(n,e,t,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=e,S=String(n.key),w=l_(t,n),k=(E,_)=>{E&&tr(E,s,9,_)},T=(E,_)=>{const O=_[1];k(E,_),ge(E)?E.every(A=>A.length<=1)&&O():E.length<=1&&O()},C={mode:o,persisted:a,beforeEnter(E){let _=l;if(!t.isMounted)if(i)_=m||l;else return;E[Ni]&&E[Ni](!0);const O=w[S];O&&dr(n,O)&&O.el[Ni]&&O.el[Ni](),k(_,[E])},enter(E){let _=c,O=u,A=d;if(!t.isMounted)if(i)_=y||c,O=b||u,A=x||d;else return;let P=!1;const $=E[Xd]=z=>{P||(P=!0,z?k(A,[E]):k(O,[E]),C.delayedLeave&&C.delayedLeave(),E[Xd]=void 0)};_?T(_,[E,$]):$()},leave(E,_){const O=String(n.key);if(E[Xd]&&E[Xd](!0),t.isUnmounting)return _();k(f,[E]);let A=!1;const P=E[Ni]=$=>{A||(A=!0,_(),$?k(g,[E]):k(p,[E]),E[Ni]=void 0,w[O]===n&&delete w[O])};w[O]=n,h?T(h,[E,P]):P()},clone(E){const _=Ll(E,e,t,s,r);return r&&r(_),_}};return C}function Jg(n){if(vd(n))return n=Nr(n),n.children=null,n}function mx(n){if(!vd(n))return n_(n.type)&&n.children?o_(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&Ie(t.default))return t.default()}}function bi(n,e){n.shapeFlag&6&&n.component?(n.transition=e,bi(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Yp(n,e=!1,t){let s=[],r=0;for(let i=0;i<n.length;i++){let o=n[i];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:i);o.type===Pe?(o.patchFlag&128&&r++,s=s.concat(Yp(o.children,e,a))):(e||o.type!==an)&&s.push(a!=null?Nr(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ke(n,e){return Ie(n)?rt({name:n.name},e,{setup:n}):n}function iP(){const n=Fs();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function lb(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function oP(n){const e=Fs(),t=Xp(null);if(e){const r=e.refs===st?e.refs={}:e.refs;Object.defineProperty(r,n,{enumerable:!0,get:()=>t.value,set:i=>t.value=i})}return t}function Nu(n,e,t,s,r=!1){if(ge(n)){n.forEach((p,g)=>Nu(p,e&&(ge(e)?e[g]:e),t,s,r));return}if(co(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Nu(n,e,t,s.component.subTree);return}const i=s.shapeFlag&4?Sd(s.component):s.el,o=r?null:i,{i:a,r:l}=n,c=e&&e.r,u=a.refs===st?a.refs={}:a.refs,d=a.setupState,f=dt(d),h=d===st?()=>!1:p=>bt(f,p);if(c!=null&&c!==l&&(Le(c)?(u[c]=null,h(c)&&(d[c]=null)):nn(c)&&(c.value=null)),Ie(l))oc(l,a,12,[o,u]);else{const p=Le(l),g=nn(l);if(p||g){const m=()=>{if(n.f){const y=p?h(l)?d[l]:u[l]:l.value;r?ge(y)&&jp(y,i):ge(y)?y.includes(i)||y.push(i):p?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],n.k&&(u[n.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):g&&(l.value=o,n.k&&(u[n.k]=o))};o?(m.id=-1,un(m,t)):m()}}}let yx=!1;const Xa=()=>{yx||(console.error("Hydration completed but contains mismatches."),yx=!0)},aP=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",lP=n=>n.namespaceURI.includes("MathML"),Jd=n=>{if(n.nodeType===1){if(aP(n))return"svg";if(lP(n))return"mathml"}},pl=n=>n.nodeType===8;function cP(n){const{mt:e,p:t,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(x,S)=>{if(!S.hasChildNodes()){t(null,x,S),xh(),S._vnode=x;return}d(S.firstChild,x,null,null,null),xh(),S._vnode=x},d=(x,S,w,k,T,C=!1)=>{C=C||!!S.dynamicChildren;const E=pl(x)&&x.data==="[",_=()=>g(x,S,w,k,T,E),{type:O,ref:A,shapeFlag:P,patchFlag:$}=S;let z=x.nodeType;S.el=x,$===-2&&(C=!1,S.dynamicChildren=null);let D=null;switch(O){case uo:z!==3?S.children===""?(l(S.el=r(""),o(x),x),D=x):D=_():(x.data!==S.children&&(Xa(),x.data=S.children),D=i(x));break;case an:b(x)?(D=i(x),y(S.el=x.content.firstChild,x,w)):z!==8||E?D=_():D=i(x);break;case ma:if(E&&(x=i(x),z=x.nodeType),z===1||z===3){D=x;const U=!S.children.length;for(let J=0;J<S.staticCount;J++)U&&(S.children+=D.nodeType===1?D.outerHTML:D.data),J===S.staticCount-1&&(S.anchor=D),D=i(D);return E?i(D):D}else _();break;case Pe:E?D=p(x,S,w,k,T,C):D=_();break;default:if(P&1)(z!==1||S.type.toLowerCase()!==x.tagName.toLowerCase())&&!b(x)?D=_():D=f(x,S,w,k,T,C);else if(P&6){S.slotScopeIds=T;const U=o(x);if(E?D=m(x):pl(x)&&x.data==="teleport start"?D=m(x,x.data,"teleport end"):D=i(x),e(S,U,null,w,k,Jd(U),C),co(S)&&!S.type.__asyncResolved){let J;E?(J=le(Pe),J.anchor=D?D.previousSibling:U.lastChild):J=x.nodeType===3?Xn(""):le("div"),J.el=x,S.component.subTree=J}}else P&64?z!==8?D=_():D=S.type.hydrate(x,S,w,k,T,C,n,h):P&128&&(D=S.type.hydrate(x,S,w,k,Jd(o(x)),T,C,n,d))}return A!=null&&Nu(A,null,k,S),D},f=(x,S,w,k,T,C)=>{C=C||!!S.dynamicChildren;const{type:E,props:_,patchFlag:O,shapeFlag:A,dirs:P,transition:$}=S,z=E==="input"||E==="option";if(z||O!==-1){P&&Or(S,null,w,"created");let D=!1;if(b(x)){D=R_(null,$)&&w&&w.vnode.props&&w.vnode.props.appear;const J=x.content.firstChild;D&&$.beforeEnter(J),y(J,x,w),S.el=x=J}if(A&16&&!(_&&(_.innerHTML||_.textContent))){let J=h(x.firstChild,S,x,w,k,T,C);for(;J;){Yd(x,1)||Xa();const be=J;J=J.nextSibling,a(be)}}else if(A&8){let J=S.children;J[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(J=J.slice(1)),x.textContent!==J&&(Yd(x,0)||Xa(),x.textContent=S.children)}if(_){if(z||!C||O&48){const J=x.tagName.includes("-");for(const be in _)(z&&(be.endsWith("value")||be==="indeterminate")||To(be)&&!fi(be)||be[0]==="."||J)&&s(x,be,null,_[be],void 0,w)}else if(_.onClick)s(x,"onClick",null,_.onClick,void 0,w);else if(O&4&&lo(_.style))for(const J in _.style)_.style[J]}let U;(U=_&&_.onVnodeBeforeMount)&&Ss(U,w,S),P&&Or(S,null,w,"beforeMount"),((U=_&&_.onVnodeMounted)||P||D)&&H_(()=>{U&&Ss(U,w,S),D&&$.enter(x),P&&Or(S,null,w,"mounted")},k)}return x.nextSibling},h=(x,S,w,k,T,C,E)=>{E=E||!!S.dynamicChildren;const _=S.children,O=_.length;for(let A=0;A<O;A++){const P=E?_[A]:_[A]=Es(_[A]),$=P.type===uo;x?($&&!E&&A+1<O&&Es(_[A+1]).type===uo&&(l(r(x.data.slice(P.children.length)),w,i(x)),x.data=P.children),x=d(x,P,k,T,C,E)):$&&!P.children?l(P.el=r(""),w):(Yd(w,1)||Xa(),t(null,P,w,null,k,T,Jd(w),C))}return x},p=(x,S,w,k,T,C)=>{const{slotScopeIds:E}=S;E&&(T=T?T.concat(E):E);const _=o(x),O=h(i(x),S,_,w,k,T,C);return O&&pl(O)&&O.data==="]"?i(S.anchor=O):(Xa(),l(S.anchor=c("]"),_,O),O)},g=(x,S,w,k,T,C)=>{if(Yd(x.parentElement,1)||Xa(),S.el=null,C){const O=m(x);for(;;){const A=i(x);if(A&&A!==O)a(A);else break}}const E=i(x),_=o(x);return a(x),t(null,S,_,E,w,k,Jd(_),T),w&&(w.vnode.el=S.el,Zp(w,S.el)),E},m=(x,S="[",w="]")=>{let k=0;for(;x;)if(x=i(x),x&&pl(x)&&(x.data===S&&k++,x.data===w)){if(k===0)return i(x);k--}return x},y=(x,S,w)=>{const k=S.parentNode;k&&k.replaceChild(x,S);let T=w;for(;T;)T.vnode.el===S&&(T.vnode.el=T.subTree.el=x),T=T.parent},b=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[u,d]}const bx="data-allow-mismatch",uP={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Yd(n,e){if(e===0||e===1)for(;n&&!n.hasAttribute(bx);)n=n.parentElement;const t=n&&n.getAttribute(bx);if(t==null)return!1;if(t==="")return!0;{const s=t.split(",");return e===0&&s.includes("children")?!0:t.split(",").includes(uP[e])}}const dP=yd().requestIdleCallback||(n=>setTimeout(n,1)),fP=yd().cancelIdleCallback||(n=>clearTimeout(n)),hP=(n=1e4)=>e=>{const t=dP(e,{timeout:n});return()=>fP(t)};function pP(n){const{top:e,left:t,bottom:s,right:r}=n.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||s>0&&s<i)&&(t>0&&t<o||r>0&&r<o)}const gP=n=>(e,t)=>{const s=new IntersectionObserver(r=>{for(const i of r)if(i.isIntersecting){s.disconnect(),e();break}},n);return t(r=>{if(r instanceof Element){if(pP(r))return e(),s.disconnect(),!1;s.observe(r)}}),()=>s.disconnect()},mP=n=>e=>{if(n){const t=matchMedia(n);if(t.matches)e();else return t.addEventListener("change",e,{once:!0}),()=>t.removeEventListener("change",e)}},yP=(n=[])=>(e,t)=>{Le(n)&&(n=[n]);let s=!1;const r=o=>{s||(s=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{t(o=>{for(const a of n)o.removeEventListener(a,r)})};return t(o=>{for(const a of n)o.addEventListener(a,r,{once:!0})}),i};function bP(n,e){if(pl(n)&&n.data==="["){let t=1,s=n.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(pl(s))if(s.data==="]"){if(--t===0)break}else s.data==="["&&t++;s=s.nextSibling}}else e(n)}const co=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vP(n){Ie(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:s,delay:r=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=n;let c=null,u,d=0;const f=()=>(d++,c=null,h()),h=()=>{let p;return c||(p=c=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),l)return new Promise((m,y)=>{l(g,()=>m(f()),()=>y(g),d+1)});throw g}).then(g=>p!==c&&c?c:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Ke({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,m){const y=i?()=>{const b=i(m,x=>bP(p,x));b&&(g.bum||(g.bum=[])).push(b)}:m;u?y():h().then(()=>!g.isUnmounted&&y())},get __asyncResolved(){return u},setup(){const p=fn;if(lb(p),u)return()=>Yg(u,p);const g=x=>{c=null,Va(x,p,13,!s)};if(a&&p.suspense||$l)return h().then(x=>()=>Yg(x,p)).catch(x=>(g(x),()=>s?le(s,{error:x}):null));const m=B(!1),y=B(),b=B(!!r);return r&&setTimeout(()=>{b.value=!1},r),o!=null&&setTimeout(()=>{if(!m.value&&!y.value){const x=new Error(`Async component timed out after ${o}ms.`);g(x),y.value=x}},o),h().then(()=>{m.value=!0,p.parent&&vd(p.parent.vnode)&&p.parent.update()}).catch(x=>{g(x),y.value=x}),()=>{if(m.value&&u)return Yg(u,p);if(y.value&&s)return le(s,{error:y.value});if(t&&!b.value)return le(t)}}})}function Yg(n,e){const{ref:t,props:s,children:r,ce:i}=e.vnode,o=le(n,s,r);return o.ref=t,o.ce=i,delete e.vnode.ce,o}const vd=n=>n.type.__isKeepAlive,xP={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=Fs(),s=t.ctx;if(!s.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const r=new Map,i=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=s,f=d("div");s.activate=(b,x,S,w,k)=>{const T=b.component;c(b,x,S,0,a),l(T.vnode,b,x,S,T,a,w,b.slotScopeIds,k),un(()=>{T.isDeactivated=!1,T.a&&ha(T.a);const C=b.props&&b.props.onVnodeMounted;C&&Ss(C,T.parent,b)},a)},s.deactivate=b=>{const x=b.component;Sh(x.m),Sh(x.a),c(b,f,null,1,a),un(()=>{x.da&&ha(x.da);const S=b.props&&b.props.onVnodeUnmounted;S&&Ss(S,x.parent,b),x.isDeactivated=!0},a)};function h(b){qg(b),u(b,t,a,!0)}function p(b){r.forEach((x,S)=>{const w=Ay(x.type);w&&!b(w)&&g(S)})}function g(b){const x=r.get(b);x&&(!o||!dr(x,o))?h(x):o&&qg(o),r.delete(b),i.delete(b)}sn(()=>[n.include,n.exclude],([b,x])=>{b&&p(S=>Rc(b,S)),x&&p(S=>!Rc(x,S))},{flush:"post",deep:!0});let m=null;const y=()=>{m!=null&&(Eh(t.subTree.type)?un(()=>{r.set(m,qd(t.subTree))},t.subTree.suspense):r.set(m,qd(t.subTree)))};return zt(y),xd(y),ac(()=>{r.forEach(b=>{const{subTree:x,suspense:S}=t,w=qd(x);if(b.type===w.type&&b.key===w.key){qg(w);const k=w.component.da;k&&un(k,S);return}h(b)})}),()=>{if(m=null,!e.default)return o=null;const b=e.default(),x=b[0];if(b.length>1)return o=null,b;if(!vi(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let S=qd(x);if(S.type===an)return o=null,S;const w=S.type,k=Ay(co(S)?S.type.__asyncResolved||{}:w),{include:T,exclude:C,max:E}=n;if(T&&(!k||!Rc(T,k))||C&&k&&Rc(C,k))return S.shapeFlag&=-257,o=S,x;const _=S.key==null?w:S.key,O=r.get(_);return S.el&&(S=Nr(S),x.shapeFlag&128&&(x.ssContent=S)),m=_,O?(S.el=O.el,S.component=O.component,S.transition&&bi(S,S.transition),S.shapeFlag|=512,i.delete(_),i.add(_)):(i.add(_),E&&i.size>parseInt(E,10)&&g(i.values().next().value)),S.shapeFlag|=256,o=S,Eh(x.type)?x:S}}},wP=xP;function Rc(n,e){return ge(n)?n.some(t=>Rc(t,e)):Le(n)?n.split(",").includes(e):yk(n)?(n.lastIndex=0,n.test(e)):!1}function c_(n,e){d_(n,"a",e)}function u_(n,e){d_(n,"da",e)}function d_(n,e,t=fn){const s=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(qp(e,s,t),t){let r=t.parent;for(;r&&r.parent;)vd(r.parent.vnode)&&SP(s,e,t,r),r=r.parent}}function SP(n,e,t,s){const r=qp(e,n,s,!0);za(()=>{jp(s[e],r)},t)}function qg(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function qd(n){return n.shapeFlag&128?n.ssContent:n}function qp(n,e,t=fn,s=!1){if(t){const r=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...o)=>{Ao();const a=Ca(t),l=tr(e,t,n,o);return a(),Mo(),l});return s?r.unshift(i):r.push(i),i}}const xi=n=>(e,t=fn)=>{(!$l||n==="sp")&&qp(n,(...s)=>e(...s),t)},f_=xi("bm"),zt=xi("m"),cb=xi("bu"),xd=xi("u"),ac=xi("bum"),za=xi("um"),h_=xi("sp"),p_=xi("rtg"),g_=xi("rtc");function m_(n,e=fn){qp("ec",n,e)}const ub="components",EP="directives";function y_(n,e){return db(ub,n,!0,e)||n}const b_=Symbol.for("v-ndc");function kP(n){return Le(n)?db(ub,n,!1)||n:n||b_}function _P(n){return db(EP,n)}function db(n,e,t=!0,s=!1){const r=hn||fn;if(r){const i=r.type;if(n===ub){const a=Ay(i,!1);if(a&&(a===e||a===It(e)||a===Oo(It(e))))return i}const o=vx(r[n]||i[n],e)||vx(r.appContext[n],e);return!o&&s?i:o}}function vx(n,e){return n&&(n[e]||n[It(e)]||n[Oo(It(e))])}function Et(n,e,t,s){let r;const i=t&&t[s],o=ge(n);if(o||Le(n)){const a=o&&lo(n);let l=!1;a&&(l=!$s(n),n=Hp(n)),r=new Array(n.length);for(let c=0,u=n.length;c<u;c++)r[c]=e(l?Hn(n[c]):n[c],c,void 0,i&&i[c])}else if(typeof n=="number"){r=new Array(n);for(let a=0;a<n;a++)r[a]=e(a+1,a,void 0,i&&i[a])}else if(wt(n))if(n[Symbol.iterator])r=Array.from(n,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(n);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(n[u],u,l,i&&i[l])}}else r=[];return t&&(t[s]=r),r}function TP(n,e){for(let t=0;t<e.length;t++){const s=e[t];if(ge(s))for(let r=0;r<s.length;r++)n[s[r].name]=s[r].fn;else s&&(n[s.name]=s.key?(...r)=>{const i=s.fn(...r);return i&&(i.key=s.key),i}:s.fn)}return n}function CP(n,e,t={},s,r){if(hn.ce||hn.parent&&co(hn.parent)&&hn.parent.ce)return e!=="default"&&(t.name=e),R(),Qn(Pe,null,[le("slot",t,s&&s())],64);let i=n[e];i&&i._c&&(i._d=!1),R();const o=i&&fb(i(t)),a=t.key||o&&o.key,l=Qn(Pe,{key:(a&&!ds(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&n._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function fb(n){return n.some(e=>vi(e)?!(e.type===an||e.type===Pe&&!fb(e.children)):!0)?n:null}function OP(n,e){const t={};for(const s in n)t[e&&/[A-Z]/.test(s)?`on:${s}`:fa(s)]=n[s];return t}const by=n=>n?q_(n)?Sd(n):by(n.parent):null,eu=rt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>by(n.parent),$root:n=>by(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>hb(n),$forceUpdate:n=>n.f||(n.f=()=>{ib(n.update)}),$nextTick:n=>n.n||(n.n=Br.bind(n.proxy)),$watch:n=>iD.bind(n)}),Qg=(n,e)=>n!==st&&!n.__isScriptSetup&&bt(n,e),vy={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return t[e];case 3:return i[e]}else{if(Qg(s,e))return o[e]=1,s[e];if(r!==st&&bt(r,e))return o[e]=2,r[e];if((c=n.propsOptions[0])&&bt(c,e))return o[e]=3,i[e];if(t!==st&&bt(t,e))return o[e]=4,t[e];xy&&(o[e]=0)}}const u=eu[e];let d,f;if(u)return e==="$attrs"&&Un(n.attrs,"get",""),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==st&&bt(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,bt(f,e))return f[e]},set({_:n},e,t){const{data:s,setupState:r,ctx:i}=n;return Qg(r,e)?(r[e]=t,!0):s!==st&&bt(s,e)?(s[e]=t,!0):bt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!t[o]||n!==st&&bt(n,o)||Qg(e,o)||(a=i[0])&&bt(a,o)||bt(s,o)||bt(eu,o)||bt(r.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:bt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},AP=rt({},vy,{get(n,e){if(e!==Symbol.unscopables)return vy.get(n,e,n)},has(n,e){return e[0]!=="_"&&!G0(e)}});function MP(){return null}function IP(){return null}function PP(n){}function DP(n){}function RP(){return null}function NP(){}function LP(n,e){return null}function $P(){return v_().slots}function FP(){return v_().attrs}function v_(){const n=Fs();return n.setupContext||(n.setupContext=eT(n))}function Lu(n){return ge(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function jP(n,e){const t=Lu(n);for(const s in e){if(s.startsWith("__skip"))continue;let r=t[s];r?ge(r)||Ie(r)?r=t[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=t[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return t}function BP(n,e){return!n||!e?n||e:ge(n)&&ge(e)?n.concat(e):rt({},Lu(n),Lu(e))}function VP(n,e){const t={};for(const s in n)e.includes(s)||Object.defineProperty(t,s,{enumerable:!0,get:()=>n[s]});return t}function zP(n){const e=Fs();let t=n();return Ty(),Bp(t)&&(t=t.catch(s=>{throw Ca(e),s})),[t,()=>Ca(e)]}let xy=!0;function UP(n){const e=hb(n),t=n.proxy,s=n.ctx;xy=!1,e.beforeCreate&&xx(e.beforeCreate,n,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:S,render:w,renderTracked:k,renderTriggered:T,errorCaptured:C,serverPrefetch:E,expose:_,inheritAttrs:O,components:A,directives:P,filters:$}=e;if(c&&HP(c,s,null),o)for(const U in o){const J=o[U];Ie(J)&&(s[U]=J.bind(t))}if(r){const U=r.call(t,t);wt(U)&&(n.data=Ba(U))}if(xy=!0,i)for(const U in i){const J=i[U],be=Ie(J)?J.bind(t,t):Ie(J.get)?J.get.bind(t,t):wn,Ge=!Ie(J)&&Ie(J.set)?J.set.bind(t):wn,ue=xt({get:be,set:Ge});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>ue.value,set:G=>ue.value=G})}if(a)for(const U in a)x_(a[U],s,t,U);if(l){const U=Ie(l)?l.call(t):l;Reflect.ownKeys(U).forEach(J=>{tu(J,U[J])})}u&&xx(u,n,"c");function D(U,J){ge(J)?J.forEach(be=>U(be.bind(t))):J&&U(J.bind(t))}if(D(f_,d),D(zt,f),D(cb,h),D(xd,p),D(c_,g),D(u_,m),D(m_,C),D(g_,k),D(p_,T),D(ac,b),D(za,S),D(h_,E),ge(_))if(_.length){const U=n.exposed||(n.exposed={});_.forEach(J=>{Object.defineProperty(U,J,{get:()=>t[J],set:be=>t[J]=be})})}else n.exposed||(n.exposed={});w&&n.render===wn&&(n.render=w),O!=null&&(n.inheritAttrs=O),A&&(n.components=A),P&&(n.directives=P),E&&lb(n)}function HP(n,e,t=wn){ge(n)&&(n=wy(n));for(const s in n){const r=n[s];let i;wt(r)?"default"in r?i=Ys(r.from||s,r.default,!0):i=Ys(r.from||s):i=Ys(r),nn(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function xx(n,e,t){tr(ge(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function x_(n,e,t,s){let r=s.includes(".")?B_(t,s):()=>t[s];if(Le(n)){const i=e[n];Ie(i)&&sn(r,i)}else if(Ie(n))sn(r,n.bind(t));else if(wt(n))if(ge(n))n.forEach(i=>x_(i,e,t,s));else{const i=Ie(n.handler)?n.handler.bind(t):e[n.handler];Ie(i)&&sn(r,i,n)}}function hb(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!t&&!s?l=e:(l={},r.length&&r.forEach(c=>wh(l,c,o,!0)),wh(l,e,o)),wt(e)&&i.set(e,l),l}function wh(n,e,t,s=!1){const{mixins:r,extends:i}=e;i&&wh(n,i,t,!0),r&&r.forEach(o=>wh(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const a=WP[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const WP={data:wx,props:Sx,emits:Sx,methods:Nc,computed:Nc,beforeCreate:ts,created:ts,beforeMount:ts,mounted:ts,beforeUpdate:ts,updated:ts,beforeDestroy:ts,beforeUnmount:ts,destroyed:ts,unmounted:ts,activated:ts,deactivated:ts,errorCaptured:ts,serverPrefetch:ts,components:Nc,directives:Nc,watch:GP,provide:wx,inject:KP};function wx(n,e){return e?n?function(){return rt(Ie(n)?n.call(this,this):n,Ie(e)?e.call(this,this):e)}:e:n}function KP(n,e){return Nc(wy(n),wy(e))}function wy(n){if(ge(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function ts(n,e){return n?[...new Set([].concat(n,e))]:e}function Nc(n,e){return n?rt(Object.create(null),n,e):e}function Sx(n,e){return n?ge(n)&&ge(e)?[...new Set([...n,...e])]:rt(Object.create(null),Lu(n),Lu(e??{})):e}function GP(n,e){if(!n)return e;if(!e)return n;const t=rt(Object.create(null),n);for(const s in e)t[s]=ts(n[s],e[s]);return t}function w_(){return{app:null,config:{isNativeTag:hl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XP=0;function JP(n,e){return function(s,r=null){Ie(s)||(s=rt({},s)),r!=null&&!wt(r)&&(r=null);const i=w_(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:XP++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:nT,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Ie(u.install)?(o.add(u),u.install(c,...d)):Ie(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||le(s,r);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):n(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Sd(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(tr(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=ga;ga=c;try{return u()}finally{ga=d}}};return c}}let ga=null;function tu(n,e){if(fn){let t=fn.provides;const s=fn.parent&&fn.parent.provides;s===t&&(t=fn.provides=Object.create(s)),t[n]=e}}function Ys(n,e,t=!1){const s=fn||hn;if(s||ga){const r=ga?ga._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Ie(e)?e.call(s&&s.proxy):e}}function YP(){return!!(fn||hn||ga)}const S_={},E_=()=>Object.create(S_),k_=n=>Object.getPrototypeOf(n)===S_;function qP(n,e,t,s=!1){const r={},i=E_();n.propsDefaults=Object.create(null),__(n,e,r,i);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=s?r:eb(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function QP(n,e,t,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=n,a=dt(r),[l]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Qp(n.emitsOptions,f))continue;const h=e[f];if(l)if(bt(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const p=It(f);r[p]=Sy(l,a,p,h,n,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{__(n,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!bt(e,d)&&((u=Wn(d))===d||!bt(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(r[d]=Sy(l,a,d,void 0,n,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!bt(e,d))&&(delete i[d],c=!0)}c&&ri(n.attrs,"set","")}function __(n,e,t,s){const[r,i]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(fi(l))continue;const c=e[l];let u;r&&bt(r,u=It(l))?!i||!i.includes(u)?t[u]=c:(a||(a={}))[u]=c:Qp(n.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=dt(t),c=a||st;for(let u=0;u<i.length;u++){const d=i[u];t[d]=Sy(r,l,d,c[d],n,!bt(c,d))}}return o}function Sy(n,e,t,s,r,i){const o=n[t];if(o!=null){const a=bt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ie(l)){const{propsDefaults:c}=r;if(t in c)s=c[t];else{const u=Ca(r);s=c[t]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(t,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Wn(t))&&(s=!0))}return s}const ZP=new WeakMap;function T_(n,e,t=!1){const s=t?ZP:e.propsCache,r=s.get(n);if(r)return r;const i=n.props,o={},a=[];let l=!1;if(!Ie(n)){const u=d=>{l=!0;const[f,h]=T_(d,e,!0);rt(o,f),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!i&&!l)return wt(n)&&s.set(n,ua),ua;if(ge(i))for(let u=0;u<i.length;u++){const d=It(i[u]);Ex(d)&&(o[d]=st)}else if(i)for(const u in i){const d=It(u);if(Ex(d)){const f=i[u],h=o[d]=ge(f)||Ie(f)?{type:f}:rt({},f),p=h.type;let g=!1,m=!0;if(ge(p))for(let y=0;y<p.length;++y){const b=p[y],x=Ie(b)&&b.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(m=!1)}else g=Ie(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||bt(h,"default"))&&a.push(d)}}const c=[o,a];return wt(n)&&s.set(n,c),c}function Ex(n){return n[0]!=="$"&&!fi(n)}const C_=n=>n[0]==="_"||n==="$stable",pb=n=>ge(n)?n.map(Es):[Es(n)],eD=(n,e,t)=>{if(e._n)return e;const s=Ht((...r)=>pb(e(...r)),t);return s._c=!1,s},O_=(n,e,t)=>{const s=n._ctx;for(const r in n){if(C_(r))continue;const i=n[r];if(Ie(i))e[r]=eD(r,i,s);else if(i!=null){const o=pb(i);e[r]=()=>o}}},A_=(n,e)=>{const t=pb(e);n.slots.default=()=>t},M_=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},tD=(n,e,t)=>{const s=n.slots=E_();if(n.vnode.shapeFlag&32){const r=e._;r?(M_(s,e,t),t&&K0(s,"_",r,!0)):O_(e,s)}else e&&A_(n,e)},nD=(n,e,t)=>{const{vnode:s,slots:r}=n;let i=!0,o=st;if(s.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:M_(r,e,t):(i=!e.$stable,O_(e,r)),o=e}else e&&(A_(n,e),o={default:1});if(i)for(const a in r)!C_(a)&&o[a]==null&&delete r[a]},un=H_;function I_(n){return D_(n)}function P_(n){return D_(n,cP)}function D_(n,e){const t=yd();t.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=wn,insertStaticContent:p}=n,g=(M,I,j,Y=null,W=null,Z=null,fe=void 0,se=null,re=!!I.dynamicChildren)=>{if(M===I)return;M&&!dr(M,I)&&(Y=H(M),G(M,W,Z,!0),M=null),I.patchFlag===-2&&(re=!1,I.dynamicChildren=null);const{type:ee,ref:Te,shapeFlag:pe}=I;switch(ee){case uo:m(M,I,j,Y);break;case an:y(M,I,j,Y);break;case ma:M==null&&b(I,j,Y,fe);break;case Pe:A(M,I,j,Y,W,Z,fe,se,re);break;default:pe&1?w(M,I,j,Y,W,Z,fe,se,re):pe&6?P(M,I,j,Y,W,Z,fe,se,re):(pe&64||pe&128)&&ee.process(M,I,j,Y,W,Z,fe,se,re,ye)}Te!=null&&W&&Nu(Te,M&&M.ref,Z,I||M,!I)},m=(M,I,j,Y)=>{if(M==null)s(I.el=a(I.children),j,Y);else{const W=I.el=M.el;I.children!==M.children&&c(W,I.children)}},y=(M,I,j,Y)=>{M==null?s(I.el=l(I.children||""),j,Y):I.el=M.el},b=(M,I,j,Y)=>{[M.el,M.anchor]=p(M.children,I,j,Y,M.el,M.anchor)},x=({el:M,anchor:I},j,Y)=>{let W;for(;M&&M!==I;)W=f(M),s(M,j,Y),M=W;s(I,j,Y)},S=({el:M,anchor:I})=>{let j;for(;M&&M!==I;)j=f(M),r(M),M=j;r(I)},w=(M,I,j,Y,W,Z,fe,se,re)=>{I.type==="svg"?fe="svg":I.type==="math"&&(fe="mathml"),M==null?k(I,j,Y,W,Z,fe,se,re):E(M,I,W,Z,fe,se,re)},k=(M,I,j,Y,W,Z,fe,se)=>{let re,ee;const{props:Te,shapeFlag:pe,transition:we,dirs:Me}=M;if(re=M.el=o(M.type,Z,Te&&Te.is,Te),pe&8?u(re,M.children):pe&16&&C(M.children,re,null,Y,W,Zg(M,Z),fe,se),Me&&Or(M,null,Y,"created"),T(re,M,M.scopeId,fe,Y),Te){for(const gt in Te)gt!=="value"&&!fi(gt)&&i(re,gt,null,Te[gt],Z,Y);"value"in Te&&i(re,"value",null,Te.value,Z),(ee=Te.onVnodeBeforeMount)&&Ss(ee,Y,M)}Me&&Or(M,null,Y,"beforeMount");const Ye=R_(W,we);Ye&&we.beforeEnter(re),s(re,I,j),((ee=Te&&Te.onVnodeMounted)||Ye||Me)&&un(()=>{ee&&Ss(ee,Y,M),Ye&&we.enter(re),Me&&Or(M,null,Y,"mounted")},W)},T=(M,I,j,Y,W)=>{if(j&&h(M,j),Y)for(let Z=0;Z<Y.length;Z++)h(M,Y[Z]);if(W){let Z=W.subTree;if(I===Z||Eh(Z.type)&&(Z.ssContent===I||Z.ssFallback===I)){const fe=W.vnode;T(M,fe,fe.scopeId,fe.slotScopeIds,W.parent)}}},C=(M,I,j,Y,W,Z,fe,se,re=0)=>{for(let ee=re;ee<M.length;ee++){const Te=M[ee]=se?Li(M[ee]):Es(M[ee]);g(null,Te,I,j,Y,W,Z,fe,se)}},E=(M,I,j,Y,W,Z,fe)=>{const se=I.el=M.el;let{patchFlag:re,dynamicChildren:ee,dirs:Te}=I;re|=M.patchFlag&16;const pe=M.props||st,we=I.props||st;let Me;if(j&&No(j,!1),(Me=we.onVnodeBeforeUpdate)&&Ss(Me,j,I,M),Te&&Or(I,M,j,"beforeUpdate"),j&&No(j,!0),(pe.innerHTML&&we.innerHTML==null||pe.textContent&&we.textContent==null)&&u(se,""),ee?_(M.dynamicChildren,ee,se,j,Y,Zg(I,W),Z):fe||J(M,I,se,null,j,Y,Zg(I,W),Z,!1),re>0){if(re&16)O(se,pe,we,j,W);else if(re&2&&pe.class!==we.class&&i(se,"class",null,we.class,W),re&4&&i(se,"style",pe.style,we.style,W),re&8){const Ye=I.dynamicProps;for(let gt=0;gt<Ye.length;gt++){const N=Ye[gt],F=pe[N],V=we[N];(V!==F||N==="value")&&i(se,N,F,V,W,j)}}re&1&&M.children!==I.children&&u(se,I.children)}else!fe&&ee==null&&O(se,pe,we,j,W);((Me=we.onVnodeUpdated)||Te)&&un(()=>{Me&&Ss(Me,j,I,M),Te&&Or(I,M,j,"updated")},Y)},_=(M,I,j,Y,W,Z,fe)=>{for(let se=0;se<I.length;se++){const re=M[se],ee=I[se],Te=re.el&&(re.type===Pe||!dr(re,ee)||re.shapeFlag&70)?d(re.el):j;g(re,ee,Te,null,Y,W,Z,fe,!0)}},O=(M,I,j,Y,W)=>{if(I!==j){if(I!==st)for(const Z in I)!fi(Z)&&!(Z in j)&&i(M,Z,I[Z],null,W,Y);for(const Z in j){if(fi(Z))continue;const fe=j[Z],se=I[Z];fe!==se&&Z!=="value"&&i(M,Z,se,fe,W,Y)}"value"in j&&i(M,"value",I.value,j.value,W)}},A=(M,I,j,Y,W,Z,fe,se,re)=>{const ee=I.el=M?M.el:a(""),Te=I.anchor=M?M.anchor:a("");let{patchFlag:pe,dynamicChildren:we,slotScopeIds:Me}=I;Me&&(se=se?se.concat(Me):Me),M==null?(s(ee,j,Y),s(Te,j,Y),C(I.children||[],j,Te,W,Z,fe,se,re)):pe>0&&pe&64&&we&&M.dynamicChildren?(_(M.dynamicChildren,we,j,W,Z,fe,se),(I.key!=null||W&&I===W.subTree)&&gb(M,I,!0)):J(M,I,j,Te,W,Z,fe,se,re)},P=(M,I,j,Y,W,Z,fe,se,re)=>{I.slotScopeIds=se,M==null?I.shapeFlag&512?W.ctx.activate(I,j,Y,fe,re):$(I,j,Y,W,Z,fe,re):z(M,I,re)},$=(M,I,j,Y,W,Z,fe)=>{const se=M.component=Y_(M,Y,W);if(vd(M)&&(se.ctx.renderer=ye),Q_(se,!1,fe),se.asyncDep){if(W&&W.registerDep(se,D,fe),!M.el){const re=se.subTree=le(an);y(null,re,I,j)}}else D(se,M,I,j,W,Z,fe)},z=(M,I,j)=>{const Y=I.component=M.component;if(dD(M,I,j))if(Y.asyncDep&&!Y.asyncResolved){U(Y,I,j);return}else Y.next=I,Y.update();else I.el=M.el,Y.vnode=I},D=(M,I,j,Y,W,Z,fe)=>{const se=()=>{if(M.isMounted){let{next:pe,bu:we,u:Me,parent:Ye,vnode:gt}=M;{const he=N_(M);if(he){pe&&(pe.el=gt.el,U(M,pe,fe)),he.asyncDep.then(()=>{M.isUnmounted||se()});return}}let N=pe,F;No(M,!1),pe?(pe.el=gt.el,U(M,pe,fe)):pe=gt,we&&ha(we),(F=pe.props&&pe.props.onVnodeBeforeUpdate)&&Ss(F,Ye,pe,gt),No(M,!0);const V=Vf(M),q=M.subTree;M.subTree=V,g(q,V,d(q.el),H(q),M,W,Z),pe.el=V.el,N===null&&Zp(M,V.el),Me&&un(Me,W),(F=pe.props&&pe.props.onVnodeUpdated)&&un(()=>Ss(F,Ye,pe,gt),W)}else{let pe;const{el:we,props:Me}=I,{bm:Ye,m:gt,parent:N,root:F,type:V}=M,q=co(I);if(No(M,!1),Ye&&ha(Ye),!q&&(pe=Me&&Me.onVnodeBeforeMount)&&Ss(pe,N,I),No(M,!0),we&&ft){const he=()=>{M.subTree=Vf(M),ft(we,M.subTree,M,W,null)};q&&V.__asyncHydrate?V.__asyncHydrate(we,M,he):he()}else{F.ce&&F.ce._injectChildStyle(V);const he=M.subTree=Vf(M);g(null,he,j,Y,M,W,Z),I.el=he.el}if(gt&&un(gt,W),!q&&(pe=Me&&Me.onVnodeMounted)){const he=I;un(()=>Ss(pe,N,he),W)}(I.shapeFlag&256||N&&co(N.vnode)&&N.vnode.shapeFlag&256)&&M.a&&un(M.a,W),M.isMounted=!0,I=j=Y=null}};M.scope.on();const re=M.effect=new Au(se);M.scope.off();const ee=M.update=re.run.bind(re),Te=M.job=re.runIfDirty.bind(re);Te.i=M,Te.id=M.uid,re.scheduler=()=>ib(Te),No(M,!0),ee()},U=(M,I,j)=>{I.component=M;const Y=M.vnode.props;M.vnode=I,M.next=null,QP(M,I.props,Y,j),nD(M,I.children,j),Ao(),fx(M),Mo()},J=(M,I,j,Y,W,Z,fe,se,re=!1)=>{const ee=M&&M.children,Te=M?M.shapeFlag:0,pe=I.children,{patchFlag:we,shapeFlag:Me}=I;if(we>0){if(we&128){Ge(ee,pe,j,Y,W,Z,fe,se,re);return}else if(we&256){be(ee,pe,j,Y,W,Z,fe,se,re);return}}Me&8?(Te&16&&$e(ee,W,Z),pe!==ee&&u(j,pe)):Te&16?Me&16?Ge(ee,pe,j,Y,W,Z,fe,se,re):$e(ee,W,Z,!0):(Te&8&&u(j,""),Me&16&&C(pe,j,Y,W,Z,fe,se,re))},be=(M,I,j,Y,W,Z,fe,se,re)=>{M=M||ua,I=I||ua;const ee=M.length,Te=I.length,pe=Math.min(ee,Te);let we;for(we=0;we<pe;we++){const Me=I[we]=re?Li(I[we]):Es(I[we]);g(M[we],Me,j,null,W,Z,fe,se,re)}ee>Te?$e(M,W,Z,!0,!1,pe):C(I,j,Y,W,Z,fe,se,re,pe)},Ge=(M,I,j,Y,W,Z,fe,se,re)=>{let ee=0;const Te=I.length;let pe=M.length-1,we=Te-1;for(;ee<=pe&&ee<=we;){const Me=M[ee],Ye=I[ee]=re?Li(I[ee]):Es(I[ee]);if(dr(Me,Ye))g(Me,Ye,j,null,W,Z,fe,se,re);else break;ee++}for(;ee<=pe&&ee<=we;){const Me=M[pe],Ye=I[we]=re?Li(I[we]):Es(I[we]);if(dr(Me,Ye))g(Me,Ye,j,null,W,Z,fe,se,re);else break;pe--,we--}if(ee>pe){if(ee<=we){const Me=we+1,Ye=Me<Te?I[Me].el:Y;for(;ee<=we;)g(null,I[ee]=re?Li(I[ee]):Es(I[ee]),j,Ye,W,Z,fe,se,re),ee++}}else if(ee>we)for(;ee<=pe;)G(M[ee],W,Z,!0),ee++;else{const Me=ee,Ye=ee,gt=new Map;for(ee=Ye;ee<=we;ee++){const Fe=I[ee]=re?Li(I[ee]):Es(I[ee]);Fe.key!=null&&gt.set(Fe.key,ee)}let N,F=0;const V=we-Ye+1;let q=!1,he=0;const Oe=new Array(V);for(ee=0;ee<V;ee++)Oe[ee]=0;for(ee=Me;ee<=pe;ee++){const Fe=M[ee];if(F>=V){G(Fe,W,Z,!0);continue}let mt;if(Fe.key!=null)mt=gt.get(Fe.key);else for(N=Ye;N<=we;N++)if(Oe[N-Ye]===0&&dr(Fe,I[N])){mt=N;break}mt===void 0?G(Fe,W,Z,!0):(Oe[mt-Ye]=ee+1,mt>=he?he=mt:q=!0,g(Fe,I[mt],j,null,W,Z,fe,se,re),F++)}const je=q?sD(Oe):ua;for(N=je.length-1,ee=V-1;ee>=0;ee--){const Fe=Ye+ee,mt=I[Fe],Re=Fe+1<Te?I[Fe+1].el:Y;Oe[ee]===0?g(null,mt,j,Re,W,Z,fe,se,re):q&&(N<0||ee!==je[N]?ue(mt,j,Re,2):N--)}}},ue=(M,I,j,Y,W=null)=>{const{el:Z,type:fe,transition:se,children:re,shapeFlag:ee}=M;if(ee&6){ue(M.component.subTree,I,j,Y);return}if(ee&128){M.suspense.move(I,j,Y);return}if(ee&64){fe.move(M,I,j,ye);return}if(fe===Pe){s(Z,I,j);for(let pe=0;pe<re.length;pe++)ue(re[pe],I,j,Y);s(M.anchor,I,j);return}if(fe===ma){x(M,I,j);return}if(Y!==2&&ee&1&&se)if(Y===0)se.beforeEnter(Z),s(Z,I,j),un(()=>se.enter(Z),W);else{const{leave:pe,delayLeave:we,afterLeave:Me}=se,Ye=()=>s(Z,I,j),gt=()=>{pe(Z,()=>{Ye(),Me&&Me()})};we?we(Z,Ye,gt):gt()}else s(Z,I,j)},G=(M,I,j,Y=!1,W=!1)=>{const{type:Z,props:fe,ref:se,children:re,dynamicChildren:ee,shapeFlag:Te,patchFlag:pe,dirs:we,cacheIndex:Me}=M;if(pe===-2&&(W=!1),se!=null&&Nu(se,null,j,M,!0),Me!=null&&(I.renderCache[Me]=void 0),Te&256){I.ctx.deactivate(M);return}const Ye=Te&1&&we,gt=!co(M);let N;if(gt&&(N=fe&&fe.onVnodeBeforeUnmount)&&Ss(N,I,M),Te&6)at(M.component,j,Y);else{if(Te&128){M.suspense.unmount(j,Y);return}Ye&&Or(M,null,I,"beforeUnmount"),Te&64?M.type.remove(M,I,j,ye,Y):ee&&!ee.hasOnce&&(Z!==Pe||pe>0&&pe&64)?$e(ee,I,j,!1,!0):(Z===Pe&&pe&384||!W&&Te&16)&&$e(re,I,j),Y&&oe(M)}(gt&&(N=fe&&fe.onVnodeUnmounted)||Ye)&&un(()=>{N&&Ss(N,I,M),Ye&&Or(M,null,I,"unmounted")},j)},oe=M=>{const{type:I,el:j,anchor:Y,transition:W}=M;if(I===Pe){Xe(j,Y);return}if(I===ma){S(M);return}const Z=()=>{r(j),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(M.shapeFlag&1&&W&&!W.persisted){const{leave:fe,delayLeave:se}=W,re=()=>fe(j,Z);se?se(M.el,Z,re):re()}else Z()},Xe=(M,I)=>{let j;for(;M!==I;)j=f(M),r(M),M=j;r(I)},at=(M,I,j)=>{const{bum:Y,scope:W,job:Z,subTree:fe,um:se,m:re,a:ee}=M;Sh(re),Sh(ee),Y&&ha(Y),W.stop(),Z&&(Z.flags|=8,G(fe,M,I,j)),se&&un(se,I),un(()=>{M.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},$e=(M,I,j,Y=!1,W=!1,Z=0)=>{for(let fe=Z;fe<M.length;fe++)G(M[fe],I,j,Y,W)},H=M=>{if(M.shapeFlag&6)return H(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const I=f(M.anchor||M.el),j=I&&I[t_];return j?f(j):I};let de=!1;const ie=(M,I,j)=>{M==null?I._vnode&&G(I._vnode,null,null,!0):g(I._vnode||null,M,I,null,null,null,j),I._vnode=M,de||(de=!0,fx(),xh(),de=!1)},ye={p:g,um:G,m:ue,r:oe,mt:$,mc:C,pc:J,pbc:_,n:H,o:n};let et,ft;return e&&([et,ft]=e(ye)),{render:ie,hydrate:et,createApp:JP(ie,et)}}function Zg({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function No({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function R_(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function gb(n,e,t=!1){const s=n.children,r=e.children;if(ge(s)&&ge(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Li(r[i]),a.el=o.el),!t&&a.patchFlag!==-2&&gb(o,a)),a.type===uo&&(a.el=o.el)}}function sD(n){const e=n.slice(),t=[0];let s,r,i,o,a;const l=n.length;for(s=0;s<l;s++){const c=n[s];if(c!==0){if(r=t[t.length-1],n[r]<c){e[s]=r,t.push(s);continue}for(i=0,o=t.length-1;i<o;)a=i+o>>1,n[t[a]]<c?i=a+1:o=a;c<n[t[i]]&&(i>0&&(e[s]=t[i-1]),t[i]=s)}}for(i=t.length,o=t[i-1];i-- >0;)t[i]=o,o=e[o];return t}function N_(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:N_(e)}function Sh(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const L_=Symbol.for("v-scx"),$_=()=>Ys(L_);function F_(n,e){return wd(n,null,e)}function rD(n,e){return wd(n,null,{flush:"post"})}function j_(n,e){return wd(n,null,{flush:"sync"})}function sn(n,e,t){return wd(n,e,t)}function wd(n,e,t=st){const{immediate:s,deep:r,flush:i,once:o}=t,a=rt({},t),l=e&&s||!e&&i!=="post";let c;if($l){if(i==="sync"){const h=$_();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=wn,h.resume=wn,h.pause=wn,h}}const u=fn;a.call=(h,p,g)=>tr(h,u,p,g);let d=!1;i==="post"?a.scheduler=h=>{un(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():ib(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=W2(n,e,a);return $l&&(c?c.push(f):l&&f()),f}function iD(n,e,t){const s=this.proxy,r=Le(n)?n.includes(".")?B_(s,n):()=>s[n]:n.bind(s,s);let i;Ie(e)?i=e:(i=e.handler,t=e);const o=Ca(this),a=wd(r,i.bind(s),t);return o(),a}function B_(n,e){const t=e.split(".");return()=>{let s=n;for(let r=0;r<t.length&&s;r++)s=s[t[r]];return s}}function oD(n,e,t=st){const s=Fs(),r=It(e),i=Wn(e),o=V_(n,r),a=rb((l,c)=>{let u,d=st,f;return j_(()=>{const h=n[r];zn(u,h)&&(u=h,c())}),{get(){return l(),t.get?t.get(u):u},set(h){const p=t.set?t.set(h):h;if(!zn(p,u)&&!(d!==st&&zn(h,d)))return;const g=s.vnode.props;g&&(e in g||r in g||i in g)&&(`onUpdate:${e}`in g||`onUpdate:${r}`in g||`onUpdate:${i}`in g)||(u=h,c()),s.emit(`update:${e}`,p),zn(h,p)&&zn(h,d)&&!zn(p,f)&&c(),d=h,f=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||st:a,done:!1}:{done:!0}}}},a}const V_=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${It(e)}Modifiers`]||n[`${Wn(e)}Modifiers`];function aD(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||st;let r=t;const i=e.startsWith("update:"),o=i&&V_(s,e.slice(7));o&&(o.trim&&(r=t.map(u=>Le(u)?u.trim():u)),o.number&&(r=t.map(Cu)));let a,l=s[a=fa(e)]||s[a=fa(It(e))];!l&&i&&(l=s[a=fa(Wn(e))]),l&&tr(l,n,6,r);const c=s[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,tr(c,n,6,r)}}function z_(n,e,t=!1){const s=e.emitsCache,r=s.get(n);if(r!==void 0)return r;const i=n.emits;let o={},a=!1;if(!Ie(n)){const l=c=>{const u=z_(c,e,!0);u&&(a=!0,rt(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!a?(wt(n)&&s.set(n,null),null):(ge(i)?i.forEach(l=>o[l]=null):rt(o,i),wt(n)&&s.set(n,o),o)}function Qp(n,e){return!n||!To(e)?!1:(e=e.slice(2).replace(/Once$/,""),bt(n,e[0].toLowerCase()+e.slice(1))||bt(n,Wn(e))||bt(n,e))}function Vf(n){const{type:e,vnode:t,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=n,m=Ru(n);let y,b;try{if(t.shapeFlag&4){const S=r||s,w=S;y=Es(c.call(w,S,u,d,h,f,p)),b=a}else{const S=e;y=Es(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),b=e.props?a:cD(a)}}catch(S){nu.length=0,Va(S,n,1),y=le(an)}let x=y;if(b&&g!==!1){const S=Object.keys(b),{shapeFlag:w}=x;S.length&&w&7&&(i&&S.some(Fp)&&(b=uD(b,i)),x=Nr(x,b,!1,!0))}return t.dirs&&(x=Nr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&bi(x,t.transition),y=x,Ru(m),y}function lD(n,e=!0){let t;for(let s=0;s<n.length;s++){const r=n[s];if(vi(r)){if(r.type!==an||r.children==="v-if"){if(t)return;t=r}}else return}return t}const cD=n=>{let e;for(const t in n)(t==="class"||t==="style"||To(t))&&((e||(e={}))[t]=n[t]);return e},uD=(n,e)=>{const t={};for(const s in n)(!Fp(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function dD(n,e,t){const{props:s,children:r,component:i}=n,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return s?kx(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Qp(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?kx(s,o,c):!0:!!o;return!1}function kx(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==n[i]&&!Qp(t,i))return!0}return!1}function Zp({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const Eh=n=>n.__isSuspense;let Ey=0;const fD={name:"Suspense",__isSuspense:!0,process(n,e,t,s,r,i,o,a,l,c){if(n==null)pD(e,t,s,r,i,o,a,l,c);else{if(i&&i.deps>0&&!n.suspense.isInFallback){e.suspense=n.suspense,e.suspense.vnode=e,e.el=n.el;return}gD(n,e,t,s,r,o,a,l,c)}},hydrate:mD,normalize:yD},hD=fD;function $u(n,e){const t=n.props&&n.props[e];Ie(t)&&t()}function pD(n,e,t,s,r,i,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=n.suspense=U_(n,r,s,e,d,t,i,o,a,l);c(null,f.pendingBranch=n.ssContent,d,null,s,f,i,o),f.deps>0?($u(n,"onPending"),$u(n,"onFallback"),c(null,n.ssFallback,e,t,s,null,i,o),vl(f,n.ssFallback)):f.resolve(!1,!0)}function gD(n,e,t,s,r,i,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:y}=d;if(g)d.pendingBranch=f,dr(f,g)?(l(g,f,d.hiddenContainer,null,r,d,i,o,a),d.deps<=0?d.resolve():m&&(y||(l(p,h,t,s,r,null,i,o,a),vl(d,h)))):(d.pendingId=Ey++,y?(d.isHydrating=!1,d.activeBranch=g):c(g,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),m?(l(null,f,d.hiddenContainer,null,r,d,i,o,a),d.deps<=0?d.resolve():(l(p,h,t,s,r,null,i,o,a),vl(d,h))):p&&dr(f,p)?(l(p,f,t,s,r,d,i,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,i,o,a),d.deps<=0&&d.resolve()));else if(p&&dr(f,p))l(p,f,t,s,r,d,i,o,a),vl(d,f);else if($u(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Ey++,l(null,f,d.hiddenContainer,null,r,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:x}=d;b>0?setTimeout(()=>{d.pendingId===x&&d.fallback(h)},b):b===0&&d.fallback(h)}}function U_(n,e,t,s,r,i,o,a,l,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:m}}=c;let y;const b=bD(n);b&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const x=n.props?Ou(n.props.timeout):void 0,S=i,w={vnode:n,parent:e,parentComponent:t,namespace:o,container:s,hiddenContainer:r,deps:0,pendingId:Ey++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(k=!1,T=!1){const{vnode:C,activeBranch:E,pendingBranch:_,pendingId:O,effects:A,parentComponent:P,container:$}=w;let z=!1;w.isHydrating?w.isHydrating=!1:k||(z=E&&_.transition&&_.transition.mode==="out-in",z&&(E.transition.afterLeave=()=>{O===w.pendingId&&(f(_,$,i===S?p(E):i,0),Pu(A))}),E&&(g(E.el)===$&&(i=p(E)),h(E,P,w,!0)),z||f(_,$,i,0)),vl(w,_),w.pendingBranch=null,w.isInFallback=!1;let D=w.parent,U=!1;for(;D;){if(D.pendingBranch){D.effects.push(...A),U=!0;break}D=D.parent}!U&&!z&&Pu(A),w.effects=[],b&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),$u(C,"onResolve")},fallback(k){if(!w.pendingBranch)return;const{vnode:T,activeBranch:C,parentComponent:E,container:_,namespace:O}=w;$u(T,"onFallback");const A=p(C),P=()=>{w.isInFallback&&(d(null,k,_,A,E,null,O,a,l),vl(w,k))},$=k.transition&&k.transition.mode==="out-in";$&&(C.transition.afterLeave=P),w.isInFallback=!0,h(C,E,null,!0),$||P()},move(k,T,C){w.activeBranch&&f(w.activeBranch,k,T,C),w.container=k},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(k,T,C){const E=!!w.pendingBranch;E&&w.deps++;const _=k.vnode.el;k.asyncDep.catch(O=>{Va(O,k,0)}).then(O=>{if(k.isUnmounted||w.isUnmounted||w.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:A}=k;Cy(k,O,!1),_&&(A.el=_);const P=!_&&k.subTree.el;T(k,A,g(_||k.subTree.el),_?null:p(k.subTree),w,o,C),P&&m(P),Zp(k,A.el),E&&--w.deps===0&&w.resolve()})},unmount(k,T){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,t,k,T),w.pendingBranch&&h(w.pendingBranch,t,k,T)}};return w}function mD(n,e,t,s,r,i,o,a,l){const c=e.suspense=U_(e,s,t,n.parentNode,document.createElement("div"),null,r,i,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,i,o);return c.deps===0&&c.resolve(!1,!0),u}function yD(n){const{shapeFlag:e,children:t}=n,s=e&32;n.ssContent=_x(s?t.default:t),n.ssFallback=s?_x(t.fallback):le(an)}function _x(n){let e;if(Ie(n)){const t=Ta&&n._c;t&&(n._d=!1,R()),n=n(),t&&(n._d=!0,e=Gn,W_())}return ge(n)&&(n=lD(n)),n=Es(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function H_(n,e){e&&e.pendingBranch?ge(n)?e.effects.push(...n):e.effects.push(n):Pu(n)}function vl(n,e){n.activeBranch=e;const{vnode:t,parentComponent:s}=n;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;t.el=r,s&&s.subTree===t&&(s.vnode.el=r,Zp(s,r))}function bD(n){const e=n.props&&n.props.suspensible;return e!=null&&e!==!1}const Pe=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),ma=Symbol.for("v-stc"),nu=[];let Gn=null;function R(n=!1){nu.push(Gn=n?null:[])}function W_(){nu.pop(),Gn=nu[nu.length-1]||null}let Ta=1;function ky(n,e=!1){Ta+=n,n<0&&Gn&&e&&(Gn.hasOnce=!0)}function K_(n){return n.dynamicChildren=Ta>0?Gn||ua:null,W_(),Ta>0&&Gn&&Gn.push(n),n}function L(n,e,t,s,r,i){return K_(v(n,e,t,s,r,i,!0))}function Qn(n,e,t,s,r){return K_(le(n,e,t,s,r,!0))}function vi(n){return n?n.__v_isVNode===!0:!1}function dr(n,e){return n.type===e.type&&n.key===e.key}function vD(n){}const G_=({key:n})=>n??null,zf=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Le(n)||nn(n)||Ie(n)?{i:hn,r:n,k:e,f:!!t}:n:null);function v(n,e=null,t=null,s=0,r=null,i=n===Pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&G_(e),ref:e&&zf(e),scopeId:Jp,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:hn};return a?(yb(l,t),i&128&&n.normalize(l)):t&&(l.shapeFlag|=Le(t)?8:16),Ta>0&&!o&&Gn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Gn.push(l),l}const le=xD;function xD(n,e=null,t=null,s=0,r=null,i=!1){if((!n||n===b_)&&(n=an),vi(n)){const a=Nr(n,e,!0);return t&&yb(a,t),Ta>0&&!i&&Gn&&(a.shapeFlag&6?Gn[Gn.indexOf(n)]=a:Gn.push(a)),a.patchFlag=-2,a}if(CD(n)&&(n=n.__vccOpts),e){e=X_(e);let{class:a,style:l}=e;a&&!Le(a)&&(e.class=ke(a)),wt(l)&&(Gp(l)&&!ge(l)&&(l=rt({},l)),e.style=ja(l))}const o=Le(n)?1:Eh(n)?128:n_(n)?64:wt(n)?4:Ie(n)?2:0;return v(n,e,t,s,r,o,i,!0)}function X_(n){return n?Gp(n)||k_(n)?rt({},n):n:null}function Nr(n,e,t=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=n,c=e?J_(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&G_(c),ref:e&&e.ref?t&&i?ge(i)?i.concat(zf(e)):[i,zf(e)]:zf(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Pe?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Nr(n.ssContent),ssFallback:n.ssFallback&&Nr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&s&&bi(u,l.clone(u)),u}function Xn(n=" ",e=0){return le(uo,null,n,e)}function mb(n,e){const t=le(ma,null,n);return t.staticCount=e,t}function Ce(n="",e=!1){return e?(R(),Qn(an,null,n)):le(an,null,n)}function Es(n){return n==null||typeof n=="boolean"?le(an):ge(n)?le(Pe,null,n.slice()):vi(n)?Li(n):le(uo,null,String(n))}function Li(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Nr(n)}function yb(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(ge(e))t=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),yb(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!k_(e)?e._ctx=hn:r===3&&hn&&(hn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:hn},t=32):(e=String(e),s&64?(t=16,e=[Xn(e)]):t=8);n.children=e,n.shapeFlag|=t}function J_(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ke([e.class,s.class]));else if(r==="style")e.style=ja([e.style,s.style]);else if(To(r)){const i=e[r],o=s[r];o&&i!==o&&!(ge(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ss(n,e,t,s=null){tr(n,e,7,[t,s])}const wD=w_();let SD=0;function Y_(n,e,t){const s=n.type,r=(e?e.appContext:n.appContext)||wD,i={uid:SD++,vnode:n,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Y0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:T_(s,r),emitsOptions:z_(s,r),emit:null,emitted:null,propsDefaults:st,inheritAttrs:s.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=aD.bind(null,i),n.ce&&n.ce(i),i}let fn=null;const Fs=()=>fn||hn;let kh,_y;{const n=yd(),e=(t,s)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};kh=e("__VUE_INSTANCE_SETTERS__",t=>fn=t),_y=e("__VUE_SSR_SETTERS__",t=>$l=t)}const Ca=n=>{const e=fn;return kh(n),n.scope.on(),()=>{n.scope.off(),kh(e)}},Ty=()=>{fn&&fn.scope.off(),kh(null)};function q_(n){return n.vnode.shapeFlag&4}let $l=!1;function Q_(n,e=!1,t=!1){e&&_y(e);const{props:s,children:r}=n.vnode,i=q_(n);qP(n,s,i,e),tD(n,r,t);const o=i?ED(n,e):void 0;return e&&_y(!1),o}function ED(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,vy);const{setup:s}=t;if(s){Ao();const r=n.setupContext=s.length>1?eT(n):null,i=Ca(n),o=oc(s,n,0,[n.props,r]),a=Bp(o);if(Mo(),i(),(a||n.sp)&&!co(n)&&lb(n),a){if(o.then(Ty,Ty),e)return o.then(l=>{Cy(n,l,e)}).catch(l=>{Va(l,n,0)});n.asyncDep=o}else Cy(n,o,e)}else Z_(n,e)}function Cy(n,e,t){Ie(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:wt(e)&&(n.setupState=sb(e)),Z_(n,t)}let _h,Oy;function kD(n){_h=n,Oy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,AP))}}const _D=()=>!_h;function Z_(n,e,t){const s=n.type;if(!n.render){if(!e&&_h&&!s.render){const r=s.template||hb(n).template;if(r){const{isCustomElement:i,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=s,c=rt(rt({isCustomElement:i,delimiters:a},o),l);s.render=_h(r,c)}}n.render=s.render||wn,Oy&&Oy(n)}{const r=Ca(n);Ao();try{UP(n)}finally{Mo(),r()}}}const TD={get(n,e){return Un(n,"get",""),n[e]}};function eT(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,TD),slots:n.slots,emit:n.emit,expose:e}}function Sd(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(sb(nb(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in eu)return eu[t](n)},has(e,t){return t in e||t in eu}})):n.proxy}function Ay(n,e=!0){return Ie(n)?n.displayName||n.name:n.name||e&&n.__name}function CD(n){return Ie(n)&&"__vccOpts"in n}const xt=(n,e)=>V2(n,e,$l);function Ed(n,e,t){const s=arguments.length;return s===2?wt(e)&&!ge(e)?vi(e)?le(n,null,[e]):le(n,e):le(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&vi(t)&&(t=[t]),le(n,e,t))}function OD(){}function AD(n,e,t,s){const r=t[s];if(r&&tT(r,n))return r;const i=e();return i.memo=n.slice(),i.cacheIndex=s,t[s]=i}function tT(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(zn(t[s],e[s]))return!1;return Ta>0&&Gn&&Gn.push(n),!0}const nT="3.5.13",MD=wn,ID=Y2,PD=al,DD=e_,RD={createComponentInstance:Y_,setupComponent:Q_,renderComponentRoot:Vf,setCurrentRenderingInstance:Ru,isVNode:vi,normalizeVNode:Es,getComponentPublicInstance:Sd,ensureValidVNode:fb,pushWarningContext:K2,popWarningContext:G2},ND=RD,LD=null,$D=null,FD=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let My;const Tx=typeof window<"u"&&window.trustedTypes;if(Tx)try{My=Tx.createPolicy("vue",{createHTML:n=>n})}catch{}const sT=My?n=>My.createHTML(n):n=>n,jD="http://www.w3.org/2000/svg",BD="http://www.w3.org/1998/Math/MathML",Zr=typeof document<"u"?document:null,Cx=Zr&&Zr.createElement("template"),VD={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const r=e==="svg"?Zr.createElementNS(jD,n):e==="mathml"?Zr.createElementNS(BD,n):t?Zr.createElement(n,{is:t}):Zr.createElement(n);return n==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:n=>Zr.createTextNode(n),createComment:n=>Zr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Zr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,r,i){const o=t?t.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===i||!(r=r.nextSibling)););else{Cx.innerHTML=sT(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const a=Cx.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},ki="transition",hc="animation",Fl=Symbol("_vtc"),rT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iT=rt({},ab,rT),zD=n=>(n.displayName="Transition",n.props=iT,n),yn=zD((n,{slots:e})=>Ed(a_,oT(n),e)),Lo=(n,e=[])=>{ge(n)?n.forEach(t=>t(...e)):n&&n(...e)},Ox=n=>n?ge(n)?n.some(e=>e.length>1):n.length>1:!1;function oT(n){const e={};for(const A in n)A in rT||(e[A]=n[A]);if(n.css===!1)return e;const{name:t="v",type:s,duration:r,enterFromClass:i=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=UD(r),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:S,onLeaveCancelled:w,onBeforeAppear:k=y,onAppear:T=b,onAppearCancelled:C=x}=e,E=(A,P,$,z)=>{A._enterCancelled=z,Oi(A,P?u:a),Oi(A,P?c:o),$&&$()},_=(A,P)=>{A._isLeaving=!1,Oi(A,d),Oi(A,h),Oi(A,f),P&&P()},O=A=>(P,$)=>{const z=A?T:b,D=()=>E(P,A,$);Lo(z,[P,D]),Ax(()=>{Oi(P,A?l:i),xr(P,A?u:a),Ox(z)||Mx(P,s,g,D)})};return rt(e,{onBeforeEnter(A){Lo(y,[A]),xr(A,i),xr(A,o)},onBeforeAppear(A){Lo(k,[A]),xr(A,l),xr(A,c)},onEnter:O(!1),onAppear:O(!0),onLeave(A,P){A._isLeaving=!0;const $=()=>_(A,P);xr(A,d),A._enterCancelled?(xr(A,f),Iy()):(Iy(),xr(A,f)),Ax(()=>{A._isLeaving&&(Oi(A,d),xr(A,h),Ox(S)||Mx(A,s,m,$))}),Lo(S,[A,$])},onEnterCancelled(A){E(A,!1,void 0,!0),Lo(x,[A])},onAppearCancelled(A){E(A,!0,void 0,!0),Lo(C,[A])},onLeaveCancelled(A){_(A),Lo(w,[A])}})}function UD(n){if(n==null)return null;if(wt(n))return[em(n.enter),em(n.leave)];{const e=em(n);return[e,e]}}function em(n){return Ou(n)}function xr(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Fl]||(n[Fl]=new Set)).add(e)}function Oi(n,e){e.split(/\s+/).forEach(s=>s&&n.classList.remove(s));const t=n[Fl];t&&(t.delete(e),t.size||(n[Fl]=void 0))}function Ax(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let HD=0;function Mx(n,e,t,s){const r=n._endId=++HD,i=()=>{r===n._endId&&s()};if(t!=null)return setTimeout(i,t);const{type:o,timeout:a,propCount:l}=aT(n,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{n.removeEventListener(c,f),i()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,f)}function aT(n,e){const t=window.getComputedStyle(n),s=p=>(t[p]||"").split(", "),r=s(`${ki}Delay`),i=s(`${ki}Duration`),o=Ix(r,i),a=s(`${hc}Delay`),l=s(`${hc}Duration`),c=Ix(a,l);let u=null,d=0,f=0;e===ki?o>0&&(u=ki,d=o,f=i.length):e===hc?c>0&&(u=hc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?ki:hc:null,f=u?u===ki?i.length:l.length:0);const h=u===ki&&/\b(transform|all)(,|$)/.test(s(`${ki}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Ix(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,s)=>Px(t)+Px(n[s])))}function Px(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Iy(){return document.body.offsetHeight}function WD(n,e,t){const s=n[Fl];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Th=Symbol("_vod"),lT=Symbol("_vsh"),cT={beforeMount(n,{value:e},{transition:t}){n[Th]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):pc(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:s}){!e!=!t&&(s?e?(s.beforeEnter(n),pc(n,!0),s.enter(n)):s.leave(n,()=>{pc(n,!1)}):pc(n,e))},beforeUnmount(n,{value:e}){pc(n,e)}};function pc(n,e){n.style.display=e?n[Th]:"none",n[lT]=!e}function KD(){cT.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const uT=Symbol("");function GD(n){const e=Fs();if(!e)return;const t=e.ut=(r=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Ch(i,r))},s=()=>{const r=n(e.proxy);e.ce?Ch(e.ce,r):Py(e.subTree,r),t(r)};cb(()=>{Pu(s)}),zt(()=>{sn(s,wn,{flush:"post"});const r=new MutationObserver(s);r.observe(e.subTree.el.parentNode,{childList:!0}),za(()=>r.disconnect())})}function Py(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{Py(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Ch(n.el,e);else if(n.type===Pe)n.children.forEach(t=>Py(t,e));else if(n.type===ma){let{el:t,anchor:s}=n;for(;t&&(Ch(t,e),t!==s);)t=t.nextSibling}}function Ch(n,e){if(n.nodeType===1){const t=n.style;let s="";for(const r in e)t.setProperty(`--${r}`,e[r]),s+=`--${r}: ${e[r]};`;t[uT]=s}}const XD=/(^|;)\s*display\s*:/;function JD(n,e,t){const s=n.style,r=Le(t);let i=!1;if(t&&!r){if(e)if(Le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Uf(s,a,"")}else for(const o in e)t[o]==null&&Uf(s,o,"");for(const o in t)o==="display"&&(i=!0),Uf(s,o,t[o])}else if(r){if(e!==t){const o=s[uT];o&&(t+=";"+o),s.cssText=t,i=XD.test(t)}}else e&&n.removeAttribute("style");Th in n&&(n[Th]=i?s.display:"",n[lT]&&(s.display="none"))}const Dx=/\s*!important$/;function Uf(n,e,t){if(ge(t))t.forEach(s=>Uf(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=YD(n,e);Dx.test(t)?n.setProperty(Wn(s),t.replace(Dx,""),"important"):n[s]=t}}const Rx=["Webkit","Moz","ms"],tm={};function YD(n,e){const t=tm[e];if(t)return t;let s=It(e);if(s!=="filter"&&s in n)return tm[e]=s;s=Oo(s);for(let r=0;r<Rx.length;r++){const i=Rx[r]+s;if(i in n)return tm[e]=i}return e}const Nx="http://www.w3.org/1999/xlink";function Lx(n,e,t,s,r,i=Ck(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Nx,e.slice(6,e.length)):n.setAttributeNS(Nx,e,t):t==null||i&&!J0(t)?n.removeAttribute(e):n.setAttribute(e,i?"":ds(t)?String(t):t)}function $x(n,e,t,s,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?sT(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=J0(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(r||e)}function oi(n,e,t,s){n.addEventListener(e,t,s)}function qD(n,e,t,s){n.removeEventListener(e,t,s)}const Fx=Symbol("_vei");function QD(n,e,t,s,r=null){const i=n[Fx]||(n[Fx]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=ZD(e);if(s){const c=i[e]=nR(s,r);oi(n,a,c,l)}else o&&(qD(n,a,o,l),i[e]=void 0)}}const jx=/(?:Once|Passive|Capture)$/;function ZD(n){let e;if(jx.test(n)){e={};let s;for(;s=n.match(jx);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Wn(n.slice(2)),e]}let nm=0;const eR=Promise.resolve(),tR=()=>nm||(eR.then(()=>nm=0),nm=Date.now());function nR(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;tr(sR(s,t.value),e,5,[s])};return t.value=n,t.attached=tR(),t}function sR(n,e){if(ge(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Bx=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,rR=(n,e,t,s,r,i)=>{const o=r==="svg";e==="class"?WD(n,s,o):e==="style"?JD(n,t,s):To(e)?Fp(e)||QD(n,e,t,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iR(n,e,s,o))?($x(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Lx(n,e,s,o,i,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Le(s))?$x(n,It(e),s,i,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),Lx(n,e,s,o))};function iR(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Bx(e)&&Ie(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Bx(e)&&Le(t)?!1:e in n}const Vx={};/*! #__NO_SIDE_EFFECTS__ */function dT(n,e,t){const s=Ke(n,e);md(s)&&rt(s,e);class r extends eg{constructor(o){super(s,o,t)}}return r.def=s,r}/*! #__NO_SIDE_EFFECTS__ */const oR=(n,e)=>dT(n,e,ET),aR=typeof HTMLElement<"u"?HTMLElement:class{};class eg extends aR{constructor(e,t={},s=Ah){super(),this._def=e,this._props=t,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Ah?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof eg){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Br(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let a;if(i&&!ge(i))for(const l in i){const c=i[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ou(this._props[l])),(a||(a=Object.create(null)))[It(l)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const s in t)bt(this,s)||Object.defineProperty(this,s,{get:()=>te(t[s])})}_resolveProps(e){const{props:t}=e,s=ge(t)?t:Object.keys(t||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(It))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let s=t?this.getAttribute(e):Vx;const r=It(e);t&&this._numberProps&&this._numberProps[r]&&(s=Ou(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,s=!0,r=!1){if(t!==this._props[e]&&(t===Vx?delete this._props[e]:(this._props[e]=t,e==="key"&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),s)){const i=this._ob;i&&i.disconnect(),t===!0?this.setAttribute(Wn(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Wn(e),t+""):t||this.removeAttribute(Wn(e)),i&&i.observe(this,{attributes:!0})}}_update(){ST(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=le(this._def,rt(e,this._props));return this._instance||(t.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,md(o[0])?rt({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),Wn(i)!==i&&r(Wn(i),o)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const s=t.nodeType===1&&t.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],a=r.parentNode;if(o)for(const l of o){if(t&&l.nodeType===1){const c=t+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function fT(n){const e=Fs(),t=e&&e.ce;return t||null}function lR(){const n=fT();return n&&n.shadowRoot}function cR(n="$style"){{const e=Fs();if(!e)return st;const t=e.type.__cssModules;if(!t)return st;const s=t[n];return s||st}}const hT=new WeakMap,pT=new WeakMap,Oh=Symbol("_moveCb"),zx=Symbol("_enterCb"),uR=n=>(delete n.props.mode,n),dR=uR({name:"TransitionGroup",props:rt({},iT,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Fs(),s=ob();let r,i;return xd(()=>{if(!r.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!gR(r[0].el,t.vnode.el,o))return;r.forEach(fR),r.forEach(hR);const a=r.filter(pR);Iy(),a.forEach(l=>{const c=l.el,u=c.style;xr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Oh]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Oh]=null,Oi(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=dt(n),a=oT(o);let l=o.tag||Pe;if(r=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(r.push(u),bi(u,Ll(u,a,s,t)),hT.set(u,u.el.getBoundingClientRect()))}i=e.default?Yp(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&bi(u,Ll(u,a,s,t))}return le(l,null,i)}}}),bb=dR;function fR(n){const e=n.el;e[Oh]&&e[Oh](),e[zx]&&e[zx]()}function hR(n){pT.set(n,n.el.getBoundingClientRect())}function pR(n){const e=hT.get(n),t=pT.get(n),s=e.left-t.left,r=e.top-t.top;if(s||r){const i=n.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",n}}function gR(n,e,t){const s=n.cloneNode(),r=n[Fl];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:o}=aT(s);return i.removeChild(s),o}const wo=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ge(e)?t=>ha(e,t):e};function mR(n){n.target.composing=!0}function Ux(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qs=Symbol("_assign"),vn={created(n,{modifiers:{lazy:e,trim:t,number:s}},r){n[qs]=wo(r);const i=s||r.props&&r.props.type==="number";oi(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),i&&(a=Cu(a)),n[qs](a)}),t&&oi(n,"change",()=>{n.value=n.value.trim()}),e||(oi(n,"compositionstart",mR),oi(n,"compositionend",Ux),oi(n,"change",Ux))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:r,number:i}},o){if(n[qs]=wo(o),n.composing)return;const a=(i||n.type==="number")&&!/^0\d/.test(n.value)?Cu(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||r&&n.value.trim()===l)||(n.value=l))}},vb={deep:!0,created(n,e,t){n[qs]=wo(t),oi(n,"change",()=>{const s=n._modelValue,r=jl(n),i=n.checked,o=n[qs];if(ge(s)){const a=bd(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Co(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(gT(n,i))})},mounted:Hx,beforeUpdate(n,e,t){n[qs]=wo(t),Hx(n,e,t)}};function Hx(n,{value:e,oldValue:t},s){n._modelValue=e;let r;if(ge(e))r=bd(e,s.props.value)>-1;else if(Co(e))r=e.has(s.props.value);else{if(e===t)return;r=yi(e,gT(n,!0))}n.checked!==r&&(n.checked=r)}const xb={created(n,{value:e},t){n.checked=yi(e,t.props.value),n[qs]=wo(t),oi(n,"change",()=>{n[qs](jl(n))})},beforeUpdate(n,{value:e,oldValue:t},s){n[qs]=wo(s),e!==t&&(n.checked=yi(e,s.props.value))}},hr={deep:!0,created(n,{value:e,modifiers:{number:t}},s){const r=Co(e);oi(n,"change",()=>{const i=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Cu(jl(o)):jl(o));n[qs](n.multiple?r?new Set(i):i:i[0]),n._assigning=!0,Br(()=>{n._assigning=!1})}),n[qs]=wo(s)},mounted(n,{value:e}){Wx(n,e)},beforeUpdate(n,e,t){n[qs]=wo(t)},updated(n,{value:e}){n._assigning||Wx(n,e)}};function Wx(n,e){const t=n.multiple,s=ge(e);if(!(t&&!s&&!Co(e))){for(let r=0,i=n.options.length;r<i;r++){const o=n.options[r],a=jl(o);if(t)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=bd(e,a)>-1}else o.selected=e.has(a);else if(yi(jl(o),e)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function jl(n){return"_value"in n?n._value:n.value}function gT(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const mT={created(n,e,t){Qd(n,e,t,null,"created")},mounted(n,e,t){Qd(n,e,t,null,"mounted")},beforeUpdate(n,e,t,s){Qd(n,e,t,s,"beforeUpdate")},updated(n,e,t,s){Qd(n,e,t,s,"updated")}};function yT(n,e){switch(n){case"SELECT":return hr;case"TEXTAREA":return vn;default:switch(e){case"checkbox":return vb;case"radio":return xb;default:return vn}}}function Qd(n,e,t,s,r){const o=yT(n.tagName,t.props&&t.props.type)[r];o&&o(n,e,t,s)}function yR(){vn.getSSRProps=({value:n})=>({value:n}),xb.getSSRProps=({value:n},e)=>{if(e.props&&yi(e.props.value,n))return{checked:!0}},vb.getSSRProps=({value:n},e)=>{if(ge(n)){if(e.props&&bd(n,e.props.value)>-1)return{checked:!0}}else if(Co(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},mT.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=yT(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const bR=["ctrl","shift","alt","meta"],vR={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>bR.some(t=>n[`${t}Key`]&&!e.includes(t))},ln=(n,e)=>{const t=n._withMods||(n._withMods={}),s=e.join(".");return t[s]||(t[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=vR[e[o]];if(a&&a(r,e))return}return n(r,...i)})},xR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bT=(n,e)=>{const t=n._withKeys||(n._withKeys={}),s=e.join(".");return t[s]||(t[s]=r=>{if(!("key"in r))return;const i=Wn(r.key);if(e.some(o=>o===i||xR[o]===i))return n(r)})},vT=rt({patchProp:rR},VD);let su,Kx=!1;function xT(){return su||(su=I_(vT))}function wT(){return su=Kx?su:P_(vT),Kx=!0,su}const ST=(...n)=>{xT().render(...n)},wR=(...n)=>{wT().hydrate(...n)},Ah=(...n)=>{const e=xT().createApp(...n),{mount:t}=e;return e.mount=s=>{const r=_T(s);if(!r)return;const i=e._component;!Ie(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=t(r,!1,kT(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},ET=(...n)=>{const e=wT().createApp(...n),{mount:t}=e;return e.mount=s=>{const r=_T(s);if(r)return t(r,!0,kT(r))},e};function kT(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function _T(n){return Le(n)?document.querySelector(n):n}let Gx=!1;const SR=()=>{Gx||(Gx=!0,yR(),KD())},ER=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:a_,BaseTransitionPropsValidators:ab,Comment:an,DeprecationTypes:FD,EffectScope:Y0,ErrorCodes:J2,ErrorTypeStrings:ID,Fragment:Pe,KeepAlive:wP,ReactiveEffect:Au,Static:ma,Suspense:hD,Teleport:sP,Text:uo,TrackOpTypes:z2,Transition:yn,TransitionGroup:bb,TriggerOpTypes:U2,VueElement:eg,assertNumber:X2,callWithAsyncErrorHandling:tr,callWithErrorHandling:oc,camelize:It,capitalize:Oo,cloneVNode:Nr,compatUtils:$D,computed:xt,createApp:Ah,createBlock:Qn,createCommentVNode:Ce,createElementBlock:L,createElementVNode:v,createHydrationRenderer:P_,createPropsRestProxy:VP,createRenderer:I_,createSSRApp:ET,createSlots:TP,createStaticVNode:mb,createTextVNode:Xn,createVNode:le,customRef:rb,defineAsyncComponent:vP,defineComponent:Ke,defineCustomElement:dT,defineEmits:IP,defineExpose:PP,defineModel:NP,defineOptions:DP,defineProps:MP,defineSSRCustomElement:oR,defineSlots:RP,devtools:PD,effect:u2,effectScope:a2,getCurrentInstance:Fs,getCurrentScope:Ik,getCurrentWatcher:H2,getTransitionRawChildren:Yp,guardReactiveProps:X_,h:Ed,handleError:Va,hasInjectionContext:YP,hydrate:wR,hydrateOnIdle:hP,hydrateOnInteraction:yP,hydrateOnMediaQuery:mP,hydrateOnVisible:gP,initCustomFormatter:OD,initDirectivesForSSR:SR,inject:Ys,isMemoSame:tT,isProxy:Gp,isReactive:lo,isReadonly:xo,isRef:nn,isRuntimeOnly:_D,isShallow:$s,isVNode:vi,markRaw:nb,mergeDefaults:jP,mergeModels:BP,mergeProps:J_,nextTick:Br,normalizeClass:ke,normalizeProps:wk,normalizeStyle:ja,onActivated:c_,onBeforeMount:f_,onBeforeUnmount:ac,onBeforeUpdate:cb,onDeactivated:u_,onErrorCaptured:m_,onMounted:zt,onRenderTracked:g_,onRenderTriggered:p_,onScopeDispose:l2,onServerPrefetch:h_,onUnmounted:za,onUpdated:xd,onWatcherCleanup:Jk,openBlock:R,popScopeId:eP,provide:tu,proxyRefs:sb,pushScopeId:Z2,queuePostFlushCb:Pu,reactive:Ba,readonly:tb,ref:B,registerRuntimeCompiler:kD,render:ST,renderList:Et,renderSlot:CP,resolveComponent:y_,resolveDirective:_P,resolveDynamicComponent:kP,resolveFilter:LD,resolveTransitionHooks:Ll,setBlockTracking:ky,setDevtoolsHook:DD,setTransitionHooks:bi,shallowReactive:eb,shallowReadonly:M2,shallowRef:Xp,ssrContextKey:L_,ssrUtils:ND,stop:d2,toDisplayString:ae,toHandlerKey:fa,toHandlers:OP,toRaw:dt,toRef:j2,toRefs:L2,toValue:D2,transformVNodeArgs:vD,triggerRef:P2,unref:te,useAttrs:FP,useCssModule:cR,useCssVars:GD,useHost:fT,useId:iP,useModel:oD,useSSRContext:$_,useShadowRoot:lR,useSlots:$P,useTemplateRef:oP,useTransitionState:ob,vModelCheckbox:vb,vModelDynamic:mT,vModelRadio:xb,vModelSelect:hr,vModelText:vn,vShow:cT,version:nT,warn:MD,watch:sn,watchEffect:F_,watchPostEffect:rD,watchSyncEffect:j_,withAsyncContext:zP,withCtx:Ht,withDefaults:LP,withDirectives:jt,withKeys:bT,withMemo:AD,withModifiers:ln,withScopeId:tP},Symbol.toStringTag,{value:"Module"})),kR="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Слой_1'%3e%3ctitle%3eСлой%201%3c/title%3e%3cg%20stroke='null'%20id='svg_11'%3e%3cpath%20stroke='%23ffffff'%20id='svg_1'%20d='m15.07721,85.22714c0.37879,-28.0302%2031.43928,-32.42412%2031.13625,-70.45428'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(58.0776%2042.5782%2046.1363)'%20stroke='%23ffffff'%20id='svg_2'%20d='m29.37147,74.13282c0.30257,-21.80624%2026.65382,-26.4072%2026.41177,-55.99296'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(-1.17463%2050.4191%2073.5226)'%20stroke='%23ffffff'%20id='svg_7'%20d='m44.26256,84.72832c0.14105,-8.72805%2012.42508,-10.56961%2012.31224,-22.41144'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(-1.17463%2081.7826%2073.5226)'%20stroke='%23ffffff'%20id='svg_8'%20d='m75.62608,84.72832c0.14104,-8.72806%2012.42507,-10.56961%2012.31224,-22.41145'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='10'%20fill='none'/%3e%3cpath%20transform='rotate(56.4777%2075.7603%2071.9324)'%20stroke='%23ffffff'%20id='svg_9'%20d='m71.74036,81.14625c6.26383,-9.08573%208.11151,-8.69085%208.03785,-18.42778'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='7'%20fill='none'/%3e%3cpath%20transform='rotate(0.765917%2068.9174%2069.889)'%20stroke='%23ffffff'%20id='svg_10'%20d='m64.89821,77.2818c0.09208,-5.75823%208.11151,-6.97317%208.03785,-14.78568'%20opacity='undefined'%20stroke-linecap='undefined'%20stroke-linejoin='undefined'%20stroke-width='7'%20fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_R="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Слой_1'%3e%3ctitle%3eСлой%201%3c/title%3e%3cg%20id='svg_11'%20stroke='null'%3e%3cpath%20fill='none'%20stroke-width='10'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m15.07721,85.22714c0.37879,-28.0302%2031.43928,-32.42412%2031.13625,-70.45428'%20id='svg_1'%20stroke='%23000000'/%3e%3cpath%20transform='rotate(58.0776%2042.5782%2046.1363)'%20fill='none'%20stroke-width='10'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m29.37147,74.13282c0.30257,-21.80624%2026.65382,-26.4072%2026.41177,-55.99296'%20id='svg_2'%20stroke='%23000000'/%3e%3cpath%20transform='rotate(-1.17463%2050.4191%2073.5226)'%20fill='none'%20stroke-width='10'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m44.26256,84.72832c0.14105,-8.72805%2012.42508,-10.56961%2012.31224,-22.41144'%20id='svg_7'%20stroke='%23000000'/%3e%3cpath%20transform='rotate(-1.17463%2081.7826%2073.5226)'%20fill='none'%20stroke-width='10'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m75.62608,84.72832c0.14104,-8.72806%2012.42507,-10.56961%2012.31224,-22.41145'%20id='svg_8'%20stroke='%23000000'/%3e%3cpath%20transform='rotate(56.4777%2075.7603%2071.9324)'%20fill='none'%20stroke-width='7'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m71.74036,81.14625c6.26383,-9.08573%208.11151,-8.69085%208.03785,-18.42778'%20id='svg_9'%20stroke='%23000000'/%3e%3cpath%20transform='rotate(0.765917%2068.9174%2069.889)'%20fill='none'%20stroke-width='7'%20stroke-linejoin='undefined'%20stroke-linecap='undefined'%20opacity='undefined'%20d='m64.89821,77.2818c0.09208,-5.75823%208.11151,-6.97317%208.03785,-14.78568'%20id='svg_10'%20stroke='%23000000'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ll=typeof document<"u";function TT(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function TR(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&TT(n.default)}const St=Object.assign;function sm(n,e){const t={};for(const s in e){const r=e[s];t[s]=br(r)?r.map(n):n(r)}return t}const ru=()=>{},br=Array.isArray,CT=/#/g,CR=/&/g,OR=/\//g,AR=/=/g,MR=/\?/g,OT=/\+/g,IR=/%5B/g,PR=/%5D/g,AT=/%5E/g,DR=/%60/g,MT=/%7B/g,RR=/%7C/g,IT=/%7D/g,NR=/%20/g;function wb(n){return encodeURI(""+n).replace(RR,"|").replace(IR,"[").replace(PR,"]")}function LR(n){return wb(n).replace(MT,"{").replace(IT,"}").replace(AT,"^")}function Dy(n){return wb(n).replace(OT,"%2B").replace(NR,"+").replace(CT,"%23").replace(CR,"%26").replace(DR,"`").replace(MT,"{").replace(IT,"}").replace(AT,"^")}function $R(n){return Dy(n).replace(AR,"%3D")}function FR(n){return wb(n).replace(CT,"%23").replace(MR,"%3F")}function jR(n){return n==null?"":FR(n).replace(OR,"%2F")}function Fu(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const BR=/\/$/,VR=n=>n.replace(BR,"");function rm(n,e,t="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=n(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=WR(s??e,t),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Fu(o)}}function zR(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Xx(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function UR(n,e,t){const s=e.matched.length-1,r=t.matched.length-1;return s>-1&&s===r&&Bl(e.matched[s],t.matched[r])&&PT(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Bl(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function PT(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!HR(n[t],e[t]))return!1;return!0}function HR(n,e){return br(n)?Jx(n,e):br(e)?Jx(e,n):n===e}function Jx(n,e){return br(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function WR(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=t.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const _i={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ju;(function(n){n.pop="pop",n.push="push"})(ju||(ju={}));var iu;(function(n){n.back="back",n.forward="forward",n.unknown=""})(iu||(iu={}));function KR(n){if(!n)if(ll){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),VR(n)}const GR=/^[^#]+#/;function XR(n,e){return n.replace(GR,"#")+e}function JR(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const tg=()=>({left:window.scrollX,top:window.scrollY});function YR(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=JR(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Yx(n,e){return(history.state?history.state.position-e:-1)+n}const Ry=new Map;function qR(n,e){Ry.set(n,e)}function QR(n){const e=Ry.get(n);return Ry.delete(n),e}let ZR=()=>location.protocol+"//"+location.host;function DT(n,e){const{pathname:t,search:s,hash:r}=e,i=n.indexOf("#");if(i>-1){let a=r.includes(n.slice(i))?n.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Xx(l,"")}return Xx(t,n)+s+r}function eN(n,e,t,s){let r=[],i=[],o=null;const a=({state:f})=>{const h=DT(n,location),p=t.value,g=e.value;let m=0;if(f){if(t.value=h,e.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else s(h);r.forEach(y=>{y(t.value,p,{delta:m,type:ju.pop,direction:m?m>0?iu.forward:iu.back:iu.unknown})})};function l(){o=t.value}function c(f){r.push(f);const h=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(St({},f.state,{scroll:tg()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function qx(n,e,t,s=!1,r=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:r?tg():null}}function tN(n){const{history:e,location:t}=window,s={value:DT(n,t)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=n.indexOf("#"),f=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+l:ZR()+n+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(h){console.error(h),t[u?"replace":"assign"](f)}}function o(l,c){const u=St({},e.state,qx(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=St({},r.value,e.state,{forward:l,scroll:tg()});i(u.current,u,!0);const d=St({},qx(s.value,l,null),{position:u.position+1},c);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function nN(n){n=KR(n);const e=tN(n),t=eN(n,e.state,e.location,e.replace);function s(i,o=!0){o||t.pauseListeners(),history.go(i)}const r=St({location:"",base:n,go:s,createHref:XR.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function sN(n){return typeof n=="string"||n&&typeof n=="object"}function RT(n){return typeof n=="string"||typeof n=="symbol"}const NT=Symbol("");var Qx;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Qx||(Qx={}));function Vl(n,e){return St(new Error,{type:n,[NT]:!0},e)}function zr(n,e){return n instanceof Error&&NT in n&&(e==null||!!(n.type&e))}const Zx="[^/]+?",rN={sensitive:!1,strict:!1,start:!0,end:!0},iN=/[.+*?^${}()[\]/\\]/g;function oN(n,e){const t=St({},rN,e),s=[];let r=t.start?"^":"";const i=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(t.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(iN,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=f;i.push({name:p,repeatable:g,optional:m});const b=y||Zx;if(b!==Zx){h+=10;try{new RegExp(`(${b})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+S.message)}}let x=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(x=m&&c.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),r+=x,h+=20,m&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(t.strict&&t.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,t.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of n){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:m}=h,y=p in c?c[p]:"";if(br(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=br(y)?y.join("/"):y;if(!b)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function aN(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function LT(n,e){let t=0;const s=n.score,r=e.score;for(;t<s.length&&t<r.length;){const i=aN(s[t],r[t]);if(i)return i;t++}if(Math.abs(r.length-s.length)===1){if(e1(s))return 1;if(e1(r))return-1}return r.length-s.length}function e1(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const lN={type:0,value:""},cN=/[a-zA-Z0-9_]/;function uN(n){if(!n)return[[]];if(n==="/")return[[lN]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(h){throw new Error(`ERR (${t})/"${c}": ${h}`)}let t=0,s=t;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(t===0?i.push({type:0,value:c}):t===1||t===2||t===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){s=t,t=4;continue}switch(t){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),t=1):f();break;case 4:f(),t=s;break;case 1:l==="("?t=2:cN.test(l)?f():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function dN(n,e,t){const s=oN(uN(n.path),t),r=St(s,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function fN(n,e){const t=[],s=new Map;e=r1({strict:!1,end:!0,sensitive:!1},e);function r(d){return s.get(d)}function i(d,f,h){const p=!h,g=n1(d);g.aliasOf=h&&h.record;const m=r1(e,d),y=[g];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of S)y.push(n1(St({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g})))}let b,x;for(const S of y){const{path:w}=S;if(f&&w[0]!=="/"){const k=f.record.path,T=k[k.length-1]==="/"?"":"/";S.path=f.record.path+(w&&T+w)}if(b=dN(S,f,m),h?h.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),p&&d.name&&!s1(b)&&o(d.name)),$T(b)&&l(b),g.children){const k=g.children;for(let T=0;T<k.length;T++)i(k[T],b,h&&h.children[T])}h=h||b}return x?()=>{o(x)}:ru}function o(d){if(RT(d)){const f=s.get(d);f&&(s.delete(d),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(d);f>-1&&(t.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return t}function l(d){const f=gN(d,t);t.splice(f,0,d),d.record.name&&!s1(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},g,m;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Vl(1,{location:d});m=h.record.name,p=St(t1(f.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&t1(d.params,h.keys.map(x=>x.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=t.find(x=>x.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?s.get(f.name):t.find(x=>x.re.test(f.path)),!h)throw Vl(1,{location:d,currentLocation:f});m=h.record.name,p=St({},f.params,d.params),g=h.stringify(p)}const y=[];let b=h;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:y,meta:pN(y)}}n.forEach(d=>i(d));function u(){t.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function t1(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function n1(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:hN(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hN(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function s1(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function pN(n){return n.reduce((e,t)=>St(e,t.meta),{})}function r1(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}function gN(n,e){let t=0,s=e.length;for(;t!==s;){const i=t+s>>1;LT(n,e[i])<0?s=i:t=i+1}const r=mN(n);return r&&(s=e.lastIndexOf(r,s-1)),s}function mN(n){let e=n;for(;e=e.parent;)if($T(e)&&LT(n,e)===0)return e}function $T({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function yN(n){const e={};if(n===""||n==="?")return e;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(OT," "),o=i.indexOf("="),a=Fu(o<0?i:i.slice(0,o)),l=o<0?null:Fu(i.slice(o+1));if(a in e){let c=e[a];br(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function i1(n){let e="";for(let t in n){const s=n[t];if(t=$R(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(br(s)?s.map(i=>i&&Dy(i)):[s&&Dy(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function bN(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=br(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const vN=Symbol(""),o1=Symbol(""),ng=Symbol(""),Sb=Symbol(""),Ny=Symbol("");function gc(){let n=[];function e(s){return n.push(s),()=>{const r=n.indexOf(s);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function $i(n,e,t,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Vl(4,{from:t,to:e})):f instanceof Error?l(f):sN(f)?l(Vl(2,{from:e,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>n.call(s&&s.instances[r],e,t,c));let d=Promise.resolve(u);n.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function im(n,e,t,s,r=i=>i()){const i=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(TT(l)){const u=(l.__vccOpts||l)[e];u&&i.push($i(u,t,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=TR(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&$i(h,t,s,o,a,r)()}))}}return i}function a1(n){const e=Ys(ng),t=Ys(Sb),s=xt(()=>{const l=te(n.to);return e.resolve(l)}),r=xt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=t.matched;if(!u||!d.length)return-1;const f=d.findIndex(Bl.bind(null,u));if(f>-1)return f;const h=l1(l[c-2]);return c>1&&l1(u)===h&&d[d.length-1].path!==h?d.findIndex(Bl.bind(null,l[c-2])):f}),i=xt(()=>r.value>-1&&kN(t.params,s.value.params)),o=xt(()=>r.value>-1&&r.value===t.matched.length-1&&PT(t.params,s.value.params));function a(l={}){if(EN(l)){const c=e[te(n.replace)?"replace":"push"](te(n.to)).catch(ru);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:xt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function xN(n){return n.length===1?n[0]:n}const wN=Ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:a1,setup(n,{slots:e}){const t=Ba(a1(n)),{options:s}=Ys(ng),r=xt(()=>({[c1(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[c1(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&xN(e.default(t));return n.custom?i:Ed("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},i)}}}),SN=wN;function EN(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function kN(n,e){for(const t in e){const s=e[t],r=n[t];if(typeof s=="string"){if(s!==r)return!1}else if(!br(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function l1(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const c1=(n,e,t)=>n??e??t,_N=Ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=Ys(Ny),r=xt(()=>n.route||s.value),i=Ys(o1,0),o=xt(()=>{let c=te(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=xt(()=>r.value.matched[o.value]);tu(o1,xt(()=>o.value+1)),tu(vN,a),tu(Ny,r);const l=B();return sn(()=>[l.value,a.value,n.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Bl(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,d=a.value,f=d&&d.components[u];if(!f)return u1(t.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=Ed(f,St({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return u1(t.default,{Component:m,route:c})||m}}});function u1(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const TN=_N;function CN(n){const e=fN(n.routes,n),t=n.parseQuery||yN,s=n.stringifyQuery||i1,r=n.history,i=gc(),o=gc(),a=gc(),l=Xp(_i);let c=_i;ll&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=sm.bind(null,H=>""+H),d=sm.bind(null,jR),f=sm.bind(null,Fu);function h(H,de){let ie,ye;return RT(H)?(ie=e.getRecordMatcher(H),ye=de):ye=H,e.addRoute(ye,ie)}function p(H){const de=e.getRecordMatcher(H);de&&e.removeRoute(de)}function g(){return e.getRoutes().map(H=>H.record)}function m(H){return!!e.getRecordMatcher(H)}function y(H,de){if(de=St({},de||l.value),typeof H=="string"){const I=rm(t,H,de.path),j=e.resolve({path:I.path},de),Y=r.createHref(I.fullPath);return St(I,j,{params:f(j.params),hash:Fu(I.hash),redirectedFrom:void 0,href:Y})}let ie;if(H.path!=null)ie=St({},H,{path:rm(t,H.path,de.path).path});else{const I=St({},H.params);for(const j in I)I[j]==null&&delete I[j];ie=St({},H,{params:d(I)}),de.params=d(de.params)}const ye=e.resolve(ie,de),et=H.hash||"";ye.params=u(f(ye.params));const ft=zR(s,St({},H,{hash:LR(et),path:ye.path})),M=r.createHref(ft);return St({fullPath:ft,hash:et,query:s===i1?bN(H.query):H.query||{}},ye,{redirectedFrom:void 0,href:M})}function b(H){return typeof H=="string"?rm(t,H,l.value.path):St({},H)}function x(H,de){if(c!==H)return Vl(8,{from:de,to:H})}function S(H){return T(H)}function w(H){return S(St(b(H),{replace:!0}))}function k(H){const de=H.matched[H.matched.length-1];if(de&&de.redirect){const{redirect:ie}=de;let ye=typeof ie=="function"?ie(H):ie;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=b(ye):{path:ye},ye.params={}),St({query:H.query,hash:H.hash,params:ye.path!=null?{}:H.params},ye)}}function T(H,de){const ie=c=y(H),ye=l.value,et=H.state,ft=H.force,M=H.replace===!0,I=k(ie);if(I)return T(St(b(I),{state:typeof I=="object"?St({},et,I.state):et,force:ft,replace:M}),de||ie);const j=ie;j.redirectedFrom=de;let Y;return!ft&&UR(s,ye,ie)&&(Y=Vl(16,{to:j,from:ye}),ue(ye,ye,!0,!1)),(Y?Promise.resolve(Y):_(j,ye)).catch(W=>zr(W)?zr(W,2)?W:Ge(W):J(W,j,ye)).then(W=>{if(W){if(zr(W,2))return T(St({replace:M},b(W.to),{state:typeof W.to=="object"?St({},et,W.to.state):et,force:ft}),de||j)}else W=A(j,ye,!0,M,et);return O(j,ye,W),W})}function C(H,de){const ie=x(H,de);return ie?Promise.reject(ie):Promise.resolve()}function E(H){const de=Xe.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(H):H()}function _(H,de){let ie;const[ye,et,ft]=ON(H,de);ie=im(ye.reverse(),"beforeRouteLeave",H,de);for(const I of ye)I.leaveGuards.forEach(j=>{ie.push($i(j,H,de))});const M=C.bind(null,H,de);return ie.push(M),$e(ie).then(()=>{ie=[];for(const I of i.list())ie.push($i(I,H,de));return ie.push(M),$e(ie)}).then(()=>{ie=im(et,"beforeRouteUpdate",H,de);for(const I of et)I.updateGuards.forEach(j=>{ie.push($i(j,H,de))});return ie.push(M),$e(ie)}).then(()=>{ie=[];for(const I of ft)if(I.beforeEnter)if(br(I.beforeEnter))for(const j of I.beforeEnter)ie.push($i(j,H,de));else ie.push($i(I.beforeEnter,H,de));return ie.push(M),$e(ie)}).then(()=>(H.matched.forEach(I=>I.enterCallbacks={}),ie=im(ft,"beforeRouteEnter",H,de,E),ie.push(M),$e(ie))).then(()=>{ie=[];for(const I of o.list())ie.push($i(I,H,de));return ie.push(M),$e(ie)}).catch(I=>zr(I,8)?I:Promise.reject(I))}function O(H,de,ie){a.list().forEach(ye=>E(()=>ye(H,de,ie)))}function A(H,de,ie,ye,et){const ft=x(H,de);if(ft)return ft;const M=de===_i,I=ll?history.state:{};ie&&(ye||M?r.replace(H.fullPath,St({scroll:M&&I&&I.scroll},et)):r.push(H.fullPath,et)),l.value=H,ue(H,de,ie,M),Ge()}let P;function $(){P||(P=r.listen((H,de,ie)=>{if(!at.listening)return;const ye=y(H),et=k(ye);if(et){T(St(et,{replace:!0,force:!0}),ye).catch(ru);return}c=ye;const ft=l.value;ll&&qR(Yx(ft.fullPath,ie.delta),tg()),_(ye,ft).catch(M=>zr(M,12)?M:zr(M,2)?(T(St(b(M.to),{force:!0}),ye).then(I=>{zr(I,20)&&!ie.delta&&ie.type===ju.pop&&r.go(-1,!1)}).catch(ru),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),J(M,ye,ft))).then(M=>{M=M||A(ye,ft,!1),M&&(ie.delta&&!zr(M,8)?r.go(-ie.delta,!1):ie.type===ju.pop&&zr(M,20)&&r.go(-1,!1)),O(ye,ft,M)}).catch(ru)}))}let z=gc(),D=gc(),U;function J(H,de,ie){Ge(H);const ye=D.list();return ye.length?ye.forEach(et=>et(H,de,ie)):console.error(H),Promise.reject(H)}function be(){return U&&l.value!==_i?Promise.resolve():new Promise((H,de)=>{z.add([H,de])})}function Ge(H){return U||(U=!H,$(),z.list().forEach(([de,ie])=>H?ie(H):de()),z.reset()),H}function ue(H,de,ie,ye){const{scrollBehavior:et}=n;if(!ll||!et)return Promise.resolve();const ft=!ie&&QR(Yx(H.fullPath,0))||(ye||!ie)&&history.state&&history.state.scroll||null;return Br().then(()=>et(H,de,ft)).then(M=>M&&YR(M)).catch(M=>J(M,H,de))}const G=H=>r.go(H);let oe;const Xe=new Set,at={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:n,push:S,replace:w,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:be,install(H){const de=this;H.component("RouterLink",SN),H.component("RouterView",TN),H.config.globalProperties.$router=de,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>te(l)}),ll&&!oe&&l.value===_i&&(oe=!0,S(r.location).catch(et=>{}));const ie={};for(const et in _i)Object.defineProperty(ie,et,{get:()=>l.value[et],enumerable:!0});H.provide(ng,de),H.provide(Sb,eb(ie)),H.provide(Ny,l);const ye=H.unmount;Xe.add(H),H.unmount=function(){Xe.delete(H),Xe.size<1&&(c=_i,P&&P(),P=null,l.value=_i,oe=!1,U=!1),ye()}}};function $e(H){return H.reduce((de,ie)=>de.then(()=>E(ie)),Promise.resolve())}return at}function ON(n,e){const t=[],s=[],r=[],i=Math.max(e.matched.length,n.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(n.matched.find(c=>Bl(c,a))?s.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>Bl(c,l))||r.push(l))}return[t,s,r]}function js(){return Ys(ng)}function wi(n){return Ys(Sb)}const AN="modulepreload",MN=function(n){return"/"+n},d1={},zl=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=MN(l),l in d1)return;d1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":AN,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},IN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>zl(async()=>{const{default:s}=await Promise.resolve().then(()=>lc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Eb extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class PN extends Eb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class DN extends Eb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RN extends Eb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ly;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ly||(Ly={}));var NN=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class LN{constructor(e,{headers:t={},customFetch:s,region:r=Ly.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=IN(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return NN(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(p=>{throw new PN(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new DN(u);if(!u.ok)throw new RN(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}})}}function FT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function kd(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var On={},mc={},yc={},bc={},vc={},xc={},$N=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ul=$N();const FN=Ul.fetch,jT=Ul.fetch.bind(Ul),BT=Ul.Headers,jN=Ul.Request,BN=Ul.Response,lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:BT,Request:jN,Response:BN,default:jT,fetch:FN},Symbol.toStringTag,{value:"Module"})),VN=kd(lc);var Zd={},f1;function VT(){if(f1)return Zd;f1=1,Object.defineProperty(Zd,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Zd.default=n,Zd}var h1;function zT(){if(h1)return xc;h1=1;var n=xc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xc,"__esModule",{value:!0});const e=n(VN),t=n(VT());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,p=null,g=null,m=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const w=await c.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=w:p=JSON.parse(w))}const x=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{h=JSON.parse(x),Array.isArray(h)&&c.status===404&&(p=[],h=null,m=200,y="OK")}catch{c.status===404&&x===""?(m=204,y="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,m=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:p,count:g,status:m,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return xc.default=s,xc}var p1;function UT(){if(p1)return vc;p1=1;var n=vc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vc,"__esModule",{value:!0});const e=n(zT());class t extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(c,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return vc.default=t,vc}var g1;function kb(){if(g1)return bc;g1=1;var n=bc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(bc,"__esModule",{value:!0});const e=n(UT());class t extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${c}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return bc.default=t,bc}var m1;function HT(){if(m1)return yc;m1=1;var n=yc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yc,"__esModule",{value:!0});const e=n(kb());class t{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(r??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const c=r.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(r)){const d=r.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yc.default=t,yc}var wc={},Sc={},y1;function zN(){return y1||(y1=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.version=void 0,Sc.version="0.0.0-automated"),Sc}var b1;function UN(){if(b1)return wc;b1=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.DEFAULT_HEADERS=void 0;const n=zN();return wc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},wc}var v1;function HN(){if(v1)return mc;v1=1;var n=mc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mc,"__esModule",{value:!0});const e=n(HT()),t=n(kb()),s=UN();class r{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{f.searchParams.append(g,m)})):(d="POST",h=a);const p=Object.assign({},this.headers);return u&&(p.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return mc.default=r,mc}var x1;function WN(){if(x1)return On;x1=1;var n=On.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(On,"__esModule",{value:!0}),On.PostgrestError=On.PostgrestBuilder=On.PostgrestTransformBuilder=On.PostgrestFilterBuilder=On.PostgrestQueryBuilder=On.PostgrestClient=void 0;const e=n(HN());On.PostgrestClient=e.default;const t=n(HT());On.PostgrestQueryBuilder=t.default;const s=n(kb());On.PostgrestFilterBuilder=s.default;const r=n(UT());On.PostgrestTransformBuilder=r.default;const i=n(zT());On.PostgrestBuilder=i.default;const o=n(VT());return On.PostgrestError=o.default,On.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},On}var KN=WN();const GN=FT(KN),{PostgrestClient:XN,PostgrestQueryBuilder:vQ,PostgrestFilterBuilder:xQ,PostgrestTransformBuilder:wQ,PostgrestBuilder:SQ,PostgrestError:EQ}=GN,JN="2.11.2",YN={"X-Client-Info":`realtime-js/${JN}`},qN="1.0.0",WT=1e4,QN=1e3;var xl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(xl||(xl={}));var Ms;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ms||(Ms={}));var cr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(cr||(cr={}));var $y;(function(n){n.websocket="websocket"})($y||($y={}));var Yo;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Yo||(Yo={}));class ZN{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class KT{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ot||(Ot={}));const w1=(n,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=eL(o,n,e,r),i),{})},eL=(n,e,t,s)=>{const r=e.find(a=>a.name===n),i=r==null?void 0:r.type,o=t[n];return i&&!s.includes(i)?GT(i,o):Fy(o)},GT=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return rL(e,t)}switch(n){case Ot.bool:return tL(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return nL(e);case Ot.json:case Ot.jsonb:return sL(e);case Ot.timestamp:return iL(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return Fy(e);default:return Fy(e)}},Fy=n=>n,tL=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},nL=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},sL=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},rL=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>GT(e,a))}return n},iL=n=>typeof n=="string"?n.replace(" ","T"):n,XT=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class om{constructor(e,t,s={},r=WT){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S1;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(S1||(S1={}));class ou{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ou.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=ou.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ou.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,t,s,r){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E1;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(E1||(E1={}));var k1;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(k1||(k1={}));var ei;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ei||(ei={}));class _b{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Ms.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new om(this,cr.join,this.params,this.timeout),this.rejoinTimer=new KT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ms.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ms.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ou(this),this.broadcastEndpointURL=XT(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ei.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ei.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(ei.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<h;g++){const m=f[g],{filter:{event:y,schema:b,table:x,filter:S}}=m,w=u&&u[g];if(w&&w.event===y&&w.schema===b&&w.table===x&&w.filter===S)p.push(Object.assign(Object.assign({},m),{id:w.id}));else{this.unsubscribe(),e==null||e(ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(ei.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ms.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new om(this,cr.leave,{},e);r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new om(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=cr;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,t,s);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var p,g,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(h=>h.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,g,m,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,w=(p=h.filter)===null||p===void 0?void 0:p.event;return S&&((g=t.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const S=(b=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:y,type:b,errors:x}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(p))}h.callback(f,s)})}_isClosed(){return this.state===Ms.closed}_isJoined(){return this.state===Ms.joined}_isJoining(){return this.state===Ms.joining}_isLeaving(){return this.state===Ms.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&_b.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cr.close,{},e)}_onError(e){this._on(cr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ms.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=w1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=w1(e.columns,e.old_record)),t}}const oL=()=>{},aL=typeof WebSocket<"u",lL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cL{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=YN,this.params={},this.timeout=WT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=oL,this.conn=null,this.sendBuffer=[],this.serializer=new ZN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>zl(async()=>{const{default:l}=await Promise.resolve().then(()=>lc);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$y.websocket}`,this.httpEndpoint=XT(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new KT(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(aL){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uL(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),zl(async()=>{const{default:e}=await import("./browser-Dba0q0ut.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qN}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return Yo.Connecting;case xl.open:return Yo.Open;case xl.closing:return Yo.Closing;default:return Yo.Closed}}isConnected(){return this.connectionState()===Yo.Open}channel(e,t={config:{}}){const s=new _b(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(cr.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(QN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:r,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([lL],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class uL{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Tb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class dL extends Tb{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jy extends Tb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var fL=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const JT=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>zl(async()=>{const{default:s}=await Promise.resolve().then(()=>lc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},hL=()=>fL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zl(()=>Promise.resolve().then(()=>lc),void 0)).Response:Response}),By=n=>{if(Array.isArray(n))return n.map(t=>By(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const r=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=By(s)}),e};var Ua=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const am=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),pL=(n,e,t)=>Ua(void 0,void 0,void 0,function*(){const s=yield hL();n instanceof s&&!(t!=null&&t.noResolveJson)?n.json().then(r=>{e(new dL(am(r),n.status||500))}).catch(r=>{e(new jy(am(r),r))}):e(new jy(am(n),n))}),gL=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),t))};function _d(n,e,t,s,r,i){return Ua(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,gL(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pL(l,a,s))})})}function Mh(n,e,t,s){return Ua(this,void 0,void 0,function*(){return _d(n,"GET",e,t,s)})}function Fi(n,e,t,s,r){return Ua(this,void 0,void 0,function*(){return _d(n,"POST",e,s,r,t)})}function mL(n,e,t,s,r){return Ua(this,void 0,void 0,function*(){return _d(n,"PUT",e,s,r,t)})}function yL(n,e,t,s){return Ua(this,void 0,void 0,function*(){return _d(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function YT(n,e,t,s,r){return Ua(this,void 0,void 0,function*(){return _d(n,"DELETE",e,s,r,t)})}var ys=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const bL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vL{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=JT(r)}uploadOrUpdate(e,t,s,r){return ys(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_1),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}upload(e,t,s){return ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return ys(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:_1.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(mn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ys(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=yield Fi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Tb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(mn(s))return{data:null,error:s};throw s}})}update(e,t,s){return ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return ys(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}copy(e,t,s){return ys(this,void 0,void 0,function*(){try{return{data:{path:(yield Fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return ys(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Fi(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return ys(this,void 0,void 0,function*(){try{const r=yield Fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}download(e,t){return ys(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Mh(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}info(e){return ys(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Mh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:By(s),error:null}}catch(s){if(mn(s))return{data:null,error:s};throw s}})}exists(e){return ys(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield yL(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(mn(s)&&s instanceof jy){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return ys(this,void 0,void 0,function*(){try{return{data:yield YT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}list(e,t,s){return ys(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},bL),t),{prefix:e||""});return{data:yield Fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const xL="2.7.1",wL={"X-Client-Info":`storage-js/${xL}`};var Ja=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class SL{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},wL),t),this.fetch=JT(s)}listBuckets(){return Ja(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ja(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ja(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(mn(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ja(this,void 0,void 0,function*(){try{return{data:yield mL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(mn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ja(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ja(this,void 0,void 0,function*(){try{return{data:yield YT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}}class EL extends SL{constructor(e,t={},s){super(e,t,s)}from(e){return new vL(this.url,this.headers,e,this.fetch)}}const kL="2.48.0";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const _L={"X-Client-Info":`supabase-js-${Lc}/${kL}`},TL={headers:_L},CL={schema:"public"},OL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AL={};var ML=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};const IL=n=>{let e;return n?e=n:typeof fetch>"u"?e=jT:e=fetch,(...t)=>e(...t)},PL=()=>typeof Headers>"u"?BT:Headers,DL=(n,e,t)=>{const s=IL(t),r=PL();return(i,o)=>ML(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var RL=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};function NL(n){return n.replace(/\/$/,"")}function LL(n,e){const{db:t,auth:s,realtime:r,global:i}=n,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),i),accessToken:()=>RL(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const qT="2.67.3",$L="http://localhost:9999",FL="supabase.auth.token",jL={"X-Client-Info":`gotrue-js/${qT}`},T1=10,Vy="X-Supabase-Api-Version",QT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function BL(n){return Math.round(Date.now()/1e3)+n}function VL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",$o={tested:!1,writable:!1},au=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($o.tested)return $o.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$o.tested=!0,$o.writable=!0}catch{$o.tested=!0,$o.writable=!1}return $o.writable};function zL(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const ZT=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>zl(async()=>{const{default:s}=await Promise.resolve().then(()=>lc);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},UL=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",eC=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ef=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},tf=async(n,e)=>{await n.removeItem(e)};function HL(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,r,i,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),s=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|c,t=t+String.fromCharCode(s),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class sg{constructor(){this.promise=new sg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}sg.promiseConstructor=Promise;function C1(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(HL(s))}async function WL(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function KL(n,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function GL(n){return("0"+n.toString(16)).substr(-2)}function XL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let i=0;i<56;i++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,GL).join("")}async function JL(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function YL(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qL(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await JL(n);return YL(t)}async function Ya(n,e,t=!1){const s=XL();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await eC(n,`${e}-code-verifier`,r);const i=await qL(s);return[i,s===i?"plain":"s256"]}const QL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZL(n){const e=n.headers.get(Vy);if(!e||!e.match(QL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Cb extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Qe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class e$ extends Cb{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function t$(n){return Qe(n)&&n.name==="AuthApiError"}class tC extends Cb{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ha extends Cb{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class Ai extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n$(n){return Qe(n)&&n.name==="AuthSessionMissingError"}class lm extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nf extends Ha{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sf extends Ha{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s$(n){return Qe(n)&&n.name==="AuthImplicitGrantRedirectError"}class O1 extends Ha{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zy extends Ha{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function cm(n){return Qe(n)&&n.name==="AuthRetryableFetchError"}class A1 extends Ha{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var r$=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const Wo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),i$=[502,503,504];async function M1(n){var e;if(!UL(n))throw new zy(Wo(n),0);if(i$.includes(n.status))throw new zy(Wo(n),n.status);let t;try{t=await n.json()}catch(i){throw new tC(Wo(i),i)}let s;const r=ZL(n);if(r&&r.getTime()>=QT["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new A1(Wo(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ai}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new A1(Wo(t),n.status,t.weak_password.reasons);throw new e$(Wo(t),n.status||500,s)}const o$=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function ct(n,e,t,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Vy]||(i[Vy]=QT["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await a$(n,e,t+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function a$(n,e,t,s,r,i){const o=o$(e,s,r,i);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new zy(Wo(l),0)}if(a.ok||await M1(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await M1(l)}}function Mi(n){var e;let t=null;d$(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=BL(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function I1(n){const e=Mi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Hi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function l$(n){return{data:n,error:null}}function c$(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i}=n,o=r$(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function u$(n){return n}function d$(n){return n.access_token&&n.refresh_token&&n.expires_in}var f$=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};class h${constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=ZT(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=f$(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:c$,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Qe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hi})}catch(t){if(Qe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:u$});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Qe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hi})}catch(t){if(Qe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hi})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(Qe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}}}const p$={getItem:n=>au()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{au()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{au()&&globalThis.localStorage.removeItem(n)}};function P1(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function g$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qa={debug:!!(globalThis&&au()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m$ extends nC{}async function y$(n,e,t){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new m$(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(qa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}g$();const b$={url:$L,storageKey:FL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ec=30*1e3,D1=3;async function R1(n,e,t){return await t()}class Bu{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bu.nextInstanceID,Bu.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},b$),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new h$({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ZT(r.fetch),this.lock=r.lock||R1,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:wr()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=y$:this.lock=R1,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:au()?this.storage=p$:(this.memoryStorage={},this.storage=P1(this.memoryStorage)):(this.memoryStorage={},this.storage=P1(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=zL(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),wr()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),s$(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Qe(t)?{error:t}:{error:new tC("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Mi}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Qe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,r;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ya(this.storage,this.storageKey)),i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:Mi})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Mi})}else throw new nf("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:I1})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:I1})}else throw new nf("You must provide either an email or phone number and a password");const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new lm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await ef(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{const{data:i,error:o}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Mi});if(await tf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(Qe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:i,nonce:o}=e,a=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Mi}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new lm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ya(this.storage,this.storageKey));const{error:d}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new nf("You must provide either an email or phone number.")}catch(a){if(Qe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Mi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ya(this.storage,this.storageKey)),await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:l$})}catch(i){if(Qe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ai;const{error:r}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Qe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await ct(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await ct(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new nf("You must provide either an email or phone number and a type")}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ef(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hi}):await this._useSession(async t=>{var s,r,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Hi})})}catch(t){if(Qe(t))return n$(t)&&(await this._removeSession(),await tf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Ai;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ya(this.storage,this.storageKey));const{data:c,error:u}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Hi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Qe(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return C1(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ai;const t=Date.now()/1e3;let s=t,r=!0,i=null;const o=C1(e.access_token);if(o.exp&&(s=o.exp,r=s<=t),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Qe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ai;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!wr())throw new sf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new O1("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new sf("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Ec&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:m}=await this._getUser(i);if(m)throw m;const y={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(s){if(Qe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ef(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(t$(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=VL(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Ya(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Qe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return wr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Qe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:o}=t;if(o)throw o;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(Qe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await KL(async r=>(r>0&&await WL(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),(r,i)=>{const o=200*Math.pow(2,r);return i&&cm(i)&&Date.now()+o-s<Ec})}catch(s){if(this._debug(t,"error",s),Qe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),wr()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await ef(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+T1;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${T1}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),cm(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new sg;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),Qe(i)){const o={session:null,error:i};return cm(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await eC(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ec);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Ec);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ec}ms, refresh threshold is ${D1} ticks`),r<=D1&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ya(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Qe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(Qe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Bu.nextInstanceID=0;const v$=Bu;class x$ extends v${constructor(e){super(e)}}var w$=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})};class S${constructor(e,t,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=NL(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:CL,realtime:AL,auth:Object.assign(Object.assign({},OL),{storageKey:l}),global:TL},u=LL(s??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=DL(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new XN(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new LN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EL(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return w$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x$({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cL(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E$=(n,e,t)=>new S$(n,e,t),k$="https://pvfkijbfgreexathvjfy.supabase.co",_$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB2ZmtpamJmZ3JlZXhhdGh2amZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzczNzkwMDAsImV4cCI6MjA1Mjk1NTAwMH0.xCYrd8F9R_ItPVNPYTVMN6uXUB7EU3V-JHpnm2VVALM",ve=E$(k$,_$),_t=B(),Uy=B(!1),sC=async()=>{try{const{data:{session:n}}=await ve.auth.getSession();_t.value=(n==null?void 0:n.user)||null,ve.auth.onAuthStateChange((e,t)=>{_t.value=(t==null?void 0:t.user)||null})}catch(n){console.error("Auth initialization error:",n)}finally{Uy.value=!0}},T$={key:"moon",class:"fa-solid fa-moon text-gray-800 dark:text-gray-200"},C$={key:"sun",class:"fa-solid fa-sun text-amber-500 dark:text-gray-200"},O$=Ke({__name:"ChangeThemeButton",emits:["theme-changed"],setup(n,{emit:e}){const t=B(!1),s=B(!1),r=e,i=()=>{s.value=!0,setTimeout(()=>{s.value=!1},500),t.value=!t.value,o(),r("theme-changed",t.value)},o=()=>{const a=document.documentElement;t.value?(a.classList.add("dark"),localStorage.theme="dark"):(a.classList.remove("dark"),localStorage.theme="light")};return zt(()=>{const a=localStorage.theme,l=document.documentElement;a==="dark"||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches?(t.value=!0,l.classList.add("dark")):(t.value=!1,l.classList.remove("dark")),r("theme-changed",t.value)}),(a,l)=>(R(),L("button",{onClick:i,class:ke(["w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-500",{"rotate-180":s.value}]),"aria-label":"Change theme"},[le(yn,{name:"icon-fade",mode:"out-in"},{default:Ht(()=>[t.value?(R(),L("span",T$)):(R(),L("span",C$))]),_:1})],2))}}),Cn=(n,e)=>{const t=n.__vccOpts||n;for(const[s,r]of e)t[s]=r;return t},A$=Cn(O$,[["__scopeId","data-v-1e6deb1c"]]),pr=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=um(n,4),t=um(n,9),s=um(n,2);return`${e}-${t}-${s}`},um=(n,e)=>{let t="";for(let s=0;s<e;s++){const r=Math.floor(Math.random()*n.length);t+=n.charAt(r)}return t};class M${constructor(){K(this,"getRandomHexColor",()=>`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`);K(this,"addUser",async e=>{try{const t=pr(),s=this.getRandomHexColor(),{error:r}=await ve.from("users").insert([{id:t,color:s,email:e}]);if(r)throw r}catch(t){throw t}});K(this,"inviteMember",async(e,t)=>{try{const{data:s,error:r}=await ve.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/confirm-email?orgId=${t}`}});if(r)throw r;return await ve.from("invitations").upsert([{email:e,org_id:t,invited_at:new Date().toISOString()}]),s}catch(s){throw console.error("Error inviting member:",s),s}});K(this,"sendInvitationEmail",async e=>{try{const{error:t}=await ve.from("invitations").insert([{email:e}]);if(t)throw t;const{error:s}=await ve.functions.invoke("send-invitation-email",{body:JSON.stringify({email:e})});if(s)throw s;console.log(`Invitation sent to ${e}`)}catch(t){throw console.error("Error sending invitation email:",t),t}});K(this,"addOrgMember",async(e,t)=>{try{const s=await this.getUserId(t);if(!s)throw new Error("Пользователь не найден");const{data:r,error:i}=await ve.from("orgs").select("membersIds").eq("id",e).single();if(i)throw i;if(r.membersIds.includes(s))return;const{error:o}=await ve.from("orgs").update({membersIds:[...r.membersIds,s]}).eq("id",e);if(o)throw o;await ve.from("invitations").update({accepted:!0}).eq("email",t).eq("org_id",e),console.log(`Member ${t} added to organization ${e}`)}catch(s){throw console.error("Error adding member to organization:",s),s}});K(this,"getUserId",async e=>{try{const{data:t,error:s}=await ve.from("users").select("id").eq("email",e).single();if(s)throw s;return t.id}catch(t){throw t}});K(this,"getUserEmail",async e=>{try{const{data:t,error:s}=await ve.from("users").select("email").eq("id",e).single();if(s)throw s;return t.email}catch(t){throw t}});K(this,"fetchOrgLeader",async e=>{try{const{data:t,error:s}=await ve.from("orgs").select("leaderId").eq("id",e).single();if(s)throw s;return t.leaderId}catch(t){throw console.error("Error fetching org leader:",t),t}});K(this,"fetchOrgMembersWithLeader",async e=>{var t;try{const{data:s,error:r}=await ve.from("orgs").select("membersIds, leaderId").eq("id",e).single();if(r)throw r;if(!((t=s==null?void 0:s.membersIds)!=null&&t.length))return{members:[],leaderEmail:""};const{data:i,error:o}=await ve.from("users").select("email, id").in("id",s.membersIds);if(o)throw o;const a=i.find(l=>l.id===s.leaderId);return{members:(i==null?void 0:i.map(l=>l.email))||[],leaderEmail:(a==null?void 0:a.email)||""}}catch(s){throw console.error("Error fetching org members:",s),s}});K(this,"getUserColor",async e=>{try{const{data:t,error:s}=await ve.from("users").select("color").eq("id",e).single();if(s)throw s;return t.color}catch(t){throw t}});K(this,"checkOrg",async e=>{try{const t=await this.getUserId(e),{data:s,error:r}=await ve.from("orgs").select("*").eq("leaderId",t);if(r)throw r;return s&&s.length>0}catch(t){throw t}});K(this,"checkOrgInFocus",async e=>{try{const t=await this.getUserId(e),{data:s,error:r}=await ve.from("users").select("orgInFocus").eq("id",t).single();if(r)throw r;return s.orgInFocus}catch(t){throw t}});K(this,"createOrg",async(e,t)=>{try{const s=await this.getUserId(t),r=pr(),{error:i}=await ve.from("orgs").insert([{id:r,name:e,leaderId:s,membersIds:[s]}]);if(i)throw i}catch(s){throw s}});K(this,"fetchOrgs",async e=>{try{const t=await this.getUserId(e),{data:s,error:r}=await ve.from("orgs").select("*").contains("membersIds",`{${t}}`);if(r)throw r;return s}catch(t){throw t}});K(this,"deleteOrg",async e=>{try{const{error:t}=await ve.from("orgs").delete().eq("id",e);if(t)throw t}catch(t){throw t}});K(this,"fetchOrgName",async e=>{try{const{data:t,error:s}=await ve.from("orgs").select("name").eq("id",e).single();if(s)throw s;return t.name}catch(t){throw t}});K(this,"fetchOrgMembers",async e=>{var t;try{const{data:s,error:r}=await ve.from("orgs").select("membersIds").eq("id",e).single();if(r)throw r;if(!((t=s==null?void 0:s.membersIds)!=null&&t.length))return[];const{data:i,error:o}=await ve.from("users").select("email").in("id",s.membersIds);if(o)throw o;return(i==null?void 0:i.map(a=>a.email))||[]}catch(s){throw console.error("Error fetching org members:",s),s}});K(this,"fetchProjects",async e=>{try{const{data:t,error:s}=await ve.from("projects").select("*").eq("orgId",e);if(s)throw s;return t.map(r=>({...r,createdAt:new Date(r.createdAt)}))}catch(t){throw t}});K(this,"fetchProject",async e=>{try{const{data:t,error:s}=await ve.from("projects").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw console.error("Error fetching project:",t),t}});K(this,"addProject",async e=>{try{const{data:t,error:s}=await ve.from("projects").insert([e]).select().single();if(s)throw s;const{error:r}=await ve.storage.from("task-attachments").upload(`${e.id}/placeholder.txt`,new Blob([" "]),{cacheControl:"3600",contentType:"text/plain",upsert:!1});if(r&&r.message!=="Duplicate")throw r;return{...t,createdAt:new Date(t.createdAt)}}catch(t){throw t}});K(this,"updateProjectName",async(e,t)=>{try{const{data:s,error:r}=await ve.from("projects").update({name:t}).eq("id",e).select().single();if(r)throw r;return{...s,createdAt:new Date(s.createdAt)}}catch(s){throw s}});K(this,"deleteProject",async e=>{try{const{error:t}=await ve.from("projects").delete().eq("id",e).select().single();if(t)throw t}catch(t){throw t}});K(this,"addMajorTask",async(e,t)=>{try{const{error:s}=await ve.from("major_tasks").insert({...t,projectId:e});if(s)throw s}catch(s){throw s}});K(this,"fetchMajorTasks",async e=>{try{const{data:t,error:s}=await ve.from("major_tasks").select("*").eq("projectId",e);if(s)throw s;return t}catch(t){throw t}});K(this,"fetchMajorTaskName",async e=>{try{const{data:t,error:s}=await ve.from("major_tasks").select("name").eq("id",e).single();if(s)throw s;return t}catch(t){throw t}});K(this,"deleteMajorTask",async e=>{try{const{error:t}=await ve.from("major_tasks").delete().eq("id",e).select().single();if(t)throw t}catch(t){throw t}});K(this,"addTask",async(e,t)=>{try{const{error:s}=await ve.from("tasks").insert({...t,projectId:e});if(s)throw s}catch(s){throw s}});K(this,"deleteTask",async e=>{try{const{error:t}=await ve.from("tasks").delete().eq("id",e).select().single();if(t)throw t}catch(t){throw t}});K(this,"createTaskFolder",async(e,t)=>{try{const{error:s}=await ve.storage.from("task-attachments").upload(`${e}/${t}/.keep`,new Blob,{upsert:!1});if(s&&s.message!=="Duplicate")throw s}catch(s){throw s}});K(this,"uploadFiles",async(e,t,s)=>{try{for(const r of s){const i=`${e}/${t}/${r.name}`,{error:o}=await ve.storage.from("task-attachments").upload(i,r);if(o)throw o}}catch(r){console.error("Ошибка загрузки файлов:",r)}});K(this,"fetchTaskFiles",async(e,t)=>{try{const{data:s,error:r}=await ve.storage.from("task-attachments").list(`${e}/${t}`);if(r)throw console.error("Storage error:",r),r;return await Promise.all(s.filter(o=>o.name!==".keep").map(async o=>{var c;const{data:a}=ve.storage.from("task-attachments").getPublicUrl(`${e}/${t}/${o.name}`),{data:l}=await ve.storage.from("task-attachments").download(`${e}/${t}/${o.name}`);return{name:o.name,url:a.publicUrl,type:((c=o.name.split(".").pop())==null?void 0:c.toLowerCase())||"file",size:(l==null?void 0:l.size)||0}}))}catch(s){return console.error("Error fetching files:",s),[]}});K(this,"updateTask",async(e,t)=>{try{const{data:s,error:r}=await ve.from("tasks").update(t).eq("id",e).select().single();if(r)throw r;return s}catch(s){return console.error("Ошибка при обновлении задачи: ",s),null}});K(this,"fetchTasks",async e=>{try{const{data:t,error:s}=await ve.from("tasks").select("*").eq("projectId",e);if(s)throw s;return t.map(r=>({...r,createdAt:r.createdAt,deadline:r.deadline,labels:r.labels||[]}))}catch(t){throw t}});K(this,"addTaskDependency",async(e,t,s)=>{try{const r=pr(),{error:i}=await ve.from("task_dependencies").insert({id:r,taskId:e,depends_on_task_id:t,dependency_type:s});if(i)throw i}catch(r){throw r}});K(this,"fetchTaskDependencies",async e=>{try{const{data:t,error:s}=await ve.from("task_dependencies").select("*").eq("taskId",e);if(s)throw s;return t}catch(t){throw t}});K(this,"fetchSubTasks",async e=>{try{const{data:t,error:s}=await ve.from("task_assignments").select("*").eq("taskId",e);if(s)throw s;return t.map(r=>({...r,createdAt:r.createdAt,deadline:r.deadline,labels:r.labels||[]}))}catch(t){throw t}});K(this,"fetchLabels",async()=>{try{const{data:e,error:t}=await ve.from("labels").select("*");if(t)throw t;return e}catch(e){throw e}});K(this,"addLabel",async e=>{try{const{error:t}=await ve.from("labels").insert(e).select().single();if(t)throw t}catch(t){throw t}});K(this,"fetchCommentsFromProject",async e=>{try{const{data:t,error:s}=await ve.from("comments").select("*").eq("projectId",e);if(s)throw s;return t}catch(t){throw t}});K(this,"addComment",async e=>{try{const{error:t}=await ve.from("comments").insert(e).select().single();if(t)throw t}catch(t){throw t}});K(this,"deleteComment",async e=>{try{const{error:t}=await ve.from("comments").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting comment:",t),t}});K(this,"editComment",async e=>{try{const{data:t,error:s}=await ve.from("comments").update(e).eq("id",e.id).select();if(s)throw s;return t[0]}catch(t){throw console.error("Error updating comment:",t),t}});K(this,"createLogEntry",async e=>{try{const{error:t}=await ve.from("log").insert(e);if(t)throw t}catch(t){throw console.error("Error creating log entry:",t),t}});K(this,"fetchLogs",async e=>{try{const{data:t,error:s}=await ve.from("log").select("*").eq("projectId",e);if(s)throw s;return t}catch(t){throw console.error("Error fetching logs:",t),t}})}}const _e=new M$,I$={class:"relative"},P$={key:0,class:"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs"},D$={key:1,class:"absolute right-0 mt-2 w-64 bg-bg-accent-dark rounded-lg shadow-lg z-50 border border-gray-700"},R$={class:"p-2 max-h-64 overflow-y-auto"},N$=["onClick"],L$={class:"text-sm font-medium"},$$={class:"text-xs text-gray-400"},F$={class:"text-xs text-gray-500 mt-1"},j$={key:0,class:"text-sm text-gray-400 p-2"},B$=Ke({__name:"MainNotifications",setup(n){const e=B([]),t=B(!1),s=B(0),r=B(null),i=xt(()=>[...e.value].sort((d,f)=>d.read===f.read?0:d.read?1:-1)),o=async()=>{if(!_t.value)return;const d=await _e.getUserId(_t.value.email);try{const{data:f,error:h}=await ve.from("notifications").select("*").eq("userId",d);if(h)throw h;e.value=f||[],s.value=f.filter(p=>!p.read).length}catch(f){console.error("Error fetching notifications:",f)}},a=async d=>{if(!d.read)try{const{error:f}=await ve.from("notifications").update({read:!0}).eq("id",d.id);if(f)throw f;d.read=!0,s.value=e.value.filter(h=>!h.read).length}catch(f){console.error("Error marking notification as read:",f)}},l=d=>new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=()=>{t.value=!t.value,t.value&&e.value.forEach(d=>{d.read||a(d)})},u=()=>{r.value&&ve.removeChannel(r.value),_t.value&&(r.value=ve.channel(`notifications:${_t.value.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`userId=eq.${_t.value.id}`},d=>{console.log("Realtime update:",d),o()}).subscribe())};return zt(async()=>{await o(),u()}),sn(_t,d=>{d&&(o(),u())}),za(()=>{r.value&&ve.removeChannel(r.value)}),(d,f)=>(R(),L("div",I$,[v("i",{class:"fa-solid fa-bell text-xl text-gray-800 dark:text-gray-300 cursor-pointer hover:text-white",onClick:c}),s.value>0?(R(),L("div",P$,ae(s.value>9?"9+":s.value),1)):Ce("",!0),t.value?(R(),L("div",D$,[v("div",R$,[(R(!0),L(Pe,null,Et(i.value,h=>(R(),L("div",{key:h.id,class:ke(["p-2 border-b border-gray-700 hover:bg-gray-800 cursor-pointer",{"bg-gray-800/50":!h.read}]),onClick:p=>a(h)},[v("p",L$,ae(h.title),1),v("p",$$,ae(h.content),1),v("p",F$,ae(l(h.createdAt)),1)],10,N$))),128)),e.value.length===0?(R(),L("p",j$," Нет новых уведомлений ")):Ce("",!0)])])):Ce("",!0)]))}}),V$=Cn(B$,[["__scopeId","data-v-ac1a8260"]]),z$={class:"absolute top-0 left-0 right-0"},U$={class:"min-w-full px-6 py-4 flex justify-between items-center"},H$={class:"flex flex-row justify-center items-center gap-2 text-gray-900 dark:text-white"},W$=["src"],K$={class:"flex flex-row items-center"},G$={class:"flex gap-4 mr-6"},X$={key:0,class:"flex flex-col items-center"},J$={class:"text-gray-900 dark:text-white"},Y$=Ke({__name:"Header",setup(n){const e=js(),t=B(!1),s=()=>{e.push({name:"auth"})},r=async()=>{await ve.auth.signOut(),e.push({name:"main"})},i=()=>{e.push({name:"profile"})},o=a=>{t.value=a};return(a,l)=>(R(),L("div",z$,[v("div",U$,[v("div",H$,[v("div",{onClick:l[0]||(l[0]=c=>te(e).push({name:"main"})),class:"flex gap-2 cursor-pointer hover:scale-105 duration-150"},[v("img",{src:t.value?te(kR):te(_R),class:"w-14"},null,8,W$),l[1]||(l[1]=v("div",{class:"flex flex-col"},[v("span",{class:"text-2xl font-medium"},"FKanban"),v("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Управление проектами и задачами")],-1))]),l[2]||(l[2]=v("div",{class:"ml-10 text-gray-500 dark:text-gray-400"},[v("span",null,"v 0.0.1")],-1))]),v("div",K$,[le(te(A$),{class:"mr-20",onThemeChanged:o}),le(V$,{class:"mr-20"}),v("section",G$,[te(_t)?(R(),L("div",X$,[v("span",J$,ae(te(_t).email.split("@")[0]),1),v("div",{class:"flex gap-4"},[v("button",{onClick:i,class:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors"}," Профиль "),v("button",{onClick:r,class:"text-sm text-red-400 hover:text-red-500 transition-colors"}," Выйти ")])])):(R(),L("span",{key:1,class:"text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105 cursor-pointer duration-150",onClick:s}," Войти "))])])])]))}}),q$={class:"min-w-max h-auto"},Q$=Ke({__name:"App",setup(n){const e=wi(),t=xt(()=>e.path==="/auth"),s=xt(()=>e.path==="/create-new-project");return sC(),(r,i)=>{const o=y_("RouterView");return R(),L("div",q$,[!t.value&&!s.value?(R(),Qn(te(Y$),{key:0})):Ce("",!0),le(o,{class:"mt-20"})])}}}),Z$=()=>new Promise(n=>{navigator.onLine?fetch("https://www.google.com",{mode:"no-cors"}).then(()=>n(!0)).catch(()=>n(!1)):n(!1)}),eF=()=>{const n=B(navigator.onLine),e=()=>{Z$().then(t=>{n.value=t})};return zt(()=>{window.addEventListener("online",e),window.addEventListener("offline",e),e()}),za(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}),{isOnline:n}},tF={key:0,class:"min-w-full flex flex-col items-center gap-10 p-4 mb-14"},nF={class:"flex flex-col justify-center items-center w-[44rem] h-[12rem] rounded-md gap-6 bg-gray-200 dark:bg-zinc-900"},sF={key:1,class:"flex mt-44 justify-center"},rF=Ke({__name:"Main",setup(n){const{isOnline:e}=eF(),t=js();return(s,r)=>(R(),L("div",{class:ke([te(e)?"online-layout":"offline-layout"])},[te(e)?(R(),L("div",tF,[v("div",nF,[r[1]||(r[1]=v("span",{class:"text-xl text-gray-900 dark:text-white"},[Xn(" Добро пожаловать на "),v("span",{class:"font-semibold"},"FKanban")],-1)),r[2]||(r[2]=v("span",{class:"text-center text-gray-800 dark:text-gray-300"}," Ваш идеальный инструмент для организации задач и управления проектами. ",-1)),v("button",{onClick:r[0]||(r[0]=i=>te(t).push({name:"dashboard"})),class:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:scale-105 cursor-pointer duration-150"}," Начать работу ")]),r[3]||(r[3]=mb('<span class="text-xl text-gray-800 dark:text-gray-200 text-center whitespace-pre-line max-w-[40rem]"> FKanban создан для разработчиков, которые ценят простоту, гибкость и эффективность. </span><div class="grid grid-cols-2 gap-6 w-[44rem]"><div class="p-6 rounded-md flex flex-col items-center gap-4 bg-gray-200 dark:bg-zinc-800"><span class="text-4xl">🚀</span><span class="text-xl font-semibold text-gray-900 dark:text-white">Упростите планирование</span><span class="text-center text-gray-600 dark:text-gray-400"> Визуализируйте задачи с помощью интуитивных досок. </span></div><div class="p-6 rounded-md flex flex-col items-center gap-4 bg-gray-200 dark:bg-zinc-800"><span class="text-4xl">📅</span><span class="text-xl font-semibold text-gray-900 dark:text-white">Контролируйте сроки</span><span class="text-center text-gray-600 dark:text-gray-400"> Отслеживайте прогресс и не упускайте дедлайны. </span></div><div class="p-6 rounded-md flex flex-col items-center gap-4 bg-gray-200 dark:bg-zinc-800"><span class="text-4xl">🎯</span><span class="text-xl font-semibold text-gray-900 dark:text-white">Сфокусируйтесь на главном</span><span class="text-center text-gray-600 dark:text-gray-400"> Разбивайте большие задачи на шаги. </span></div><div class="p-6 rounded-md flex flex-col items-center gap-4 bg-gray-200 dark:bg-zinc-800"><span class="text-4xl">🌐</span><span class="text-xl font-semibold text-gray-900 dark:text-white">Работайте из любого места</span><span class="text-center text-gray-600 dark:text-gray-400"> Прогресс синхронизируется на всех устройствах. </span></div></div>',2))])):(R(),L("div",sF,r[4]||(r[4]=[v("div",{class:"w-[28rem] h-[7rem] p-6 rounded-md flex flex-col justify-center items-center bg-zinc-900"},[v("span",{class:"material-symbols-outlined text-white"},"wifi_off"),v("span",{class:"text-2xl text-white"},"Нет подключения к Интернету =(")],-1)])))],2))}}),iF={class:"mb-4"},oF=["value"],aF={key:0,class:"mt-2 text-sm text-red-600"},lF=Ke({__name:"EmailInput",props:{modelValue:{type:String,required:!0},error:{type:String,default:""}},emits:["update:modelValue","update:error"],setup(n,{emit:e}){const t=n,s=e,r=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),i=o=>{const l=o.target.value;s("update:modelValue",l),l&&!r(l)?s("update:error","Пожалуйста, введите корректный email."):s("update:error","")};return sn(()=>t.modelValue,o=>{o||s("update:error","")}),(o,a)=>(R(),L("div",iF,[a[0]||(a[0]=v("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),v("input",{type:"email",id:"email",value:n.modelValue,class:"mt-1 block w-full px-3 py-2 text-black border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите ваш email",onInput:i},null,40,oF),n.error?(R(),L("p",aF,ae(n.error),1)):Ce("",!0)]))}}),cF=Ba({user:_t}),uF=async()=>{var e;const{data:n}=await ve.auth.getSession();cF.user=((e=n.session)==null?void 0:e.user)||null},dF={class:"flex flex-col items-center justify-center bg-bg dark:bg-bg-dark p-4 overflow-hidden"},fF={key:0,class:"mt-52"},hF={class:"bg-gray-200 dark:bg-bg-accent-dark mt-4 p-8 rounded-lg shadow-lg w-full max-w-md"},pF=["disabled"],gF=Ke({__name:"Auth",setup(n){const e=B(!1),t=B(""),s=B(""),r=B(!1),i=js(),o=async()=>{if(!t.value){s.value="Пожалуйста, введите email.";return}try{e.value=!0,s.value="";const{error:a}=await ve.auth.signInWithOtp({email:t.value,options:{emailRedirectTo:`${window.location.origin}/auth-redirect`}});if(a)throw a;r.value=!0,await uF(),_e.addUser(t.value),i.push({name:"auth-redirect"})}catch(a){a instanceof Error&&alert(a.message)}finally{e.value=!1}};return(a,l)=>(R(),L("div",dF,[r.value?Ce("",!0):(R(),L("div",fF,[v("button",{onClick:l[0]||(l[0]=(...c)=>te(i).back&&te(i).back(...c)),class:"flex items-center gap-2 text-zinc-800 dark:text-zinc-400 transiotion-colors hover:text-gray-300 mb-6"},l[2]||(l[2]=[v("i",{class:"fa-solid fa-chevron-left"},null,-1),v("span",null,"Вернуться назад",-1)])),v("div",hF,[l[6]||(l[6]=v("h2",{class:"text-2xl text-zinc-800 dark:text-f14-font-dark font-bold mb-6 text-center"},"Войти в систему",-1)),v("form",{onSubmit:ln(o,["prevent"])},[le(te(lF),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=c=>t.value=c),error:s.value},null,8,["modelValue","error"]),l[3]||(l[3]=v("div",{class:"mb-10"},null,-1)),l[4]||(l[4]=v("span",{class:"text-xs text-gray-400 text-wrap line-clamp-4"},"После нажатия кнопки мы отправим вам ссылку для входа на указанную почту",-1)),l[5]||(l[5]=v("div",{class:"mb-4"},null,-1)),v("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:e.value},ae(e.value?"Загрузка...":"Отправить ссылку"),9,pF)],32)])]))]))}}),mF={class:"mb-4"},yF=["type","disabled","value","placeholder"],bF={key:0,class:"mt-2 text-sm text-red-600"},fo=Ke({__name:"Input",props:{type:{type:String,default:"text"},modelValue:{type:[String,Number],required:!0},error:{type:String,default:""},placeholder:{type:String,default:"Введите данные"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,r=i=>{const a=i.target.value;s("update:modelValue",a)};return sn(()=>t.modelValue,i=>{}),(i,o)=>(R(),L("div",mF,[v("input",{type:n.type,id:"input",disabled:n.disabled,value:n.modelValue,class:ke(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",n.disabled?"text-gray-400":"text-black"]),placeholder:n.placeholder,onInput:r},null,42,yF),n.error?(R(),L("p",bF,ae(n.error),1)):Ce("",!0)]))}}),vF={class:"flex flex-col gap-4 items-center"},xF={class:"bg-gray-200 dark:bg-bg-accent-dark p-8 rounded-lg shadow-lg w-full max-w-md"},wF=["disabled"],SF=Ke({__name:"CreateProject",setup(n){const e=B(!1),t=B(""),s=B(""),r=js(),i=wi(),o=B(i.params.orgId),a=async()=>{if(!t.value){s.value="Пожалуйста, введите название.";return}try{e.value=!0,s.value="";const{data:{user:l}}=await ve.auth.getUser(),c=pr(),u=new Date().toISOString();await _e.addProject({id:c,name:t.value,userEmail:(l==null?void 0:l.email)||"",createdAt:u,orgId:o.value}),r.back()}catch(l){l instanceof Error&&alert(l.message)}finally{e.value=!1}};return(l,c)=>(R(),L("div",vF,[v("button",{onClick:c[0]||(c[0]=(...u)=>te(r).back&&te(r).back(...u)),class:"flex items-center gap-2 hover:text-gray-300"},c[3]||(c[3]=[v("i",{class:"fa-solid fa-chevron-left"},null,-1),v("span",null,"Вернуться назад",-1)])),v("div",xF,[c[4]||(c[4]=v("h2",{class:"text-2xl text-zinc-800 dark:text-f14-font-dark font-bold mb-6 text-center"}," Придумайте название для проекта ",-1)),v("form",{onSubmit:c[2]||(c[2]=ln((...u)=>te(_e).addProject&&te(_e).addProject(...u),["prevent"]))},[le(te(fo),{type:"text",modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=u=>t.value=u),error:s.value,placeholder:"Название",class:"w-full rounded-md p-2 mb-4"},null,8,["modelValue","error"]),v("button",{type:"submit",disabled:e.value,class:ke([{"opacity-50 cursor-not-allowed":e.value},"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"]),onClick:a},ae(e.value?"Создаем...":"Создать"),11,wF)],32)])]))}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Td(n){return n+.5|0}const Zi=(n,e,t)=>Math.max(Math.min(n,t),e);function $c(n){return Zi(Td(n*2.55),0,255)}function ho(n){return Zi(Td(n*255),0,255)}function ni(n){return Zi(Td(n/2.55)/100,0,1)}function N1(n){return Zi(Td(n*100),0,100)}const zs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hy=[..."0123456789ABCDEF"],EF=n=>Hy[n&15],kF=n=>Hy[(n&240)>>4]+Hy[n&15],rf=n=>(n&240)>>4===(n&15),_F=n=>rf(n.r)&&rf(n.g)&&rf(n.b)&&rf(n.a);function TF(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&zs[n[1]]*17,g:255&zs[n[2]]*17,b:255&zs[n[3]]*17,a:e===5?zs[n[4]]*17:255}:(e===7||e===9)&&(t={r:zs[n[1]]<<4|zs[n[2]],g:zs[n[3]]<<4|zs[n[4]],b:zs[n[5]]<<4|zs[n[6]],a:e===9?zs[n[7]]<<4|zs[n[8]]:255})),t}const CF=(n,e)=>n<255?e(n):"";function OF(n){var e=_F(n)?EF:kF;return n?"#"+e(n.r)+e(n.g)+e(n.b)+CF(n.a,e):void 0}const AF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rC(n,e,t){const s=e*Math.min(t,1-t),r=(i,o=(i+n/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function MF(n,e,t){const s=(r,i=(r+n/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function IF(n,e,t){const s=rC(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)s[r]*=1-e-t,s[r]+=e;return s}function PF(n,e,t,s,r){return n===r?(e-t)/s+(e<t?6:0):e===r?(t-n)/s+2:(n-e)/s+4}function Ob(n){const t=n.r/255,s=n.g/255,r=n.b/255,i=Math.max(t,s,r),o=Math.min(t,s,r),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=PF(t,s,r,u,i),l=l*60+.5),[l|0,c||0,a]}function Ab(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(ho)}function Mb(n,e,t){return Ab(rC,n,e,t)}function DF(n,e,t){return Ab(IF,n,e,t)}function RF(n,e,t){return Ab(MF,n,e,t)}function iC(n){return(n%360+360)%360}function NF(n){const e=AF.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?$c(+e[5]):ho(+e[5]));const r=iC(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=DF(r,i,o):e[1]==="hsv"?s=RF(r,i,o):s=Mb(r,i,o),{r:s[0],g:s[1],b:s[2],a:t}}function LF(n,e){var t=Ob(n);t[0]=iC(t[0]+e),t=Mb(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $F(n){if(!n)return;const e=Ob(n),t=e[0],s=N1(e[1]),r=N1(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${r}%, ${ni(n.a)})`:`hsl(${t}, ${s}%, ${r}%)`}const L1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FF(){const n={},e=Object.keys($1),t=Object.keys(L1);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<t.length;r++)i=t[r],a=a.replace(i,L1[i]);i=parseInt($1[o],16),n[a]=[i>>16&255,i>>8&255,i&255]}return n}let of;function jF(n){of||(of=FF(),of.transparent=[0,0,0,0]);const e=of[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const BF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VF(n){const e=BF.exec(n);let t=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?$c(o):Zi(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?$c(s):Zi(s,0,255)),r=255&(e[4]?$c(r):Zi(r,0,255)),i=255&(e[6]?$c(i):Zi(i,0,255)),{r:s,g:r,b:i,a:t}}}function zF(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ni(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const dm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Qa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function UF(n,e,t){const s=Qa(ni(n.r)),r=Qa(ni(n.g)),i=Qa(ni(n.b));return{r:ho(dm(s+t*(Qa(ni(e.r))-s))),g:ho(dm(r+t*(Qa(ni(e.g))-r))),b:ho(dm(i+t*(Qa(ni(e.b))-i))),a:n.a+t*(e.a-n.a)}}function af(n,e,t){if(n){let s=Ob(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=Mb(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function oC(n,e){return n&&Object.assign(e||{},n)}function F1(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ho(n[3]))):(e=oC(n,{r:0,g:0,b:0,a:1}),e.a=ho(e.a)),e}function HF(n){return n.charAt(0)==="r"?VF(n):NF(n)}class Vu{constructor(e){if(e instanceof Vu)return e;const t=typeof e;let s;t==="object"?s=F1(e):t==="string"&&(s=TF(e)||jF(e)||HF(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=oC(this._rgb);return e&&(e.a=ni(e.a)),e}set rgb(e){this._rgb=F1(e)}rgbString(){return this._valid?zF(this._rgb):void 0}hexString(){return this._valid?OF(this._rgb):void 0}hslString(){return this._valid?$F(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,a=2*o-1,l=s.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,s.r=255&c*s.r+i*r.r+.5,s.g=255&c*s.g+i*r.g+.5,s.b=255&c*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=UF(this._rgb,e._rgb,t)),this}clone(){return new Vu(this.rgb)}alpha(e){return this._rgb.a=ho(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Td(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return af(this._rgb,2,e),this}darken(e){return af(this._rgb,2,-e),this}saturate(e){return af(this._rgb,1,e),this}desaturate(e){return af(this._rgb,1,-e),this}rotate(e){return LF(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const WF=(()=>{let n=0;return()=>n++})();function pt(n){return n==null}function Bt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ot(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ps(n,e){return Qt(n)?n:e}function We(n,e){return typeof n>"u"?e:n}const KF=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,aC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Mt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function kt(n,e,t,s){let r,i,o;if(Bt(n))for(i=n.length,r=0;r<i;r++)e.call(t,n[r],r);else if(ot(n))for(o=Object.keys(n),i=o.length,r=0;r<i;r++)e.call(t,n[o[r]],o[r])}function Ih(n,e){let t,s,r,i;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(r=n[t],i=e[t],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Ph(n){if(Bt(n))return n.map(Ph);if(ot(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let r=0;for(;r<s;++r)e[t[r]]=Ph(n[t[r]]);return e}return n}function lC(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function GF(n,e,t,s){if(!lC(n))return;const r=e[n],i=t[n];ot(r)&&ot(i)?zu(r,i,s):e[n]=Ph(i)}function zu(n,e,t){const s=Bt(e)?e:[e],r=s.length;if(!ot(n))return n;t=t||{};const i=t.merger||GF;let o;for(let a=0;a<r;++a){if(o=s[a],!ot(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],n,o,t)}return n}function lu(n,e){return zu(n,e,{merger:XF})}function XF(n,e,t){if(!lC(n))return;const s=e[n],r=t[n];ot(s)&&ot(r)?lu(s,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ph(r))}const j1={"":n=>n,x:n=>n.x,y:n=>n.y};function JF(n){const e=n.split("."),t=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function YF(n){const e=JF(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function So(n,e){return(j1[e]||(j1[e]=YF(e)))(n)}function Ib(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Uu=n=>typeof n<"u",Eo=n=>typeof n=="function",B1=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function qF(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Nt=Math.PI,Rt=2*Nt,QF=Rt+Nt,Dh=Number.POSITIVE_INFINITY,ZF=Nt/180,tn=Nt/2,Fo=Nt/4,V1=Nt*2/3,eo=Math.log10,Dr=Math.sign;function cu(n,e,t){return Math.abs(n-e)<t}function z1(n){const e=Math.round(n);n=cu(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(eo(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function e3(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((r,i)=>r-i).pop(),e}function Hl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function t3(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function cC(n,e,t){let s,r,i;for(s=0,r=n.length;s<r;s++)i=n[s][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function gr(n){return n*(Nt/180)}function Pb(n){return n*(180/Nt)}function U1(n){if(!Qt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function uC(n,e){const t=e.x-n.x,s=e.y-n.y,r=Math.sqrt(t*t+s*s);let i=Math.atan2(s,t);return i<-.5*Nt&&(i+=Rt),{angle:i,distance:r}}function Wy(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function n3(n,e){return(n-e+QF)%Rt-Nt}function Rs(n){return(n%Rt+Rt)%Rt}function Hu(n,e,t,s){const r=Rs(n),i=Rs(e),o=Rs(t),a=Rs(i-r),l=Rs(o-r),c=Rs(r-i),u=Rs(r-o);return r===i||r===o||s&&i===o||a>l&&c<u}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function s3(n){return xn(n,-32768,32767)}function li(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function Db(n,e,t){t=t||(o=>n[o]<e);let s=n.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,t(i)?r=i:s=i;return{lo:r,hi:s}}const ci=(n,e,t,s)=>Db(n,t,s?r=>{const i=n[r][e];return i<t||i===t&&n[r+1][e]===t}:r=>n[r][e]<t),r3=(n,e,t)=>Db(n,t,s=>n[s][e]>=t);function i3(n,e,t){let s=0,r=n.length;for(;s<r&&n[s]<e;)s++;for(;r>s&&n[r-1]>t;)r--;return s>0||r<n.length?n.slice(s,r):n}const dC=["push","pop","shift","splice","unshift"];function o3(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dC.forEach(t=>{const s="_onData"+Ib(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function H1(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(dC.forEach(i=>{delete n[i]}),delete n._chartjs)}function fC(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const hC=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function pC(n,e){let t=[],s=!1;return function(...r){t=r,s||(s=!0,hC.call(window,()=>{s=!1,n.apply(e,t)}))}}function a3(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const Rb=n=>n==="start"?"left":n==="end"?"right":"center",jn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,l3=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function gC(n,e,t){const s=e.length;let r=0,i=s;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=xn(Math.min(ci(a,l,c).lo,t?s:ci(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?i=xn(Math.max(ci(a,o.axis,u,!0).hi+1,t?0:ci(e,l,o.getPixelForValue(u),!0).hi+1),r,s)-r:i=s-r}return{start:r,count:i}}function mC(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,r),i}const lf=n=>n===0||n===1,W1=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Rt/t)),K1=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Rt/t)+1,uu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*tn)+1,easeOutSine:n=>Math.sin(n*tn),easeInOutSine:n=>-.5*(Math.cos(Nt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>lf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>lf(n)?n:W1(n,.075,.3),easeOutElastic:n=>lf(n)?n:K1(n,.075,.3),easeInOutElastic(n){return lf(n)?n:n<.5?.5*W1(n*2,.1125,.45):.5+.5*K1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-uu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?uu.easeInBounce(n*2)*.5:uu.easeOutBounce(n*2-1)*.5+.5};function Nb(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function G1(n){return Nb(n)?n:new Vu(n)}function fm(n){return Nb(n)?n:new Vu(n).saturate(.5).darken(.1).hexString()}const c3=["x","y","borderWidth","radius","tension"],u3=["color","borderColor","backgroundColor"];function d3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:u3},numbers:{type:"number",properties:c3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function f3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const X1=new Map;function h3(n,e){e=e||{};const t=n+JSON.stringify(e);let s=X1.get(t);return s||(s=new Intl.NumberFormat(n,e),X1.set(t,s)),s}function Cd(n,e,t){return h3(e,t).format(n)}const yC={values(n){return Bt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let r,i=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=p3(n,t)}const o=eo(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Cd(n,s,l)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(eo(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?yC.numeric.call(this,n,e,t):""}};function p3(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var rg={formatters:yC};function g3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oa=Object.create(null),Ky=Object.create(null);function du(n,e){if(!e)return n;const t=e.split(".");for(let s=0,r=t.length;s<r;++s){const i=t[s];n=n[i]||(n[i]=Object.create(null))}return n}function hm(n,e,t){return typeof e=="string"?zu(du(n,e),t):zu(du(n,""),e)}class m3{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>fm(r.backgroundColor),this.hoverBorderColor=(s,r)=>fm(r.borderColor),this.hoverColor=(s,r)=>fm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return hm(this,e,t)}get(e){return du(this,e)}describe(e,t){return hm(Ky,e,t)}override(e,t){return hm(Oa,e,t)}route(e,t,s,r){const i=du(this,e),o=du(this,s),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[r];return ot(l)?Object.assign({},c,l):We(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var Vt=new m3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[d3,f3,g3]);function y3(n){return!n||pt(n.size)||pt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Rh(n,e,t,s,r){let i=e[r];return i||(i=e[r]=n.measureText(r).width,t.push(r)),i>s&&(s=i),s}function b3(n,e,t,s){s=s||{};let r=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(r=s.data={},i=s.garbageCollect=[],s.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=t[l],d!=null&&!Bt(d))o=Rh(n,r,i,o,d);else if(Bt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Bt(f)&&(o=Rh(n,r,i,o,f));n.restore();const h=i.length/2;if(h>t.length){for(l=0;l<h;l++)delete r[i[l]];i.splice(0,h)}return o}function jo(n,e,t){const s=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*s)/s+r}function J1(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Gy(n,e,t,s){bC(n,e,t,s,null)}function bC(n,e,t,s,r){let i,o,a,l,c,u,d,f;const h=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*ZF;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),h){default:r?n.ellipse(t,s,r/2,g,0,0,Rt):n.arc(t,s,g,0,Rt),n.closePath();break;case"triangle":u=r?r/2:g,n.moveTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=V1,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=V1,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+Fo)*l,d=Math.cos(m+Fo)*(r?r/2-c:l),a=Math.sin(m+Fo)*l,f=Math.sin(m+Fo)*(r?r/2-c:l),n.arc(t-d,s-a,c,m-Nt,m-tn),n.arc(t+f,s-o,c,m-tn,m),n.arc(t+d,s+a,c,m,m+tn),n.arc(t-f,s+o,c,m+tn,m+Nt),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,n.rect(t-u,s-l,2*u,2*l);break}m+=Fo;case"rectRot":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),n.moveTo(t-d,s-a),n.lineTo(t+f,s-o),n.lineTo(t+d,s+a),n.lineTo(t-f,s+o),n.closePath();break;case"crossRot":m+=Fo;case"cross":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),n.moveTo(t-d,s-a),n.lineTo(t+d,s+a),n.moveTo(t+f,s-o),n.lineTo(t-f,s+o);break;case"star":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),n.moveTo(t-d,s-a),n.lineTo(t+d,s+a),n.moveTo(t+f,s-o),n.lineTo(t-f,s+o),m+=Fo,d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),n.moveTo(t-d,s-a),n.lineTo(t+d,s+a),n.moveTo(t+f,s-o),n.lineTo(t-f,s+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(t-o,s-a),n.lineTo(t+o,s+a);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(m)*(r?r/2:g),s+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ui(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function ig(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function og(n){n.restore()}function v3(n,e,t,s,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const i=(e.x+t.x)/2;n.lineTo(i,e.y),n.lineTo(i,t.y)}else r==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function x3(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function w3(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),pt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function S3(n,e,t,s,r){if(r.strikethrough||r.underline){const i=n.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=t-i.actualBoundingBoxAscent,c=t+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function E3(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Aa(n,e,t,s,r,i={}){const o=Bt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,w3(n,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&E3(n,i.backdrop),a&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),pt(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(c,t,s,i.maxWidth)),n.fillText(c,t,s,i.maxWidth),S3(n,t,s,c,i),s+=Number(r.lineHeight);n.restore()}function Wu(n,e){const{x:t,y:s,w:r,h:i,radius:o}=e;n.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*Nt,Nt,!0),n.lineTo(t,s+i-o.bottomLeft),n.arc(t+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Nt,tn,!0),n.lineTo(t+r-o.bottomRight,s+i),n.arc(t+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,tn,0,!0),n.lineTo(t+r,s+o.topRight),n.arc(t+r-o.topRight,s+o.topRight,o.topRight,0,-tn,!0),n.lineTo(t+o.topLeft,s)}const k3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function T3(n,e){const t=(""+n).match(k3);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const C3=n=>+n||0;function Lb(n,e){const t={},s=ot(e),r=s?Object.keys(e):e,i=ot(n)?s?o=>We(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=C3(i(o));return t}function vC(n){return Lb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ya(n){return Lb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Zn(n){const e=vC(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pn(n,e){n=n||{},e=e||Vt.font;let t=We(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=We(n.style,e.style);s&&!(""+s).match(_3)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:We(n.family,e.family),lineHeight:T3(We(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:We(n.weight,e.weight),string:""};return r.string=y3(r),r}function Fc(n,e,t,s){let r,i,o;for(r=0,i=n.length;r<i;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function O3(n,e,t){const{min:s,max:r}=n,i=aC(e,(r-s)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Io(n,e){return Object.assign(Object.create(n),e)}function $b(n,e=[""],t,s,r=()=>n[0]){const i=t||n;typeof s>"u"&&(s=EC("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>$b([a,...n],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return wC(a,l,()=>L3(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return q1(a).includes(l)},ownKeys(a){return q1(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Wl(n,e,t,s){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:xC(n,s),setContext:i=>Wl(n,i,t,s),override:i=>Wl(n.override(i),e,t,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete n[o],!0},get(i,o,a){return wC(i,o,()=>M3(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(i,o,a){return n[o]=a,delete i[o],!0}})}function xC(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:s,isScriptable:Eo(t)?t:()=>t,isIndexable:Eo(s)?s:()=>s}}const A3=(n,e)=>n?n+Ib(e):e,Fb=(n,e)=>ot(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function wC(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function M3(n,e,t){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=n;let a=s[e];return Eo(a)&&o.isScriptable(e)&&(a=I3(e,a,n,t)),Bt(a)&&a.length&&(a=P3(e,a,n,o.isIndexable)),Fb(e,a)&&(a=Wl(a,r,i&&i[e],o)),a}function I3(n,e,t,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(i,o||s);return a.delete(n),Fb(n,l)&&(l=jb(r._scopes,r,n,l)),l}function P3(n,e,t,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;if(typeof i.index<"u"&&s(n))return e[i.index%e.length];if(ot(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=jb(c,r,n,u);e.push(Wl(d,i,o&&o[n],a))}}return e}function SC(n,e,t){return Eo(n)?n(e,t):n}const D3=(n,e)=>n===!0?e:typeof n=="string"?So(e,n):void 0;function R3(n,e,t,s,r){for(const i of e){const o=D3(t,i);if(o){n.add(o);const a=SC(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==s)return a}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function jb(n,e,t,s){const r=e._rootScopes,i=SC(e._fallback,t,s),o=[...n,...r],a=new Set;a.add(s);let l=Y1(a,o,t,i||t,s);return l===null||typeof i<"u"&&i!==t&&(l=Y1(a,o,i,l,s),l===null)?!1:$b(Array.from(a),[""],r,i,()=>N3(e,t,s))}function Y1(n,e,t,s,r){for(;t;)t=R3(n,e,t,s,r);return t}function N3(n,e,t){const s=n._getTarget();e in s||(s[e]={});const r=s[e];return Bt(r)&&ot(t)?t:r||{}}function L3(n,e,t,s){let r;for(const i of e)if(r=EC(A3(i,n),t),typeof r<"u")return Fb(n,r)?jb(t,s,n,r):r}function EC(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function q1(n){let e=n._keys;return e||(e=n._keys=$3(n._scopes)),e}function $3(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function kC(n,e,t,s){const{iScale:r}=n,{key:i="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+t,u=e[c],o[a]={r:r.parse(So(u,i),c)};return o}const F3=Number.EPSILON||1e-14,Kl=(n,e)=>e<n.length&&!n[e].skip&&n[e],_C=n=>n==="x"?"y":"x";function j3(n,e,t,s){const r=n.skip?e:n,i=e,o=t.skip?e:t,a=Wy(i,r),l=Wy(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,f=s*u;return{previous:{x:i.x-d*(o.x-r.x),y:i.y-d*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function B3(n,e,t){const s=n.length;let r,i,o,a,l,c=Kl(n,0);for(let u=0;u<s-1;++u)if(l=c,c=Kl(n,u+1),!(!l||!c)){if(cu(e[u],0,F3)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],i=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=r*o*e[u],t[u+1]=i*o*e[u])}}function V3(n,e,t="x"){const s=_C(t),r=n.length;let i,o,a,l=Kl(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Kl(n,c+1),!a)continue;const u=a[t],d=a[s];o&&(i=(u-o[t])/3,a[`cp1${t}`]=u-i,a[`cp1${s}`]=d-i*e[c]),l&&(i=(l[t]-u)/3,a[`cp2${t}`]=u+i,a[`cp2${s}`]=d+i*e[c])}}function z3(n,e="x"){const t=_C(e),s=n.length,r=Array(s).fill(0),i=Array(s);let o,a,l,c=Kl(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=Kl(n,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[t]-l[t])/u:0}i[o]=a?c?Dr(r[o-1])!==Dr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}B3(n,r,i),V3(n,i,e)}function cf(n,e,t){return Math.max(Math.min(n,t),e)}function U3(n,e){let t,s,r,i,o,a=ui(n[0],e);for(t=0,s=n.length;t<s;++t)o=i,i=a,a=t<s-1&&ui(n[t+1],e),i&&(r=n[t],o&&(r.cp1x=cf(r.cp1x,e.left,e.right),r.cp1y=cf(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=cf(r.cp2x,e.left,e.right),r.cp2y=cf(r.cp2y,e.top,e.bottom)))}function H3(n,e,t,s,r){let i,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")z3(n,r);else{let c=s?n[n.length-1]:n[0];for(i=0,o=n.length;i<o;++i)a=n[i],l=j3(c,a,n[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&U3(n,t)}function Bb(){return typeof window<"u"&&typeof document<"u"}function Vb(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nh(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const ag=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function W3(n,e){return ag(n).getPropertyValue(e)}const K3=["top","right","bottom","left"];function ba(n,e,t){const s={};t=t?"-"+t:"";for(let r=0;r<4;r++){const i=K3[r];s[i]=parseFloat(n[e+"-"+i+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const G3=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function X3(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(G3(r,i,n.target))a=r,l=i;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ko(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,r=ag(t),i=r.boxSizing==="border-box",o=ba(r,"padding"),a=ba(r,"border","width"),{x:l,y:c,box:u}=X3(n,t),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:p}=e;return i&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/h*t.width/s),y:Math.round((c-f)/p*t.height/s)}}function J3(n,e,t){let s,r;if(e===void 0||t===void 0){const i=n&&Vb(n);if(!i)e=n.clientWidth,t=n.clientHeight;else{const o=i.getBoundingClientRect(),a=ag(i),l=ba(a,"border","width"),c=ba(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,s=Nh(a.maxWidth,i,"clientWidth"),r=Nh(a.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:s||Dh,maxHeight:r||Dh}}const uf=n=>Math.round(n*10)/10;function Y3(n,e,t,s){const r=ag(n),i=ba(r,"margin"),o=Nh(r.maxWidth,n,"clientWidth")||Dh,a=Nh(r.maxHeight,n,"clientHeight")||Dh,l=J3(n,e,t);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=ba(r,"border","width"),h=ba(r,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,s?c/s:u-i.height),c=uf(Math.min(c,o,l.maxWidth)),u=uf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=uf(c/2)),(e!==void 0||t!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=uf(Math.floor(u*s))),{width:c,height:u}}function Q1(n,e,t){const s=e||1,r=Math.floor(n.height*s),i=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(n.currentDevicePixelRatio=s,o.height=r,o.width=i,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const q3=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Bb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Z1(n,e){const t=W3(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Go(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Q3(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Z3(n,e,t,s){const r={x:n.cp2x,y:n.cp2y},i={x:e.cp1x,y:e.cp1y},o=Go(n,r,t),a=Go(r,i,t),l=Go(i,e,t),c=Go(o,a,t),u=Go(a,l,t);return Go(c,u,t)}const e4=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},t4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function wl(n,e,t){return n?e4(e,t):t4()}function TC(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function CC(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function OC(n){return n==="angle"?{between:Hu,compare:n3,normalize:Rs}:{between:li,compare:(e,t)=>e-t,normalize:e=>e}}function ew({start:n,end:e,count:t,loop:s,style:r}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:r}}function n4(n,e,t){const{property:s,start:r,end:i}=t,{between:o,normalize:a}=OC(s),l=e.length;let{start:c,end:u,loop:d}=n,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][s]),r,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function AC(n,e,t){if(!t)return[n];const{property:s,start:r,end:i}=t,o=e.length,{compare:a,between:l,normalize:c}=OC(s),{start:u,end:d,loop:f,style:h}=n4(n,e,t),p=[];let g=!1,m=null,y,b,x;const S=()=>l(r,x,y)&&a(r,x)!==0,w=()=>a(i,y)===0||l(i,x,y),k=()=>g||S(),T=()=>!g||w();for(let C=u,E=u;C<=d;++C)b=e[C%o],!b.skip&&(y=c(b[s]),y!==x&&(g=l(y,r,i),m===null&&k()&&(m=a(y,r)===0?C:E),m!==null&&T()&&(p.push(ew({start:m,end:C,loop:f,count:o,style:h})),m=null),E=C,x=y));return m!==null&&p.push(ew({start:m,end:d,loop:f,count:o,style:h})),p}function MC(n,e){const t=[],s=n.segments;for(let r=0;r<s.length;r++){const i=AC(s[r],n.points,e);i.length&&t.push(...i)}return t}function s4(n,e,t,s){let r=0,i=e-1;if(t&&!s)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(i+=r);i>r&&n[i%e].skip;)i--;return i%=e,{start:r,end:i}}function r4(n,e,t,s){const r=n.length,i=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%r];c.skip||c.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function i4(n,e){const t=n.points,s=n.options.spanGaps,r=t.length;if(!r)return[];const i=!!n._loop,{start:o,end:a}=s4(t,r,i,s);if(s===!0)return tw(n,[{start:o,end:a,loop:i}],t,e);const l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return tw(n,r4(t,o,l,c),t,e)}function tw(n,e,t,s){return!s||!s.setContext||!t?e:o4(n,e,t,s)}function o4(n,e,t,s){const r=n._chart.getContext(),i=nw(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=i,d=e[0].start,f=d;function h(p,g,m,y){const b=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=b;for(;t[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(const p of e){d=a?d:p.start;let g=t[d%l],m;for(f=d+1;f<=p.end;f++){const y=t[f%l];m=nw(s.setContext(Io(r,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),a4(m,u)&&h(d,f-1,p.loop,u),g=y,u=m}d<f-1&&h(d,f-1,p.loop,u)}return c}function nw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function a4(n,e){if(!e)return!1;const t=[],s=function(r,i){return Nb(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(n,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class l4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,r){const i=t.listeners[r],o=t.duration;i.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xr=new l4;const sw="transparent",c4={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=G1(n||sw),r=s.valid&&G1(e||sw);return r&&r.valid?r.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class u4{constructor(e,t,s,r){const i=t[s];r=Fc([e.to,r,i,e.from]);const o=Fc([e.from,i,r]);this._active=!0,this._fn=e.fn||c4[e.type||typeof o],this._easing=uu[e.easing]||uu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Fc([e.to,t,r,e.from]),this._from=Fc([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||t<s),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=i;return}l=t/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][t]()}}class IC{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ot(e))return;const t=Object.keys(Vt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ot(i))return;const o={};for(const a of t)o[a]=i[a];(Bt(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,t){const s=t.options,r=f4(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&d4(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,t){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,t));continue}const u=t[c];let d=i[c];const f=s.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new u4(f,e,c,u),r.push(d)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return Xr.add(this._chart,s),!0}}function d4(n,e){const t=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=n[s[r]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function f4(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function rw(n,e){const t=n&&n.options||{},s=t.reverse,r=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function h4(n,e,t){if(t===!1)return!1;const s=rw(n,t),r=rw(e,t);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function p4(n){let e,t,s,r;return ot(n)?(e=n.top,t=n.right,s=n.bottom,r=n.left):e=t=s=r=n,{top:e,right:t,bottom:s,left:r,disabled:n===!1}}function PC(n,e){const t=[],s=n._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)t.push(s[r].index);return t}function iw(n,e,t,s={}){const r=n.keys,i=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===t){if(u=!0,s.all)continue;break}c=n.values[l],Qt(c)&&(i||e===0||Dr(e)===Dr(c))&&(e+=c)}return!u&&!s.all?0:e}function g4(n,e){const{iScale:t,vScale:s}=e,r=t.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[i]:n[u]};return a}function pm(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function m4(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function y4(n){const{min:e,max:t,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function b4(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function ow(n,e,t,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=n[r.index];if(t&&i>0||!t&&i<0)return r.index}return null}function aw(n,e){const{chart:t,_cachedMeta:s}=n,r=t._stacks||(t._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,c=o.axis,u=m4(i,o,s),d=e.length;let f;for(let h=0;h<d;++h){const p=e[h],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});f=y[c]=b4(r,u,g),f[a]=m,f._top=ow(f,o,!0,s.type),f._bottom=ow(f,o,!1,s.type);const b=f._visualValues||(f._visualValues={});b[a]=m}}function gm(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function v4(n,e){return Io(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function x4(n,e,t){return Io(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function kc(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][t]===void 0)return;delete i[s][t],i[s]._visualValues!==void 0&&i[s]._visualValues[t]!==void 0&&delete i[s]._visualValues[t]}}}const mm=n=>n==="reset"||n==="none",lw=(n,e)=>e?n:Object.assign({},n),w4=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:PC(t,!0),values:null};class yr{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&kc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),r=(d,f,h,p)=>d==="x"?f:d==="r"?p:h,i=t.xAxisID=We(s.xAxisID,gm(e,"x")),o=t.yAxisID=We(s.yAxisID,gm(e,"y")),a=t.rAxisID=We(s.rAxisID,gm(e,"r")),l=t.indexAxis,c=t.iAxisID=r(l,i,o,a),u=t.vAxisID=r(l,o,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&H1(this._data,this),e._stacked&&kc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(ot(t)){const r=this._cachedMeta;this._data=g4(t,r)}else if(s!==t){if(s){H1(s,this);const r=this._cachedMeta;kc(r),r._parsed=[]}t&&Object.isExtensible(t)&&o3(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=pm(t.vScale,t),t.stack!==s.stack&&(r=!0,kc(t),t.stack=s.stack),this._resyncElements(e),(r||i!==t._stacked)&&(aw(this,t._parsed),t._stacked=pm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&t===r.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{Bt(r[e])?f=this.parseArrayData(s,r,e,t):ot(r[e])?f=this.parseObjectData(s,r,e,t):f=this.parsePrimitiveData(s,r,e,t);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<t;++u)s._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);s._sorted=l}o&&aw(this,f)}parsePrimitiveData(e,t,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(r);let f,h,p;for(f=0,h=r;f<h;++f)p=f+s,d[f]={[a]:u||i.parse(c[p],p),[l]:o.parse(t[p],p)};return d}parseArrayData(e,t,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+s,d=t[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,t,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,h;for(u=0,d=r;u<d;++u)f=u+s,h=t[f],c[u]={x:i.parse(So(h,a),f),y:o.parse(So(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const r=this.chart,i=this._cachedMeta,o=t[e.axis],a={keys:PC(r,!0),values:t._stacks[e.axis]._visualValues};return iw(a,o,i.index,{mode:s})}updateRangeFromParsed(e,t,s,r){const i=s[t.axis];let o=i===null?NaN:i;const a=r&&s._stacks[t.axis];r&&a&&(r.values=a,o=iw(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=w4(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=y4(a);let f,h;function p(){h=r[f];const g=h[a.axis];return!Qt(h[e.axis])||u>g||d<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,h,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r][e.axis],Qt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=p4(We(this.options.clip,h4(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,r=s.data||[],i=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=x4(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=v4(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const r=t==="active",i=this._cachedDataOpts,o=e+"-"+t,a=i[o],l=this.enableOptionSharing&&Uu(s);if(a)return lw(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(Vt.elements[e]),p=()=>this.getContext(s,r,t),g=c.resolveNamedOptions(f,h,p,d);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(lw(g,l))),g}_resolveAnimations(e,t,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,s,t))}const c=new IC(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||mm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,s),{sharedOptions:i,includeOptions:o}}updateElement(e,t,s,r){mm(r)?Object.assign(e,s):this._resolveAnimations(t,r).update(e,s)}updateSharedOptions(e,t,s){e&&!mm(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=s.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,s=!0){const r=this._cachedMeta,i=r.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,t),s&&this.updateElements(i,e,t,"reset")}updateElements(e,t,s,r){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,t);s._stacked&&kc(s,r)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,r]=e;this[t](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(yr,"defaults",{}),K(yr,"datasetElementType",null),K(yr,"dataElementType",null);function S4(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=t.length;r<i;r++)s=s.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=fC(s.sort((r,i)=>r-i))}return n._cache.$bar}function E4(n){const e=n.iScale,t=S4(e,n.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(Uu(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=t.length;r<i;++r)o=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function k4(n,e,t,s){const r=t.barThickness;let i,o;return pt(r)?(i=e.min*t.categoryPercentage,o=t.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[n]-i/2}}function _4(n,e,t,s){const r=e.pixels,i=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=t.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:t.barPercentage,start:c}}function T4(n,e,t,s){const r=t.parse(n[0],s),i=t.parse(n[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:i,min:o,max:a}}function DC(n,e,t,s){return Bt(n)?T4(n,e,t,s):e[t.axis]=t.parse(n,s),e}function cw(n,e,t,s){const r=n.iScale,i=n.vScale,o=r.getLabels(),a=r===i,l=[];let c,u,d,f;for(c=t,u=t+s;c<u;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(DC(f,d,i,c));return l}function ym(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function C4(n,e,t){return n!==0?Dr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function O4(n){let e,t,s,r,i;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:t,end:s,reverse:e,top:r,bottom:i}}function A4(n,e,t,s){let r=e.borderSkipped;const i={};if(!r){n.borderSkipped=i;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=O4(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?r=c:(t._bottom||0)===s?r=u:(i[uw(u,o,a,l)]=!0,r=c)),i[uw(r,o,a,l)]=!0,n.borderSkipped=i}function uw(n,e,t,s){return s?(n=M4(n,e,t),n=dw(n,t,e)):n=dw(n,e,t),n}function M4(n,e,t){return n===e?t:n===t?e:n}function dw(n,e,t){return n==="start"?e:n==="end"?t:n}function I4(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Hf extends yr{parsePrimitiveData(e,t,s,r){return cw(e,t,s,r)}parseArrayData(e,t,s,r){return cw(e,t,s,r)}parseObjectData(e,t,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,h,p,g;for(f=s,h=s+r;f<h;++f)g=t[f],p={},p[i.axis]=i.parse(So(g,c),f),d.push(DC(So(g,u),p,o,f));return d}updateRangeFromParsed(e,t,s,r){super.updateRangeFromParsed(e,t,s,r);const i=s._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:r}=t,i=this.getParsed(e),o=i._custom,a=ym(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,r);for(let h=t;h<t+s;h++){const p=this.getParsed(h),g=i||pt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,u),y=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!y||ym(p._custom)||o===y._top||o===y._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(b.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const x=b.options||e[h].options;A4(b,x,y,o),I4(b,x,u.ratio),this.updateElement(e[h],h,b,r)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[s.axis],c=u=>{const d=u._parsed.find(h=>h[s.axis]===l),f=d&&d[u.vScale.axis];if(pt(f)||isNaN(f))return!0};for(const u of r)if(!(t!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,s){const r=this._getStacks(e,s),i=t!==void 0?r.indexOf(t):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||E4(t),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=ym(c);let d=l[t.axis],f=0,h=s?this.applyStack(t,l,s):d,p,g;h!==d&&(f=h-d,h=d),u&&(d=c.barStart,h=c.barEnd-c.barStart,d!==0&&Dr(d)!==Dr(c.barEnd)&&(f=0),f+=d);const m=!pt(i)&&!u?i:f;let y=t.getPixelForValue(m);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(f+h):p=y,g=p-y,Math.abs(g)<o){g=C4(g,t,a)*o,d===a&&(y-=g/2);const b=t.getPixelForDecimal(0),x=t.getPixelForDecimal(1),S=Math.min(b,x),w=Math.max(b,x);y=Math.max(Math.min(y,w),S),p=y+g,s&&!u&&(l._stacks[t.axis]._visualValues[r]=t.getValueForPixel(p)-t.getValueForPixel(y))}if(y===t.getPixelForValue(a)){const b=Dr(g)*t.getLineWidthForValue(a)/2;y+=b,g-=b}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const s=t.scale,r=this.options,i=r.skipNull,o=We(r.maxBarThickness,1/0);let a,l;if(t.grouped){const c=i?this._getStackCount(e):t.stackCount,u=r.barThickness==="flex"?_4(e,t,r,c):k4(e,t,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[t.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}K(Hf,"id","bar"),K(Hf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(Hf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wf extends yr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,r){const i=super.parsePrimitiveData(e,t,s,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+s).radius;return i}parseArrayData(e,t,s,r){const i=super.parseArrayData(e,t,s,r);for(let o=0;o<i.length;o++){const a=t[s+o];i[o]._custom=We(a[2],this.resolveDataElementOptions(o+s).radius)}return i}parseObjectData(e,t,s,r){const i=super.parseObjectData(e,t,s,r);for(let o=0;o<i.length;o++){const a=t[s+o];i[o]._custom=We(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,r){const i=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,r),u=o.axis,d=a.axis;for(let f=t;f<t+s;f++){const h=e[f],p=!i&&this.getParsed(f),g={},m=g[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[d]=i?a.getBasePixel():a.getPixelForValue(p[d]);g.skip=isNaN(m)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(f,h.active?"active":r),i&&(g.options.radius=0)),this.updateElement(h,f,g,r)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return t!=="active"&&(r.radius=0),r.radius+=We(s&&s._custom,i),r}}K(Wf,"id","bubble"),K(Wf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),K(Wf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function P4(n,e,t){let s=1,r=1,i=0,o=0;if(e<Rt){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(x,S,w)=>Hu(x,a,l,!0)?1:Math.max(S,S*t,w,w*t),p=(x,S,w)=>Hu(x,a,l,!0)?-1:Math.min(S,S*t,w,w*t),g=h(0,c,d),m=h(tn,u,f),y=p(Nt,c,d),b=p(Nt+tn,u,f);s=(g-y)/2,r=(m-b)/2,i=-(g+y)/2,o=-(m+b)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class Zo extends yr{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(ot(s[e])){const{key:l="value"}=this._parsing;i=c=>+So(s[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return gr(this.options.rotation-90)}_getCircumference(){return gr(this.options.circumference)}_getRotationExtents(){let e=Rt,t=-Rt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(KF(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:p,offsetY:g}=P4(d,u,l),m=(s.width-o)/f,y=(s.height-o)/h,b=Math.max(Math.min(m,y)/2,0),x=aC(this.options.radius,b),S=Math.max(x*l,0),w=(x-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=g*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Rt)}updateElements(e,t,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,h=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(t,r);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,i);for(b=t;b<t+s;++b){const x=this._circumference(b,i),S=e[b],w={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+x,circumference:x,outerRadius:p,innerRadius:h};m&&(w.options=g||this.resolveDataElementOptions(b,S.active?"active":r)),y+=x,this.updateElement(S,b,w,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,r;for(r=0;r<t.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Rt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Cd(t._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const s=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(We(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(Zo,"id","doughnut"),K(Zo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(Zo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),K(Zo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return t.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class Kf extends yr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=gC(t,r,o);this._drawStart=a,this._drawCount=l,mC(t)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,t,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r),f=o.axis,h=a.axis,{spanGaps:p,segment:g}=this.options,m=Hl(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||r==="none",b=t+s,x=e.length;let S=t>0&&this.getParsed(t-1);for(let w=0;w<x;++w){const k=e[w],T=y?k:{};if(w<t||w>=b){T.skip=!0;continue}const C=this.getParsed(w),E=pt(C[h]),_=T[f]=o.getPixelForValue(C[f],w),O=T[h]=i||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[h],w);T.skip=isNaN(_)||isNaN(O)||E,T.stop=w>0&&Math.abs(C[f]-S[f])>m,g&&(T.parsed=C,T.raw=c.data[w]),d&&(T.options=u||this.resolveDataElementOptions(w,k.active?"active":r)),y||this.updateElement(k,w,T,r),S=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}K(Kf,"id","line"),K(Kf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),K(Kf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class fu extends yr{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Cd(t._parsed[e].r,s.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,s,r){return kC.bind(this)(e,t,s,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),o=Math.max(s.cutoutPercentage?i/100*s.cutoutPercentage:1,0),a=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,s,r){const i=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Nt;let h=f,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)h+=this._computeAngle(p,r,g);for(p=t;p<t+s;p++){const m=e[p];let y=h,b=h+this._computeAngle(p,r,g),x=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=b,i&&(l.animateScale&&(x=0),l.animateRotate&&(y=b=f));const S={x:u,y:d,innerRadius:0,outerRadius:x,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(p,m.active?"active":r)};this.updateElement(m,p,S,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?gr(this.resolveDataElementOptions(e,t).angle||s):0}}K(fu,"id","polarArea"),K(fu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),K(fu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return t.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Xy extends Zo{}K(Xy,"id","pie"),K(Xy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Gf extends yr{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,r){return kC.bind(this)(e,t,s,r)}update(e){const t=this._cachedMeta,s=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(s.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,s,r){const i=this._cachedMeta.rScale,o=r==="reset";for(let a=t;a<t+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=i.getPointPositionForValue(a,this.getParsed(a).r),d=o?i.xCenter:u.x,f=o?i.yCenter:u.y,h={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,h,r)}}}K(Gf,"id","radar"),K(Gf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),K(Gf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Xf extends yr{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=gC(t,s,r);if(this._drawStart=i,this._drawCount=o,mC(t)&&(i=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(u),f=this.includeOptions(r,d),h=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,y=Hl(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||r==="none";let x=t>0&&this.getParsed(t-1);for(let S=t;S<t+s;++S){const w=e[S],k=this.getParsed(S),T=b?w:{},C=pt(k[p]),E=T[h]=o.getPixelForValue(k[h],S),_=T[p]=i||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],S);T.skip=isNaN(E)||isNaN(_)||C,T.stop=S>0&&Math.abs(k[h]-x[h])>y,m&&(T.parsed=k,T.raw=c.data[S]),f&&(T.options=d||this.resolveDataElementOptions(S,w.active?"active":r)),b||this.updateElement(w,S,T,r),x=k}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,r=s.options&&s.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,o)/2}}K(Xf,"id","scatter"),K(Xf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),K(Xf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var D4=Object.freeze({__proto__:null,BarController:Hf,BubbleController:Wf,DoughnutController:Zo,LineController:Kf,PieController:Xy,PolarAreaController:fu,RadarController:Gf,ScatterController:Xf});function Bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zb{constructor(e){K(this,"options");this.options=e||{}}static override(e){Object.assign(zb.prototype,e)}init(){}formats(){return Bo()}parse(){return Bo()}format(){return Bo()}add(){return Bo()}diff(){return Bo()}startOf(){return Bo()}endOf(){return Bo()}}var R4={_date:zb};function N4(n,e,t,s){const{controller:r,data:i,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?r3:ci;if(s){if(r._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,t-u),f=l(i,e,t+u);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,t)}return{lo:0,hi:i.length-1}}function Od(n,e,t,s,r){const i=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=N4(i[a],e,o,r);for(let h=d;h<=f;++h){const p=u[h];p.skip||s(p,c,h)}}}function L4(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=t?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function bm(n,e,t,s,r){const i=[];return!r&&!n.isPointInArea(e)||Od(n,t,e,function(a,l,c){!r&&!ui(a,n.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function $4(n,e,t,s){let r=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=uC(o,{x:e.x,y:e.y});Hu(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Od(n,t,e,i),r}function F4(n,e,t,s,r,i){let o=[];const a=L4(t);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,r);if(s&&!h)return;const p=u.getCenterPoint(r);if(!(!!i||n.isPointInArea(p))&&!h)return;const m=a(e,p);m<l?(o=[{element:u,datasetIndex:d,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:f})}return Od(n,t,e,c),o}function vm(n,e,t,s,r,i){return!i&&!n.isPointInArea(e)?[]:t==="r"&&!s?$4(n,e,t,r):F4(n,e,t,s,r,i)}function fw(n,e,t,s,r){const i=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return Od(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],r)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var j4={evaluateInteractionItems:Od,modes:{index(n,e,t,s){const r=Ko(e,n),i=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?bm(n,r,i,s,o):vm(n,r,i,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,s){const r=Ko(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?bm(n,r,i,s,o):vm(n,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,s){const r=Ko(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;return bm(n,r,i,s,o)},nearest(n,e,t,s){const r=Ko(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;return vm(n,r,i,t.intersect,s,o)},x(n,e,t,s){const r=Ko(e,n);return fw(n,r,"x",t.intersect,s)},y(n,e,t,s){const r=Ko(e,n);return fw(n,r,"y",t.intersect,s)}}};const RC=["left","top","right","bottom"];function _c(n,e){return n.filter(t=>t.pos===e)}function hw(n,e){return n.filter(t=>RC.indexOf(t.pos)===-1&&t.box.axis===e)}function Tc(n,e){return n.sort((t,s)=>{const r=e?s:t,i=e?t:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function B4(n){const e=[];let t,s,r,i,o,a;for(t=0,s=(n||[]).length;t<s;++t)r=n[t],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function V4(n){const e={};for(const t of n){const{stack:s,pos:r,stackWeight:i}=t;if(!s||!RC.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function z4(n,e){const t=V4(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=n.length;i<o;++i){a=n[i];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:l&&e.availableHeight)}return t}function U4(n){const e=B4(n),t=Tc(e.filter(c=>c.box.fullSize),!0),s=Tc(_c(e,"left"),!0),r=Tc(_c(e,"right")),i=Tc(_c(e,"top"),!0),o=Tc(_c(e,"bottom")),a=hw(e,"x"),l=hw(e,"y");return{fullSize:t,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:_c(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function pw(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function NC(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function H4(n,e,t,s){const{pos:r,box:i}=t,o=n.maxPadding;if(!ot(r)){t.size&&(n[r]-=t.size);const d=s[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?i.height:i.width),t.size=d.size/d.count,n[r]+=t.size}i.getPadding&&NC(o,i.getPadding());const a=Math.max(0,e.outerWidth-pw(o,n,"left","right")),l=Math.max(0,e.outerHeight-pw(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function W4(n){const e=n.maxPadding;function t(s){const r=Math.max(e[s]-n[s],0);return n[s]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function K4(n,e){const t=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],t[o])}),i}return s(n?["left","right"]:["top","bottom"])}function jc(n,e,t,s){const r=[];let i,o,a,l,c,u;for(i=0,o=n.length,c=0;i<o;++i){a=n[i],l=a.box,l.update(a.width||e.w,a.height||e.h,K4(a.horizontal,e));const{same:d,other:f}=H4(e,t,a,s);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&jc(r,e,t,s)||u}function df(n,e,t,s,r){n.top=t,n.left=e,n.right=e+s,n.bottom=t+r,n.width=s,n.height=r}function gw(n,e,t,s){const r=t.padding;let{x:i,y:o}=e;for(const a of n){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Uu(c.start)&&(o=c.start),l.fullSize?df(l,r.left,o,t.outerWidth-r.right-r.left,f):df(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Uu(c.start)&&(i=c.start),l.fullSize?df(l,i,r.top,f,t.outerHeight-r.bottom-r.top):df(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var Jn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const r=Zn(n.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=U4(n.boxes),l=a.vertical,c=a.horizontal;kt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);NC(f,Zn(s));const h=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),p=z4(l.concat(c),d);jc(a.fullSize,h,d,p),jc(l,h,d,p),jc(c,h,d,p)&&jc(l,h,d,p),W4(h),gw(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,gw(a.rightAndBottom,h,d,p),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},kt(a.chartArea,g=>{const m=g.box;Object.assign(m,n.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class LC{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,r){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):s)}}isAttached(e){return!0}updateConfig(e){}}class G4 extends LC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jf="$chartjs",X4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mw=n=>n===null||n==="";function J4(n,e){const t=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jf]={initial:{height:s,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",mw(r)){const i=Z1(n,"width");i!==void 0&&(n.width=i)}if(mw(s))if(n.style.height==="")n.height=n.width/(e||2);else{const i=Z1(n,"height");i!==void 0&&(n.height=i)}return n}const $C=q3?{passive:!0}:!1;function Y4(n,e,t){n&&n.addEventListener(e,t,$C)}function q4(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,$C)}function Q4(n,e){const t=X4[n.type]||n.type,{x:s,y:r}=Ko(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Lh(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Z4(n,e,t){const s=n.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Lh(a.addedNodes,s),o=o&&!Lh(a.removedNodes,s);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function ej(n,e,t){const s=n.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Lh(a.removedNodes,s),o=o&&!Lh(a.addedNodes,s);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ku=new Map;let yw=0;function FC(){const n=window.devicePixelRatio;n!==yw&&(yw=n,Ku.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function tj(n,e){Ku.size||window.addEventListener("resize",FC),Ku.set(n,e)}function nj(n){Ku.delete(n),Ku.size||window.removeEventListener("resize",FC)}function sj(n,e,t){const s=n.canvas,r=s&&Vb(s);if(!r)return;const i=pC((a,l)=>{const c=r.clientWidth;t(a,l),c<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(r),tj(n,i),o}function xm(n,e,t){t&&t.disconnect(),e==="resize"&&nj(n)}function rj(n,e,t){const s=n.canvas,r=pC(i=>{n.ctx!==null&&t(Q4(i,n))},n);return Y4(s,e,r),r}class ij extends LC{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(J4(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Jf])return!1;const s=t[Jf].initial;["height","width"].forEach(i=>{const o=s[i];pt(o)?t.removeAttribute(i):t.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{t.style[i]=r[i]}),t.width=t.width,delete t[Jf],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:Z4,detach:ej,resize:sj}[t]||rj;r[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),r=s[t];if(!r)return;({attach:xm,detach:xm,resize:xm}[t]||q4)(e,t,r),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,r){return Y3(e,t,s,r)}isAttached(e){const t=e&&Vb(e);return!!(t&&t.isConnected)}}function oj(n){return!Bb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?G4:ij}var jf;let Si=(jf=class{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Hl(this.x)&&Hl(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},K(jf,"defaults",{}),K(jf,"defaultRoutes"),jf);function aj(n,e){const t=n.options.ticks,s=lj(n),r=Math.min(t.maxTicksLimit||s,s),i=t.major.enabled?uj(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>r)return dj(e,c,i,o/r),c;const u=cj(i,e,r);if(o>0){let d,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(ff(e,c,u,pt(h)?0:a-h,a),d=0,f=o-1;d<f;d++)ff(e,c,u,i[d],i[d+1]);return ff(e,c,u,l,pt(h)?e.length:l+h),c}return ff(e,c,u),c}function lj(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(s,r))}function cj(n,e,t){const s=fj(n),r=e.length/t;if(!s)return Math.max(r,1);const i=e3(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function uj(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function dj(n,e,t,s){let r=0,i=t[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===i&&(e.push(n[o]),r++,i=t[r*s])}function ff(n,e,t,s,r){const i=We(s,0),o=Math.min(We(r,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),r&&(l=r-s,t=l/Math.floor(l/t)),u=i;u<0;)a++,u=Math.round(i+a*t);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(i+a*t))}function fj(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const hj=n=>n==="left"?"right":n==="right"?"left":n,bw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,vw=(n,e)=>Math.min(e||n,n);function xw(n,e){const t=[],s=n.length/e,r=n.length;let i=0;for(;i<r;i+=s)t.push(n[Math.floor(i)]);return t}function pj(n,e,t){const s=n.ticks.length,r=Math.min(e,s-1),i=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),c;if(!(t&&(s===1?c=Math.max(l-i,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<i-a||l>o+a)))return l}function gj(n,e){kt(n,t=>{const s=t.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[s[i]];s.splice(0,r)}})}function Cc(n){return n.drawTicks?n.tickLength:0}function ww(n,e){if(!n.display)return 0;const t=pn(n.font,e),s=Zn(n.padding);return(Bt(n.text)?n.text.length:1)*t.lineHeight+s.height}function mj(n,e){return Io(n,{scale:e,type:"scale"})}function yj(n,e,t){return Io(n,{tick:t,index:e,type:"tick"})}function bj(n,e,t){let s=Rb(n);return(t&&e!=="right"||!t&&e==="right")&&(s=hj(s)),s}function vj(n,e,t,s){const{top:r,left:i,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let d=0,f,h,p;const g=o-r,m=a-i;if(n.isHorizontal()){if(h=jn(s,i,a),ot(t)){const y=Object.keys(t)[0],b=t[y];p=u[y].getPixelForValue(b)+g-e}else t==="center"?p=(c.bottom+c.top)/2+g-e:p=bw(n,t,e);f=a-i}else{if(ot(t)){const y=Object.keys(t)[0],b=t[y];h=u[y].getPixelForValue(b)-m+e}else t==="center"?h=(c.left+c.right)/2-m+e:h=bw(n,t,e);p=jn(s,o,r),d=t==="left"?-tn:tn}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}class Wa extends Si{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:r}=this;return e=Ps(e,Number.POSITIVE_INFINITY),t=Ps(t,Number.NEGATIVE_INFINITY),s=Ps(s,Number.POSITIVE_INFINITY),r=Ps(r,Number.NEGATIVE_INFINITY),{min:Ps(e,s),max:Ps(t,r),minDefined:Qt(e),maxDefined:Qt(t)}}getMinMax(e){let{min:t,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:t,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),i||(s=Math.max(s,o.max));return t=i&&t>s?s:t,s=r&&t>s?t:s,{min:Ps(t,Ps(s,t)),max:Ps(s,Ps(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O3(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?xw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Mt(t.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=vw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!t.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=xn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),d+6>a&&(a=h/(s-(e.offset?.5:1)),l=this.maxHeight-Cc(e.grid)-t.padding-ww(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Pb(Math.min(Math.asin(xn((u.highest.height+6)/a,-1,1)),Math.asin(xn(l/c,-1,1))-Math.asin(xn(f/c,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ww(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Cc(i)+l):(e.height=this.maxHeight,e.width=Cc(i)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=s.padding*2,p=gr(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const y=s.mirror?0:m*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+y+h)}else{const y=s.mirror?0:g*d.width+m*f.height;e.width=Math.min(this.maxWidth,e.width+y+h)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=r*e.width,h=s*t.height):(f=s*e.height,h=r*t.width):i==="start"?h=t.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,h=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=t.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)pt(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=xw(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(t/vw(t,s));let c=0,u=0,d,f,h,p,g,m,y,b,x,S,w;for(d=0;d<t;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,y=i[m]=i[m]||{data:{},gc:[]},b=g.lineHeight,x=S=0,!pt(p)&&!Bt(p))x=Rh(r,y.data,y.gc,x,p),S=b;else if(Bt(p))for(f=0,h=p.length;f<h;++f)w=p[f],!pt(w)&&!Bt(w)&&(x=Rh(r,y.data,y.gc,x,w),S+=b);o.push(x),a.push(S),c=Math.max(x,c),u=Math.max(S,u)}gj(i,t);const k=o.indexOf(c),T=a.indexOf(u),C=E=>({width:o[E]||0,height:a[E]||0});return{first:C(0),last:C(t-1),widest:C(k),highest:C(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return s3(this._alignToPixels?jo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=yj(this.getContext(),e,s))}return this.$context||(this.$context=mj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=gr(this.labelRotation),s=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Cc(i),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(D){return jo(s,D,g)};let b,x,S,w,k,T,C,E,_,O,A,P;if(o==="top")b=y(this.bottom),T=this.bottom-f,E=b-m,O=y(e.top)+m,P=e.bottom;else if(o==="bottom")b=y(this.top),O=e.top,P=y(e.bottom)-m,T=b+m,E=this.top+f;else if(o==="left")b=y(this.right),k=this.right-f,C=b-m,_=y(e.left)+m,A=e.right;else if(o==="right")b=y(this.left),_=e.left,A=y(e.right)-m,k=b+m,C=this.left+f;else if(t==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(ot(o)){const D=Object.keys(o)[0],U=o[D];b=y(this.chart.scales[D].getPixelForValue(U))}O=e.top,P=e.bottom,T=b+m,E=T+f}else if(t==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(ot(o)){const D=Object.keys(o)[0],U=o[D];b=y(this.chart.scales[D].getPixelForValue(U))}k=b-m,C=k-f,_=e.left,A=e.right}const $=We(r.ticks.maxTicksLimit,d),z=Math.max(1,Math.ceil(d/$));for(x=0;x<d;x+=z){const D=this.getContext(x),U=i.setContext(D),J=a.setContext(D),be=U.lineWidth,Ge=U.color,ue=J.dash||[],G=J.dashOffset,oe=U.tickWidth,Xe=U.tickColor,at=U.tickBorderDash||[],$e=U.tickBorderDashOffset;S=pj(this,x,l),S!==void 0&&(w=jo(s,S,be),c?k=C=_=A=w:T=E=O=P=w,h.push({tx1:k,ty1:T,tx2:C,ty2:E,x1:_,y1:O,x2:A,y2:P,width:be,color:Ge,borderDash:ue,borderDashOffset:G,tickWidth:oe,tickColor:Xe,tickBorderDash:at,tickBorderDashOffset:$e}))}return this._ticksLength=d,this._borderValue=b,h}_computeLabelItems(e){const t=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Cc(s.grid),h=f+u,p=d?-u:h,g=-gr(this.labelRotation),m=[];let y,b,x,S,w,k,T,C,E,_,O,A,P="middle";if(r==="top")k=this.bottom-p,T=this._getXAxisLabelAlignment();else if(r==="bottom")k=this.top+p,T=this._getXAxisLabelAlignment();else if(r==="left"){const z=this._getYAxisLabelAlignment(f);T=z.textAlign,w=z.x}else if(r==="right"){const z=this._getYAxisLabelAlignment(f);T=z.textAlign,w=z.x}else if(t==="x"){if(r==="center")k=(e.top+e.bottom)/2+h;else if(ot(r)){const z=Object.keys(r)[0],D=r[z];k=this.chart.scales[z].getPixelForValue(D)+h}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")w=(e.left+e.right)/2-h;else if(ot(r)){const z=Object.keys(r)[0],D=r[z];w=this.chart.scales[z].getPixelForValue(D)}T=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const $=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){x=a[y],S=x.label;const z=i.setContext(this.getContext(y));C=this.getPixelForTick(y)+i.labelOffset,E=this._resolveTickFontOptions(y),_=E.lineHeight,O=Bt(S)?S.length:1;const D=O/2,U=z.color,J=z.textStrokeColor,be=z.textStrokeWidth;let Ge=T;o?(w=C,T==="inner"&&(y===b-1?Ge=this.options.reverse?"left":"right":y===0?Ge=this.options.reverse?"right":"left":Ge="center"),r==="top"?c==="near"||g!==0?A=-O*_+_/2:c==="center"?A=-$.highest.height/2-D*_+_:A=-$.highest.height+_/2:c==="near"||g!==0?A=_/2:c==="center"?A=$.highest.height/2-D*_:A=$.highest.height-O*_,d&&(A*=-1),g!==0&&!z.showLabelBackdrop&&(w+=_/2*Math.sin(g))):(k=C,A=(1-O)*_/2);let ue;if(z.showLabelBackdrop){const G=Zn(z.backdropPadding),oe=$.heights[y],Xe=$.widths[y];let at=A-G.top,$e=0-G.left;switch(P){case"middle":at-=oe/2;break;case"bottom":at-=oe;break}switch(T){case"center":$e-=Xe/2;break;case"right":$e-=Xe;break;case"inner":y===b-1?$e-=Xe:y>0&&($e-=Xe/2);break}ue={left:$e,top:at,width:Xe+G.width,height:oe+G.height,color:z.backdropColor}}m.push({label:S,font:E,textOffset:A,options:{rotation:g,color:U,strokeColor:J,strokeWidth:be,textAlign:Ge,textBaseline:P,translation:[w,k],backdrop:ue}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-gr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return t==="left"?r?(u=this.right+i,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?r?(u=this.left+i,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const l=r[i];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=jo(e,this.left,o)-o/2,u=jo(e,this.right,a)+a/2,d=f=l):(d=jo(e,this.top,o)-o/2,f=jo(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&ig(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Aa(s,c,0,u,l,a)}r&&og(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:r}}=this;if(!s.display)return;const i=pn(s.font),o=Zn(s.padding),a=s.align;let l=i.lineHeight/2;t==="bottom"||t==="center"||ot(t)?(l+=o.bottom,Bt(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=vj(this,l,t,a);Aa(e,s.text,0,0,i,{color:s.color,maxWidth:d,rotation:f,textAlign:bj(a,t,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=We(e.grid&&e.grid.z,-1),r=We(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wa.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const a=t[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return pn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hf{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;Sj(t)&&(s=this.register(t));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,xj(e,o,s),this.override&&Vt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,r=this.scope;s in t&&delete t[s],r&&s in Vt[r]&&(delete Vt[r][s],this.override&&delete Oa[s])}}function xj(n,e,t){const s=zu(Object.create(null),[t?Vt.get(t):{},Vt.get(e),n.defaults]);Vt.set(e,s),n.defaultRoutes&&wj(e,n.defaultRoutes),n.descriptors&&Vt.describe(e,n.descriptors)}function wj(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),r=s.pop(),i=[n].concat(s).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");Vt.route(i,r,l,a)})}function Sj(n){return"id"in n&&"defaults"in n}class Ej{constructor(){this.controllers=new hf(yr,"datasets",!0),this.elements=new hf(Si,"elements"),this.plugins=new hf(Object,"plugins"),this.scales=new hf(Wa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):kt(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,s){const r=Ib(e);Mt(s["before"+r],[],s),t[e](s),Mt(s["after"+r],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var kr=new Ej;class kj{constructor(){this._init=[]}notify(e,t,s,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,s);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[t,r,i.options];if(Mt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,r=We(s.options&&s.options.plugins,{}),i=_j(s);return r===!1&&!t?[]:Cj(e,i,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,s),e,"stop"),this._notify(r(s,t),e,"start")}}function _j(n){const e={},t=[],s=Object.keys(kr.plugins.items);for(let i=0;i<s.length;i++)t.push(kr.getPlugin(s[i]));const r=n.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Tj(n,e){return!e&&n===!1?null:n===!0?{}:n}function Cj(n,{plugins:e,localIds:t},s,r){const i=[],o=n.getContext();for(const a of e){const l=a.id,c=Tj(s[l],r);c!==null&&i.push({plugin:a,options:Oj(n.config,{plugin:a,local:t[l]},c,o)})}return i}function Oj(n,{plugin:e,local:t},s,r){const i=n.pluginScopeKeys(e),o=n.getOptionScopes(s,i);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jy(n,e){const t=Vt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Aj(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Mj(n,e){return n===e?"_index_":"_value_"}function Sw(n){if(n==="x"||n==="y"||n==="r")return n}function Ij(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Yy(n,...e){if(Sw(n))return n;for(const t of e){const s=t.axis||Ij(t.position)||n.length>1&&Sw(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ew(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Pj(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return Ew(n,"x",t[0])||Ew(n,"y",t[0])}return{}}function Dj(n,e){const t=Oa[n.type]||{scales:{}},s=e.scales||{},r=Jy(n.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ot(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Yy(o,a,Pj(o,n),Vt.scales[a.type]),c=Mj(l,r),u=t.scales||{};i[o]=lu(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Jy(a,e),u=(Oa[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=Aj(d,l),h=o[f+"AxisID"]||f;i[h]=i[h]||Object.create(null),lu(i[h],[{axis:f},s[h],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];lu(a,[Vt.scales[a.type],Vt.scale])}),i}function jC(n){const e=n.options||(n.options={});e.plugins=We(e.plugins,{}),e.scales=Dj(n,e)}function BC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Rj(n){return n=n||{},n.data=BC(n.data),jC(n),n}const kw=new Map,VC=new Set;function pf(n,e){let t=kw.get(n);return t||(t=e(),kw.set(n,t),VC.add(t)),t}const Oc=(n,e,t)=>{const s=So(e,t);s!==void 0&&n.add(s)};class Nj{constructor(e){this._config=Rj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=BC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return pf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return pf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return pf(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let r=s.get(e);return(!r||t)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,t,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>Oc(l,e,d))),u.forEach(d=>Oc(l,r,d)),u.forEach(d=>Oc(l,Oa[i]||{},d)),u.forEach(d=>Oc(l,Vt,d)),u.forEach(d=>Oc(l,Ky,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),VC.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Oa[t]||{},Vt.datasets[t]||{},{type:t},Vt,Ky]}resolveNamedOptions(e,t,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=_w(this._resolverCache,e,r);let l=o;if($j(o,t)){i.$shared=!1,s=Eo(s)?s():s;const c=this.createResolver(e,s,a);l=Wl(o,s,c)}for(const c of t)i[c]=l[c];return i}createResolver(e,t,s=[""],r){const{resolver:i}=_w(this._resolverCache,e,s);return ot(t)?Wl(i,t,void 0,r):i}}function _w(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const r=t.join();let i=s.get(r);return i||(i={resolver:$b(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const Lj=n=>ot(n)&&Object.getOwnPropertyNames(n).some(e=>Eo(n[e]));function $j(n,e){const{isScriptable:t,isIndexable:s}=xC(n);for(const r of e){const i=t(r),o=s(r),a=(o||i)&&n[r];if(i&&(Eo(a)||Lj(a))||o&&Bt(a))return!0}return!1}var Fj="4.4.7";const jj=["top","bottom","left","right","chartArea"];function Tw(n,e){return n==="top"||n==="bottom"||jj.indexOf(n)===-1&&e==="x"}function Cw(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function Ow(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Mt(t&&t.onComplete,[n],e)}function Bj(n){const e=n.chart,t=e.options.animation;Mt(t&&t.onProgress,[n],e)}function zC(n){return Bb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Yf={},Aw=n=>{const e=zC(n);return Object.values(Yf).filter(t=>t.canvas===e).pop()};function Vj(n,e,t){const s=Object.keys(n);for(const r of s){const i=+r;if(i>=e){const o=n[r];delete n[r],(t>0||i>e)&&(n[i+t]=o)}}}function zj(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}function gf(n,e,t){return n.options.clip?n[t]:e[t]}function Uj(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:gf(t,e,"left"),right:gf(t,e,"right"),top:gf(s,e,"top"),bottom:gf(s,e,"bottom")}:e}class as{static register(...e){kr.add(...e),Mw()}static unregister(...e){kr.remove(...e),Mw()}constructor(e,t){const s=this.config=new Nj(t),r=zC(e),i=Aw(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||oj(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=WF(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=a3(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Yf[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xr.listen(this,"complete",Ow),Xr.listen(this,"progress",Bj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:r,_aspectRatio:i}=this;return pt(e)?t&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Q1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J1(this.canvas,this.ctx),this}stop(){return Xr.stop(this),this}resize(e,t){Xr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Q1(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Mt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};kt(t,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];t&&(i=i.concat(Object.keys(t).map(o=>{const a=t[o],l=Yy(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kt(i,o=>{const a=o.options,l=a.id,c=Yy(l,a),u=We(a.type,o.dtype);(a.position===void 0||Tw(a.position,c)!==Tw(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const f=kr.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),kt(r,(o,a)=>{o||delete s[a]}),kt(s,o=>{Jn.configure(this,o,o.options),Jn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>t){for(let r=t;r<s;++r)this._destroyDatasetMeta(r);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Cw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,r)=>{t.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=t.length;s<r;s++){const i=t[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||Jy(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=kr.getController(a),{datasetElementType:c,dataElementType:u}=Vt.datasets[a];Object.assign(l,{dataElementType:kr.getElement(u),datasetElementType:c&&kr.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||kt(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Cw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,e=>{Jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!B1(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of t){const o=s==="_removeElements"?-i:i;Vj(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<t;i++)if(!B1(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],kt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Eo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xr.has(this)?this.attached&&!Xr.running(this)&&Xr.start(this):(this.draw(),Ow({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let r,i;for(r=0,i=t.length;r<i;++r){const o=t[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s=e._clip,r=!s.disabled,i=Uj(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&ig(t,{left:s.left===!1?0:i.left-s.left,right:s.right===!1?this.width:i.right+s.right,top:s.top===!1?0:i.top-s.top,bottom:s.bottom===!1?this.height:i.bottom+s.bottom}),e.controller.draw(),r&&og(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ui(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,r){const i=j4.modes[t];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Io(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);Uu(t)?(i.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Xr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J1(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Yf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};kt(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){kt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},kt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const r=s?"set":"remove";let i,o,a,l;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Ih(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(t,e),a=s?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:r=[],options:i}=this,o=t,a=this._getActiveElements(e,r,s,o),l=qF(e),c=zj(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Mt(i.onHover,[e,a,this],this),l&&Mt(i.onClick,[e,a,this],this));const u=!Ih(a,r);return(u||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=c,u}_getActiveElements(e,t,s,r){if(e.type==="mouseout")return[];if(!s)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}K(as,"defaults",Vt),K(as,"instances",Yf),K(as,"overrides",Oa),K(as,"registry",kr),K(as,"version",Fj),K(as,"getChart",Aw);function Mw(){return kt(as.instances,n=>n._plugins.invalidate())}function Hj(n,e,t){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;n.beginPath(),n.arc(i,o,a,s-c,t+c),l>r?(c=r/l,n.arc(i,o,l,t+c,s-c,!0)):n.arc(i,o,r,t+tn,s-tn),n.closePath(),n.clip()}function Wj(n){return Lb(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Kj(n,e,t,s){const r=Wj(n.options.borderRadius),i=(t-e)/2,o=Math.min(i,s*e/2),a=l=>{const c=(t-Math.min(i,l))*s/2;return xn(l,0,Math.min(i,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:xn(r.innerStart,0,o),innerEnd:xn(r.innerEnd,0,o)}}function Za(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function $h(n,e,t,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+t-c,0),f=u>0?u+s+t+c:0;let h=0;const p=r-l;if(s){const z=u>0?u-s:0,D=d>0?d-s:0,U=(z+D)/2,J=U!==0?p*U/(U+s):p;h=(p-J)/2}const g=Math.max(.001,p*d-t/Nt)/d,m=(p-g)/2,y=l+m+h,b=r-m-h,{outerStart:x,outerEnd:S,innerStart:w,innerEnd:k}=Kj(e,f,d,b-y),T=d-x,C=d-S,E=y+x/T,_=b-S/C,O=f+w,A=f+k,P=y+w/O,$=b-k/A;if(n.beginPath(),i){const z=(E+_)/2;if(n.arc(o,a,d,E,z),n.arc(o,a,d,z,_),S>0){const be=Za(C,_,o,a);n.arc(be.x,be.y,S,_,b+tn)}const D=Za(A,b,o,a);if(n.lineTo(D.x,D.y),k>0){const be=Za(A,$,o,a);n.arc(be.x,be.y,k,b+tn,$+Math.PI)}const U=(b-k/f+(y+w/f))/2;if(n.arc(o,a,f,b-k/f,U,!0),n.arc(o,a,f,U,y+w/f,!0),w>0){const be=Za(O,P,o,a);n.arc(be.x,be.y,w,P+Math.PI,y-tn)}const J=Za(T,y,o,a);if(n.lineTo(J.x,J.y),x>0){const be=Za(T,E,o,a);n.arc(be.x,be.y,x,y-tn,E)}}else{n.moveTo(o,a);const z=Math.cos(E)*d+o,D=Math.sin(E)*d+a;n.lineTo(z,D);const U=Math.cos(_)*d+o,J=Math.sin(_)*d+a;n.lineTo(U,J)}n.closePath()}function Gj(n,e,t,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){$h(n,e,t,s,l,r);for(let c=0;c<i;++c)n.fill();isNaN(a)||(l=o+(a%Rt||Rt))}return $h(n,e,t,s,l,r),n.fill(),l}function Xj(n,e,t,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,h=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=f,h?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let p=e.endAngle;if(i){$h(n,e,t,s,p,r);for(let g=0;g<i;++g)n.stroke();isNaN(a)||(p=o+(a%Rt||Rt))}h&&Hj(n,e,p),i||($h(n,e,t,s,p,r),n.stroke())}class Bc extends Si{constructor(t){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=uC(i,{x:t,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,p=We(f,c-l),g=Hu(o,l,c)&&l!==c,m=p>=Rt||g,y=li(a,u+h,d+h);return m&&y}getCenterPoint(t){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,d=(i+o)/2,f=(a+l+u+c)/2;return{x:s+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Rt?Math.floor(r/Rt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Nt,r||0)),u=i*c;t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,Gj(t,this,u,o,a),Xj(t,this,u,o,a),t.restore()}}K(Bc,"id","arc"),K(Bc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),K(Bc,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(Bc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function UC(n,e,t=e){n.lineCap=We(t.borderCapStyle,e.borderCapStyle),n.setLineDash(We(t.borderDash,e.borderDash)),n.lineDashOffset=We(t.borderDashOffset,e.borderDashOffset),n.lineJoin=We(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=We(t.borderWidth,e.borderWidth),n.strokeStyle=We(t.borderColor,e.borderColor)}function Jj(n,e,t){n.lineTo(t.x,t.y)}function Yj(n){return n.stepped?v3:n.tension||n.cubicInterpolationMode==="monotone"?x3:Jj}function HC(n,e,t={}){const s=n.length,{start:r=0,end:i=s-1}=t,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(i,a),u=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function qj(n,e,t,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:c}=HC(r,t,s),u=Yj(i);let{move:d=!0,reverse:f}=s||{},h,p,g;for(h=0;h<=c;++h)p=r[(a+(f?c-h:h))%o],!p.skip&&(d?(n.moveTo(p.x,p.y),d=!1):u(n,g,p,f,i.stepped),g=p);return l&&(p=r[(a+(f?c:0))%o],u(n,g,p,f,i.stepped)),!!l}function Qj(n,e,t,s){const r=e.points,{count:i,start:o,ilen:a}=HC(r,t,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,f,h,p,g,m,y;const b=S=>(o+(c?a-S:S))%i,x=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,y))};for(l&&(h=r[b(0)],n.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=r[b(f)],h.skip)continue;const S=h.x,w=h.y,k=S|0;k===p?(w<g?g=w:w>m&&(m=w),u=(d*u+S)/++d):(x(),n.lineTo(S,w),p=k,d=0,g=m=w),y=w}x()}function qy(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Qj:qj}function Zj(n){return n.stepped?Q3:n.tension||n.cubicInterpolationMode==="monotone"?Z3:Go}function e5(n,e,t,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,s)&&r.closePath()),UC(n,e.options),n.stroke(r)}function t5(n,e,t,s){const{segments:r,options:i}=e,o=qy(e);for(const a of r)UC(n,i,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const n5=typeof Path2D=="function";function s5(n,e,t,s){n5&&!e.options.segment?e5(n,e,t,s):t5(n,e,t,s)}class to extends Si{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;H3(this._points,s,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=i4(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,r=e[t],i=this.points,o=MC(this,{property:t,start:r,end:r});if(!o.length)return;const a=[],l=Zj(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=i[d],p=i[f];if(h===p){a.push(h);continue}const g=Math.abs((r-h[t])/(p[t]-h[t])),m=l(h,p,g,s.stepped);m[t]=e[t],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,t,s){return qy(this)(e,this,t,s)}path(e,t,s){const r=this.segments,i=qy(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const a of r)o&=i(e,this,a,{start:t,end:t+s-1});return!!o}draw(e,t,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),s5(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}K(to,"id","line"),K(to,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),K(to,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),K(to,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Iw(n,e,t,s){const r=n.options,{[t]:i}=n.getProps([t],s);return Math.abs(e-i)<r.radius+r.hitRadius}class qf extends Si{constructor(t){super();K(this,"parsed");K(this,"skip");K(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,s){return Iw(this,t,"x",s)}inYRange(t,s){return Iw(this,t,"y",s)}getCenterPoint(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}size(t){t=t||this.options||{};let s=t.radius||0;s=Math.max(s,s&&t.hoverRadius||0);const r=s&&t.borderWidth||0;return(s+r)*2}draw(t,s){const r=this.options;this.skip||r.radius<.1||!ui(this,s,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Gy(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}K(qf,"id","point"),K(qf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),K(qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function WC(n,e){const{x:t,y:s,base:r,width:i,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return n.horizontal?(d=o/2,a=Math.min(t,r),l=Math.max(t,r),c=s-d,u=s+d):(d=i/2,a=t-d,l=t+d,c=Math.min(s,r),u=Math.max(s,r)),{left:a,top:c,right:l,bottom:u}}function no(n,e,t,s){return n?0:xn(e,t,s)}function r5(n,e,t){const s=n.options.borderWidth,r=n.borderSkipped,i=vC(s);return{t:no(r.top,i.top,0,t),r:no(r.right,i.right,0,e),b:no(r.bottom,i.bottom,0,t),l:no(r.left,i.left,0,e)}}function i5(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,i=ya(r),o=Math.min(e,t),a=n.borderSkipped,l=s||ot(r);return{topLeft:no(!l||a.top||a.left,i.topLeft,0,o),topRight:no(!l||a.top||a.right,i.topRight,0,o),bottomLeft:no(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:no(!l||a.bottom||a.right,i.bottomRight,0,o)}}function o5(n){const e=WC(n),t=e.right-e.left,s=e.bottom-e.top,r=r5(n,t/2,s/2),i=i5(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function wm(n,e,t,s){const r=e===null,i=t===null,a=n&&!(r&&i)&&WC(n,s);return a&&(r||li(e,a.left,a.right))&&(i||li(t,a.top,a.bottom))}function a5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function l5(n,e){n.rect(e.x,e.y,e.w,e.h)}function Sm(n,e,t={}){const s=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,i=(n.x+n.w!==t.x+t.w?e:0)-s,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+s,y:n.y+r,w:n.w+i,h:n.h+o,radius:n.radius}}class Qf extends Si{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=o5(this),a=a5(o.radius)?Wu:l5;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,Sm(o,t,i)),e.clip(),a(e,Sm(i,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Sm(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,s){return wm(this,e,t,s)}inXRange(e,t){return wm(this,e,null,t)}inYRange(e,t){return wm(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}K(Qf,"id","bar"),K(Qf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(Qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var c5=Object.freeze({__proto__:null,ArcElement:Bc,BarElement:Qf,LineElement:to,PointElement:qf});const Qy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Pw=Qy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function KC(n){return Qy[n%Qy.length]}function GC(n){return Pw[n%Pw.length]}function u5(n,e){return n.borderColor=KC(e),n.backgroundColor=GC(e),++e}function d5(n,e){return n.backgroundColor=n.data.map(()=>KC(e++)),e}function f5(n,e){return n.backgroundColor=n.data.map(()=>GC(e++)),e}function h5(n){let e=0;return(t,s)=>{const r=n.getDatasetMeta(s).controller;r instanceof Zo?e=d5(t,e):r instanceof fu?e=f5(t,e):r&&(e=u5(t,e))}}function Dw(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function p5(n){return n&&(n.borderColor||n.backgroundColor)}function g5(){return Vt.borderColor!=="rgba(0,0,0,0.1)"||Vt.backgroundColor!=="rgba(0,0,0,0.1)"}var m5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:s},options:r}=n.config,{elements:i}=r,o=Dw(s)||p5(r)||i&&Dw(i)||g5();if(!t.forceOverride&&o)return;const a=h5(n);s.forEach(a)}};function y5(n,e,t,s,r){const i=r.samples||s;if(i>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(i-2);let l=0;const c=e+t-1;let u=e,d,f,h,p,g;for(o[l++]=n[u],d=0;d<i-2;d++){let m=0,y=0,b;const x=Math.floor((d+1)*a)+1+e,S=Math.min(Math.floor((d+2)*a)+1,t)+e,w=S-x;for(b=x;b<S;b++)m+=n[b].x,y+=n[b].y;m/=w,y/=w;const k=Math.floor(d*a)+1+e,T=Math.min(Math.floor((d+1)*a)+1,t)+e,{x:C,y:E}=n[u];for(h=p=-1,b=k;b<T;b++)p=.5*Math.abs((C-m)*(n[b].y-E)-(C-n[b].x)*(y-E)),p>h&&(h=p,f=n[b],g=b);o[l++]=f,u=g}return o[l++]=n[c],o}function b5(n,e,t,s){let r=0,i=0,o,a,l,c,u,d,f,h,p,g;const m=[],y=e+t-1,b=n[e].x,S=n[y].x-b;for(o=e;o<e+t;++o){a=n[o],l=(a.x-b)/S*s,c=a.y;const w=l|0;if(w===u)c<p?(p=c,d=o):c>g&&(g=c,f=o),r=(i*r+a.x)/++i;else{const k=o-1;if(!pt(d)&&!pt(f)){const T=Math.min(d,f),C=Math.max(d,f);T!==h&&T!==k&&m.push({...n[T],x:r}),C!==h&&C!==k&&m.push({...n[C],x:r})}o>0&&k!==h&&m.push(n[k]),m.push(a),u=w,i=0,p=g=c,d=f=h=o}}return m}function XC(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Rw(n){n.data.datasets.forEach(e=>{XC(e)})}function v5(n,e){const t=e.length;let s=0,r;const{iScale:i}=n,{min:o,max:a,minDefined:l,maxDefined:c}=i.getUserBounds();return l&&(s=xn(ci(e,i.axis,o).lo,0,t-1)),c?r=xn(ci(e,i.axis,a).hi+1,s,t)-s:r=t-s,{start:s,count:r}}var x5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Rw(n);return}const s=n.width;n.data.datasets.forEach((r,i)=>{const{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(i),c=o||r.data;if(Fc([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:d,count:f}=v5(l,c);const h=t.threshold||4*s;if(f<=h){XC(r);return}pt(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=y5(c,d,f,s,t);break;case"min-max":p=b5(c,d,f,s);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=p})},destroy(n){Rw(n)}};function w5(n,e,t){const s=n.segments,r=n.points,i=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Ub(l,c,r);const u=Zy(t,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=MC(e,u);for(const f of d){const h=Zy(t,i[f.start],i[f.end],f.loop),p=AC(a,r,h);for(const g of p)o.push({source:g,target:f,start:{[t]:Nw(u,h,"start",Math.max)},end:{[t]:Nw(u,h,"end",Math.min)}})}}return o}function Zy(n,e,t,s){if(s)return;let r=e[n],i=t[n];return n==="angle"&&(r=Rs(r),i=Rs(i)),{property:n,start:r,end:i}}function S5(n,e){const{x:t=null,y:s=null}=n||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=Ub(o,a,r);const l=r[o],c=r[a];s!==null?(i.push({x:l.x,y:s}),i.push({x:c.x,y:s})):t!==null&&(i.push({x:t,y:l.y}),i.push({x:t,y:c.y}))}),i}function Ub(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Nw(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function JC(n,e){let t=[],s=!1;return Bt(n)?(s=!0,t=n):t=S5(n,e),t.length?new to({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function Lw(n){return n&&n.fill!==!1}function E5(n,e,t){let r=n[e].fill;const i=[e];let o;if(!t)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Qt(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function k5(n,e,t){const s=O5(n);if(ot(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Qt(r)&&Math.floor(r)===r?_5(s[0],e,r,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function _5(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function T5(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:ot(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function C5(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:ot(n)?s=n.value:s=e.getBaseValue(),s}function O5(n){const e=n.options,t=e.fill;let s=We(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function A5(n){const{scale:e,index:t,line:s}=n,r=[],i=s.segments,o=s.points,a=M5(e,t);a.push(JC({x:null,y:e.bottom},s));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)I5(r,o[u],a)}return new to({points:r,options:{}})}function M5(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function I5(n,e,t){const s=[];for(let r=0;r<t.length;r++){const i=t[r],{first:o,last:a,point:l}=P5(i,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function P5(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const r=s[t],i=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=o[u.start][t],f=o[u.end][t];if(li(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:s}}class YC{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:r,y:i,radius:o}=this;return t=t||{start:0,end:Rt},e.arc(r,i,o,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function D5(n){const{chart:e,fill:t,line:s}=n;if(Qt(t))return R5(e,t);if(t==="stack")return A5(n);if(t==="shape")return!0;const r=N5(n);return r instanceof YC?r:JC(r,s)}function R5(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function N5(n){return(n.scale||{}).getPointPositionForValue?$5(n):L5(n)}function L5(n){const{scale:e={},fill:t}=n,s=T5(t,e);if(Qt(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function $5(n){const{scale:e,fill:t}=n,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=C5(t,e,i),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,i);return new YC({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Em(n,e,t){const s=D5(e),{line:r,scale:i,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};s&&r.points.length&&(ig(n,t),F5(n,{line:r,target:s,above:u,below:d,area:t,scale:i,axis:o}),og(n))}function F5(n,e){const{line:t,target:s,above:r,below:i,area:o,scale:a}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&i!==r&&($w(n,s,o.top),Fw(n,{line:t,target:s,color:r,scale:a,property:l}),n.restore(),n.save(),$w(n,s,o.bottom)),Fw(n,{line:t,target:s,color:i,scale:a,property:l}),n.restore()}function $w(n,e,t){const{segments:s,points:r}=e;let i=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=r[l],d=r[Ub(l,c,r)];i?(n.moveTo(u.x,u.y),i=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Fw(n,e){const{line:t,target:s,property:r,color:i,scale:o}=e,a=w5(t,s,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=i}={}}=l,h=s!==!0;n.save(),n.fillStyle=f,j5(n,o,h&&Zy(r,u,d)),n.beginPath();const p=!!t.pathSegment(n,l);let g;if(h){p?n.closePath():jw(n,s,d,r);const m=!!s.pathSegment(n,c,{move:p,reverse:!0});g=p&&m,g||jw(n,s,u,r)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function j5(n,e,t){const{top:s,bottom:r}=e.chart.chartArea,{property:i,start:o,end:a}=t||{};i==="x"&&(n.beginPath(),n.rect(o,s,a-o,r-s),n.clip())}function jw(n,e,t,s){const r=e.interpolate(t,s);r&&n.lineTo(r.x,r.y)}var B5={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,r=[];let i,o,a,l;for(o=0;o<s;++o)i=n.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof to&&(l={visible:n.isDatasetVisible(o),index:o,fill:k5(a,o,s),chart:n,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=E5(r,o,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),i=n.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&Em(n.ctx,a,i))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;Lw(i)&&Em(n.ctx,i,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!Lw(s)||t.drawTime!=="beforeDatasetDraw"||Em(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Bw=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},V5=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Vw extends Si{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Mt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=pn(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Bw(s,i);let c,u;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,g)=>{const m=s+t/2+i.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,h+=u,f++),l[g]={left:0,top:h,row:f,width:m,height:r},c[c.length-1]+=m+a}),d}_fitCols(e,t,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{const{itemWidth:b,itemHeight:x}=z5(s,t,i,m,r);y>0&&h+x+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,g++,f=h=0),l[y]={left:p,top:h,col:g,width:b,height:x},f=Math.max(f,b),h+=x+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:r},rtl:i}}=this,o=wl(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=jn(s,this.left+r,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=jn(s,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=jn(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=jn(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ig(e,this),this._draw(),og(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Vt.color,l=wl(e.rtl,this.left,this.width),c=pn(o.font),{padding:u}=o,d=c.size,f=d/2;let h;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=Bw(o,d),y=function(k,T,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const E=We(C.lineWidth,1);if(r.fillStyle=We(C.fillStyle,a),r.lineCap=We(C.lineCap,"butt"),r.lineDashOffset=We(C.lineDashOffset,0),r.lineJoin=We(C.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=We(C.strokeStyle,a),r.setLineDash(We(C.lineDash,[])),o.usePointStyle){const _={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:E},O=l.xPlus(k,p/2),A=T+f;bC(r,_,O,A,o.pointStyleWidth&&p)}else{const _=T+Math.max((d-g)/2,0),O=l.leftForLtr(k,p),A=ya(C.borderRadius);r.beginPath(),Object.values(A).some(P=>P!==0)?Wu(r,{x:O,y:_,w:p,h:g,radius:A}):r.rect(O,_,p,g),r.fill(),E!==0&&r.stroke()}r.restore()},b=function(k,T,C){Aa(r,C.text,k,T+m/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},x=this.isHorizontal(),S=this._computeTitleHeight();x?h={x:jn(i,this.left+u,this.right-s[0]),y:this.top+u+S,line:0}:h={x:this.left+u,y:jn(i,this.top+S+u,this.bottom-t[0].height),line:0},TC(this.ctx,e.textDirection);const w=m+u;this.legendItems.forEach((k,T)=>{r.strokeStyle=k.fontColor,r.fillStyle=k.fontColor;const C=r.measureText(k.text).width,E=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),_=p+f+C;let O=h.x,A=h.y;l.setWidth(this.width),x?T>0&&O+_+u>this.right&&(A=h.y+=w,h.line++,O=h.x=jn(i,this.left+u,this.right-s[h.line])):T>0&&A+w>this.bottom&&(O=h.x=O+t[h.line].width+u,h.line++,A=h.y=jn(i,this.top+S+u,this.bottom-t[h.line].height));const P=l.x(O);if(y(P,A,k),O=l3(E,O+p+f,x?O+_:this.right,e.rtl),b(l.x(O),A,k),x)h.x+=_+u;else if(typeof k.text!="string"){const $=c.lineHeight;h.y+=qC(k,$)+u}else h.y+=w}),CC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=pn(t.font),r=Zn(t.padding);if(!t.display)return;const i=wl(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=s.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=jn(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+jn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=jn(a,d,d+f);o.textAlign=i.textAlign(Rb(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,Aa(o,t.text,h,u,s)}_computeTitleHeight(){const e=this.options.title,t=pn(e.font),s=Zn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,r,i;if(li(e,this.left,this.right)&&li(t,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],li(e,r.left,r.left+r.width)&&li(t,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!W5(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=V5(r,s);r&&!i&&Mt(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Mt(t.onHover,[e,s,this],this)}else s&&Mt(t.onClick,[e,s,this],this)}}function z5(n,e,t,s,r){const i=U5(s,n,e,t),o=H5(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function U5(n,e,t,s){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+t.size/2+s.measureText(r).width}function H5(n,e,t){let s=n;return typeof e.text!="string"&&(s=qC(e,t)),s}function qC(n,e){const t=n.text?n.text.length:0;return e*t}function W5(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var K5={id:"legend",_element:Vw,start(n,e,t){const s=n.legend=new Vw({ctx:n.ctx,options:t,chart:n});Jn.configure(n,s,t),Jn.addBox(n,s)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;Jn.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,r=t.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Zn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Hb extends Si{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Bt(s.text)?s.text.length:1;this._padding=Zn(s.padding);const i=r*pn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=jn(a,s,i),d=t+e,c=i-s):(o.position==="left"?(u=s+e,d=jn(a,r,t),l=Nt*-.5):(u=i-e,d=jn(a,t,r),l=Nt*.5),c=r-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=pn(t.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Aa(e,t.text,0,0,s,{color:t.color,maxWidth:l,rotation:c,textAlign:Rb(t.align),textBaseline:"middle",translation:[o,a]})}}function G5(n,e){const t=new Hb({ctx:n.ctx,options:e,chart:n});Jn.configure(n,t,e),Jn.addBox(n,t),n.titleBlock=t}var X5={id:"title",_element:Hb,start(n,e,t){G5(n,t)},stop(n){const e=n.titleBlock;Jn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;Jn.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mf=new WeakMap;var J5={id:"subtitle",start(n,e,t){const s=new Hb({ctx:n.ctx,options:t,chart:n});Jn.configure(n,s,t),Jn.addBox(n,s),mf.set(n,s)},stop(n){Jn.removeBox(n,mf.get(n)),mf.delete(n)},beforeUpdate(n,e,t){const s=mf.get(n);Jn.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc={average(n){if(!n.length)return!1;let e,t,s=new Set,r=0,i=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=n.length;i<o;++i){const l=n[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Wy(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,s=l.y}return{x:t,y:s}}};function Sr(n,e){return e&&(Bt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Jr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Y5(n,e){const{element:t,datasetIndex:s,index:r}=e,i=n.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:n,label:o,parsed:i.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:t}}function zw(n,e){const t=n.chart.ctx,{body:s,footer:r,title:i}=n,{boxWidth:o,boxHeight:a}=e,l=pn(e.bodyFont),c=pn(e.titleFont),u=pn(e.footerFont),d=i.length,f=r.length,h=s.length,p=Zn(e.padding);let g=p.height,m=0,y=s.reduce((S,w)=>S+w.before.length+w.lines.length+w.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*S+(y-h)*l.lineHeight+(y-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const x=function(S){m=Math.max(m,t.measureText(S).width+b)};return t.save(),t.font=c.string,kt(n.title,x),t.font=l.string,kt(n.beforeBody.concat(n.afterBody),x),b=e.displayColors?o+2+e.boxPadding:0,kt(s,S=>{kt(S.before,x),kt(S.lines,x),kt(S.after,x)}),b=0,t.font=u.string,kt(n.footer,x),t.restore(),m+=p.width,{width:m,height:g}}function q5(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function Q5(n,e,t,s){const{x:r,width:i}=s,o=t.caretSize+t.caretPadding;if(n==="left"&&r+i+o>e.width||n==="right"&&r-i-o<0)return!0}function Z5(n,e,t,s){const{x:r,width:i}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=o-i/2&&(c="right"),Q5(c,n,e,t)&&(c="center"),c}function Uw(n,e,t){const s=t.yAlign||e.yAlign||q5(n,t);return{xAlign:t.xAlign||e.xAlign||Z5(n,e,t,s),yAlign:s}}function eB(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function tB(n,e,t){let{y:s,height:r}=n;return e==="top"?s+=t:e==="bottom"?s-=r+t:s-=r/2,s}function Hw(n,e,t,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=r+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=ya(o);let p=eB(e,a);const g=tB(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+r:a==="right"&&(p+=Math.max(d,h)+r),{x:xn(p,0,s.width-e.width),y:xn(g,0,s.height-e.height)}}function yf(n,e,t){const s=Zn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function Ww(n){return Sr([],Jr(n))}function nB(n,e,t){return Io(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Kw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const QC={beforeTitle:Ur,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return pt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function bs(n,e,t,s){const r=n[e].call(t,s);return typeof r>"u"?QC[e].call(t,s):r}class e0 extends Si{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&t.options.animation&&s.animations,i=new IC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=nB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,r=bs(s,"beforeTitle",this,e),i=bs(s,"title",this,e),o=bs(s,"afterTitle",this,e);let a=[];return a=Sr(a,Jr(r)),a=Sr(a,Jr(i)),a=Sr(a,Jr(o)),a}getBeforeBody(e,t){return Ww(bs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,r=[];return kt(e,i=>{const o={before:[],lines:[],after:[]},a=Kw(s,i);Sr(o.before,Jr(bs(a,"beforeLabel",this,i))),Sr(o.lines,bs(a,"label",this,i)),Sr(o.after,Jr(bs(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,t){return Ww(bs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,r=bs(s,"beforeFooter",this,e),i=bs(s,"footer",this,e),o=bs(s,"afterFooter",this,e);let a=[];return a=Sr(a,Jr(r)),a=Sr(a,Jr(i)),a=Sr(a,Jr(o)),a}_createItems(e){const t=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(Y5(this.chart,t[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),kt(a,u=>{const d=Kw(e.callbacks,u);r.push(bs(d,"labelColor",this,u)),i.push(bs(d,"labelPointStyle",this,u)),o.push(bs(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Vc[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=zw(this,s),c=Object.assign({},a,l),u=Uw(this.chart,s,c),d=Hw(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,r){const i=this.getCaretPosition(e,s,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ya(a),{x:f,y:h}=e,{width:p,height:g}=t;let m,y,b,x,S,w;return i==="center"?(S=h+g/2,r==="left"?(m=f,y=m-o,x=S+o,w=S-o):(m=f+p,y=m+o,x=S-o,w=S+o),b=m):(r==="left"?y=f+Math.max(l,u)+o:r==="right"?y=f+p-Math.max(c,d)-o:y=this.caretX,i==="top"?(x=h,S=x-o,m=y-o,b=y+o):(x=h+g,S=x+o,m=y+o,b=y-o),w=x),{x1:m,x2:y,x3:b,y1:x,y2:S,y3:w}}drawTitle(e,t,s){const r=this.title,i=r.length;let o,a,l;if(i){const c=wl(s.rtl,this.x,this.width);for(e.x=yf(this,s.titleAlign,s),t.textAlign=c.textAlign(s.titleAlign),t.textBaseline="middle",o=pn(s.titleFont),a=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,l=0;l<i;++l)t.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,t,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=i,u=pn(i.bodyFont),d=yf(this,"left",i),f=r.x(d),h=l<u.lineHeight?(u.lineHeight-l)/2:0,p=t.y+h;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=r.leftForLtr(f,c)+c/2,y=p+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Gy(e,g,m,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Gy(e,g,m,y)}else{e.lineWidth=ot(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(f,c),m=r.leftForLtr(r.xPlus(f,1),c-2),y=ya(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Wu(e,{x:g,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Wu(e,{x:m,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=pn(s.bodyFont);let f=d.lineHeight,h=0;const p=wl(s.rtl,this.x,this.width),g=function(C){t.fillText(C,p.x(e.x+h),e.y+f/2),e.y+=f+i},m=p.textAlign(o);let y,b,x,S,w,k,T;for(t.textAlign=o,t.textBaseline="middle",t.font=d.string,e.x=yf(this,m,s),t.fillStyle=s.bodyColor,kt(this.beforeBody,g),h=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,k=r.length;S<k;++S){for(y=r[S],b=this.labelTextColors[S],t.fillStyle=b,kt(y.before,g),x=y.lines,a&&x.length&&(this._drawColorBox(t,e,S,p,s),f=Math.max(d.lineHeight,l)),w=0,T=x.length;w<T;++w)g(x[w]),f=d.lineHeight;kt(y.after,g)}h=0,f=d.lineHeight,kt(this.afterBody,g),e.y-=i}drawFooter(e,t,s){const r=this.footer,i=r.length;let o,a;if(i){const l=wl(s.rtl,this.x,this.width);for(e.x=yf(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",o=pn(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=ya(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,l),o==="top"&&this.drawCaret(e,t,s,r),t.lineTo(a+c-f,l),t.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,t,s,r),t.lineTo(a+c,l+u-p),t.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,t,s,r),t.lineTo(a+h,l+u),t.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&i==="left"&&this.drawCaret(e,t,s,r),t.lineTo(a,l+d),t.quadraticCurveTo(a,l,a+d,l),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Vc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=zw(this,e),l=Object.assign({},o,this._size),c=Uw(t,e,l),u=Hw(e,l,c,t);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Zn(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,t),TC(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),CC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Ih(s,r),o=this._positionChanged(r,t);(i||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,s),a=this._positionChanged(o,e),l=t||!Ih(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:r,options:i}=this,o=Vc[i.position].call(this,e,t);return o!==!1&&(s!==o.x||r!==o.y)}}K(e0,"positioners",Vc);var sB={id:"tooltip",_element:e0,positioners:Vc,afterInit(n,e,t){t&&(n.tooltip=new e0({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},rB=Object.freeze({__proto__:null,Colors:m5,Decimation:x5,Filler:B5,Legend:K5,SubTitle:J5,Title:X5,Tooltip:sB});const iB=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function oB(n,e,t,s){const r=n.indexOf(e);if(r===-1)return iB(n,e,t,s);const i=n.lastIndexOf(e);return r!==i?t:r}const aB=(n,e)=>n===null?null:xn(Math.round(n),0,e);function Gw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class t0 extends Wa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:r,label:i}of t)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(pt(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:oB(s,e,We(t,e),this._addedLabels),aB(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return Gw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}K(t0,"id","category"),K(t0,"defaults",{ticks:{callback:Gw}});function lB(n,e){const t=[],{bounds:r,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,h=i||1,p=u-1,{min:g,max:m}=e,y=!pt(o),b=!pt(a),x=!pt(c),S=(m-g)/(d+1);let w=z1((m-g)/p/h)*h,k,T,C,E;if(w<1e-14&&!y&&!b)return[{value:g},{value:m}];E=Math.ceil(m/w)-Math.floor(g/w),E>p&&(w=z1(E*w/p/h)*h),pt(l)||(k=Math.pow(10,l),w=Math.ceil(w*k)/k),r==="ticks"?(T=Math.floor(g/w)*w,C=Math.ceil(m/w)*w):(T=g,C=m),y&&b&&i&&t3((a-o)/i,w/1e3)?(E=Math.round(Math.min((a-o)/w,u)),w=(a-o)/E,T=o,C=a):x?(T=y?o:T,C=b?a:C,E=c-1,w=(C-T)/E):(E=(C-T)/w,cu(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const _=Math.max(U1(w),U1(T));k=Math.pow(10,pt(l)?_:l),T=Math.round(T*k)/k,C=Math.round(C*k)/k;let O=0;for(y&&(f&&T!==o?(t.push({value:o}),T<o&&O++,cu(Math.round((T+O*w)*k)/k,o,Xw(o,S,n))&&O++):T<o&&O++);O<E;++O){const A=Math.round((T+O*w)*k)/k;if(b&&A>a)break;t.push({value:A})}return b&&f&&C!==a?t.length&&cu(t[t.length-1].value,a,Xw(a,S,n))?t[t.length-1].value=a:t.push({value:a}):(!b||C===a)&&t.push({value:C}),t}function Xw(n,e,{horizontal:t,minRotation:s}){const r=gr(s),i=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/i,o)}class Fh extends Wa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=t?r:l,a=l=>i=s?i:l;if(e){const l=Dr(r),c=Dr(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,o=lB(r,i);return e.bounds==="ticks"&&cC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-t)/Math.max(e.length-1,1)/2;t-=r,s+=r}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Cd(e,this.chart.options.locale,this.options.ticks.format)}}class n0 extends Fh{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qt(e)?e:0,this.max=Qt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=gr(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}K(n0,"id","linear"),K(n0,"defaults",{ticks:{callback:rg.formatters.numeric}});const Gu=n=>Math.floor(eo(n)),Vo=(n,e)=>Math.pow(10,Gu(n)+e);function Jw(n){return n/Math.pow(10,Gu(n))===1}function Yw(n,e,t){const s=Math.pow(10,t),r=Math.floor(n/s);return Math.ceil(e/s)-r}function cB(n,e){const t=e-n;let s=Gu(t);for(;Yw(n,e,s)>10;)s++;for(;Yw(n,e,s)<10;)s--;return Math.min(s,Gu(n))}function uB(n,{min:e,max:t}){e=Ps(n.min,e);const s=[],r=Gu(e);let i=cB(e,t),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=r>i?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,i)),f=Ps(n.min,Math.round((l+u+d*Math.pow(10,i))*o)/o);for(;f<t;)s.push({value:f,major:Jw(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),f=Math.round((l+u+d*Math.pow(10,i))*o)/o;const h=Ps(n.max,f);return s.push({value:h,major:Jw(h),significand:d}),s}class s0 extends Wa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Fh.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return Qt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qt(e)?Math.max(0,e):null,this.max=Qt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qt(this._userMin)&&(this.min=e===Vo(this.min,0)?Vo(this.min,-1):Vo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,r=this.max;const i=a=>s=e?s:a,o=a=>r=t?r:a;s===r&&(s<=0?(i(1),o(10)):(i(Vo(s,-1)),o(Vo(r,1)))),s<=0&&i(Vo(r,-1)),r<=0&&o(Vo(s,1)),this.min=s,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=uB(t,this);return e.bounds==="ticks"&&cC(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Cd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=eo(e),this._valueRange=eo(this.max)-eo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(eo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}K(s0,"id","logarithmic"),K(s0,"defaults",{ticks:{callback:rg.formatters.logarithmic,major:{enabled:!0}}});function r0(n){const e=n.ticks;if(e.display&&n.display){const t=Zn(e.backdropPadding);return We(e.font&&e.font.size,Vt.font.size)+t.height}return 0}function dB(n,e,t){return t=Bt(t)?t:[t],{w:b3(n,e.string,t),h:t.length*e.lineHeight}}function qw(n,e,t,s,r){return n===s||n===r?{start:e-t/2,end:e+t/2}:n<s||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function fB(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),s=[],r=[],i=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Nt/i:0;for(let l=0;l<i;l++){const c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+r[l],a),d=pn(c.font),f=dB(n.ctx,d,n._pointLabels[l]);s[l]=f;const h=Rs(n.getIndexAngle(l)+a),p=Math.round(Pb(h)),g=qw(p,u.x,f.w,0,180),m=qw(p,u.y,f.h,90,270);hB(t,e,h,g,m)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=mB(n,s,r)}function hB(n,e,t,s,r){const i=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/i,n.l=Math.min(n.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/i,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function pB(n,e,t){const s=n.drawingArea,{extra:r,additionalAngle:i,padding:o,size:a}=t,l=n.getPointPosition(e,s+r+o,i),c=Math.round(Pb(Rs(l.angle+tn))),u=vB(l.y,a.h,c),d=yB(c),f=bB(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function gB(n,e){if(!e)return!0;const{left:t,top:s,right:r,bottom:i}=n;return!(ui({x:t,y:s},e)||ui({x:t,y:i},e)||ui({x:r,y:s},e)||ui({x:r,y:i},e))}function mB(n,e,t){const s=[],r=n._pointLabels.length,i=n.options,{centerPointLabels:o,display:a}=i.pointLabels,l={extra:r0(i)/2,additionalAngle:o?Nt/r:0};let c;for(let u=0;u<r;u++){l.padding=t[u],l.size=e[u];const d=pB(n,u,l);s.push(d),a==="auto"&&(d.visible=gB(d,c),d.visible&&(c=d))}return s}function yB(n){return n===0||n===180?"center":n<180?"left":"right"}function bB(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function vB(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function xB(n,e,t){const{left:s,top:r,right:i,bottom:o}=t,{backdropColor:a}=e;if(!pt(a)){const l=ya(e.borderRadius),c=Zn(e.backdropPadding);n.fillStyle=a;const u=s-c.left,d=r-c.top,f=i-s+c.width,h=o-r+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),Wu(n,{x:u,y:d,w:f,h,radius:l}),n.fill()):n.fillRect(u,d,f,h)}}function wB(n,e){const{ctx:t,options:{pointLabels:s}}=n;for(let r=e-1;r>=0;r--){const i=n._pointLabelItems[r];if(!i.visible)continue;const o=s.setContext(n.getPointLabelContext(r));xB(t,o,i);const a=pn(o.font),{x:l,y:c,textAlign:u}=i;Aa(t,n._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function ZC(n,e,t,s){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Rt);else{let i=n.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=n.getPointPosition(o,e),r.lineTo(i.x,i.y)}}function SB(n,e,t,s,r){const i=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||t<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),ZC(n,t,o,s),i.closePath(),i.stroke(),i.restore())}function EB(n,e,t){return Io(n,{label:t,index:e,type:"pointLabel"})}class zc extends Fh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zn(r0(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Qt(e)&&!isNaN(e)?e:0,this.max=Qt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/r0(this.options))}generateTickLabels(e){Fh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,s)=>{const r=Mt(this.options.pointLabels.callback,[t,s],this);return r||r===0?r:""}).filter((t,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?fB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,r))}getIndexAngle(e){const t=Rt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Rs(e*t+gr(s))}getDistanceFromCenterForValue(e){if(pt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(pt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return EB(this.getContext(),e,s)}}getPointPosition(e,t,s=0){const r=this.getIndexAngle(e)-tn+s;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:s,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),ZC(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:r,border:i}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&wB(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),h=r.setContext(f),p=i.setContext(f);SB(this,h,l,o,p)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=s.setContext(this.getContext(l)),u=pn(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Zn(c.backdropPadding);e.fillRect(-o/2-d.left,-i-u.size/2-d.top,o+d.width,u.size+d.height)}Aa(e,a.label,0,-i,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}K(zc,"id","radialLinear"),K(zc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),K(zc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),K(zc,"descriptors",{angleLines:{_fallback:"grid"}});const lg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_s=Object.keys(lg);function Qw(n,e){return n-e}function Zw(n,e){if(pt(e))return null;const t=n._adapter,{parser:s,round:r,isoWeekday:i}=n._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Qt(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Hl(i)||i===!0)?t.startOf(o,"isoWeek",i):t.startOf(o,r)),+o)}function eS(n,e,t,s){const r=_s.length;for(let i=_s.indexOf(n);i<r-1;++i){const o=lg[_s[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=s)return _s[i]}return _s[r-1]}function kB(n,e,t,s,r){for(let i=_s.length-1;i>=_s.indexOf(t);i--){const o=_s[i];if(lg[o].common&&n._adapter.diff(r,s,o)>=e-1)return o}return _s[t?_s.indexOf(t):0]}function _B(n){for(let e=_s.indexOf(n)+1,t=_s.length;e<t;++e)if(lg[_s[e]].common)return _s[e]}function tS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:r}=Db(t,e),i=t[s]>=e?t[s]:t[r];n[i]=!0}}function TB(n,e,t,s){const r=n._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=t[a],l>=0&&(e[l].major=!0);return e}function nS(n,e,t){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!t?s:TB(n,s,r,t)}class Xu extends Wa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),r=this._adapter=new R4._date(e.adapters.date);r.init(t),lu(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Zw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Qt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),s),i=Qt(i)&&!isNaN(i)?i:+t.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=i3(r,i,o);return this._unit=t.unit||(s.autoSkip?eS(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):kB(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:_B(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),nS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=xn(t,0,o),s=xn(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||eS(i.minUnit,t,s,this._getLabelCapacity(t)),a=We(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Hl(l)||l===!0,u={};let d=t,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,t,o)>1e5*a)throw new Error(t+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<s;f=+e.add(f,a,o),h++)tS(u,f,p);return(f===s||r.bounds==="ticks"||h===1)&&tS(u,f,p),Object.keys(u).sort(Qw).map(g=>+g)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,i=this._unit,o=t||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,r){const i=this.options,o=i.ticks.callback;if(o)return Mt(o,[e,t,s],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=s[t],h=c&&d&&f&&f.major;return this._adapter.format(e,r||(h?d:u))}generateTickLabels(e){let t,s,r;for(t=0,s=e.length;t<s;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,r=gr(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,r=s[t.unit]||s.millisecond,i=this._tickFormatFunction(e,0,nS(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,s=r.length;t<s;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const r=this.getLabels();for(t=0,s=r.length;t<s;++t)e.push(Zw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fC(e.sort(Qw))}}K(Xu,"id","time"),K(Xu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bf(n,e,t){let s=0,r=n.length-1,i,o,a,l;t?(e>=n[s].pos&&e<=n[r].pos&&({lo:s,hi:r}=ci(n,"pos",e)),{pos:i,time:a}=n[s],{pos:o,time:l}=n[r]):(e>=n[s].time&&e<=n[r].time&&({lo:s,hi:r}=ci(n,"time",e)),{time:i,pos:a}=n[s],{time:o,pos:l}=n[r]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class i0 extends Xu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=bf(t,this.min),this._tableRange=bf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,r=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=s&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(bf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return bf(this._table,s*this._tableRange+this._minPos,!0)}}K(i0,"id","timeseries"),K(i0,"defaults",Xu.defaults);var CB=Object.freeze({__proto__:null,CategoryScale:t0,LinearScale:n0,LogarithmicScale:s0,RadialLinearScale:zc,TimeScale:Xu,TimeSeriesScale:i0});const Wb=[D4,c5,rB,CB],OB={class:"bg-gray-300 dark:bg-zinc-800 p-6 rounded-lg shadow-lg max-w-sm w-full"},AB={class:"text-xl text-zinc-800 dark:text-f14-font-dark font-semibold mb-4"},MB={class:"text-zinc-700 dark:text-gray-300 mb-6"},IB={class:"flex gap-2 justify-end"},PB=["disabled"],DB=["disabled"],RB=Ke({__name:"ConfirmationModal",props:{isOpen:Boolean,title:{type:String,default:"Подтвердите действие"},message:String,confirmText:{type:String,default:"Подтвердить"},cancelText:{type:String,default:"Отмена"},isLoading:Boolean},emits:["confirm","cancel"],setup(n,{emit:e}){const t=n,s=e,r=()=>s("confirm"),i=()=>s("cancel"),o=a=>{t.isOpen&&(a.key==="Escape"&&i(),a.key==="Enter"&&r())};return zt(()=>window.addEventListener("keydown",o)),za(()=>window.removeEventListener("keydown",o)),(a,l)=>(R(),Qn(yn,{name:"fade"},{default:Ht(()=>[n.isOpen?(R(),L("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ln(i,["self"])},[v("div",OB,[v("h3",AB,ae(n.title),1),v("p",MB,ae(n.message),1),v("div",IB,[v("button",{onClick:r,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md",disabled:n.isLoading},ae(n.confirmText),9,PB),v("button",{onClick:i,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md",disabled:n.isLoading},ae(n.cancelText),9,DB)])])])):Ce("",!0)]),_:1}))}}),Kb=Cn(RB,[["__scopeId","data-v-8ffebe5c"]]),NB={class:"flex justify-between items-center"},LB={class:"text-lg text-zinc-800 dark:text-gray-300 font-semibold truncate max-w-[70%]"},$B={class:"relative"},FB={key:0,class:"absolute right-0 top-8 bg-zinc-800 rounded-md shadow-lg w-auto z-10"},jB={class:"flex justify-between items-center"},BB={class:"text-zinc-700 dark:text-gray-300 text-sm"},VB={key:0,class:"mt-4 space-y-2"},zB={class:"flex gap-2"},UB=["disabled"],HB=Ke({__name:"ProjectCard",props:{project:{},isSelected:{type:Boolean}},emits:["edit","delete","select"],setup(n,{emit:e}){const t=n,s=js(),r=e,i=B(!1),o=B(!1),a=B(!1),l=B(!1),c=B(!1),u=B(""),d=()=>{i.value=!i.value},f=()=>{r("select",t.project.id)},h=w=>{s.push({name:"workspace",query:{name:t.project.name,projectId:w}})},p=()=>{u.value=t.project.name,o.value=!0,i.value=!1},g=async()=>{if(u.value.trim()){a.value=!0;try{await new Promise(k=>setTimeout(k,2e3));const w=await _e.updateProjectName(t.project.id,u.value);r("edit",w),o.value=!1}catch(w){console.error("Ошибка при сохранении изменений:",w)}finally{a.value=!1}}},m=()=>{o.value=!1,u.value=""},y=()=>{l.value=!0,i.value=!1},b=async()=>{c.value=!0;try{await _e.deleteProject(t.project.id),r("delete",t.project.id),l.value=!1}catch(w){console.error("Ошибка при удалении проекта:",w)}finally{c.value=!1}},x=()=>{l.value=!1};sn(()=>t.project.name,w=>{u.value=w});const S=w=>w.toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return(w,k)=>(R(),L("div",null,[v("div",{class:ke(["w-full h-32 bg-gray-300 dark:bg-zinc-900 p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow flex flex-col justify-between",{"border-2 border-blue-500":w.isSelected}]),onClick:f},[v("div",NB,[v("h3",LB,ae(w.project.name),1),v("div",$B,[v("button",{onClick:ln(d,["stop"]),class:ke(["w-6 h-6 flex items-center justify-center hover:bg-gray-600 rounded-full duration-150",{"rotate-90":i.value}])},k[2]||(k[2]=[v("i",{class:"fa-solid fa-ellipsis"},null,-1)]),2),i.value?(R(),L("div",FB,[v("button",{onClick:ln(p,["stop"]),class:"w-full px-4 py-2 hover:bg-gray-700 duration-150 rounded-md"}," Изменить "),v("button",{onClick:ln(y,["stop"]),class:"w-full px-4 py-2 hover:bg-gray-700 duration-150 rounded-md"}," Удалить ")])):Ce("",!0)])]),v("div",jB,[v("p",BB," Создан: "+ae(S(w.project.createdAt)),1),v("button",{onClick:k[0]||(k[0]=ln(T=>h(w.project.id),["stop"])),class:"hover:text-gray-400 duration-150"},"Перейти")])],2),o.value?(R(),L("div",VB,[le(te(fo),{type:"text",modelValue:u.value,"onUpdate:modelValue":k[1]||(k[1]=T=>u.value=T)},null,8,["modelValue"]),v("div",zB,[v("button",{onClick:g,class:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md",disabled:a.value},ae(a.value?"Сохраняем...":"Сохранить"),9,UB),v("button",{onClick:m,class:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded-md"}," Отменить ")])])):Ce("",!0),le(te(Kb),{"is-open":l.value,title:"Удалить проект?",message:`Вы уверены, что хотите удалить проект ${t.project.name}? Это действие нельзя отменить.`,"confirm-text":"Удалить","is-loading":c.value,onConfirm:b,onCancel:x},null,8,["is-open","message","is-loading"])]))}}),WB={},KB={class:"flex justify-center items-center"};function GB(n,e){return R(),L("div",KB,e[0]||(e[0]=[v("div",{class:"relative h-12 w-12"},[v("div",{class:"absolute inset-0 rounded-full border-blue-500 border-4"}),v("div",{class:"absolute inset-0 border-4 border-white border-t-transparent rounded-full animate-spin"})],-1)]))}const Ad=Cn(WB,[["render",GB]]),XB={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},JB={class:"bg-gray-300 dark:bg-bg-accent-dark rounded-lg p-6 w-96"},YB={class:"flex justify-end"},qB=["disabled"],QB={key:0},ZB={key:1},eV=Ke({__name:"AddMemberModal",emits:["close","memberAdded"],setup(n,{expose:e,emit:t}){const s=wi(),r=B(!1),i=B(""),o=B(!1),a=t,l=()=>{r.value=!0},c=()=>{r.value=!1,i.value="",a("close")},u=async()=>{if(i.value.trim()!=="")try{o.value=!0;const d=s.params.orgId;if(!d)throw new Error("Organization ID is missing");await _e.inviteMember(i.value,d),a("memberAdded",{email:i.value,message:`Приглашение отправлено на ${i.value}`}),setTimeout(()=>{c()},500)}catch(d){console.error("Ошибка при добавлении участника:",d)}finally{o.value=!1}};return e({openModal:l,closeModal:c}),(d,f)=>r.value?(R(),L("div",XB,[v("div",JB,[f[1]||(f[1]=v("h2",{class:"text-xl text-zinc-800 dark:text-f14-font-dark mb-4"},"Добавить участника",-1)),jt(v("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),type:"email",placeholder:"Введите email пользователя",class:"w-full text-black p-2 border border-gray-300 rounded-md mb-4"},null,512),[[vn,i.value]]),v("div",YB,[v("button",{onClick:c,class:"mr-2 text-gray-500 hover:text-gray-700"}," Отмена "),v("button",{onClick:u,disabled:o.value,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o.value?(R(),L("span",ZB,"Отправка...")):(R(),L("span",QB,"Добавить"))],8,qB)])])])):Ce("",!0)}}),tV={class:"fixed bottom-4 right-4 w-80 z-[9999] flex flex-col gap-2"},nV=["onClick"],Gb=Ke({__name:"Notification",props:{notifications:{}},emits:["close"],setup(n){return(e,t)=>(R(),L("div",tV,[le(bb,{name:"slide"},{default:Ht(()=>[(R(!0),L(Pe,null,Et(e.notifications,s=>(R(),L("div",{key:s.id,class:ke(["p-4 rounded-lg shadow-lg flex items-center justify-between",s.type==="success"?"bg-bg-accent-dark border-2 border-emerald-700 text-white":"bg-bg-accent-dark border-2 border-red-800 text-white"])},[v("span",null,ae(s.message),1),v("button",{onClick:r=>e.$emit("close",s.id),class:"hover:opacity-70 transition-opacity"},t[0]||(t[0]=[v("i",{class:"fa-solid fa-xmark"},null,-1)]),8,nV)],2))),128))]),_:1})]))}}),sV={class:"flex justify-between items-start mb-2"},rV={class:"flex items-center gap-2"},iV={class:"font-medium text-gray-900 dark:text-gray-100"},oV={class:"text-xs text-gray-500 dark:text-gray-400"},aV={key:0,class:"flex gap-1"},lV={key:0,class:"mt-3"},cV={class:"flex justify-end gap-2 mt-2"},uV=["disabled"],dV={key:1,class:"comment-content mt-2"},fV=["innerHTML"],hV=Ke({__name:"CommentCard",props:{comment:{},isLeader:{type:Boolean}},emits:["commentDeleted","commentUpdated"],setup(n,{emit:e}){const t=n,s=e,r=B(""),i=B(!1),o=B(!1),a=B(null),l=B(!1),c=B(""),u=B(""),d=xt(()=>u.value===t.comment.userId||t.isLeader),f=xt(()=>o.value&&t.comment.comment.length>100),h=xt(()=>new Date(t.comment.createdAt).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})),p=async()=>{try{const T=await _e.getUserEmail(t.comment.userId);r.value=T.split("@")[0]}catch(T){console.error("Failed to fetch username:",T),r.value="Anonymous"}},g=T=>T.replace(/@([\w-]+)/g,'<span class="mention bg-blue-500/20 text-blue-400 px-1 rounded">@$1</span>'),m=async()=>{var T;try{(T=_t.value)!=null&&T.email&&(u.value=await _e.getUserId(_t.value.email))}catch(C){console.error("Failed to fetch current user ID:",C)}},y=()=>{i.value=!i.value},b=async()=>{await Br(),a.value&&(o.value=a.value.scrollHeight>a.value.clientHeight)},x=()=>{c.value=t.comment.comment,l.value=!0},S=()=>{l.value=!1},w=async()=>{try{const T={...t.comment,comment:c.value};await _e.editComment(T),s("commentUpdated",T),l.value=!1}catch(T){console.error("Failed to update comment:",T)}},k=async()=>{if(confirm("Вы уверены, что хотите удалить этот комментарий?"))try{await _e.deleteComment(t.comment.id),s("commentDeleted",t.comment.id)}catch(T){console.error("Failed to delete comment:",T)}};return zt(async()=>{await p(),await m(),await b()}),window.addEventListener("resize",b),(T,C)=>(R(),L("div",{class:ke(["comment-card w-full rounded-xl p-4 transition-all duration-200",{"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800/50":d.value,"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700":!d.value}])},[v("div",sV,[v("div",rV,[v("div",{class:ke(["w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium",d.value?"bg-blue-600":"bg-gray-600"])},ae(r.value[0]),3),v("div",null,[v("p",iV,ae(r.value),1),v("p",oV,ae(h.value),1)])]),d.value?(R(),L("div",aV,[v("button",{onClick:x,class:"p-1.5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-200",title:"Редактировать"},C[1]||(C[1]=[v("i",{class:"fas fa-edit text-sm"},null,-1)])),v("button",{onClick:k,class:"p-1.5 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",title:"Удалить"},C[2]||(C[2]=[v("i",{class:"fas fa-trash-alt text-sm"},null,-1)]))])):Ce("",!0)]),l.value?(R(),L("div",lV,[jt(v("textarea",{"onUpdate:modelValue":C[0]||(C[0]=E=>c.value=E),class:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",rows:"3",maxlength:"250",autofocus:""},null,512),[[vn,c.value]]),v("div",cV,[v("button",{onClick:S,class:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200"}," Отмена "),v("button",{onClick:w,class:ke(["px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",{"opacity-50 cursor-not-allowed":c.value.trim()===""}]),disabled:c.value.trim()===""}," Сохранить ",10,uV)])])):(R(),L("div",dV,[v("div",{ref_key:"commentText",ref:a,class:ke(["comment-text text-gray-800 dark:text-gray-200 whitespace-pre-wrap break-words",{"line-clamp-3":!i.value&&f.value}]),innerHTML:g(T.comment.comment)},null,10,fV),f.value?(R(),L("button",{key:0,onClick:y,class:"text-blue-600 dark:text-blue-400 hover:underline text-sm mt-1 transition-colors duration-200 flex items-center gap-1"},[v("i",{class:ke(["fas",i.value?"fa-chevron-up":"fa-chevron-down"])},null,2),Xn(" "+ae(i.value?"Свернуть":"Развернуть"),1)])):Ce("",!0)]))],2))}}),pV=Cn(hV,[["__scopeId","data-v-284516e1"]]),gV={class:"flex flex-col h-full p-4 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-900 shadow-sm"},mV={class:"flex items-center justify-between mb-4"},yV={class:"text-sm text-gray-500 dark:text-gray-400"},bV={class:"flex-1 min-h-0 overflow-y-scroll max-h-[400px]"},vV={key:0,class:"h-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400"},xV={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},wV={class:"relative flex items-end gap-2"},SV={class:"flex-1 relative"},EV=["onKeyup"],kV=["disabled"],_V={key:0,class:"absolute bottom-full mb-2 left-0 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto"},TV=["onClick"],CV={class:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs"},km=250,OV=Ke({__name:"CommentsContainer",props:{projectId:{}},setup(n){const e=n,t=B([]),s=B(!1),r=B(""),i=B(null),o=wi(),a=B(!1),l=xt(()=>km-f.value.length);xd(()=>{Br(()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)})});const c=async()=>{var E;try{const _=o.params.orgId,O=await _e.fetchOrgLeader(_),A=(E=_t.value)==null?void 0:E.email;if(A){const P=await _e.getUserId(A);a.value=P===O}}catch(_){console.error("Error checking leader status:",_)}},u=xt(()=>t.value.filter(E=>E.email.toLowerCase().includes(r.value.toLowerCase())||E.email.split("@")[0].toLowerCase().includes(r.value.toLowerCase()))),d=B([]),f=B(""),h=B([]),p=async()=>{if(e.projectId)try{const E=await _e.fetchProject(e.projectId);if(E&&E.orgId){const _=await _e.fetchOrgMembers(E.orgId);t.value=await Promise.all(_.map(async O=>{const A=await _e.getUserId(O);return{email:O,id:A}}))}}catch(E){console.error("Error fetching members:",E)}},g=E=>{const _=E.target,O=_.value,A=_.selectionStart,P=O.substring(0,A),$=P.lastIndexOf("@");if($>=0&&(A===$+1||/[\s]/.test(P[$-1]))){r.value=P.substring($+1),s.value=!0;const D=_.getBoundingClientRect(),U=document.querySelector(".mention-dropdown");U&&(U.style.left=`${D.left}px`,U.style.bottom=`${window.innerHeight-D.top}px`)}else s.value=!1},m=E=>{const _=document.querySelector("textarea"),O=_.value,A=_.selectionStart,$=O.substring(0,A).lastIndexOf("@");if($>=0){const z=E.email.split("@")[0],D=O.substring(0,$)+`@${z}`+O.substring(A);f.value=D,_.focus(),_.selectionStart=$+z.length+1,_.selectionEnd=$+z.length+1}s.value=!1},y=async(E,_=[])=>{try{const O=await _e.fetchProject(E.projectId);if(!O)return;const A=[],P=new Date().toISOString(),z=t.value.filter(D=>D.id!==E.userId).map(D=>D.id);if(_.forEach(D=>{A.push({id:pr(),userId:D,title:`Вас упомянули в проекте ${O.name}`,content:E.comment.length>50?`${E.comment.substring(0,50)}...`:E.comment,type:"mention",projectId:O.id,commentId:E.id,read:!1,createdAt:P})}),z.forEach(D=>{_.includes(D)||A.push({id:pr(),userId:D,title:`Новое сообщение в проекте ${O.name}`,content:E.comment.length>50?`${E.comment.substring(0,50)}...`:E.comment,type:"comment",projectId:O.id,commentId:E.id,read:!1,createdAt:P})}),A.length>0){const{error:D}=await ve.from("notifications").insert(A);if(D)throw D}}catch(O){console.error("Ошибка при отправке уведомлений:",O)}},b=E=>{d.value=d.value.filter(_=>_.id!==E),k("Комментарий удалён","success")},x=E=>{const _=d.value.findIndex(O=>O.id===E.id);_!==-1&&(d.value[_]=E,k("Комментарий обновлён","success"))},S=async()=>{if(e.projectId)try{d.value=await _e.fetchCommentsFromProject(e.projectId)}catch(E){console.error("Failed to load comments:",E)}};sn(()=>e.projectId,E=>{E?(S(),p()):d.value=[]},{immediate:!0}),zt(()=>{p(),S(),c()});const w=async()=>{if(f.value.trim()===""){k("Комментарий не может быть пустым.","error");return}if(f.value.length>km){k(`Комментарий не может превышать ${km} символов.`,"error");return}const E=pr(),_=await _e.getUserId(_t.value.email);if(f.value.trim()!==""&&e.projectId)try{const O=[...f.value.matchAll(/@(\w+)/g)],A=[];for(const $ of O){const z=$[1].toLowerCase(),D=t.value.find(U=>U.email.split("@")[0].toLowerCase()===z);D&&A.push(D.id)}const P={id:E,createdAt:new Date,userId:_,comment:f.value,projectId:e.projectId};await _e.addComment(P),d.value.push(P),f.value="",await y(P,A),k("Комментарий добавлен","success")}catch(O){console.error("Ошибка при добавлении комментария:",O),k("Ошибка при добавлении комментария","error")}},k=(E,_)=>{const O=pr();h.value.push({id:O,message:E,type:_}),setTimeout(()=>T(O),3e3)},T=E=>{h.value=h.value.filter(_=>_.id!==E)},C=E=>{var _;return E===((_=_t.value)==null?void 0:_.id)};return(E,_)=>(R(),L("div",gV,[v("div",mV,[_[1]||(_[1]=v("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," Чат проекта ",-1)),v("div",yV,ae(d.value.length)+" сообщений ",1)]),v("div",bV,[v("div",{ref_key:"commentsList",ref:i,class:"h-full pr-2 space-y-3"},[d.value.length===0?(R(),L("div",vV,_[2]||(_[2]=[v("i",{class:"fas fa-comments text-4xl mb-2"},null,-1),v("p",null,"Чат пуст. Начните обсуждение...",-1)]))):Ce("",!0),(R(!0),L(Pe,null,Et(d.value,O=>(R(),Qn(pV,{key:O.id,comment:O,isLeader:a.value,onCommentDeleted:b,onCommentUpdated:x,class:ke({"ml-auto":C(O.userId)})},null,8,["comment","isLeader","class"]))),128))],512)]),v("div",xV,[v("div",wV,[v("div",SV,[jt(v("textarea",{"onUpdate:modelValue":_[0]||(_[0]=O=>f.value=O),onKeyup:bT(ln(w,["exact"]),["enter"]),onInput:g,placeholder:"Напишите сообщение...",class:"w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 resize-none transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"1",maxlength:"250",style:{"min-height":"44px","max-height":"120px"}},null,40,EV),[[vn,f.value]]),v("div",{class:ke(["absolute bottom-2 right-2 text-xs px-1.5 py-0.5 rounded",{"text-gray-500":l.value>20,"text-yellow-800":l.value<=20&&l.value>0,"text-red-800":l.value===0}])},ae(l.value)+"/250 ",3)]),v("button",{onClick:w,class:"p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f.value.trim()===""},_[3]||(_[3]=[v("i",{class:"fas fa-paper-plane"},null,-1)]),8,kV),s.value&&u.value.length>0?(R(),L("div",_V,[(R(!0),L(Pe,null,Et(u.value,O=>(R(),L("div",{key:O.id,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center gap-2",onClick:A=>m(O)},[v("div",CV,ae(O.email[0].toUpperCase()),1),v("span",null,ae(O.email.split("@")[0]),1)],8,TV))),128))])):Ce("",!0)]),_[4]||(_[4]=v("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2 flex flex-col"},[v("span",null,"Нажмите @ чтобы упомянуть участника"),v("span",null,"Нажмите Enter чтобы отправить комментарий")],-1))]),le(Gb,{notifications:h.value,onClose:T},null,8,["notifications"])]))}}),AV={class:"px-6 py-2 min-h-[calc(100vh-180px)] bg-bg dark:bg-bg-dark"},MV={class:"w-full p-5 flex justify-center"},IV={class:"grid grid-cols-1 lg:grid-cols-[1fr_0fr_1fr] gap-6"},PV={class:"bg-gray-100 dark:bg-bg-accent-dark rounded-lg p-4 border border-gray-200 dark:border-gray-700"},DV={class:"flex border-b border-gray-300 dark:border-gray-700 mb-4"},RV={key:0},NV={class:"space-y-2 max-h-[300px] overflow-y-auto"},LV={class:"flex items-center"},$V={class:"w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center mr-3 text-gray-700 dark:text-gray-200"},FV={class:"text-f14-font dark:text-gray-300"},jV={key:0,class:"fa-solid fa-crown text-yellow-500 ml-1"},BV=["onClick"],VV={key:1},zV={key:0,class:"flex justify-center py-10"},UV={key:1,class:"text-center py-10 text-red-500 dark:text-red-400"},HV={key:2,class:"text-center py-10 text-gray-500 dark:text-gray-400"},WV={key:3,class:"space-y-2 max-h-[300px] overflow-y-auto"},KV={class:"rounded-lg"},GV={class:"bg-white dark:bg-gray-800 p-4 rounded-md mb-6 border border-gray-200 dark:border-gray-700"},XV={class:"h-64"},JV={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},YV={class:"bg-white dark:bg-gray-800 rounded-md p-4 border border-gray-200 dark:border-gray-700"},qV={class:"h-48"},QV={class:"bg-white dark:bg-gray-800 rounded-md p-4 border border-gray-200 dark:border-gray-700"},ZV={class:"h-48"},e6={class:"bg-white dark:bg-bg-accent-dark rounded-lg p-4 flex flex-col border border-gray-200 dark:border-gray-700"},t6=Ke({__name:"Projects",setup(n){as.register(...Wb);const e=B([]),t=B(!0),s=B(null),r=B(null),i=B([]),o=B("projects"),a=wi(),l=js(),c=B(!1),u=B(""),d=B(null),f=B(null),h=B(null),p=B(null),g=T=>{console.log("Удалить участника:",T)},m=()=>{Br(()=>{f.value&&new as(f.value,{type:"bar",data:{labels:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],datasets:[{label:"Активность",data:[12,19,8,15,22,13,7],backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(75, 85, 99, 0.2)"}},x:{grid:{display:!1}}}}}),h.value&&new as(h.value,{type:"doughnut",data:{labels:["Выполнено","В работе","Не начато"],datasets:[{data:[65,25,10],backgroundColor:["rgba(16, 185, 129, 0.7)","rgba(59, 130, 246, 0.7)","rgba(156, 163, 175, 0.7)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"bottom"}}}}),p.value&&new as(p.value,{type:"pie",data:{labels:["Разработка","Дизайн","Тестирование","Документация"],datasets:[{data:[40,30,15,15],backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(168, 85, 247, 0.7)","rgba(22, 163, 74, 0.7)","rgba(234, 88, 12, 0.7)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})},y=T=>{r.value=T,localStorage.setItem("selectedProjectId",T)},b=async()=>{try{const T=a.params.orgId;if(!T)throw new Error("Организация не найдена.");t.value=!0,s.value=null,e.value=await _e.fetchProjects(T)}catch(T){console.error("Ошибка при загрузке проектов:",T),s.value=T instanceof Error?T.message:String(T)}finally{t.value=!1}},x=()=>{l.push({name:"create-new-project",params:{orgId:a.params.orgId}})},S=async()=>{try{const T=a.params.orgId,{members:C,leaderEmail:E}=await _e.fetchOrgMembersWithLeader(T);i.value=C.map(_=>({email:_,isLeader:_===E}))}catch(T){console.error("Ошибка при получении данных участников:",T)}},w=()=>{var T;(T=d.value)==null||T.openModal()},k=async T=>{c.value=!0,u.value=T.message,setTimeout(()=>c.value=!1,5e3),await S()};return zt(()=>{b(),S();const T=localStorage.getItem("selectedProjectId");T&&(r.value=T),m()}),sn(e,T=>{T.length>0&&!r.value&&(r.value=T[0].id)},{immediate:!0}),(T,C)=>(R(),L("div",AV,[c.value?(R(),Qn(Gb,{key:0,notifications:[{id:"1",message:u.value,type:"success"}],onClose:C[0]||(C[0]=E=>c.value=!1)},null,8,["notifications"])):Ce("",!0),v("div",MV,[v("button",{onClick:C[1]||(C[1]=E=>T.$router.push({name:"dashboard"})),class:"flex items-center justify-center border-2 border-rose-600 dark:border-rose-500 text-rose-600 dark:text-rose-500 rounded-md w-10 h-10 hover:border-rose-400 dark:hover:border-rose-400 hover:text-rose-400 dark:hover:text-rose-400 duration-150"},C[4]||(C[4]=[v("i",{class:"fa-solid fa-right-from-bracket"},null,-1)]))]),v("div",IV,[v("div",PV,[v("div",DV,[v("button",{onClick:C[2]||(C[2]=E=>o.value="members"),class:ke([{"text-f14-font dark:text-f14-font-dark border-b-2 border-blue-500":o.value==="members","text-gray-500 dark:text-gray-400":o.value!=="members"},"px-4 py-2 font-medium transition-colors"])}," Участники ",2),v("button",{onClick:C[3]||(C[3]=E=>o.value="projects"),class:ke([{"text-f14-font dark:text-f14-font-dark border-b-2 border-blue-500":o.value==="projects","text-gray-500 dark:text-gray-400":o.value!=="projects"},"px-4 py-2 font-medium transition-colors"])}," Проекты ",2)]),o.value==="members"?(R(),L("div",RV,[C[7]||(C[7]=v("h3",{class:"text-lg text-f14-font dark:text-f14-font-dark font-semibold mb-4"},"Участники организации",-1)),v("div",NV,[(R(!0),L(Pe,null,Et(i.value,(E,_)=>(R(),L("div",{key:_,class:"flex items-center justify-between p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded transition-colors"},[v("div",LV,[v("div",$V,ae(E.email.charAt(0).toUpperCase()),1),v("span",FV,[Xn(ae(E.email.split("@")[0])+" ",1),E.isLeader?(R(),L("i",jV)):Ce("",!0)])]),E.isLeader?Ce("",!0):(R(),L("button",{key:0,onClick:O=>g(E.email),class:"text-red-500 dark:text-red-400 hover:text-red-400 dark:hover:text-red-300 transition-colors"},C[5]||(C[5]=[v("i",{class:"fa-solid fa-user-minus"},null,-1)]),8,BV))]))),128))]),v("button",{onClick:w,class:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center justify-center transition-colors"},C[6]||(C[6]=[v("i",{class:"fa-solid fa-user-plus mr-2"},null,-1),Xn(" Добавить участника ")]))])):(R(),L("div",VV,[v("div",{class:"flex justify-between items-center mb-4"},[C[8]||(C[8]=v("h3",{class:"text-lg text-f14-font dark:text-f14-font-dark font-semibold"},"Проекты организации",-1)),v("button",{onClick:x,class:"w-8 h-8 flex items-center justify-center text-xl cursor-pointer border border-gray-400 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors"}," + ")]),t.value?(R(),L("div",zV,[le(Ad)])):s.value?(R(),L("div",UV," Ошибка: "+ae(s.value),1)):e.value.length===0?(R(),L("div",HV," Проектов пока нет ")):(R(),L("div",WV,[(R(!0),L(Pe,null,Et(e.value,E=>(R(),Qn(HB,{key:E.id,project:E,"is-selected":r.value===E.id,onSelect:y},null,8,["project","is-selected"]))),128))]))]))]),v("div",KV,[C[12]||(C[12]=v("h3",{class:"bg-gray-100 dark:bg-bg-accent-dark text-f14-font dark:text-f14-font-dark p-4 rounded-md text-lg font-semibold mb-4 border border-gray-200 dark:border-gray-700"},"Аналитика организации",-1)),v("div",GV,[C[9]||(C[9]=v("h4",{class:"text-md font-medium mb-2 text-f14-font dark:text-gray-300"},"Активность по дням",-1)),v("div",XV,[v("canvas",{ref_key:"activityChart",ref:f},null,512)])]),v("div",JV,[v("div",YV,[C[10]||(C[10]=v("h4",{class:"text-md font-medium mb-2 text-f14-font dark:text-gray-300"},"Выполняемость задач",-1)),v("div",qV,[v("canvas",{ref_key:"completionChart",ref:h},null,512)])]),v("div",QV,[C[11]||(C[11]=v("h4",{class:"text-md font-medium mb-2 text-f14-font dark:text-gray-300"},"Распределение по типам",-1)),v("div",ZV,[v("canvas",{ref_key:"typeDistributionChart",ref:p},null,512)])])])]),v("div",e6,[C[13]||(C[13]=v("h3",{class:"text-lg font-semibold mb-4 text-f14-font dark:text-f14-font-dark"},"Чат проекта",-1)),le(OV,{projectId:r.value},null,8,["projectId"])])]),le(eV,{ref_key:"addMemberModal",ref:d,onMemberAdded:k},null,512)]))}}),n6=Cn(t6,[["__scopeId","data-v-c6dd3c6e"]]);var Zf={exports:{}},_m={exports:{}},Tm={};/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gl=Symbol(""),Sl=Symbol(""),cg=Symbol(""),Ju=Symbol(""),Xb=Symbol(""),ko=Symbol(""),Jb=Symbol(""),Yb=Symbol(""),ug=Symbol(""),dg=Symbol(""),cc=Symbol(""),fg=Symbol(""),qb=Symbol(""),hg=Symbol(""),pg=Symbol(""),gg=Symbol(""),mg=Symbol(""),yg=Symbol(""),bg=Symbol(""),Qb=Symbol(""),Zb=Symbol(""),Md=Symbol(""),Yu=Symbol(""),vg=Symbol(""),xg=Symbol(""),Xl=Symbol(""),uc=Symbol(""),wg=Symbol(""),jh=Symbol(""),eO=Symbol(""),Bh=Symbol(""),qu=Symbol(""),tO=Symbol(""),nO=Symbol(""),Sg=Symbol(""),sO=Symbol(""),rO=Symbol(""),Eg=Symbol(""),ev=Symbol(""),Ma={[Gl]:"Fragment",[Sl]:"Teleport",[cg]:"Suspense",[Ju]:"KeepAlive",[Xb]:"BaseTransition",[ko]:"openBlock",[Jb]:"createBlock",[Yb]:"createElementBlock",[ug]:"createVNode",[dg]:"createElementVNode",[cc]:"createCommentVNode",[fg]:"createTextVNode",[qb]:"createStaticVNode",[hg]:"resolveComponent",[pg]:"resolveDynamicComponent",[gg]:"resolveDirective",[mg]:"resolveFilter",[yg]:"withDirectives",[bg]:"renderList",[Qb]:"renderSlot",[Zb]:"createSlots",[Md]:"toDisplayString",[Yu]:"mergeProps",[vg]:"normalizeClass",[xg]:"normalizeStyle",[Xl]:"normalizeProps",[uc]:"guardReactiveProps",[wg]:"toHandlers",[jh]:"camelize",[eO]:"capitalize",[Bh]:"toHandlerKey",[qu]:"setBlockTracking",[tO]:"pushScopeId",[nO]:"popScopeId",[Sg]:"withCtx",[sO]:"unref",[rO]:"isRef",[Eg]:"withMemo",[ev]:"isMemoSame"};function iO(n){Object.getOwnPropertySymbols(n).forEach(e=>{Ma[e]=n[e]})}const s6={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},r6={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},i6={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},o6={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},gn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function oO(n,e=""){return{type:0,source:e,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:gn}}function Jl(n,e,t,s,r,i,o,a=!1,l=!1,c=!1,u=gn){return n&&(a?(n.helper(ko),n.helper(Da(n.inSSR,c))):n.helper(Pa(n.inSSR,c)),o&&n.helper(yg)),{type:13,tag:e,props:t,children:s,patchFlag:r,dynamicProps:i,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function po(n,e=gn){return{type:17,loc:e,elements:n}}function Ls(n,e=gn){return{type:15,loc:e,properties:n}}function Zt(n,e){return{type:16,loc:gn,key:Le(n)?Ve(n,!0):n,value:e}}function Ve(n,e=!1,t=gn,s=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:s}}function a6(n,e){return{type:5,loc:e,content:Le(n)?Ve(n,!1,e):n}}function Qs(n,e=gn){return{type:8,loc:e,children:n}}function on(n,e=[],t=gn){return{type:14,loc:t,callee:n,arguments:e}}function Ia(n,e=void 0,t=!1,s=!1,r=gn){return{type:18,params:n,returns:e,newline:t,isSlot:s,loc:r}}function Vh(n,e,t,s=!0){return{type:19,test:n,consequent:e,alternate:t,newline:s,loc:gn}}function aO(n,e,t=!1,s=!1){return{type:20,index:n,value:e,needPauseTracking:t,inVOnce:s,needArraySpread:!1,loc:gn}}function lO(n){return{type:21,body:n,loc:gn}}function l6(n){return{type:22,elements:n,loc:gn}}function c6(n,e,t){return{type:23,test:n,consequent:e,alternate:t,loc:gn}}function u6(n,e){return{type:24,left:n,right:e,loc:gn}}function d6(n){return{type:25,expressions:n,loc:gn}}function f6(n){return{type:26,returns:n,loc:gn}}function Pa(n,e){return n||e?ug:dg}function Da(n,e){return n||e?Jb:Yb}function kg(n,{helper:e,removeHelper:t,inSSR:s}){n.isBlock||(n.isBlock=!0,t(Pa(s,n.isComponent)),e(ko),e(Da(s,n.isComponent)))}const sS=new Uint8Array([123,123]),rS=new Uint8Array([125,125]);function iS(n){return n>=97&&n<=122||n>=65&&n<=90}function Ds(n){return n===32||n===10||n===9||n===12||n===13}function Ti(n){return n===47||n===62||Ds(n)}function zh(n){const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}const Ln={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class h6{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=sS,this.delimiterClose=rS,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=sS,this.delimiterClose=rS}getPos(e){let t=1,s=e+1;for(let r=this.newlines.length-1;r>=0;r--){const i=this.newlines[r];if(e>i){t=r+2,s=e-i;break}}return{column:s,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const t=this.index+1-this.delimiterOpen.length;t>this.sectionStart&&this.cbs.ontext(this.sectionStart,t),this.state=3,this.sectionStart=t}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Ti(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Ds(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const s=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=s}this.sectionStart=t+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ln.TitleEnd||this.currentSequence===Ln.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===Ln.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ln.Cdata.length&&(this.state=28,this.currentSequence=Ln.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(t===10&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ln.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):iS(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ti(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ti(e)){const t=this.buffer.slice(this.sectionStart,this.index);t!=="template"&&this.enterRCDATA(zh("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Ds(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=iS(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Ds(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ds(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ds(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ti(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ti(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ti(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ti(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ti(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Ds(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Ds(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Ds(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=Ln.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Ln.ScriptEnd[3]?this.startSpecial(Ln.ScriptEnd,4):e===Ln.StyleEnd[3]?this.startSpecial(Ln.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Ln.TitleEnd[3]?this.startSpecial(Ln.TitleEnd,4):e===Ln.TextareaEnd[3]?this.startSpecial(Ln.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);switch(t===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(t);break}case 2:{this.stateInterpolationOpen(t);break}case 3:{this.stateInterpolation(t);break}case 4:{this.stateInterpolationClose(t);break}case 31:{this.stateSpecialStartSequence(t);break}case 32:{this.stateInRCDATA(t);break}case 26:{this.stateCDATASequence(t);break}case 19:{this.stateInAttrValueDoubleQuotes(t);break}case 12:{this.stateInAttrName(t);break}case 13:{this.stateInDirName(t);break}case 14:{this.stateInDirArg(t);break}case 15:{this.stateInDynamicDirArg(t);break}case 16:{this.stateInDirModifier(t);break}case 28:{this.stateInCommentLike(t);break}case 27:{this.stateInSpecialComment(t);break}case 11:{this.stateBeforeAttrName(t);break}case 6:{this.stateInTagName(t);break}case 34:{this.stateInSFCRootTagName(t);break}case 9:{this.stateInClosingTagName(t);break}case 5:{this.stateBeforeTagName(t);break}case 17:{this.stateAfterAttrName(t);break}case 20:{this.stateInAttrValueSingleQuotes(t);break}case 18:{this.stateBeforeAttrValue(t);break}case 8:{this.stateBeforeClosingTagName(t);break}case 10:{this.stateAfterClosingTagName(t);break}case 29:{this.stateBeforeSpecialS(t);break}case 30:{this.stateBeforeSpecialT(t);break}case 21:{this.stateInAttrValueNoQuotes(t);break}case 7:{this.stateInSelfClosingTag(t);break}case 23:{this.stateInDeclaration(t);break}case 22:{this.stateBeforeDeclaration(t);break}case 25:{this.stateBeforeComment(t);break}case 24:{this.stateInProcessingInstruction(t);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===Ln.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}}const p6={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},g6={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function o0(n,{compatConfig:e}){const t=e&&e[n];return n==="MODE"?t||3:t}function va(n,e){const t=o0("MODE",e),s=o0(n,e);return t===3?s===!0:s!==!1}function Yl(n,e,t,...s){return va(n,e)}function m6(n,e,t,...s){if(o0(n,e)==="suppress-warning")return;const{message:i,link:o}=g6[n],a=`(deprecation ${n}) ${typeof i=="function"?i(...s):i}${o?`
  Details: ${o}`:""}`,l=new SyntaxError(a);l.code=n,t&&(l.loc=t),e.onWarn(l)}function tv(n){throw n}function cO(n){}function Dt(n,e,t,s){const r=`https://vuejs.org/error-reference/#compiler-${n}`,i=new SyntaxError(String(r));return i.code=n,i.loc=e,i}const y6={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},b6={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function v6(n,e,t=!1,s=[],r=Object.create(null)){}function x6(n,e,t){return!1}function w6(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let t=e.length;for(;t--;){const s=e[t];if(s.type==="AssignmentExpression")return!0;if(s.type!=="ObjectProperty"&&!s.type.endsWith("Pattern"))break}}return!1}function S6(n){let e=n.length;for(;e--;){const t=n[e];if(t.type==="NewExpression")return!0;if(t.type!=="MemberExpression")break}return!1}function E6(n,e){for(const t of n.params)for(const s of ai(t))e(s)}function k6(n,e){for(const t of n.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(const s of t.declarations)for(const r of ai(s.id))e(r)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}else _6(t)&&T6(t,!0,e)}function _6(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function T6(n,e,t){const s=n.type==="ForStatement"?n.init:n.left;if(s&&s.type==="VariableDeclaration"&&(s.kind==="var"&&e))for(const r of s.declarations)for(const i of ai(r.id))t(i)}function ai(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let t=n;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(const s of n.properties)s.type==="RestElement"?ai(s.argument,e):ai(s.value,e);break;case"ArrayPattern":n.elements.forEach(s=>{s&&ai(s,e)});break;case"RestElement":ai(n.argument,e);break;case"AssignmentPattern":ai(n.left,e);break}return e}const C6=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),uO=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,O6=(n,e)=>uO(e)&&e.key===n,dO=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function fO(n){return dO.includes(n.type)?fO(n.expression):n}const us=n=>n.type===4&&n.isStatic;function nv(n){switch(n){case"Teleport":case"teleport":return Sl;case"Suspense":case"suspense":return cg;case"KeepAlive":case"keep-alive":return Ju;case"BaseTransition":case"base-transition":return Xb}}const A6=/^\d|[^\$\w\xA0-\uFFFF]/,Id=n=>!A6.test(n),M6=/[A-Za-z_$\xA0-\uFFFF]/,I6=/[\.\?\w$\xA0-\uFFFF]/,P6=/\s+[.[]\s*|\s*[.[]\s+/g,hO=n=>n.type===4?n.content:n.loc.source,pO=n=>{const e=hO(n).trim().replace(P6,a=>a.trim());let t=0,s=[],r=0,i=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(t){case 0:if(l==="[")s.push(t),t=1,r++;else if(l==="(")s.push(t),t=2,i++;else if(!(a===0?M6:I6).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(s.push(t),t=3,o=l):l==="["?r++:l==="]"&&(--r||(t=s.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")s.push(t),t=3,o=l;else if(l==="(")i++;else if(l===")"){if(a===e.length-1)return!1;--i||(t=s.pop())}break;case 3:l===o&&(t=s.pop(),o=null);break}}return!r&&!i},D6=wn,sv=pO,R6=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,gO=n=>R6.test(hO(n)),N6=wn,mO=gO;function L6(n,e,t=e.length){return yO({offset:n.offset,line:n.line,column:n.column},e,t)}function yO(n,e,t=e.length){let s=0,r=-1;for(let i=0;i<t;i++)e.charCodeAt(i)===10&&(s++,r=i);return n.offset+=t,n.line+=s,n.column=r===-1?n.column+t:t-r,n}function $6(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function ls(n,e,t=!1){for(let s=0;s<n.props.length;s++){const r=n.props[s];if(r.type===7&&(t||r.exp)&&(Le(e)?r.name===e:e.test(r.name)))return r}}function Pd(n,e,t=!1,s=!1){for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===6){if(t)continue;if(i.name===e&&(i.value||s))return i}else if(i.name==="bind"&&(i.exp||s)&&so(i.arg,e))return i}}function so(n,e){return!!(n&&us(n)&&n.content===e)}function bO(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function eh(n){return n.type===5||n.type===2}function rv(n){return n.type===7&&n.name==="slot"}function ql(n){return n.type===1&&n.tagType===3}function Qu(n){return n.type===1&&n.tagType===2}const F6=new Set([Xl,uc]);function vO(n,e=[]){if(n&&!Le(n)&&n.type===14){const t=n.callee;if(!Le(t)&&F6.has(t))return vO(n.arguments[0],e.concat(n))}return[n,e]}function Zu(n,e,t){let s,r=n.type===13?n.props:n.arguments[2],i=[],o;if(r&&!Le(r)&&r.type===14){const a=vO(r);r=a[0],i=a[1],o=i[i.length-1]}if(r==null||Le(r))s=Ls([e]);else if(r.type===14){const a=r.arguments[0];!Le(a)&&a.type===15?oS(e,a)||a.properties.unshift(e):r.callee===wg?s=on(t.helper(Yu),[Ls([e]),r]):r.arguments.unshift(Ls([e])),!s&&(s=r)}else r.type===15?(oS(e,r)||r.properties.unshift(e),s=r):(s=on(t.helper(Yu),[Ls([e]),r]),o&&o.callee===uc&&(o=i[i.length-2]));n.type===13?o?o.arguments[0]=s:n.props=s:o?o.arguments[0]=s:n.arguments[2]=s}function oS(n,e){let t=!1;if(n.key.type===4){const s=n.key.content;t=e.properties.some(r=>r.key.type===4&&r.key.content===s)}return t}function Ql(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,s)=>t==="-"?"_":n.charCodeAt(s).toString())}`}function ir(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let t=0;t<n.props.length;t++){const s=n.props[t];if(s.type===7&&(ir(s.arg,e)||ir(s.exp,e)))return!0}return n.children.some(t=>ir(t,e));case 11:return ir(n.source,e)?!0:n.children.some(t=>ir(t,e));case 9:return n.branches.some(t=>ir(t,e));case 10:return ir(n.condition,e)?!0:n.children.some(t=>ir(t,e));case 4:return!n.isStatic&&Id(n.content)&&!!e[n.content];case 8:return n.children.some(t=>wt(t)&&ir(t,e));case 5:case 12:return ir(n.content,e);case 2:case 3:case 20:return!1;default:return!1}}function xO(n){return n.type===14&&n.callee===Eg?n.arguments[1].returns:n}const wO=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,SO={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:hl,isPreTag:hl,isIgnoreNewlineTag:hl,isCustomElement:hl,onError:tv,onWarn:cO,comments:!1,prefixIdentifiers:!1};let vt=SO,ed=null,hi="",Vn=null,ut=null,ws="",Yr=-1,Xo=-1,iv=0,ji=!1,a0=null;const $t=[],qt=new h6($t,{onerr:Hr,ontext(n,e){vf(Mn(n,e),n,e)},ontextentity(n,e,t){vf(n,e,t)},oninterpolation(n,e){if(ji)return vf(Mn(n,e),n,e);let t=n+qt.delimiterOpen.length,s=e-qt.delimiterClose.length;for(;Ds(hi.charCodeAt(t));)t++;for(;Ds(hi.charCodeAt(s-1));)s--;let r=Mn(t,s);r.includes("&")&&(r=vt.decodeEntities(r,!1)),l0({type:5,content:nh(r,!1,en(t,s)),loc:en(n,e)})},onopentagname(n,e){const t=Mn(n,e);Vn={type:1,tag:t,ns:vt.getNamespace(t,$t[0],vt.ns),tagType:0,props:[],children:[],loc:en(n-1,e),codegenNode:void 0}},onopentagend(n){lS(n)},onclosetag(n,e){const t=Mn(n,e);if(!vt.isVoidTag(t)){let s=!1;for(let r=0;r<$t.length;r++)if($t[r].tag.toLowerCase()===t.toLowerCase()){s=!0,r>0&&Hr(24,$t[0].loc.start.offset);for(let o=0;o<=r;o++){const a=$t.shift();th(a,e,o<r)}break}s||Hr(23,EO(n,60))}},onselfclosingtag(n){const e=Vn.tag;Vn.isSelfClosing=!0,lS(n),$t[0]&&$t[0].tag===e&&th($t.shift(),n)},onattribname(n,e){ut={type:6,name:Mn(n,e),nameLoc:en(n,e),value:void 0,loc:en(n)}},ondirname(n,e){const t=Mn(n,e),s=t==="."||t===":"?"bind":t==="@"?"on":t==="#"?"slot":t.slice(2);if(!ji&&s===""&&Hr(26,n),ji||s==="")ut={type:6,name:t,nameLoc:en(n,e),value:void 0,loc:en(n)};else if(ut={type:7,name:s,rawName:t,exp:void 0,arg:void 0,modifiers:t==="."?[Ve("prop")]:[],loc:en(n)},s==="pre"){ji=qt.inVPre=!0,a0=Vn;const r=Vn.props;for(let i=0;i<r.length;i++)r[i].type===7&&(r[i]=J6(r[i]))}},ondirarg(n,e){if(n===e)return;const t=Mn(n,e);if(ji)ut.name+=t,ea(ut.nameLoc,e);else{const s=t[0]!=="[";ut.arg=nh(s?t:t.slice(1,-1),s,en(n,e),s?3:0)}},ondirmodifier(n,e){const t=Mn(n,e);if(ji)ut.name+="."+t,ea(ut.nameLoc,e);else if(ut.name==="slot"){const s=ut.arg;s&&(s.content+="."+t,ea(s.loc,e))}else{const s=Ve(t,!0,en(n,e));ut.modifiers.push(s)}},onattribdata(n,e){ws+=Mn(n,e),Yr<0&&(Yr=n),Xo=e},onattribentity(n,e,t){ws+=n,Yr<0&&(Yr=e),Xo=t},onattribnameend(n){const e=ut.loc.start.offset,t=Mn(e,n);ut.type===7&&(ut.rawName=t),Vn.props.some(s=>(s.type===7?s.rawName:s.name)===t)&&Hr(2,e)},onattribend(n,e){if(Vn&&ut){if(ea(ut.loc,e),n!==0)if(ws.includes("&")&&(ws=vt.decodeEntities(ws,!0)),ut.type===6)ut.name==="class"&&(ws=_O(ws).trim()),n===1&&!ws&&Hr(13,e),ut.value={type:2,content:ws,loc:n===1?en(Yr,Xo):en(Yr-1,Xo+1)},qt.inSFCRoot&&Vn.tag==="template"&&ut.name==="lang"&&ws&&ws!=="html"&&qt.enterRCDATA(zh("</template"),0);else{let t=0;ut.exp=nh(ws,!1,en(Yr,Xo),0,t),ut.name==="for"&&(ut.forParseResult=B6(ut.exp));let s=-1;ut.name==="bind"&&(s=ut.modifiers.findIndex(r=>r.content==="sync"))>-1&&Yl("COMPILER_V_BIND_SYNC",vt,ut.loc,ut.rawName)&&(ut.name="model",ut.modifiers.splice(s,1))}(ut.type!==7||ut.name!=="pre")&&Vn.props.push(ut)}ws="",Yr=Xo=-1},oncomment(n,e){vt.comments&&l0({type:3,content:Mn(n,e),loc:en(n-4,e+3)})},onend(){const n=hi.length;for(let e=0;e<$t.length;e++)th($t[e],n-1),Hr(24,$t[e].loc.start.offset)},oncdata(n,e){$t[0].ns!==0?vf(Mn(n,e),n,e):Hr(1,n-9)},onprocessinginstruction(n){($t[0]?$t[0].ns:vt.ns)===0&&Hr(21,n-1)}}),aS=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,j6=/^\(|\)$/g;function B6(n){const e=n.loc,t=n.content,s=t.match(wO);if(!s)return;const[,r,i]=s,o=(d,f,h=!1)=>{const p=e.start.offset+f,g=p+d.length;return nh(d,!1,en(p,g),0,h?1:0)},a={source:o(i.trim(),t.indexOf(i,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(j6,"").trim();const c=r.indexOf(l),u=l.match(aS);if(u){l=l.replace(aS,"").trim();const d=u[1].trim();let f;if(d&&(f=t.indexOf(d,c+l.length),a.key=o(d,f,!0)),u[2]){const h=u[2].trim();h&&(a.index=o(h,t.indexOf(h,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function Mn(n,e){return hi.slice(n,e)}function lS(n){qt.inSFCRoot&&(Vn.innerLoc=en(n+1,n+1)),l0(Vn);const{tag:e,ns:t}=Vn;t===0&&vt.isPreTag(e)&&iv++,vt.isVoidTag(e)?th(Vn,n):($t.unshift(Vn),(t===1||t===2)&&(qt.inXML=!0)),Vn=null}function vf(n,e,t){{const i=$t[0]&&$t[0].tag;i!=="script"&&i!=="style"&&n.includes("&")&&(n=vt.decodeEntities(n,!1))}const s=$t[0]||ed,r=s.children[s.children.length-1];r&&r.type===2?(r.content+=n,ea(r.loc,t)):s.children.push({type:2,content:n,loc:en(e,t)})}function th(n,e,t=!1){t?ea(n.loc,EO(e,60)):ea(n.loc,V6(e,62)+1),qt.inSFCRoot&&(n.children.length?n.innerLoc.end=rt({},n.children[n.children.length-1].loc.end):n.innerLoc.end=rt({},n.innerLoc.start),n.innerLoc.source=Mn(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:s,ns:r,children:i}=n;if(ji||(s==="slot"?n.tagType=2:cS(n)?n.tagType=3:U6(n)&&(n.tagType=1)),qt.inRCDATA||(n.children=kO(i)),r===0&&vt.isIgnoreNewlineTag(s)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&vt.isPreTag(s)&&iv--,a0===n&&(ji=qt.inVPre=!1,a0=null),qt.inXML&&($t[0]?$t[0].ns:vt.ns)===0&&(qt.inXML=!1);{const o=n.props;if(!qt.inSFCRoot&&va("COMPILER_NATIVE_TEMPLATE",vt)&&n.tag==="template"&&!cS(n)){const l=$t[0]||ed,c=l.children.indexOf(n);l.children.splice(c,1,...n.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Yl("COMPILER_INLINE_TEMPLATE",vt,a.loc)&&n.children.length&&(a.value={type:2,content:Mn(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:a.loc})}}function V6(n,e){let t=n;for(;hi.charCodeAt(t)!==e&&t<hi.length-1;)t++;return t}function EO(n,e){let t=n;for(;hi.charCodeAt(t)!==e&&t>=0;)t--;return t}const z6=new Set(["if","else","else-if","for","slot"]);function cS({tag:n,props:e}){if(n==="template"){for(let t=0;t<e.length;t++)if(e[t].type===7&&z6.has(e[t].name))return!0}return!1}function U6({tag:n,props:e}){if(vt.isCustomElement(n))return!1;if(n==="component"||H6(n.charCodeAt(0))||nv(n)||vt.isBuiltInComponent&&vt.isBuiltInComponent(n)||vt.isNativeTag&&!vt.isNativeTag(n))return!0;for(let t=0;t<e.length;t++){const s=e[t];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(Yl("COMPILER_IS_ON_ELEMENT",vt,s.loc))return!0}}else if(s.name==="bind"&&so(s.arg,"is")&&Yl("COMPILER_IS_ON_ELEMENT",vt,s.loc))return!0}return!1}function H6(n){return n>64&&n<91}const W6=/\r\n/g;function kO(n,e){const t=vt.whitespace!=="preserve";let s=!1;for(let r=0;r<n.length;r++){const i=n[r];if(i.type===2)if(iv)i.content=i.content.replace(W6,`
`);else if(K6(i.content)){const o=n[r-1]&&n[r-1].type,a=n[r+1]&&n[r+1].type;!o||!a||t&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&G6(i.content)))?(s=!0,n[r]=null):i.content=" "}else t&&(i.content=_O(i.content))}return s?n.filter(Boolean):n}function K6(n){for(let e=0;e<n.length;e++)if(!Ds(n.charCodeAt(e)))return!1;return!0}function G6(n){for(let e=0;e<n.length;e++){const t=n.charCodeAt(e);if(t===10||t===13)return!0}return!1}function _O(n){let e="",t=!1;for(let s=0;s<n.length;s++)Ds(n.charCodeAt(s))?t||(e+=" ",t=!0):(e+=n[s],t=!1);return e}function l0(n){($t[0]||ed).children.push(n)}function en(n,e){return{start:qt.getPos(n),end:e==null?e:qt.getPos(e),source:e==null?e:Mn(n,e)}}function X6(n){return en(n.start.offset,n.end.offset)}function ea(n,e){n.end=qt.getPos(e),n.source=Mn(n.start.offset,e)}function J6(n){const e={type:6,name:n.rawName,nameLoc:en(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const t=n.exp.loc;t.end.offset<n.loc.end.offset&&(t.start.offset--,t.start.column--,t.end.offset++,t.end.column++),e.value={type:2,content:n.exp.content,loc:t}}return e}function nh(n,e=!1,t,s=0,r=0){return Ve(n,e,t,s)}function Hr(n,e,t){vt.onError(Dt(n,en(e,e)))}function Y6(){qt.reset(),Vn=null,ut=null,ws="",Yr=-1,Xo=-1,$t.length=0}function ov(n,e){if(Y6(),hi=n,vt=rt({},SO),e){let r;for(r in e)e[r]!=null&&(vt[r]=e[r])}qt.mode=vt.parseMode==="html"?1:vt.parseMode==="sfc"?2:0,qt.inXML=vt.ns===1||vt.ns===2;const t=e&&e.delimiters;t&&(qt.delimiterOpen=zh(t[0]),qt.delimiterClose=zh(t[1]));const s=ed=oO([],n);return qt.parse(hi),s.loc=en(0,n.length),s.children=kO(s.children),ed=null,s}function q6(n,e){sh(n,void 0,e,TO(n,n.children[0]))}function TO(n,e){const{children:t}=n;return t.length===1&&e.type===1&&!Qu(e)}function sh(n,e,t,s=!1,r=!1){const{children:i}=n,o=[];for(let u=0;u<i.length;u++){const d=i[u];if(d.type===1&&d.tagType===0){const f=s?0:Ts(d,t);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const h=d.codegenNode;if(h.type===13){const p=h.patchFlag;if((p===void 0||p===512||p===1)&&OO(d,t)>=2){const g=AO(d);g&&(h.props=t.hoist(g))}h.dynamicProps&&(h.dynamicProps=t.hoist(h.dynamicProps))}}}else if(d.type===12&&(s?0:Ts(d,t))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&t.scopes.vSlot++,sh(d,n,t,!1,r),f&&t.scopes.vSlot--}else if(d.type===11)sh(d,n,t,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)sh(d.branches[f],n,t,d.branches[f].children.length===1,r)}let a=!1;if(o.length===i.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&ge(n.codegenNode.children))n.codegenNode.children=l(po(n.codegenNode.children)),a=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!ge(n.codegenNode.children)&&n.codegenNode.children.type===15){const u=c(n.codegenNode,"default");u&&(u.returns=l(po(u.returns)),a=!0)}else if(n.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ge(e.codegenNode.children)&&e.codegenNode.children.type===15){const u=ls(n,"slot",!0),d=u&&u.arg&&c(e.codegenNode,u.arg);d&&(d.returns=l(po(d.returns)),a=!0)}}if(!a)for(const u of o)u.codegenNode=t.cache(u.codegenNode);function l(u){const d=t.cache(u);return r&&t.hmr&&(d.needArraySpread=!0),d}function c(u,d){if(u.children&&!ge(u.children)&&u.children.type===15){const f=u.children.properties.find(h=>h.key===d||h.key.content===d);return f&&f.value}}o.length&&t.transformHoist&&t.transformHoist(i,t,n)}function Ts(n,e){const{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const s=t.get(n);if(s!==void 0)return s;const r=n.codegenNode;if(r.type!==13||r.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=OO(n,e);if(a===0)return t.set(n,0),0;a<o&&(o=a);for(let l=0;l<n.children.length;l++){const c=Ts(n.children[l],e);if(c===0)return t.set(n,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<n.props.length;l++){const c=n.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=Ts(c.exp,e);if(u===0)return t.set(n,0),0;u<o&&(o=u)}}if(r.isBlock){for(let l=0;l<n.props.length;l++)if(n.props[l].type===7)return t.set(n,0),0;e.removeHelper(ko),e.removeHelper(Da(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Pa(e.inSSR,r.isComponent))}return t.set(n,o),o}else return t.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ts(n.content,e);case 4:return n.constType;case 8:let i=3;for(let o=0;o<n.children.length;o++){const a=n.children[o];if(Le(a)||ds(a))continue;const l=Ts(a,e);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const Q6=new Set([vg,xg,Xl,uc]);function CO(n,e){if(n.type===14&&!Le(n.callee)&&Q6.has(n.callee)){const t=n.arguments[0];if(t.type===4)return Ts(t,e);if(t.type===14)return CO(t,e)}return 0}function OO(n,e){let t=3;const s=AO(n);if(s&&s.type===15){const{properties:r}=s;for(let i=0;i<r.length;i++){const{key:o,value:a}=r[i],l=Ts(o,e);if(l===0)return l;l<t&&(t=l);let c;if(a.type===4?c=Ts(a,e):a.type===14?c=CO(a,e):c=0,c===0)return c;c<t&&(t=c)}}return t}function AO(n){const e=n.codegenNode;if(e.type===13)return e.props}function MO(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:s=!1,hmr:r=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=wn,isCustomElement:u=wn,expressionPlugins:d=[],scopeId:f=null,slotted:h=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:y=st,inline:b=!1,isTS:x=!1,onError:S=tv,onWarn:w=cO,compatConfig:k}){const T=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:e,selfName:T&&Oo(It(T[1])),prefixIdentifiers:t,hoistStatic:s,hmr:r,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:d,scopeId:f,slotted:h,ssr:p,inSSR:g,ssrCssVars:m,bindingMetadata:y,inline:b,isTS:x,onError:S,onWarn:w,compatConfig:k,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(E){const _=C.helpers.get(E)||0;return C.helpers.set(E,_+1),E},removeHelper(E){const _=C.helpers.get(E);if(_){const O=_-1;O?C.helpers.set(E,O):C.helpers.delete(E)}},helperString(E){return`_${Ma[C.helper(E)]}`},replaceNode(E){C.parent.children[C.childIndex]=C.currentNode=E},removeNode(E){const _=C.parent.children,O=E?_.indexOf(E):C.currentNode?C.childIndex:-1;!E||E===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>O&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(O,1)},onNodeRemoved:wn,addIdentifiers(E){},removeIdentifiers(E){},hoist(E){Le(E)&&(E=Ve(E)),C.hoists.push(E);const _=Ve(`_hoisted_${C.hoists.length}`,!1,E.loc,2);return _.hoisted=E,_},cache(E,_=!1,O=!1){const A=aO(C.cached.length,E,_,O);return C.cached.push(A),A}};return C.filters=new Set,C}function IO(n,e){const t=MO(n,e);Dd(n,t),e.hoistStatic&&q6(n,t),e.ssr||Z6(n,t),n.helpers=new Set([...t.helpers.keys()]),n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.transformed=!0,n.filters=[...t.filters]}function Z6(n,e){const{helper:t}=e,{children:s}=n;if(s.length===1){const r=s[0];if(TO(n,r)&&r.codegenNode){const i=r.codegenNode;i.type===13&&kg(i,e),n.codegenNode=i}else n.codegenNode=r}else if(s.length>1){let r=64;n.codegenNode=Jl(e,t(Gl),void 0,n.children,r,void 0,void 0,!0,void 0,!1)}}function ez(n,e){let t=0;const s=()=>{t--};for(;t<n.children.length;t++){const r=n.children[t];Le(r)||(e.grandParent=e.parent,e.parent=n,e.childIndex=t,e.onNodeRemoved=s,Dd(r,e))}}function Dd(n,e){e.currentNode=n;const{nodeTransforms:t}=e,s=[];for(let i=0;i<t.length;i++){const o=t[i](n,e);if(o&&(ge(o)?s.push(...o):s.push(o)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(cc);break;case 5:e.ssr||e.helper(Md);break;case 9:for(let i=0;i<n.branches.length;i++)Dd(n.branches[i],e);break;case 10:case 11:case 1:case 0:ez(n,e);break}e.currentNode=n;let r=s.length;for(;r--;)s[r]()}function av(n,e){const t=Le(n)?s=>s===n:s=>n.test(s);return(s,r)=>{if(s.type===1){const{props:i}=s;if(s.tagType===3&&i.some(rv))return;const o=[];for(let a=0;a<i.length;a++){const l=i[a];if(l.type===7&&t(l.name)){i.splice(a,1),a--;const c=e(s,l,r);c&&o.push(c)}}return o}}}const _g="/*@__PURE__*/",PO=n=>`${Ma[n]}: _${Ma[n]}`;function tz(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:s=!1,filename:r="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:f=!1}){const h={mode:e,prefixIdentifiers:t,sourceMap:s,filename:r,scopeId:i,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:f,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Ma[g]}`},push(g,m=-2,y){h.code+=g},indent(){p(++h.indentLevel)},deindent(g=!1){g?--h.indentLevel:p(--h.indentLevel)},newline(){p(h.indentLevel)}};function p(g){h.push(`
`+"  ".repeat(g),0)}return h}function DO(n,e={}){const t=tz(n,e);e.onContextCreated&&e.onContextCreated(t);const{mode:s,push:r,prefixIdentifiers:i,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=t,d=Array.from(n.helpers),f=d.length>0,h=!i&&s!=="module";nz(n,t);const g=u?"ssrRender":"render",y=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${y}) {`),o(),h&&(r("with (_ctx) {"),o(),f&&(r(`const { ${d.map(PO).join(", ")} } = _Vue
`,-1),l())),n.components.length&&(Cm(n.components,"component",t),(n.directives.length||n.temps>0)&&l()),n.directives.length&&(Cm(n.directives,"directive",t),n.temps>0&&l()),n.filters&&n.filters.length&&(l(),Cm(n.filters,"filter",t),l()),n.temps>0){r("let ");for(let b=0;b<n.temps;b++)r(`${b>0?", ":""}_temp${b}`)}return(n.components.length||n.directives.length||n.temps)&&(r(`
`,0),l()),u||r("return "),n.codegenNode?qn(n.codegenNode,t):r("null"),h&&(a(),r("}")),a(),r("}"),{ast:n,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function nz(n,e){const{ssr:t,prefixIdentifiers:s,push:r,newline:i,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=Array.from(n.helpers);if(u.length>0&&(r(`const _Vue = ${c}
`,-1),n.hoists.length)){const d=[ug,dg,cc,fg,qb].filter(f=>u.includes(f)).map(PO).join(", ");r(`const { ${d} } = _Vue
`,-1)}sz(n.hoists,e),i(),r("return ")}function Cm(n,e,{helper:t,push:s,newline:r,isTS:i}){const o=t(e==="filter"?mg:e==="component"?hg:gg);for(let a=0;a<n.length;a++){let l=n[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),s(`const ${Ql(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${i?"!":""}`),a<n.length-1&&r()}}function sz(n,e){if(!n.length)return;e.pure=!0;const{push:t,newline:s}=e;s();for(let r=0;r<n.length;r++){const i=n[r];i&&(t(`const _hoisted_${r+1} = `),qn(i,e),s())}e.pure=!1}function lv(n,e){const t=n.length>3||!1;e.push("["),t&&e.indent(),Rd(n,e,t),t&&e.deindent(),e.push("]")}function Rd(n,e,t=!1,s=!0){const{push:r,newline:i}=e;for(let o=0;o<n.length;o++){const a=n[o];Le(a)?r(a,-3):ge(a)?lv(a,e):qn(a,e),o<n.length-1&&(t?(s&&r(","),i()):s&&r(", "))}}function qn(n,e){if(Le(n)){e.push(n,-3);return}if(ds(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:qn(n.codegenNode,e);break;case 2:rz(n,e);break;case 4:RO(n,e);break;case 5:iz(n,e);break;case 12:qn(n.codegenNode,e);break;case 8:NO(n,e);break;case 3:az(n,e);break;case 13:lz(n,e);break;case 14:uz(n,e);break;case 15:dz(n,e);break;case 17:fz(n,e);break;case 18:hz(n,e);break;case 19:pz(n,e);break;case 20:gz(n,e);break;case 21:Rd(n.body,e,!0,!1);break}}function rz(n,e){e.push(JSON.stringify(n.content),-3,n)}function RO(n,e){const{content:t,isStatic:s}=n;e.push(s?JSON.stringify(t):t,-3,n)}function iz(n,e){const{push:t,helper:s,pure:r}=e;r&&t(_g),t(`${s(Md)}(`),qn(n.content,e),t(")")}function NO(n,e){for(let t=0;t<n.children.length;t++){const s=n.children[t];Le(s)?e.push(s,-3):qn(s,e)}}function oz(n,e){const{push:t}=e;if(n.type===8)t("["),NO(n,e),t("]");else if(n.isStatic){const s=Id(n.content)?n.content:JSON.stringify(n.content);t(s,-2,n)}else t(`[${n.content}]`,-3,n)}function az(n,e){const{push:t,helper:s,pure:r}=e;r&&t(_g),t(`${s(cc)}(${JSON.stringify(n.content)})`,-3,n)}function lz(n,e){const{push:t,helper:s,pure:r}=e,{tag:i,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:f,isComponent:h}=n;let p;l&&(p=String(l)),u&&t(s(yg)+"("),d&&t(`(${s(ko)}(${f?"true":""}), `),r&&t(_g);const g=d?Da(e.inSSR,h):Pa(e.inSSR,h);t(s(g)+"(",-2,n),Rd(cz([i,o,a,p,c]),e),t(")"),d&&t(")"),u&&(t(", "),qn(u,e),t(")"))}function cz(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function uz(n,e){const{push:t,helper:s,pure:r}=e,i=Le(n.callee)?n.callee:s(n.callee);r&&t(_g),t(i+"(",-2,n),Rd(n.arguments,e),t(")")}function dz(n,e){const{push:t,indent:s,deindent:r,newline:i}=e,{properties:o}=n;if(!o.length){t("{}",-2,n);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&s();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];oz(c,e),t(": "),qn(u,e),l<o.length-1&&(t(","),i())}a&&r(),t(a?"}":" }")}function fz(n,e){lv(n.elements,e)}function hz(n,e){const{push:t,indent:s,deindent:r}=e,{params:i,returns:o,body:a,newline:l,isSlot:c}=n;c&&t(`_${Ma[Sg]}(`),t("(",-2,n),ge(i)?Rd(i,e):i&&qn(i,e),t(") => "),(l||a)&&(t("{"),s()),o?(l&&t("return "),ge(o)?lv(o,e):qn(o,e)):a&&qn(a,e),(l||a)&&(r(),t("}")),c&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function pz(n,e){const{test:t,consequent:s,alternate:r,newline:i}=n,{push:o,indent:a,deindent:l,newline:c}=e;if(t.type===4){const d=!Id(t.content);d&&o("("),RO(t,e),d&&o(")")}else o("("),qn(t,e),o(")");i&&a(),e.indentLevel++,i||o(" "),o("? "),qn(s,e),e.indentLevel--,i&&c(),i||o(" "),o(": ");const u=r.type===19;u||e.indentLevel++,qn(r,e),u||e.indentLevel--,i&&l(!0)}function gz(n,e){const{push:t,helper:s,indent:r,deindent:i,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=n;l&&t("[...("),t(`_cache[${n.index}] || (`),a&&(r(),t(`${s(qu)}(-1`),n.inVOnce&&t(", true"),t("),"),o(),t("(")),t(`_cache[${n.index}] = `),qn(n.value,e),a&&(t(`).cacheIndex = ${n.index},`),o(),t(`${s(qu)}(1),`),o(),t(`_cache[${n.index}]`),i()),t(")"),l&&t(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const mz=(n,e)=>{if(n.type===5)n.content=rh(n.content,e);else if(n.type===1){const t=ls(n,"memo");for(let s=0;s<n.props.length;s++){const r=n.props[s];if(r.type===7&&r.name!=="for"){const i=r.exp,o=r.arg;i&&i.type===4&&!(r.name==="on"&&o)&&!(t&&o&&o.type===4&&o.content==="key")&&(r.exp=rh(i,e,r.name==="slot")),o&&o.type===4&&!o.isStatic&&(r.arg=rh(o,e))}}}};function rh(n,e,t=!1,s=!1,r=Object.create(e.identifiers)){return n}function LO(n){return Le(n)?n:n.type===4?n.content:n.children.map(LO).join("")}const yz=av(/^(if|else|else-if)$/,(n,e,t)=>$O(n,e,t,(s,r,i)=>{const o=t.parent.children;let a=o.indexOf(s),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(i)s.codegenNode=dS(r,l,t);else{const c=bz(s.codegenNode);c.alternate=dS(r,l+s.branches.length-1,t)}}}));function $O(n,e,t,s){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:n.loc;t.onError(Dt(28,e.loc)),e.exp=Ve("true",!1,r)}if(e.name==="if"){const r=uS(n,e),i={type:9,loc:X6(n.loc),branches:[r]};if(t.replaceNode(i),s)return s(i,r,!0)}else{const r=t.parent.children;let i=r.indexOf(n);for(;i-->=-1;){const o=r[i];if(o&&o.type===3){t.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(Dt(30,n.loc)),t.removeNode();const a=uS(n,e);o.branches.push(a);const l=s&&s(o,a,!1);Dd(a,t),l&&l(),t.currentNode=null}else t.onError(Dt(30,n.loc));break}}}function uS(n,e){const t=n.tagType===3;return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:t&&!ls(n,"for")?n.children:[n],userKey:Pd(n,"key"),isTemplateIf:t}}function dS(n,e,t){return n.condition?Vh(n.condition,fS(n,e,t),on(t.helper(cc),['""',"true"])):fS(n,e,t)}function fS(n,e,t){const{helper:s}=t,r=Zt("key",Ve(`${e}`,!1,gn,2)),{children:i}=n,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const l=o.codegenNode;return Zu(l,r,t),l}else return Jl(t,s(Gl),Ls([r]),i,64,void 0,void 0,!0,!1,!1,n.loc);else{const l=o.codegenNode,c=xO(l);return c.type===13&&kg(c,t),Zu(c,r,t),l}}function bz(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const FO=(n,e,t)=>{const{modifiers:s,loc:r}=n,i=n.arg;let{exp:o}=n;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return t.onError(Dt(52,i.loc)),{props:[Zt(i,Ve("",!0,r))]};jO(n),o=n.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),s.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=It(i.content):i.content=`${t.helperString(jh)}(${i.content})`:(i.children.unshift(`${t.helperString(jh)}(`),i.children.push(")"))),t.inSSR||(s.some(a=>a.content==="prop")&&hS(i,"."),s.some(a=>a.content==="attr")&&hS(i,"^")),{props:[Zt(i,o)]}},jO=(n,e)=>{const t=n.arg,s=It(t.content);n.exp=Ve(s,!1,t.loc)},hS=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},vz=av("for",(n,e,t)=>{const{helper:s,removeHelper:r}=t;return BO(n,e,t,i=>{const o=on(s(bg),[i.source]),a=ql(n),l=ls(n,"memo"),c=Pd(n,"key",!1,!0);c&&c.type===7&&!c.exp&&jO(c);let d=c&&(c.type===6?c.value?Ve(c.value.content,!0):void 0:c.exp);const f=c&&d?Zt("key",d):null,h=i.source.type===4&&i.source.constType>0,p=h?64:c?128:256;return i.codegenNode=Jl(t,s(Gl),void 0,o,p,void 0,void 0,!0,!h,!1,n.loc),()=>{let g;const{children:m}=i,y=m.length!==1||m[0].type!==1,b=Qu(n)?n:a&&n.children.length===1&&Qu(n.children[0])?n.children[0]:null;if(b?(g=b.codegenNode,a&&f&&Zu(g,f,t)):y?g=Jl(t,s(Gl),f?Ls([f]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(g=m[0].codegenNode,a&&f&&Zu(g,f,t),g.isBlock!==!h&&(g.isBlock?(r(ko),r(Da(t.inSSR,g.isComponent))):r(Pa(t.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(s(ko),s(Da(t.inSSR,g.isComponent))):s(Pa(t.inSSR,g.isComponent))),l){const x=Ia(Uh(i.parseResult,[Ve("_cached")]));x.body=lO([Qs(["const _memo = (",l.exp,")"]),Qs(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${t.helperString(ev)}(_cached, _memo)) return _cached`]),Qs(["const _item = ",g]),Ve("_item.memo = _memo"),Ve("return _item")]),o.arguments.push(x,Ve("_cache"),Ve(String(t.cached.length))),t.cached.push(null)}else o.arguments.push(Ia(Uh(i.parseResult),g,!0))}})});function BO(n,e,t,s){if(!e.exp){t.onError(Dt(31,e.loc));return}const r=e.forParseResult;if(!r){t.onError(Dt(32,e.loc));return}cv(r);const{addIdentifiers:i,removeIdentifiers:o,scopes:a}=t,{source:l,value:c,key:u,index:d}=r,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:r,children:ql(n)?n.children:[n]};t.replaceNode(f),a.vFor++;const h=s&&s(f);return()=>{a.vFor--,h&&h()}}function cv(n,e){n.finalized||(n.finalized=!0)}function Uh({value:n,key:e,index:t},s=[]){return xz([n,e,t,...s])}function xz(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,s)=>t||Ve("_".repeat(s+1),!1))}const pS=Ve("undefined",!1),VO=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const t=ls(n,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},wz=(n,e)=>{let t;if(ql(n)&&n.props.some(rv)&&(t=ls(n,"for"))){const s=t.forParseResult;if(s){cv(s);const{value:r,key:i,index:o}=s,{addIdentifiers:a,removeIdentifiers:l}=e;return r&&a(r),i&&a(i),o&&a(o),()=>{r&&l(r),i&&l(i),o&&l(o)}}}},Sz=(n,e,t,s)=>Ia(n,t,!1,!0,t.length?t[0].loc:s);function zO(n,e,t=Sz){e.helper(Sg);const{children:s,loc:r}=n,i=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ls(n,"slot",!0);if(l){const{arg:m,exp:y}=l;m&&!us(m)&&(a=!0),i.push(Zt(m||Ve("default",!0),t(y,void 0,s,r)))}let c=!1,u=!1;const d=[],f=new Set;let h=0;for(let m=0;m<s.length;m++){const y=s[m];let b;if(!ql(y)||!(b=ls(y,"slot",!0))){y.type!==3&&d.push(y);continue}if(l){e.onError(Dt(37,b.loc));break}c=!0;const{children:x,loc:S}=y,{arg:w=Ve("default",!0),exp:k,loc:T}=b;let C;us(w)?C=w?w.content:"default":a=!0;const E=ls(y,"for"),_=t(k,E,x,S);let O,A;if(O=ls(y,"if"))a=!0,o.push(Vh(O.exp,xf(w,_,h++),pS));else if(A=ls(y,/^else(-if)?$/,!0)){let P=m,$;for(;P--&&($=s[P],$.type===3););if($&&ql($)&&ls($,/^(else-)?if$/)){let z=o[o.length-1];for(;z.alternate.type===19;)z=z.alternate;z.alternate=A.exp?Vh(A.exp,xf(w,_,h++),pS):xf(w,_,h++)}else e.onError(Dt(30,A.loc))}else if(E){a=!0;const P=E.forParseResult;P?(cv(P),o.push(on(e.helper(bg),[P.source,Ia(Uh(P),xf(w,_),!0)]))):e.onError(Dt(32,E.loc))}else{if(C){if(f.has(C)){e.onError(Dt(38,T));continue}f.add(C),C==="default"&&(u=!0)}i.push(Zt(w,_))}}if(!l){const m=(y,b)=>{const x=t(y,void 0,b,r);return e.compatConfig&&(x.isNonScopedSlot=!0),Zt("default",x)};c?d.length&&d.some(y=>UO(y))&&(u?e.onError(Dt(39,d[0].loc)):i.push(m(void 0,d))):i.push(m(void 0,s))}const p=a?2:ih(n.children)?3:1;let g=Ls(i.concat(Zt("_",Ve(p+"",!1))),r);return o.length&&(g=on(e.helper(Zb),[g,po(o)])),{slots:g,hasDynamicSlots:a}}function xf(n,e,t){const s=[Zt("name",n),Zt("fn",e)];return t!=null&&s.push(Zt("key",Ve(String(t),!0))),Ls(s)}function ih(n){for(let e=0;e<n.length;e++){const t=n[e];switch(t.type){case 1:if(t.tagType===2||ih(t.children))return!0;break;case 9:if(ih(t.branches))return!0;break;case 10:case 11:if(ih(t.children))return!0;break}}return!1}function UO(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():UO(n.content)}const HO=new WeakMap,WO=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:s,props:r}=n,i=n.tagType===1;let o=i?KO(n,e):`"${s}"`;const a=wt(o)&&o.callee===pg;let l,c,u=0,d,f,h,p=a||o===Sl||o===cg||!i&&(s==="svg"||s==="foreignObject"||s==="math");if(r.length>0){const g=uv(n,e,void 0,i,a);l=g.props,u=g.patchFlag,f=g.dynamicPropNames;const m=g.directives;h=m&&m.length?po(m.map(y=>GO(y,e))):void 0,g.shouldUseBlock&&(p=!0)}if(n.children.length>0)if(o===Ju&&(p=!0,u|=1024),i&&o!==Sl&&o!==Ju){const{slots:m,hasDynamicSlots:y}=zO(n,e);c=m,y&&(u|=1024)}else if(n.children.length===1&&o!==Sl){const m=n.children[0],y=m.type,b=y===5||y===8;b&&Ts(m,e)===0&&(u|=1),b||y===2?c=m:c=n.children}else c=n.children;f&&f.length&&(d=kz(f)),n.codegenNode=Jl(e,o,l,c,u===0?void 0:u,d,h,!!p,!1,i,n.loc)};function KO(n,e,t=!1){let{tag:s}=n;const r=c0(s),i=Pd(n,"is",!1,!0);if(i)if(r||va("COMPILER_IS_ON_ELEMENT",e)){let a;if(i.type===6?a=i.value&&Ve(i.value.content,!0):(a=i.exp,a||(a=Ve("is",!1,i.arg.loc))),a)return on(e.helper(pg),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(s=i.value.content.slice(4));const o=nv(s)||e.isBuiltInComponent(s);return o?(t||e.helper(o),o):(e.helper(hg),e.components.add(s),Ql(s,"component"))}function uv(n,e,t=n.props,s,r,i=!1){const{tag:o,loc:a,children:l}=n;let c=[];const u=[],d=[],f=l.length>0;let h=!1,p=0,g=!1,m=!1,y=!1,b=!1,x=!1,S=!1;const w=[],k=_=>{c.length&&(u.push(Ls(gS(c),a)),c=[]),_&&u.push(_)},T=()=>{e.scopes.vFor>0&&c.push(Zt(Ve("ref_for",!0),Ve("true")))},C=({key:_,value:O})=>{if(us(_)){const A=_.content,P=To(A);if(P&&(!s||r)&&A.toLowerCase()!=="onclick"&&A!=="onUpdate:modelValue"&&!fi(A)&&(b=!0),P&&fi(A)&&(S=!0),P&&O.type===14&&(O=O.arguments[0]),O.type===20||(O.type===4||O.type===8)&&Ts(O,e)>0)return;A==="ref"?g=!0:A==="class"?m=!0:A==="style"?y=!0:A!=="key"&&!w.includes(A)&&w.push(A),s&&(A==="class"||A==="style")&&!w.includes(A)&&w.push(A)}else x=!0};for(let _=0;_<t.length;_++){const O=t[_];if(O.type===6){const{loc:A,name:P,nameLoc:$,value:z}=O;let D=!0;if(P==="ref"&&(g=!0,T()),P==="is"&&(c0(o)||z&&z.content.startsWith("vue:")||va("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Zt(Ve(P,!0,$),Ve(z?z.content:"",D,z?z.loc:A)))}else{const{name:A,arg:P,exp:$,loc:z,modifiers:D}=O,U=A==="bind",J=A==="on";if(A==="slot"){s||e.onError(Dt(40,z));continue}if(A==="once"||A==="memo"||A==="is"||U&&so(P,"is")&&(c0(o)||va("COMPILER_IS_ON_ELEMENT",e))||J&&i)continue;if((U&&so(P,"key")||J&&f&&so(P,"vue:before-update"))&&(h=!0),U&&so(P,"ref")&&T(),!P&&(U||J)){if(x=!0,$)if(U){if(T(),k(),va("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift($);continue}u.push($)}else k({type:14,loc:z,callee:e.helper(wg),arguments:s?[$]:[$,"true"]});else e.onError(Dt(U?34:35,z));continue}U&&D.some(Ge=>Ge.content==="prop")&&(p|=32);const be=e.directiveTransforms[A];if(be){const{props:Ge,needRuntime:ue}=be(O,n,e);!i&&Ge.forEach(C),J&&P&&!us(P)?k(Ls(Ge,a)):c.push(...Ge),ue&&(d.push(O),ds(ue)&&HO.set(O,ue))}else vk(A)||(d.push(O),f&&(h=!0))}}let E;if(u.length?(k(),u.length>1?E=on(e.helper(Yu),u,a):E=u[0]):c.length&&(E=Ls(gS(c),a)),x?p|=16:(m&&!s&&(p|=2),y&&!s&&(p|=4),w.length&&(p|=8),b&&(p|=32)),!h&&(p===0||p===32)&&(g||S||d.length>0)&&(p|=512),!e.inSSR&&E)switch(E.type){case 15:let _=-1,O=-1,A=!1;for(let z=0;z<E.properties.length;z++){const D=E.properties[z].key;us(D)?D.content==="class"?_=z:D.content==="style"&&(O=z):D.isHandlerKey||(A=!0)}const P=E.properties[_],$=E.properties[O];A?E=on(e.helper(Xl),[E]):(P&&!us(P.value)&&(P.value=on(e.helper(vg),[P.value])),$&&(y||$.value.type===4&&$.value.content.trim()[0]==="["||$.value.type===17)&&($.value=on(e.helper(xg),[$.value])));break;case 14:break;default:E=on(e.helper(Xl),[on(e.helper(uc),[E])]);break}return{props:E,directives:d,patchFlag:p,dynamicPropNames:w,shouldUseBlock:h}}function gS(n){const e=new Map,t=[];for(let s=0;s<n.length;s++){const r=n[s];if(r.key.type===8||!r.key.isStatic){t.push(r);continue}const i=r.key.content,o=e.get(i);o?(i==="style"||i==="class"||To(i))&&Ez(o,r):(e.set(i,r),t.push(r))}return t}function Ez(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=po([n.value,e.value],n.loc)}function GO(n,e){const t=[],s=HO.get(n);s?t.push(e.helperString(s)):(e.helper(gg),e.directives.add(n.name),t.push(Ql(n.name,"directive")));const{loc:r}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));const i=Ve("true",!1,r);t.push(Ls(n.modifiers.map(o=>Zt(o,i)),r))}return po(t,n.loc)}function kz(n){let e="[";for(let t=0,s=n.length;t<s;t++)e+=JSON.stringify(n[t]),t<s-1&&(e+=", ");return e+"]"}function c0(n){return n==="component"||n==="Component"}const _z=(n,e)=>{if(Qu(n)){const{children:t,loc:s}=n,{slotName:r,slotProps:i}=XO(n,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;i&&(o[2]=i,a=3),t.length&&(o[3]=Ia([],t,!1,!1,s),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),n.codegenNode=on(e.helper(Qb),o,s)}};function XO(n,e){let t='"default"',s;const r=[];for(let i=0;i<n.props.length;i++){const o=n.props[i];if(o.type===6)o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=It(o.name),r.push(o)));else if(o.name==="bind"&&so(o.arg,"name")){if(o.exp)t=o.exp;else if(o.arg&&o.arg.type===4){const a=It(o.arg.content);t=o.exp=Ve(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&us(o.arg)&&(o.arg.content=It(o.arg.content)),r.push(o)}if(r.length>0){const{props:i,directives:o}=uv(n,e,r,!1,!1);s=i,o.length&&e.onError(Dt(36,o[0].loc))}return{slotName:t,slotProps:s}}const dv=(n,e,t,s)=>{const{loc:r,modifiers:i,arg:o}=n;!n.exp&&!i.length&&t.onError(Dt(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?fa(It(d)):`on:${d}`;a=Ve(f,!0,o.loc)}else a=Qs([`${t.helperString(Bh)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(Bh)}(`),a.children.push(")");let l=n.exp;l&&!l.content.trim()&&(l=void 0);let c=t.cacheHandlers&&!l&&!t.inVOnce;if(l){const d=sv(l),f=!(d||mO(l)),h=l.content.includes(";");(f||c&&d)&&(l=Qs([`${f?"$event":"(...args)"} => ${h?"{":"("}`,l,h?"}":")"]))}let u={props:[Zt(a,l||Ve("() => {}",!1,r))]};return s&&(u=s(u)),c&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(d=>d.key.isHandlerKey=!0),u},Tz=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const t=n.children;let s,r=!1;for(let i=0;i<t.length;i++){const o=t[i];if(eh(o)){r=!0;for(let a=i+1;a<t.length;a++){const l=t[a];if(eh(l))s||(s=t[i]=Qs([o],o.loc)),s.children.push(" + ",l),t.splice(a,1),a--;else{s=void 0;break}}}}if(!(!r||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&n.tag!=="template")))for(let i=0;i<t.length;i++){const o=t[i];if(eh(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ts(o,e)===0&&a.push("1"),t[i]={type:12,content:o,loc:o.loc,codegenNode:on(e.helper(fg),a)}}}}},mS=new WeakSet,Cz=(n,e)=>{if(n.type===1&&ls(n,"once",!0))return mS.has(n)||e.inVOnce||e.inSSR?void 0:(mS.add(n),e.inVOnce=!0,e.helper(qu),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0,!0))})},fv=(n,e,t)=>{const{exp:s,arg:r}=n;if(!s)return t.onError(Dt(41,n.loc)),wf();const i=s.loc.source.trim(),o=s.type===4?s.content:i,a=t.bindingMetadata[i];if(a==="props"||a==="props-aliased")return t.onError(Dt(44,s.loc)),wf();if(!o.trim()||!sv(s))return t.onError(Dt(42,s.loc)),wf();const l=r||Ve("modelValue",!0),c=r?us(r)?`onUpdate:${It(r.content)}`:Qs(['"onUpdate:" + ',r]):"onUpdate:modelValue";let u;const d=t.isTS?"($event: any)":"$event";u=Qs([`${d} => ((`,s,") = $event)"]);const f=[Zt(l,n.exp),Zt(c,u)];if(n.modifiers.length&&e.tagType===1){const h=n.modifiers.map(g=>g.content).map(g=>(Id(g)?g:JSON.stringify(g))+": true").join(", "),p=r?us(r)?`${r.content}Modifiers`:Qs([r,' + "Modifiers"']):"modelModifiers";f.push(Zt(p,Ve(`{ ${h} }`,!1,n.loc,2)))}return wf(f)};function wf(n=[]){return{props:n}}const Oz=/[\w).+\-_$\]]/,Az=(n,e)=>{va("COMPILER_FILTERS",e)&&(n.type===5?Hh(n.content,e):n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&Hh(t.exp,e)}))};function Hh(n,e){if(n.type===4)yS(n,e);else for(let t=0;t<n.children.length;t++){const s=n.children[t];typeof s=="object"&&(s.type===4?yS(s,e):s.type===8?Hh(n,e):s.type===5&&Hh(s.content,e))}}function yS(n,e){const t=n.content;let s=!1,r=!1,i=!1,o=!1,a=0,l=0,c=0,u=0,d,f,h,p,g=[];for(h=0;h<t.length;h++)if(f=d,d=t.charCodeAt(h),s)d===39&&f!==92&&(s=!1);else if(r)d===34&&f!==92&&(r=!1);else if(i)d===96&&f!==92&&(i=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&t.charCodeAt(h+1)!==124&&t.charCodeAt(h-1)!==124&&!a&&!l&&!c)p===void 0?(u=h+1,p=t.slice(0,h).trim()):m();else{switch(d){case 34:r=!0;break;case 39:s=!0;break;case 96:i=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let y=h-1,b;for(;y>=0&&(b=t.charAt(y),b===" ");y--);(!b||!Oz.test(b))&&(o=!0)}}p===void 0?p=t.slice(0,h).trim():u!==0&&m();function m(){g.push(t.slice(u,h).trim()),u=h+1}if(g.length){for(h=0;h<g.length;h++)p=Mz(p,g[h],e);n.content=p,n.ast=void 0}}function Mz(n,e,t){t.helper(mg);const s=e.indexOf("(");if(s<0)return t.filters.add(e),`${Ql(e,"filter")}(${n})`;{const r=e.slice(0,s),i=e.slice(s+1);return t.filters.add(r),`${Ql(r,"filter")}(${n}${i!==")"?","+i:i}`}}const bS=new WeakSet,Iz=(n,e)=>{if(n.type===1){const t=ls(n,"memo");return!t||bS.has(n)?void 0:(bS.add(n),()=>{const s=n.codegenNode||e.currentNode.codegenNode;s&&s.type===13&&(n.tagType!==1&&kg(s,e),n.codegenNode=on(e.helper(Eg),[t.exp,Ia(void 0,s),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function JO(n){return[[Cz,yz,Iz,vz,Az,_z,WO,VO,Tz],{on:dv,bind:FO,model:fv}]}function YO(n,e={}){const t=e.onError||tv,s=e.mode==="module";e.prefixIdentifiers===!0?t(Dt(47)):s&&t(Dt(48));const r=!1;e.cacheHandlers&&t(Dt(49)),e.scopeId&&!s&&t(Dt(50));const i=rt({},e,{prefixIdentifiers:r}),o=Le(n)?ov(n,i):n,[a,l]=JO();return IO(o,rt({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:rt({},l,e.directiveTransforms||{})})),DO(o,i)}const Pz={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},qO=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hv=Symbol(""),pv=Symbol(""),gv=Symbol(""),mv=Symbol(""),Wh=Symbol(""),yv=Symbol(""),bv=Symbol(""),vv=Symbol(""),xv=Symbol(""),wv=Symbol("");iO({[hv]:"vModelRadio",[pv]:"vModelCheckbox",[gv]:"vModelText",[mv]:"vModelSelect",[Wh]:"vModelDynamic",[yv]:"withModifiers",[bv]:"withKeys",[vv]:"vShow",[xv]:"Transition",[wv]:"TransitionGroup"});let el;function Dz(n,e=!1){return el||(el=document.createElement("div")),e?(el.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,el.children[0].getAttribute("foo")):(el.innerHTML=n,el.textContent)}const Sv={parseMode:"html",isVoidTag:_k,isNativeTag:n=>Sk(n)||Ek(n)||kk(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:Dz,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return xv;if(n==="TransitionGroup"||n==="transition-group")return wv},getNamespace(n,e,t){let s=e?e.ns:t;if(e&&s===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(s=0);else e&&s===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(s=0);if(s===0){if(n==="svg")return 1;if(n==="math")return 2}return s}},QO=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:Ve("style",!0,e.loc),exp:Rz(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Rz=(n,e)=>{const t=X0(n);return Ve(JSON.stringify(t),!1,e,3)};function pi(n,e){return Dt(n,e)}const Nz={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Lz={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},$z=(n,e,t)=>{const{exp:s,loc:r}=n;return s||t.onError(pi(53,r)),e.children.length&&(t.onError(pi(54,r)),e.children.length=0),{props:[Zt(Ve("innerHTML",!0,r),s||Ve("",!0))]}},Fz=(n,e,t)=>{const{exp:s,loc:r}=n;return s||t.onError(pi(55,r)),e.children.length&&(t.onError(pi(56,r)),e.children.length=0),{props:[Zt(Ve("textContent",!0),s?Ts(s,t)>0?s:on(t.helperString(Md),[s],r):Ve("",!0))]}},jz=(n,e,t)=>{const s=fv(n,e,t);if(!s.props.length||e.tagType===1)return s;n.arg&&t.onError(pi(58,n.arg.loc));const{tag:r}=e,i=t.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||i){let o=gv,a=!1;if(r==="input"||i){const l=Pd(e,"type");if(l){if(l.type===7)o=Wh;else if(l.value)switch(l.value.content){case"radio":o=hv;break;case"checkbox":o=pv;break;case"file":a=!0,t.onError(pi(59,n.loc));break}}else bO(e)&&(o=Wh)}else r==="select"&&(o=mv);a||(s.needRuntime=t.helper(o))}else t.onError(pi(57,n.loc));return s.props=s.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),s},Bz=Tn("passive,once,capture"),Vz=Tn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),zz=Tn("left,right"),ZO=Tn("onkeyup,onkeydown,onkeypress"),Uz=(n,e,t,s)=>{const r=[],i=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&Yl("COMPILER_V_ON_NATIVE",t)||Bz(l)?o.push(l):zz(l)?us(n)?ZO(n.content.toLowerCase())?r.push(l):i.push(l):(r.push(l),i.push(l)):Vz(l)?i.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:i,eventOptionModifiers:o}},vS=(n,e)=>us(n)&&n.content.toLowerCase()==="onclick"?Ve(e,!0):n.type!==4?Qs(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,Hz=(n,e,t)=>dv(n,e,t,s=>{const{modifiers:r}=n;if(!r.length)return s;let{key:i,value:o}=s.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Uz(i,r,t,n.loc);if(l.includes("right")&&(i=vS(i,"onContextmenu")),l.includes("middle")&&(i=vS(i,"onMouseup")),l.length&&(o=on(t.helper(yv),[o,JSON.stringify(l)])),a.length&&(!us(i)||ZO(i.content.toLowerCase()))&&(o=on(t.helper(bv),[o,JSON.stringify(a)])),c.length){const u=c.map(Oo).join("");i=us(i)?Ve(`${i.content}${u}`,!0):Qs(["(",i,`) + "${u}"`])}return{props:[Zt(i,o)]}}),Wz=(n,e,t)=>{const{exp:s,loc:r}=n;return s||t.onError(pi(61,r)),{props:[],needRuntime:t.helper(vv)}},Kz=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&e.removeNode()},eA=[QO],tA={cloak:qO,html:$z,text:Fz,model:jz,on:Hz,show:Wz};function Gz(n,e={}){return YO(n,rt({},Sv,e,{nodeTransforms:[Kz,...eA,...e.nodeTransforms||[]],directiveTransforms:rt({},tA,e.directiveTransforms||{}),transformHoist:null}))}function Xz(n,e={}){return ov(n,rt({},Sv,e))}const Jz=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Xb,BindingTypes:Pz,CAMELIZE:jh,CAPITALIZE:eO,CREATE_BLOCK:Jb,CREATE_COMMENT:cc,CREATE_ELEMENT_BLOCK:Yb,CREATE_ELEMENT_VNODE:dg,CREATE_SLOTS:Zb,CREATE_STATIC:qb,CREATE_TEXT:fg,CREATE_VNODE:ug,CompilerDeprecationTypes:p6,ConstantTypes:o6,DOMDirectiveTransforms:tA,DOMErrorCodes:Nz,DOMErrorMessages:Lz,DOMNodeTransforms:eA,ElementTypes:i6,ErrorCodes:y6,FRAGMENT:Gl,GUARD_REACTIVE_PROPS:uc,IS_MEMO_SAME:ev,IS_REF:rO,KEEP_ALIVE:Ju,MERGE_PROPS:Yu,NORMALIZE_CLASS:vg,NORMALIZE_PROPS:Xl,NORMALIZE_STYLE:xg,Namespaces:s6,NodeTypes:r6,OPEN_BLOCK:ko,POP_SCOPE_ID:nO,PUSH_SCOPE_ID:tO,RENDER_LIST:bg,RENDER_SLOT:Qb,RESOLVE_COMPONENT:hg,RESOLVE_DIRECTIVE:gg,RESOLVE_DYNAMIC_COMPONENT:pg,RESOLVE_FILTER:mg,SET_BLOCK_TRACKING:qu,SUSPENSE:cg,TELEPORT:Sl,TO_DISPLAY_STRING:Md,TO_HANDLERS:wg,TO_HANDLER_KEY:Bh,TRANSITION:xv,TRANSITION_GROUP:wv,TS_NODE_TYPES:dO,UNREF:sO,V_MODEL_CHECKBOX:pv,V_MODEL_DYNAMIC:Wh,V_MODEL_RADIO:hv,V_MODEL_SELECT:mv,V_MODEL_TEXT:gv,V_ON_WITH_KEYS:bv,V_ON_WITH_MODIFIERS:yv,V_SHOW:vv,WITH_CTX:Sg,WITH_DIRECTIVES:yg,WITH_MEMO:Eg,advancePositionWithClone:L6,advancePositionWithMutation:yO,assert:$6,baseCompile:YO,baseParse:ov,buildDirectiveArgs:GO,buildProps:uv,buildSlots:zO,checkCompatEnabled:Yl,compile:Gz,convertToBlock:kg,createArrayExpression:po,createAssignmentExpression:u6,createBlockStatement:lO,createCacheExpression:aO,createCallExpression:on,createCompilerError:Dt,createCompoundExpression:Qs,createConditionalExpression:Vh,createDOMCompilerError:pi,createForLoopParams:Uh,createFunctionExpression:Ia,createIfStatement:c6,createInterpolation:a6,createObjectExpression:Ls,createObjectProperty:Zt,createReturnStatement:f6,createRoot:oO,createSequenceExpression:d6,createSimpleExpression:Ve,createStructuralDirectiveTransform:av,createTemplateLiteral:l6,createTransformContext:MO,createVNodeCall:Jl,errorMessages:b6,extractIdentifiers:ai,findDir:ls,findProp:Pd,forAliasRE:wO,generate:DO,generateCodeFrame:xk,getBaseTransformPreset:JO,getConstantType:Ts,getMemoedVNodeCall:xO,getVNodeBlockHelper:Da,getVNodeHelper:Pa,hasDynamicKeyVBind:bO,hasScopeRef:ir,helperNameMap:Ma,injectProp:Zu,isCoreComponent:nv,isFnExpression:mO,isFnExpressionBrowser:gO,isFnExpressionNode:N6,isFunctionType:C6,isInDestructureAssignment:w6,isInNewExpression:S6,isMemberExpression:sv,isMemberExpressionBrowser:pO,isMemberExpressionNode:D6,isReferencedIdentifier:x6,isSimpleIdentifier:Id,isSlotOutlet:Qu,isStaticArgOf:so,isStaticExp:us,isStaticProperty:uO,isStaticPropertyKey:O6,isTemplateNode:ql,isText:eh,isVSlot:rv,locStub:gn,noopDirectiveTransform:qO,parse:Xz,parserOptions:Sv,processExpression:rh,processFor:BO,processIf:$O,processSlotOutlet:XO,registerRuntimeHelpers:iO,resolveComponentType:KO,stringifyExpression:LO,toValidAssetId:Ql,trackSlotScopes:VO,trackVForSlotScopes:wz,transform:IO,transformBind:FO,transformElement:WO,transformExpression:mz,transformModel:fv,transformOn:dv,transformStyle:QO,traverseNode:Dd,unwrapTSNode:fO,walkBlockDeclarations:k6,walkFunctionParams:E6,walkIdentifiers:v6,warnDeprecation:m6},Symbol.toStringTag,{value:"Module"})),Yz=kd(Jz),qz=kd(ER),Qz=kd(o2);/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var xS;function Zz(){return xS||(xS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Yz,t=qz,s=Qz;function r(l){var c=Object.create(null);if(l)for(var u in l)c[u]=l[u];return c.default=l,Object.freeze(c)}var i=r(t);const o=Object.create(null);function a(l,c){if(!s.isString(l))if(l.nodeType)l=l.innerHTML;else return s.NOOP;const u=s.genCacheKey(l,c),d=o[u];if(d)return d;if(l[0]==="#"){const g=document.querySelector(l);l=g?g.innerHTML:""}const f=s.extend({hoistStatic:!0,onError:void 0,onWarn:s.NOOP},c);!f.isCustomElement&&typeof customElements<"u"&&(f.isCustomElement=g=>!!customElements.get(g));const{code:h}=e.compile(l,f),p=new Function("Vue",h)(i);return p._rc=!0,o[u]=p}t.registerRuntimeCompiler(a),n.compile=a,Object.keys(t).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&(n[l]=t[l])})}(Tm)),Tm}var wS;function eU(){return wS||(wS=1,_m.exports=Zz()),_m.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function SS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function Lr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(t),!0).forEach(function(s){tU(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SS(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function oh(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oh=function(e){return typeof e}:oh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(n)}function tU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nr(){return nr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},nr.apply(this,arguments)}function nU(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function sU(n,e){if(n==null)return{};var t=nU(n,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function rU(n){return iU(n)||oU(n)||aU(n)||lU()}function iU(n){if(Array.isArray(n))return u0(n)}function oU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function aU(n,e){if(n){if(typeof n=="string")return u0(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u0(n,e)}}function u0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function lU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cU="1.14.0";function gi(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Ei=gi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Nd=gi(/Edge/i),ES=gi(/firefox/i),hu=gi(/safari/i)&&!gi(/chrome/i)&&!gi(/android/i),nA=gi(/iP(ad|od|hone)/i),uU=gi(/chrome/i)&&gi(/android/i),sA={capture:!1,passive:!1};function it(n,e,t){n.addEventListener(e,t,!Ei&&sA)}function tt(n,e,t){n.removeEventListener(e,t,!Ei&&sA)}function Kh(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function dU(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ur(n,e,t,s){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Kh(n,e):Kh(n,e))||s&&n===t)return n;if(n===t)break}while(n=dU(n))}return null}var kS=/\s+/g;function Ut(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var s=(" "+n.className+" ").replace(kS," ").replace(" "+e+" "," ");n.className=(s+(t?" "+e:"")).replace(kS," ")}}function Se(n,e,t){var s=n&&n.style;if(s){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=t+(typeof t=="string"?"":"px")}}function xa(n,e){var t="";if(typeof n=="string")t=n;else do{var s=Se(n,"transform");s&&s!=="none"&&(t=s+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function rA(n,e,t){if(n){var s=n.getElementsByTagName(e),r=0,i=s.length;if(t)for(;r<i;r++)t(s[r],r);return s}return[]}function Rr(){var n=document.scrollingElement;return n||document.documentElement}function Ft(n,e,t,s,r){if(!(!n.getBoundingClientRect&&n!==window)){var i,o,a,l,c,u,d;if(n!==window&&n.parentNode&&n!==Rr()?(i=n.getBoundingClientRect(),o=i.top,a=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!Ei))do if(r&&r.getBoundingClientRect&&(Se(r,"transform")!=="none"||t&&Se(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(Se(r,"border-top-width")),a-=f.left+parseInt(Se(r,"border-left-width")),l=o+i.height,c=a+i.width;break}while(r=r.parentNode);if(s&&n!==window){var h=xa(r||n),p=h&&h.a,g=h&&h.d;h&&(o/=g,a/=p,d/=p,u/=g,l=o+u,c=a+d)}return{top:o,left:a,bottom:l,right:c,width:d,height:u}}}function _S(n,e,t){for(var s=ro(n,!0),r=Ft(n)[e];s;){var i=Ft(s)[t],o=void 0;if(o=r>=i,!o)return s;if(s===Rr())break;s=ro(s,!1)}return!1}function Zl(n,e,t,s){for(var r=0,i=0,o=n.children;i<o.length;){if(o[i].style.display!=="none"&&o[i]!==Ne.ghost&&(s||o[i]!==Ne.dragged)&&ur(o[i],t.draggable,n,!1)){if(r===e)return o[i];r++}i++}return null}function Ev(n,e){for(var t=n.lastElementChild;t&&(t===Ne.ghost||Se(t,"display")==="none"||e&&!Kh(t,e));)t=t.previousElementSibling;return t||null}function Jt(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Ne.clone&&(!e||Kh(n,e))&&t++;return t}function TS(n){var e=0,t=0,s=Rr();if(n)do{var r=xa(n),i=r.a,o=r.d;e+=n.scrollLeft*i,t+=n.scrollTop*o}while(n!==s&&(n=n.parentNode));return[e,t]}function fU(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===n[t][s])return Number(t)}return-1}function ro(n,e){if(!n||!n.getBoundingClientRect)return Rr();var t=n,s=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=Se(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Rr();if(s||e)return t;s=!0}}while(t=t.parentNode);return Rr()}function hU(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Om(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var pu;function iA(n,e){return function(){if(!pu){var t=arguments,s=this;t.length===1?n.call(s,t[0]):n.apply(s,t),pu=setTimeout(function(){pu=void 0},e)}}}function pU(){clearTimeout(pu),pu=void 0}function oA(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function kv(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function CS(n,e){Se(n,"position","absolute"),Se(n,"top",e.top),Se(n,"left",e.left),Se(n,"width",e.width),Se(n,"height",e.height)}function Am(n){Se(n,"position",""),Se(n,"top",""),Se(n,"left",""),Se(n,"width",""),Se(n,"height","")}var Kn="Sortable"+new Date().getTime();function gU(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(r){if(!(Se(r,"display")==="none"||r===Ne.ghost)){n.push({target:r,rect:Ft(r)});var i=Lr({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=xa(r,!0);o&&(i.top-=o.f,i.left-=o.e)}r.fromRect=i}})}},addAnimationState:function(s){n.push(s)},removeAnimationState:function(s){n.splice(fU(n,{target:s}),1)},animateAll:function(s){var r=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var i=!1,o=0;n.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=Ft(c),f=c.prevFromRect,h=c.prevToRect,p=a.rect,g=xa(c,!0);g&&(d.top-=g.f,d.left-=g.e),c.toRect=d,c.thisAnimationDuration&&Om(f,d)&&!Om(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=yU(p,f,h,r.options)),Om(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=r.options.animation),r.animate(c,p,d,l)),l&&(i=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),n=[]},animate:function(s,r,i,o){if(o){Se(s,"transition",""),Se(s,"transform","");var a=xa(this.el),l=a&&a.a,c=a&&a.d,u=(r.left-i.left)/(l||1),d=(r.top-i.top)/(c||1);s.animatingX=!!u,s.animatingY=!!d,Se(s,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=mU(s),Se(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Se(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Se(s,"transition",""),Se(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function mU(n){return n.offsetWidth}function yU(n,e,t,s){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*s.animation}var tl=[],Mm={initializeByDefault:!0},Ld={mount:function(e){for(var t in Mm)Mm.hasOwnProperty(t)&&!(t in e)&&(e[t]=Mm[t]);tl.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),tl.push(e)},pluginEvent:function(e,t,s){var r=this;this.eventCanceled=!1,s.cancel=function(){r.eventCanceled=!0};var i=e+"Global";tl.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](Lr({sortable:t},s)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Lr({sortable:t},s)))})},initializePlugins:function(e,t,s,r){tl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,nr(s,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);typeof o<"u"&&(e.options[i]=o)}},getEventProperties:function(e,t){var s={};return tl.forEach(function(r){typeof r.eventProperties=="function"&&nr(s,r.eventProperties.call(t[r.pluginName],e))}),s},modifyOption:function(e,t,s){var r;return tl.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(r=i.optionListeners[t].call(e[i.pluginName],s))}),r}};function Uc(n){var e=n.sortable,t=n.rootEl,s=n.name,r=n.targetEl,i=n.cloneEl,o=n.toEl,a=n.fromEl,l=n.oldIndex,c=n.newIndex,u=n.oldDraggableIndex,d=n.newDraggableIndex,f=n.originalEvent,h=n.putSortable,p=n.extraEventProperties;if(e=e||t&&t[Kn],!!e){var g,m=e.options,y="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Ei&&!Nd?g=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(s,!0,!0)),g.to=o||t,g.from=a||t,g.item=r||t,g.clone=i,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=h?h.lastPutMode:void 0;var b=Lr(Lr({},p),Ld.getEventProperties(s,e));for(var x in b)g[x]=b[x];t&&t.dispatchEvent(g),m[y]&&m[y].call(e,g)}}var bU=["evt"],vs=function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=s.evt,i=sU(s,bU);Ld.pluginEvent.bind(Ne)(e,t,Lr({dragEl:ce,parentEl:Kt,ghostEl:He,rootEl:Lt,nextEl:Jo,lastDownEl:ah,cloneEl:Gt,cloneHidden:Wi,dragStarted:Hc,putSortable:An,activeSortable:Ne.active,originalEvent:r,oldIndex:gl,oldDraggableIndex:gu,newIndex:Is,newDraggableIndex:Bi,hideGhostForTarget:uA,unhideGhostForTarget:dA,cloneNowHidden:function(){Wi=!0},cloneNowShown:function(){Wi=!1},dispatchSortableEvent:function(a){ns({sortable:t,name:a,originalEvent:r})}},i))};function ns(n){Uc(Lr({putSortable:An,cloneEl:Gt,targetEl:ce,rootEl:Lt,oldIndex:gl,oldDraggableIndex:gu,newIndex:Is,newDraggableIndex:Bi},n))}var ce,Kt,He,Lt,Jo,ah,Gt,Wi,gl,Is,gu,Bi,Sf,An,cl=!1,Gh=!1,Xh=[],zo,sr,Im,Pm,OS,AS,Hc,nl,mu,yu=!1,Ef=!1,lh,$n,Dm=[],d0=!1,Jh=[],Tg=typeof document<"u",kf=nA,MS=Nd||Ei?"cssFloat":"float",vU=Tg&&!uU&&!nA&&"draggable"in document.createElement("div"),aA=function(){if(Tg){if(Ei)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),lA=function(e,t){var s=Se(e),r=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),i=Zl(e,0,t),o=Zl(e,1,t),a=i&&Se(i),l=o&&Se(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ft(i).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ft(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&s[MS]==="none"||o&&s[MS]==="none"&&c+u>r)?"vertical":"horizontal"},xU=function(e,t,s){var r=s?e.left:e.top,i=s?e.right:e.bottom,o=s?e.width:e.height,a=s?t.left:t.top,l=s?t.right:t.bottom,c=s?t.width:t.height;return r===a||i===l||r+o/2===a+c/2},wU=function(e,t){var s;return Xh.some(function(r){var i=r[Kn].options.emptyInsertThreshold;if(!(!i||Ev(r))){var o=Ft(r),a=e>=o.left-i&&e<=o.right+i,l=t>=o.top-i&&t<=o.bottom+i;if(a&&l)return s=r}}),s},cA=function(e){function t(i,o){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(i==null&&(o||d))return!0;if(i==null||i===!1)return!1;if(o&&i==="clone")return i;if(typeof i=="function")return t(i(a,l,c,u),o)(a,l,c,u);var f=(o?a:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var s={},r=e.group;(!r||oh(r)!="object")&&(r={name:r}),s.name=r.name,s.checkPull=t(r.pull,!0),s.checkPut=t(r.put),s.revertClone=r.revertClone,e.group=s},uA=function(){!aA&&He&&Se(He,"display","none")},dA=function(){!aA&&He&&Se(He,"display","")};Tg&&document.addEventListener("click",function(n){if(Gh)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Gh=!1,!1},!0);var Uo=function(e){if(ce){e=e.touches?e.touches[0]:e;var t=wU(e.clientX,e.clientY);if(t){var s={};for(var r in e)e.hasOwnProperty(r)&&(s[r]=e[r]);s.target=s.rootEl=t,s.preventDefault=void 0,s.stopPropagation=void 0,t[Kn]._onDragOver(s)}}},SU=function(e){ce&&ce.parentNode[Kn]._isOutsideThisEl(e.target)};function Ne(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=nr({},e),n[Kn]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lA(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ne.supportPointer!==!1&&"PointerEvent"in window&&!hu,emptyInsertThreshold:5};Ld.initializePlugins(this,n,t);for(var s in t)!(s in e)&&(e[s]=t[s]);cA(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:vU,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?it(n,"pointerdown",this._onTapStart):(it(n,"mousedown",this._onTapStart),it(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(it(n,"dragover",this),it(n,"dragenter",this)),Xh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),nr(this,gU())}Ne.prototype={constructor:Ne,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(nl=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,ce):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,s=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=r.filter;if(MU(s),!ce&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&hu&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ur(l,r.draggable,s,!1),!(l&&l.animated)&&ah!==l)){if(gl=Jt(l),gu=Jt(l,r.draggable),typeof u=="function"){if(u.call(this,e,l,this)){ns({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),vs("filter",t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=ur(c,d.trim(),s,!1),d)return ns({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:s,toEl:s}),vs("filter",t,{evt:e}),!0}),u)){i&&e.cancelable&&e.preventDefault();return}r.handle&&!ur(c,r.handle,s,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,s){var r=this,i=r.el,o=r.options,a=i.ownerDocument,l;if(s&&!ce&&s.parentNode===i){var c=Ft(s);if(Lt=i,ce=s,Kt=ce.parentNode,Jo=ce.nextSibling,ah=s,Sf=o.group,Ne.dragged=ce,zo={target:ce,clientX:(t||e).clientX,clientY:(t||e).clientY},OS=zo.clientX-c.left,AS=zo.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ce.style["will-change"]="all",l=function(){if(vs("delayEnded",r,{evt:e}),Ne.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ES&&r.nativeDraggable&&(ce.draggable=!0),r._triggerDragStart(e,t),ns({sortable:r,name:"choose",originalEvent:e}),Ut(ce,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){rA(ce,u.trim(),Rm)}),it(a,"dragover",Uo),it(a,"mousemove",Uo),it(a,"touchmove",Uo),it(a,"mouseup",r._onDrop),it(a,"touchend",r._onDrop),it(a,"touchcancel",r._onDrop),ES&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ce.draggable=!0),vs("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Nd||Ei))){if(Ne.eventCanceled){this._onDrop();return}it(a,"mouseup",r._disableDelayedDrag),it(a,"touchend",r._disableDelayedDrag),it(a,"touchcancel",r._disableDelayedDrag),it(a,"mousemove",r._delayedDragTouchMoveHandler),it(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&it(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ce&&Rm(ce),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;tt(e,"mouseup",this._disableDelayedDrag),tt(e,"touchend",this._disableDelayedDrag),tt(e,"touchcancel",this._disableDelayedDrag),tt(e,"mousemove",this._delayedDragTouchMoveHandler),tt(e,"touchmove",this._delayedDragTouchMoveHandler),tt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?it(document,"pointermove",this._onTouchMove):t?it(document,"touchmove",this._onTouchMove):it(document,"mousemove",this._onTouchMove):(it(ce,"dragend",this),it(Lt,"dragstart",this._onDragStart));try{document.selection?ch(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(cl=!1,Lt&&ce){vs("dragStarted",this,{evt:t}),this.nativeDraggable&&it(document,"dragover",SU);var s=this.options;!e&&Ut(ce,s.dragClass,!1),Ut(ce,s.ghostClass,!0),Ne.active=this,e&&this._appendGhost(),ns({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(sr){this._lastX=sr.clientX,this._lastY=sr.clientY,uA();for(var e=document.elementFromPoint(sr.clientX,sr.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(sr.clientX,sr.clientY),e!==t);)t=e;if(ce.parentNode[Kn]._isOutsideThisEl(e),t)do{if(t[Kn]){var s=void 0;if(s=t[Kn]._onDragOver({clientX:sr.clientX,clientY:sr.clientY,target:e,rootEl:t}),s&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);dA()}},_onTouchMove:function(e){if(zo){var t=this.options,s=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=He&&xa(He,!0),a=He&&o&&o.a,l=He&&o&&o.d,c=kf&&$n&&TS($n),u=(i.clientX-zo.clientX+r.x)/(a||1)+(c?c[0]-Dm[0]:0)/(a||1),d=(i.clientY-zo.clientY+r.y)/(l||1)+(c?c[1]-Dm[1]:0)/(l||1);if(!Ne.active&&!cl){if(s&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(He){o?(o.e+=u-(Im||0),o.f+=d-(Pm||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Se(He,"webkitTransform",f),Se(He,"mozTransform",f),Se(He,"msTransform",f),Se(He,"transform",f),Im=u,Pm=d,sr=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!He){var e=this.options.fallbackOnBody?document.body:Lt,t=Ft(ce,!0,kf,!0,e),s=this.options;if(kf){for($n=e;Se($n,"position")==="static"&&Se($n,"transform")==="none"&&$n!==document;)$n=$n.parentNode;$n!==document.body&&$n!==document.documentElement?($n===document&&($n=Rr()),t.top+=$n.scrollTop,t.left+=$n.scrollLeft):$n=Rr(),Dm=TS($n)}He=ce.cloneNode(!0),Ut(He,s.ghostClass,!1),Ut(He,s.fallbackClass,!0),Ut(He,s.dragClass,!0),Se(He,"transition",""),Se(He,"transform",""),Se(He,"box-sizing","border-box"),Se(He,"margin",0),Se(He,"top",t.top),Se(He,"left",t.left),Se(He,"width",t.width),Se(He,"height",t.height),Se(He,"opacity","0.8"),Se(He,"position",kf?"absolute":"fixed"),Se(He,"zIndex","100000"),Se(He,"pointerEvents","none"),Ne.ghost=He,e.appendChild(He),Se(He,"transform-origin",OS/parseInt(He.style.width)*100+"% "+AS/parseInt(He.style.height)*100+"%")}},_onDragStart:function(e,t){var s=this,r=e.dataTransfer,i=s.options;if(vs("dragStart",this,{evt:e}),Ne.eventCanceled){this._onDrop();return}vs("setupClone",this),Ne.eventCanceled||(Gt=kv(ce),Gt.draggable=!1,Gt.style["will-change"]="",this._hideClone(),Ut(Gt,this.options.chosenClass,!1),Ne.clone=Gt),s.cloneId=ch(function(){vs("clone",s),!Ne.eventCanceled&&(s.options.removeCloneOnHide||Lt.insertBefore(Gt,ce),s._hideClone(),ns({sortable:s,name:"clone"}))}),!t&&Ut(ce,i.dragClass,!0),t?(Gh=!0,s._loopId=setInterval(s._emulateDragOver,50)):(tt(document,"mouseup",s._onDrop),tt(document,"touchend",s._onDrop),tt(document,"touchcancel",s._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(s,r,ce)),it(document,"drop",s),Se(ce,"transform","translateZ(0)")),cl=!0,s._dragStartId=ch(s._dragStarted.bind(s,t,e)),it(document,"selectstart",s),Hc=!0,hu&&Se(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,s=e.target,r,i,o,a=this.options,l=a.group,c=Ne.active,u=Sf===l,d=a.sort,f=An||c,h,p=this,g=!1;if(d0)return;function m(J,be){vs(J,p,Lr({evt:e,isOwner:u,axis:h?"vertical":"horizontal",revert:o,dragRect:r,targetRect:i,canSort:d,fromSortable:f,target:s,completed:b,onMove:function(ue,G){return _f(Lt,t,ce,r,ue,Ft(ue),e,G)},changed:x},be))}function y(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function b(J){return m("dragOverCompleted",{insertion:J}),J&&(u?c._hideClone():c._showClone(p),p!==f&&(Ut(ce,An?An.options.ghostClass:c.options.ghostClass,!1),Ut(ce,a.ghostClass,!0)),An!==p&&p!==Ne.active?An=p:p===Ne.active&&An&&(An=null),f===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===ce&&!ce.animated||s===t&&!s.animated)&&(nl=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(ce.parentNode[Kn]._isOutsideThisEl(e.target),!J&&Uo(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function x(){Is=Jt(ce),Bi=Jt(ce,a.draggable),ns({sortable:p,name:"change",toEl:t,newIndex:Is,newDraggableIndex:Bi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=ur(s,a.draggable,t,!0),m("dragOver"),Ne.eventCanceled)return g;if(ce.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return b(!1);if(Gh=!1,c&&!a.disabled&&(u?d||(o=Kt!==Lt):An===this||(this.lastPutMode=Sf.checkPull(this,c,ce,e))&&l.checkPut(this,c,ce,e))){if(h=this._getDirection(e,s)==="vertical",r=Ft(ce),m("dragOverValid"),Ne.eventCanceled)return g;if(o)return Kt=Lt,y(),this._hideClone(),m("revert"),Ne.eventCanceled||(Jo?Lt.insertBefore(ce,Jo):Lt.appendChild(ce)),b(!0);var S=Ev(t,a.draggable);if(!S||TU(e,h,this)&&!S.animated){if(S===ce)return b(!1);if(S&&t===e.target&&(s=S),s&&(i=Ft(s)),_f(Lt,t,ce,r,s,i,e,!!s)!==!1)return y(),t.appendChild(ce),Kt=t,x(),b(!0)}else if(S&&_U(e,h,this)){var w=Zl(t,0,a,!0);if(w===ce)return b(!1);if(s=w,i=Ft(s),_f(Lt,t,ce,r,s,i,e,!1)!==!1)return y(),t.insertBefore(ce,w),Kt=t,x(),b(!0)}else if(s.parentNode===t){i=Ft(s);var k=0,T,C=ce.parentNode!==t,E=!xU(ce.animated&&ce.toRect||r,s.animated&&s.toRect||i,h),_=h?"top":"left",O=_S(s,"top","top")||_S(ce,"top","top"),A=O?O.scrollTop:void 0;nl!==s&&(T=i[_],yu=!1,Ef=!E&&a.invertSwap||C),k=CU(e,s,i,h,E?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ef,nl===s);var P;if(k!==0){var $=Jt(ce);do $-=k,P=Kt.children[$];while(P&&(Se(P,"display")==="none"||P===He))}if(k===0||P===s)return b(!1);nl=s,mu=k;var z=s.nextElementSibling,D=!1;D=k===1;var U=_f(Lt,t,ce,r,s,i,e,D);if(U!==!1)return(U===1||U===-1)&&(D=U===1),d0=!0,setTimeout(kU,30),y(),D&&!z?t.appendChild(ce):s.parentNode.insertBefore(ce,D?z:s),O&&oA(O,0,A-O.scrollTop),Kt=ce.parentNode,T!==void 0&&!Ef&&(lh=Math.abs(T-Ft(s)[_])),x(),b(!0)}if(t.contains(ce))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){tt(document,"mousemove",this._onTouchMove),tt(document,"touchmove",this._onTouchMove),tt(document,"pointermove",this._onTouchMove),tt(document,"dragover",Uo),tt(document,"mousemove",Uo),tt(document,"touchmove",Uo)},_offUpEvents:function(){var e=this.el.ownerDocument;tt(e,"mouseup",this._onDrop),tt(e,"touchend",this._onDrop),tt(e,"pointerup",this._onDrop),tt(e,"touchcancel",this._onDrop),tt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,s=this.options;if(Is=Jt(ce),Bi=Jt(ce,s.draggable),vs("drop",this,{evt:e}),Kt=ce&&ce.parentNode,Is=Jt(ce),Bi=Jt(ce,s.draggable),Ne.eventCanceled){this._nulling();return}cl=!1,Ef=!1,yu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),f0(this.cloneId),f0(this._dragStartId),this.nativeDraggable&&(tt(document,"drop",this),tt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),hu&&Se(document.body,"user-select",""),Se(ce,"transform",""),e&&(Hc&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),He&&He.parentNode&&He.parentNode.removeChild(He),(Lt===Kt||An&&An.lastPutMode!=="clone")&&Gt&&Gt.parentNode&&Gt.parentNode.removeChild(Gt),ce&&(this.nativeDraggable&&tt(ce,"dragend",this),Rm(ce),ce.style["will-change"]="",Hc&&!cl&&Ut(ce,An?An.options.ghostClass:this.options.ghostClass,!1),Ut(ce,this.options.chosenClass,!1),ns({sortable:this,name:"unchoose",toEl:Kt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Lt!==Kt?(Is>=0&&(ns({rootEl:Kt,name:"add",toEl:Kt,fromEl:Lt,originalEvent:e}),ns({sortable:this,name:"remove",toEl:Kt,originalEvent:e}),ns({rootEl:Kt,name:"sort",toEl:Kt,fromEl:Lt,originalEvent:e}),ns({sortable:this,name:"sort",toEl:Kt,originalEvent:e})),An&&An.save()):Is!==gl&&Is>=0&&(ns({sortable:this,name:"update",toEl:Kt,originalEvent:e}),ns({sortable:this,name:"sort",toEl:Kt,originalEvent:e})),Ne.active&&((Is==null||Is===-1)&&(Is=gl,Bi=gu),ns({sortable:this,name:"end",toEl:Kt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){vs("nulling",this),Lt=ce=Kt=He=Jo=Gt=ah=Wi=zo=sr=Hc=Is=Bi=gl=gu=nl=mu=An=Sf=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,Jh.forEach(function(e){e.checked=!0}),Jh.length=Im=Pm=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ce&&(this._onDragOver(e),EU(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,s=this.el.children,r=0,i=s.length,o=this.options;r<i;r++)t=s[r],ur(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||AU(t));return e},sort:function(e,t){var s={},r=this.el;this.toArray().forEach(function(i,o){var a=r.children[o];ur(a,this.options.draggable,r,!1)&&(s[i]=a)},this),t&&this.captureAnimationState(),e.forEach(function(i){s[i]&&(r.removeChild(s[i]),r.appendChild(s[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ur(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var s=this.options;if(t===void 0)return s[e];var r=Ld.modifyOption(this,e,t);typeof r<"u"?s[e]=r:s[e]=t,e==="group"&&cA(s)},destroy:function(){vs("destroy",this);var e=this.el;e[Kn]=null,tt(e,"mousedown",this._onTapStart),tt(e,"touchstart",this._onTapStart),tt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(tt(e,"dragover",this),tt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xh.splice(Xh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Wi){if(vs("hideClone",this),Ne.eventCanceled)return;Se(Gt,"display","none"),this.options.removeCloneOnHide&&Gt.parentNode&&Gt.parentNode.removeChild(Gt),Wi=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Wi){if(vs("showClone",this),Ne.eventCanceled)return;ce.parentNode==Lt&&!this.options.group.revertClone?Lt.insertBefore(Gt,ce):Jo?Lt.insertBefore(Gt,Jo):Lt.appendChild(Gt),this.options.group.revertClone&&this.animate(ce,Gt),Se(Gt,"display",""),Wi=!1}}};function EU(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function _f(n,e,t,s,r,i,o,a){var l,c=n[Kn],u=c.options.onMove,d;return window.CustomEvent&&!Ei&&!Nd?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=s,l.related=r||e,l.relatedRect=i||Ft(e),l.willInsertAfter=a,l.originalEvent=o,n.dispatchEvent(l),u&&(d=u.call(c,l,o)),d}function Rm(n){n.draggable=!1}function kU(){d0=!1}function _U(n,e,t){var s=Ft(Zl(t.el,0,t.options,!0)),r=10;return e?n.clientX<s.left-r||n.clientY<s.top&&n.clientX<s.right:n.clientY<s.top-r||n.clientY<s.bottom&&n.clientX<s.left}function TU(n,e,t){var s=Ft(Ev(t.el,t.options.draggable)),r=10;return e?n.clientX>s.right+r||n.clientX<=s.right&&n.clientY>s.bottom&&n.clientX>=s.left:n.clientX>s.right&&n.clientY>s.top||n.clientX<=s.right&&n.clientY>s.bottom+r}function CU(n,e,t,s,r,i,o,a){var l=s?n.clientY:n.clientX,c=s?t.height:t.width,u=s?t.top:t.left,d=s?t.bottom:t.right,f=!1;if(!o){if(a&&lh<c*r){if(!yu&&(mu===1?l>u+c*i/2:l<d-c*i/2)&&(yu=!0),yu)f=!0;else if(mu===1?l<u+lh:l>d-lh)return-mu}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return OU(e)}return f=f||o,f&&(l<u+c*i/2||l>d-c*i/2)?l>u+c/2?1:-1:0}function OU(n){return Jt(ce)<Jt(n)?1:-1}function AU(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,s=0;t--;)s+=e.charCodeAt(t);return s.toString(36)}function MU(n){Jh.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var s=e[t];s.checked&&Jh.push(s)}}function ch(n){return setTimeout(n,0)}function f0(n){return clearTimeout(n)}Tg&&it(document,"touchmove",function(n){(Ne.active||cl)&&n.cancelable&&n.preventDefault()});Ne.utils={on:it,off:tt,css:Se,find:rA,is:function(e,t){return!!ur(e,t,e,!1)},extend:hU,throttle:iA,closest:ur,toggleClass:Ut,clone:kv,index:Jt,nextTick:ch,cancelNextTick:f0,detectDirection:lA,getChild:Zl};Ne.get=function(n){return n[Kn]};Ne.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Ne.utils=Lr(Lr({},Ne.utils),s.utils)),Ld.mount(s)})};Ne.create=function(n,e){return new Ne(n,e)};Ne.version=cU;var rn=[],Wc,h0,p0=!1,Nm,Lm,Yh,Kc;function IU(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var s=t.originalEvent;this.sortable.nativeDraggable?it(document,"dragover",this._handleAutoScroll):this.options.supportPointer?it(document,"pointermove",this._handleFallbackAutoScroll):s.touches?it(document,"touchmove",this._handleFallbackAutoScroll):it(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var s=t.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):(tt(document,"pointermove",this._handleFallbackAutoScroll),tt(document,"touchmove",this._handleFallbackAutoScroll),tt(document,"mousemove",this._handleFallbackAutoScroll)),IS(),uh(),pU()},nulling:function(){Yh=h0=Wc=p0=Kc=Nm=Lm=null,rn.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,s){var r=this,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(i,o);if(Yh=t,s||this.options.forceAutoScrollFallback||Nd||Ei||hu){$m(t,this.options,a,s);var l=ro(a,!0);p0&&(!Kc||i!==Nm||o!==Lm)&&(Kc&&IS(),Kc=setInterval(function(){var c=ro(document.elementFromPoint(i,o),!0);c!==l&&(l=c,uh()),$m(t,r.options,c,s)},10),Nm=i,Lm=o)}else{if(!this.options.bubbleScroll||ro(a,!0)===Rr()){uh();return}$m(t,this.options,ro(a,!1),!1)}}},nr(n,{pluginName:"scroll",initializeByDefault:!0})}function uh(){rn.forEach(function(n){clearInterval(n.pid)}),rn=[]}function IS(){clearInterval(Kc)}var $m=iA(function(n,e,t,s){if(e.scroll){var r=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Rr(),c=!1,u;h0!==t&&(h0=t,uh(),Wc=e.scroll,u=e.scrollFn,Wc===!0&&(Wc=ro(t,!0)));var d=0,f=Wc;do{var h=f,p=Ft(h),g=p.top,m=p.bottom,y=p.left,b=p.right,x=p.width,S=p.height,w=void 0,k=void 0,T=h.scrollWidth,C=h.scrollHeight,E=Se(h),_=h.scrollLeft,O=h.scrollTop;h===l?(w=x<T&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),k=S<C&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(w=x<T&&(E.overflowX==="auto"||E.overflowX==="scroll"),k=S<C&&(E.overflowY==="auto"||E.overflowY==="scroll"));var A=w&&(Math.abs(b-r)<=o&&_+x<T)-(Math.abs(y-r)<=o&&!!_),P=k&&(Math.abs(m-i)<=o&&O+S<C)-(Math.abs(g-i)<=o&&!!O);if(!rn[d])for(var $=0;$<=d;$++)rn[$]||(rn[$]={});(rn[d].vx!=A||rn[d].vy!=P||rn[d].el!==h)&&(rn[d].el=h,rn[d].vx=A,rn[d].vy=P,clearInterval(rn[d].pid),(A!=0||P!=0)&&(c=!0,rn[d].pid=setInterval((function(){s&&this.layer===0&&Ne.active._onTouchMove(Yh);var z=rn[this.layer].vy?rn[this.layer].vy*a:0,D=rn[this.layer].vx?rn[this.layer].vx*a:0;typeof u=="function"&&u.call(Ne.dragged.parentNode[Kn],D,z,n,Yh,rn[this.layer].el)!=="continue"||oA(rn[this.layer].el,D,z)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=ro(f,!1)));p0=c}},30),fA=function(e){var t=e.originalEvent,s=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=s||i;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(o("spill"),this.onSpill({dragEl:r,putSortable:s}))}};function _v(){}_v.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var r=Zl(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),s&&s.animateAll()},drop:fA};nr(_v,{pluginName:"revertOnSpill"});function Tv(){}Tv.prototype={onSpill:function(e){var t=e.dragEl,s=e.putSortable,r=s||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:fA};nr(Tv,{pluginName:"removeOnSpill"});var Us;function PU(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(t){var s=t.dragEl;Us=s},dragOverValid:function(t){var s=t.completed,r=t.target,i=t.onMove,o=t.activeSortable,a=t.changed,l=t.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(r&&r!==c){var d=Us;i(r)!==!1?(Ut(r,u.swapClass,!0),Us=r):Us=null,d&&d!==Us&&Ut(d,u.swapClass,!1)}a(),s(!0),l()}},drop:function(t){var s=t.activeSortable,r=t.putSortable,i=t.dragEl,o=r||this.sortable,a=this.options;Us&&Ut(Us,a.swapClass,!1),Us&&(a.swap||r&&r.options.swap)&&i!==Us&&(o.captureAnimationState(),o!==s&&s.captureAnimationState(),DU(i,Us),o.animateAll(),o!==s&&s.animateAll())},nulling:function(){Us=null}},nr(n,{pluginName:"swap",eventProperties:function(){return{swapItem:Us}}})}function DU(n,e){var t=n.parentNode,s=e.parentNode,r,i;!t||!s||t.isEqualNode(e)||s.isEqualNode(n)||(r=Jt(n),i=Jt(e),t.isEqualNode(s)&&r<i&&i++,t.insertBefore(e,t.children[r]),s.insertBefore(n,s.children[i]))}var Be=[],As=[],Ac,rr,Mc=!1,xs=!1,sl=!1,Ct,Ic,Tf;function RU(){function n(e){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));e.options.supportPointer?it(document,"pointerup",this._deselectMultiDrag):(it(document,"mouseup",this._deselectMultiDrag),it(document,"touchend",this._deselectMultiDrag)),it(document,"keydown",this._checkKeyDown),it(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(r,i){var o="";Be.length&&rr===e?Be.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=i.textContent,r.setData("Text",o)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var s=t.dragEl;Ct=s},delayEnded:function(){this.isMultiDrag=~Be.indexOf(Ct)},setupClone:function(t){var s=t.sortable,r=t.cancel;if(this.isMultiDrag){for(var i=0;i<Be.length;i++)As.push(kv(Be[i])),As[i].sortableIndex=Be[i].sortableIndex,As[i].draggable=!1,As[i].style["will-change"]="",Ut(As[i],this.options.selectedClass,!1),Be[i]===Ct&&Ut(As[i],this.options.chosenClass,!1);s._hideClone(),r()}},clone:function(t){var s=t.sortable,r=t.rootEl,i=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Be.length&&rr===s&&(PS(!0,r),i("clone"),o()))},showClone:function(t){var s=t.cloneNowShown,r=t.rootEl,i=t.cancel;this.isMultiDrag&&(PS(!1,r),As.forEach(function(o){Se(o,"display","")}),s(),Tf=!1,i())},hideClone:function(t){var s=this;t.sortable;var r=t.cloneNowHidden,i=t.cancel;this.isMultiDrag&&(As.forEach(function(o){Se(o,"display","none"),s.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),r(),Tf=!0,i())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&rr&&rr.multiDrag._deselectMultiDrag(),Be.forEach(function(s){s.sortableIndex=Jt(s)}),Be=Be.sort(function(s,r){return s.sortableIndex-r.sortableIndex}),sl=!0},dragStarted:function(t){var s=this,r=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){Be.forEach(function(o){o!==Ct&&Se(o,"position","absolute")});var i=Ft(Ct,!1,!0,!0);Be.forEach(function(o){o!==Ct&&CS(o,i)}),xs=!0,Mc=!0}r.animateAll(function(){xs=!1,Mc=!1,s.options.animation&&Be.forEach(function(o){Am(o)}),s.options.sort&&Cf()})}},dragOver:function(t){var s=t.target,r=t.completed,i=t.cancel;xs&&~Be.indexOf(s)&&(r(!1),i())},revert:function(t){var s=t.fromSortable,r=t.rootEl,i=t.sortable,o=t.dragRect;Be.length>1&&(Be.forEach(function(a){i.addAnimationState({target:a,rect:xs?Ft(a):o}),Am(a),a.fromRect=o,s.removeAnimationState(a)}),xs=!1,NU(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(t){var s=t.sortable,r=t.isOwner,i=t.insertion,o=t.activeSortable,a=t.parentEl,l=t.putSortable,c=this.options;if(i){if(r&&o._hideClone(),Mc=!1,c.animation&&Be.length>1&&(xs||!r&&!o.options.sort&&!l)){var u=Ft(Ct,!1,!0,!0);Be.forEach(function(f){f!==Ct&&(CS(f,u),a.appendChild(f))}),xs=!0}if(!r)if(xs||Cf(),Be.length>1){var d=Tf;o._showClone(s),o.options.animation&&!Tf&&d&&As.forEach(function(f){o.addAnimationState({target:f,rect:Ic}),f.fromRect=Ic,f.thisAnimationDuration=null})}else o._showClone(s)}},dragOverAnimationCapture:function(t){var s=t.dragRect,r=t.isOwner,i=t.activeSortable;if(Be.forEach(function(a){a.thisAnimationDuration=null}),i.options.animation&&!r&&i.multiDrag.isMultiDrag){Ic=nr({},s);var o=xa(Ct,!0);Ic.top-=o.f,Ic.left-=o.e}},dragOverAnimationComplete:function(){xs&&(xs=!1,Cf())},drop:function(t){var s=t.originalEvent,r=t.rootEl,i=t.parentEl,o=t.sortable,a=t.dispatchSortableEvent,l=t.oldIndex,c=t.putSortable,u=c||this.sortable;if(s){var d=this.options,f=i.children;if(!sl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ut(Ct,d.selectedClass,!~Be.indexOf(Ct)),~Be.indexOf(Ct))Be.splice(Be.indexOf(Ct),1),Ac=null,Uc({sortable:o,rootEl:r,name:"deselect",targetEl:Ct,originalEvt:s});else{if(Be.push(Ct),Uc({sortable:o,rootEl:r,name:"select",targetEl:Ct,originalEvt:s}),s.shiftKey&&Ac&&o.el.contains(Ac)){var h=Jt(Ac),p=Jt(Ct);if(~h&&~p&&h!==p){var g,m;for(p>h?(m=h,g=p):(m=p,g=h+1);m<g;m++)~Be.indexOf(f[m])||(Ut(f[m],d.selectedClass,!0),Be.push(f[m]),Uc({sortable:o,rootEl:r,name:"select",targetEl:f[m],originalEvt:s}))}}else Ac=Ct;rr=u}if(sl&&this.isMultiDrag){if(xs=!1,(i[Kn].options.sort||i!==r)&&Be.length>1){var y=Ft(Ct),b=Jt(Ct,":not(."+this.options.selectedClass+")");if(!Mc&&d.animation&&(Ct.thisAnimationDuration=null),u.captureAnimationState(),!Mc&&(d.animation&&(Ct.fromRect=y,Be.forEach(function(S){if(S.thisAnimationDuration=null,S!==Ct){var w=xs?Ft(S):y;S.fromRect=w,u.addAnimationState({target:S,rect:w})}})),Cf(),Be.forEach(function(S){f[b]?i.insertBefore(S,f[b]):i.appendChild(S),b++}),l===Jt(Ct))){var x=!1;Be.forEach(function(S){if(S.sortableIndex!==Jt(S)){x=!0;return}}),x&&a("update")}Be.forEach(function(S){Am(S)}),u.animateAll()}rr=u}(r===i||c&&c.lastPutMode!=="clone")&&As.forEach(function(S){S.parentNode&&S.parentNode.removeChild(S)})}},nullingGlobal:function(){this.isMultiDrag=sl=!1,As.length=0},destroyGlobal:function(){this._deselectMultiDrag(),tt(document,"pointerup",this._deselectMultiDrag),tt(document,"mouseup",this._deselectMultiDrag),tt(document,"touchend",this._deselectMultiDrag),tt(document,"keydown",this._checkKeyDown),tt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof sl<"u"&&sl)&&rr===this.sortable&&!(t&&ur(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;Be.length;){var s=Be[0];Ut(s,this.options.selectedClass,!1),Be.shift(),Uc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},nr(n,{pluginName:"multiDrag",utils:{select:function(t){var s=t.parentNode[Kn];!s||!s.options.multiDrag||~Be.indexOf(t)||(rr&&rr!==s&&(rr.multiDrag._deselectMultiDrag(),rr=s),Ut(t,s.options.selectedClass,!0),Be.push(t))},deselect:function(t){var s=t.parentNode[Kn],r=Be.indexOf(t);!s||!s.options.multiDrag||!~r||(Ut(t,s.options.selectedClass,!1),Be.splice(r,1))}},eventProperties:function(){var t=this,s=[],r=[];return Be.forEach(function(i){s.push({multiDragElement:i,index:i.sortableIndex});var o;xs&&i!==Ct?o=-1:xs?o=Jt(i,":not(."+t.options.selectedClass+")"):o=Jt(i),r.push({multiDragElement:i,index:o})}),{items:rU(Be),clones:[].concat(As),oldIndicies:s,newIndicies:r}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function NU(n,e){Be.forEach(function(t,s){var r=e.children[t.sortableIndex+(n?Number(s):0)];r?e.insertBefore(t,r):e.appendChild(t)})}function PS(n,e){As.forEach(function(t,s){var r=e.children[t.sortableIndex+(n?Number(s):0)];r?e.insertBefore(t,r):e.appendChild(t)})}function Cf(){Be.forEach(function(n){n!==Ct&&n.parentNode&&n.parentNode.removeChild(n)})}Ne.mount(new IU);Ne.mount(Tv,_v);const LU=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:RU,Sortable:Ne,Swap:PU,default:Ne},Symbol.toStringTag,{value:"Module"})),$U=kd(LU);var FU=Zf.exports,DS;function jU(){return DS||(DS=1,function(n,e){(function(s,r){n.exports=r(eU(),$U)})(typeof self<"u"?self:FU,function(t,s){return function(r){var i={};function o(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return r[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=i,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)o.d(c,u,(function(d){return a[d]}).bind(null,u));return c},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(r,i,o){var a=o("b622"),l=a("toStringTag"),c={};c[l]="z",r.exports=String(c)==="[object z]"},"0366":function(r,i,o){var a=o("1c0b");r.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(d){return l.call(c,d)};case 2:return function(d,f){return l.call(c,d,f)};case 3:return function(d,f,h){return l.call(c,d,f,h)}}return function(){return l.apply(c,arguments)}}},"057f":function(r,i,o){var a=o("fc6a"),l=o("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return u.slice()}};r.exports.f=function(h){return u&&c.call(h)=="[object Window]"?d(h):l(a(h))}},"06cf":function(r,i,o){var a=o("83ab"),l=o("d1e7"),c=o("5c6c"),u=o("fc6a"),d=o("c04e"),f=o("5135"),h=o("0cfb"),p=Object.getOwnPropertyDescriptor;i.f=a?p:function(m,y){if(m=u(m),y=d(y,!0),h)try{return p(m,y)}catch{}if(f(m,y))return c(!l.f.call(m,y),m[y])}},"0cfb":function(r,i,o){var a=o("83ab"),l=o("d039"),c=o("cc12");r.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(r,i,o){var a=o("23e7"),l=o("d58f").left,c=o("a640"),u=o("ae40"),d=c("reduce"),f=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(r,i,o){var a=o("c6b6"),l=o("9263");r.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var f=d.call(c,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(r,i,o){var a=o("da84"),l=o("fdbc"),c=o("17c2"),u=o("9112");for(var d in l){var f=a[d],h=f&&f.prototype;if(h&&h.forEach!==c)try{u(h,"forEach",c)}catch{h.forEach=c}}},"17c2":function(r,i,o){var a=o("b727").forEach,l=o("a640"),c=o("ae40"),u=l("forEach"),d=c("forEach");r.exports=!u||!d?function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(r,i,o){var a=o("d066");r.exports=a("document","documentElement")},"1c0b":function(r,i){r.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(r,i,o){var a=o("b622"),l=a("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}r.exports=function(f,h){if(!h&&!c)return!1;var p=!1;try{var g={};g[l]=function(){return{next:function(){return{done:p=!0}}}},f(g)}catch{}return p}},"1d80":function(r,i){r.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(r,i,o){var a=o("d039"),l=o("b622"),c=o("2d00"),u=l("species");r.exports=function(d){return c>=51||!a(function(){var f=[],h=f.constructor={};return h[u]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(r,i,o){var a=o("a691"),l=Math.max,c=Math.min;r.exports=function(u,d){var f=a(u);return f<0?l(f+d,0):c(f,d)}},"23e7":function(r,i,o){var a=o("da84"),l=o("06cf").f,c=o("9112"),u=o("6eeb"),d=o("ce4e"),f=o("e893"),h=o("94ca");r.exports=function(p,g){var m=p.target,y=p.global,b=p.stat,x,S,w,k,T,C;if(y?S=a:b?S=a[m]||d(m,{}):S=(a[m]||{}).prototype,S)for(w in g){if(T=g[w],p.noTargetGet?(C=l(S,w),k=C&&C.value):k=S[w],x=h(y?w:m+(b?".":"#")+w,p.forced),!x&&k!==void 0){if(typeof T==typeof k)continue;f(T,k)}(p.sham||k&&k.sham)&&c(T,"sham",!0),u(S,w,T,p)}}},"241c":function(r,i,o){var a=o("ca84"),l=o("7839"),c=l.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return a(d,c)}},"25f0":function(r,i,o){var a=o("6eeb"),l=o("825a"),c=o("d039"),u=o("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=c(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),g=h.name!=d;(p||g)&&a(RegExp.prototype,d,function(){var y=l(this),b=String(y.source),x=y.flags,S=String(x===void 0&&y instanceof RegExp&&!("flags"in f)?u.call(y):x);return"/"+b+"/"+S},{unsafe:!0})},"2ca0":function(r,i,o){var a=o("23e7"),l=o("06cf").f,c=o("50c4"),u=o("5a34"),d=o("1d80"),f=o("ab13"),h=o("c430"),p="".startsWith,g=Math.min,m=f("startsWith"),y=!h&&!m&&!!function(){var b=l(String.prototype,"startsWith");return b&&!b.writable}();a({target:"String",proto:!0,forced:!y&&!m},{startsWith:function(x){var S=String(d(this));u(x);var w=c(g(arguments.length>1?arguments[1]:void 0,S.length)),k=String(x);return p?p.call(S,k,w):S.slice(w,w+k.length)===k}})},"2d00":function(r,i,o){var a=o("da84"),l=o("342f"),c=a.process,u=c&&c.versions,d=u&&u.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(h=f[1]))),r.exports=h&&+h},"342f":function(r,i,o){var a=o("d066");r.exports=a("navigator","userAgent")||""},"35a1":function(r,i,o){var a=o("f5df"),l=o("3f8c"),c=o("b622"),u=c("iterator");r.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||l[a(d)]}},"37e8":function(r,i,o){var a=o("83ab"),l=o("9bf2"),c=o("825a"),u=o("df75");r.exports=a?Object.defineProperties:function(f,h){c(f);for(var p=u(h),g=p.length,m=0,y;g>m;)l.f(f,y=p[m++],h[y]);return f}},"3bbe":function(r,i,o){var a=o("861d");r.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(r,i,o){var a=o("6547").charAt,l=o("69f3"),c=o("7dd0"),u="String Iterator",d=l.set,f=l.getterFor(u);c(String,"String",function(h){d(this,{type:u,string:String(h),index:0})},function(){var p=f(this),g=p.string,m=p.index,y;return m>=g.length?{value:void 0,done:!0}:(y=a(g,m),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(r,i){r.exports={}},4160:function(r,i,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(r,i,o){var a=o("da84");r.exports=a},"44ad":function(r,i,o){var a=o("d039"),l=o("c6b6"),c="".split;r.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(r,i,o){var a=o("b622"),l=o("7c73"),c=o("9bf2"),u=a("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:l(null)}),r.exports=function(f){d[u][f]=!0}},"44e7":function(r,i,o){var a=o("861d"),l=o("c6b6"),c=o("b622"),u=c("match");r.exports=function(d){var f;return a(d)&&((f=d[u])!==void 0?!!f:l(d)=="RegExp")}},4930:function(r,i,o){var a=o("d039");r.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(r,i,o){var a=o("fc6a"),l=o("50c4"),c=o("23cb"),u=function(d){return function(f,h,p){var g=a(f),m=l(g.length),y=c(p,m),b;if(d&&h!=h){for(;m>y;)if(b=g[y++],b!=b)return!0}else for(;m>y;y++)if((d||y in g)&&g[y]===h)return d||y||0;return!d&&-1}};r.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(r,i,o){var a=o("23e7"),l=o("b727").filter,c=o("1dde"),u=o("ae40"),d=c("filter"),f=u("filter");a({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(r,i,o){var a=o("0366"),l=o("7b0b"),c=o("9bdd"),u=o("e95a"),d=o("50c4"),f=o("8418"),h=o("35a1");r.exports=function(g){var m=l(g),y=typeof this=="function"?this:Array,b=arguments.length,x=b>1?arguments[1]:void 0,S=x!==void 0,w=h(m),k=0,T,C,E,_,O,A;if(S&&(x=a(x,b>2?arguments[2]:void 0,2)),w!=null&&!(y==Array&&u(w)))for(_=w.call(m),O=_.next,C=new y;!(E=O.call(_)).done;k++)A=S?c(_,x,[E.value,k],!0):E.value,f(C,k,A);else for(T=d(m.length),C=new y(T);T>k;k++)A=S?x(m[k],k):m[k],f(C,k,A);return C.length=k,C}},"4fad":function(r,i,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(r,i,o){var a=o("a691"),l=Math.min;r.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(r,i){var o={}.hasOwnProperty;r.exports=function(a,l){return o.call(a,l)}},5319:function(r,i,o){var a=o("d784"),l=o("825a"),c=o("7b0b"),u=o("50c4"),d=o("a691"),f=o("1d80"),h=o("8aa5"),p=o("14c3"),g=Math.max,m=Math.min,y=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g,S=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,k,T,C){var E=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=C.REPLACE_KEEPS_$0,O=E?"$":"$0";return[function($,z){var D=f(this),U=$==null?void 0:$[w];return U!==void 0?U.call($,D,z):k.call(String(D),$,z)},function(P,$){if(!E&&_||typeof $=="string"&&$.indexOf(O)===-1){var z=T(k,P,this,$);if(z.done)return z.value}var D=l(P),U=String(this),J=typeof $=="function";J||($=String($));var be=D.global;if(be){var Ge=D.unicode;D.lastIndex=0}for(var ue=[];;){var G=p(D,U);if(G===null||(ue.push(G),!be))break;var oe=String(G[0]);oe===""&&(D.lastIndex=h(U,u(D.lastIndex),Ge))}for(var Xe="",at=0,$e=0;$e<ue.length;$e++){G=ue[$e];for(var H=String(G[0]),de=g(m(d(G.index),U.length),0),ie=[],ye=1;ye<G.length;ye++)ie.push(S(G[ye]));var et=G.groups;if(J){var ft=[H].concat(ie,de,U);et!==void 0&&ft.push(et);var M=String($.apply(void 0,ft))}else M=A(H,U,de,ie,et,$);de>=at&&(Xe+=U.slice(at,de)+M,at=de+H.length)}return Xe+U.slice(at)}];function A(P,$,z,D,U,J){var be=z+P.length,Ge=D.length,ue=x;return U!==void 0&&(U=c(U),ue=b),k.call(J,ue,function(G,oe){var Xe;switch(oe.charAt(0)){case"$":return"$";case"&":return P;case"`":return $.slice(0,z);case"'":return $.slice(be);case"<":Xe=U[oe.slice(1,-1)];break;default:var at=+oe;if(at===0)return G;if(at>Ge){var $e=y(at/10);return $e===0?G:$e<=Ge?D[$e-1]===void 0?oe.charAt(1):D[$e-1]+oe.charAt(1):G}Xe=D[at-1]}return Xe===void 0?"":Xe})}})},5692:function(r,i,o){var a=o("c430"),l=o("c6cd");(r.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(r,i,o){var a=o("d066"),l=o("241c"),c=o("7418"),u=o("825a");r.exports=a("Reflect","ownKeys")||function(f){var h=l.f(u(f)),p=c.f;return p?h.concat(p(f)):h}},"5a34":function(r,i,o){var a=o("44e7");r.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(r,i){r.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(r,i,o){var a=o("23e7"),l=o("a2bf"),c=o("7b0b"),u=o("50c4"),d=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var g=c(this),m=u(g.length),y;return d(p),y=f(g,0),y.length=l(y,g,g,m,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(r,i,o){var a=o("a691"),l=o("1d80"),c=function(u){return function(d,f){var h=String(l(d)),p=a(f),g=h.length,m,y;return p<0||p>=g?u?"":void 0:(m=h.charCodeAt(p),m<55296||m>56319||p+1===g||(y=h.charCodeAt(p+1))<56320||y>57343?u?h.charAt(p):m:u?h.slice(p,p+2):(m-55296<<10)+(y-56320)+65536)}};r.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(r,i,o){var a=o("861d"),l=o("e8b5"),c=o("b622"),u=c("species");r.exports=function(d,f){var h;return l(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:a(h)&&(h=h[u],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(r,i,o){var a=o("7f9a"),l=o("da84"),c=o("861d"),u=o("9112"),d=o("5135"),f=o("f772"),h=o("d012"),p=l.WeakMap,g,m,y,b=function(E){return y(E)?m(E):g(E,{})},x=function(E){return function(_){var O;if(!c(_)||(O=m(_)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return O}};if(a){var S=new p,w=S.get,k=S.has,T=S.set;g=function(E,_){return T.call(S,E,_),_},m=function(E){return w.call(S,E)||{}},y=function(E){return k.call(S,E)}}else{var C=f("state");h[C]=!0,g=function(E,_){return u(E,C,_),_},m=function(E){return d(E,C)?E[C]:{}},y=function(E){return d(E,C)}}r.exports={set:g,get:m,has:y,enforce:b,getterFor:x}},"6eeb":function(r,i,o){var a=o("da84"),l=o("9112"),c=o("5135"),u=o("ce4e"),d=o("8925"),f=o("69f3"),h=f.get,p=f.enforce,g=String(String).split("String");(r.exports=function(m,y,b,x){var S=x?!!x.unsafe:!1,w=x?!!x.enumerable:!1,k=x?!!x.noTargetGet:!1;if(typeof b=="function"&&(typeof y=="string"&&!c(b,"name")&&l(b,"name",y),p(b).source=g.join(typeof y=="string"?y:"")),m===a){w?m[y]=b:u(y,b);return}else S?!k&&m[y]&&(w=!0):delete m[y];w?m[y]=b:l(m,y,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(r,i,o){var a=o("83ab"),l=o("df75"),c=o("fc6a"),u=o("d1e7").f,d=function(f){return function(h){for(var p=c(h),g=l(p),m=g.length,y=0,b=[],x;m>y;)x=g[y++],(!a||u.call(p,x))&&b.push(f?[x,p[x]]:p[x]);return b}};r.exports={entries:d(!0),values:d(!1)}},"73d9":function(r,i,o){var a=o("44d2");a("flatMap")},7418:function(r,i){i.f=Object.getOwnPropertySymbols},"746f":function(r,i,o){var a=o("428f"),l=o("5135"),c=o("e538"),u=o("9bf2").f;r.exports=function(d){var f=a.Symbol||(a.Symbol={});l(f,d)||u(f,d,{value:c.f(d)})}},7839:function(r,i){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(r,i,o){var a=o("1d80");r.exports=function(l){return Object(a(l))}},"7c73":function(r,i,o){var a=o("825a"),l=o("37e8"),c=o("7839"),u=o("d012"),d=o("1be4"),f=o("cc12"),h=o("f772"),p=">",g="<",m="prototype",y="script",b=h("IE_PROTO"),x=function(){},S=function(E){return g+y+p+E+g+"/"+y+p},w=function(E){E.write(S("")),E.close();var _=E.parentWindow.Object;return E=null,_},k=function(){var E=f("iframe"),_="java"+y+":",O;return E.style.display="none",d.appendChild(E),E.src=String(_),O=E.contentWindow.document,O.open(),O.write(S("document.F=Object")),O.close(),O.F},T,C=function(){try{T=document.domain&&new ActiveXObject("htmlfile")}catch{}C=T?w(T):k();for(var E=c.length;E--;)delete C[m][c[E]];return C()};u[b]=!0,r.exports=Object.create||function(_,O){var A;return _!==null?(x[m]=a(_),A=new x,x[m]=null,A[b]=_):A=C(),O===void 0?A:l(A,O)}},"7dd0":function(r,i,o){var a=o("23e7"),l=o("9ed3"),c=o("e163"),u=o("d2bb"),d=o("d44e"),f=o("9112"),h=o("6eeb"),p=o("b622"),g=o("c430"),m=o("3f8c"),y=o("ae93"),b=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,S=p("iterator"),w="keys",k="values",T="entries",C=function(){return this};r.exports=function(E,_,O,A,P,$,z){l(O,_,A);var D=function($e){if($e===P&&ue)return ue;if(!x&&$e in be)return be[$e];switch($e){case w:return function(){return new O(this,$e)};case k:return function(){return new O(this,$e)};case T:return function(){return new O(this,$e)}}return function(){return new O(this)}},U=_+" Iterator",J=!1,be=E.prototype,Ge=be[S]||be["@@iterator"]||P&&be[P],ue=!x&&Ge||D(P),G=_=="Array"&&be.entries||Ge,oe,Xe,at;if(G&&(oe=c(G.call(new E)),b!==Object.prototype&&oe.next&&(!g&&c(oe)!==b&&(u?u(oe,b):typeof oe[S]!="function"&&f(oe,S,C)),d(oe,U,!0,!0),g&&(m[U]=C))),P==k&&Ge&&Ge.name!==k&&(J=!0,ue=function(){return Ge.call(this)}),(!g||z)&&be[S]!==ue&&f(be,S,ue),m[_]=ue,P)if(Xe={values:D(k),keys:$?ue:D(w),entries:D(T)},z)for(at in Xe)(x||J||!(at in be))&&h(be,at,Xe[at]);else a({target:_,proto:!0,forced:x||J},Xe);return Xe}},"7f9a":function(r,i,o){var a=o("da84"),l=o("8925"),c=a.WeakMap;r.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(r,i,o){var a=o("861d");r.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(r,i,o){var a=o("d039");r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(r,i,o){var a=o("c04e"),l=o("9bf2"),c=o("5c6c");r.exports=function(u,d,f){var h=a(d);h in u?l.f(u,h,c(0,f)):u[h]=f}},"861d":function(r,i){r.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(r,i,o){var a,l,c;(function(u,d){l=[],a=d,c=typeof a=="function"?a.apply(i,l):a,c!==void 0&&(r.exports=c)})(typeof self<"u"?self:this,function(){function u(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(T){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(T.stack)||h.exec(T.stack),g=p&&p[1]||!1,m=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),b,x,S,w=document.getElementsByTagName("script");g===y&&(b=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(m-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),S=b.replace(x,"$1").trim());for(var k=0;k<w.length;k++)if(w[k].readyState==="interactive"||w[k].src===g||g===y&&w[k].innerHTML&&w[k].innerHTML.trim()===S)return w[k];return null}}return u})},8925:function(r,i,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),r.exports=a.inspectSource},"8aa5":function(r,i,o){var a=o("6547").charAt;r.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(r,i){r.exports=t},"90e3":function(r,i){var o=0,a=Math.random();r.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(r,i,o){var a=o("83ab"),l=o("9bf2"),c=o("5c6c");r.exports=a?function(u,d,f){return l.f(u,d,c(1,f))}:function(u,d,f){return u[d]=f,u}},9263:function(r,i,o){var a=o("ad6d"),l=o("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,d=c,f=function(){var m=/a/,y=/b*/g;return c.call(m,"a"),c.call(y,"a"),m.lastIndex!==0||y.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=f||p||h;g&&(d=function(y){var b=this,x,S,w,k,T=h&&b.sticky,C=a.call(b),E=b.source,_=0,O=y;return T&&(C=C.replace("y",""),C.indexOf("g")===-1&&(C+="g"),O=String(y).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&y[b.lastIndex-1]!==`
`)&&(E="(?: "+E+")",O=" "+O,_++),S=new RegExp("^(?:"+E+")",C)),p&&(S=new RegExp("^"+E+"$(?!\\s)",C)),f&&(x=b.lastIndex),w=c.call(T?S:b,O),T?w?(w.input=w.input.slice(_),w[0]=w[0].slice(_),w.index=b.lastIndex,b.lastIndex+=w[0].length):b.lastIndex=0:f&&w&&(b.lastIndex=b.global?w.index+w[0].length:x),p&&w&&w.length>1&&u.call(w[0],S,function(){for(k=1;k<arguments.length-2;k++)arguments[k]===void 0&&(w[k]=void 0)}),w}),r.exports=d},"94ca":function(r,i,o){var a=o("d039"),l=/#|\.prototype\./,c=function(p,g){var m=d[u(p)];return m==h?!0:m==f?!1:typeof g=="function"?a(g):!!g},u=c.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=c.data={},f=c.NATIVE="N",h=c.POLYFILL="P";r.exports=c},"99af":function(r,i,o){var a=o("23e7"),l=o("d039"),c=o("e8b5"),u=o("861d"),d=o("7b0b"),f=o("50c4"),h=o("8418"),p=o("65f0"),g=o("1dde"),m=o("b622"),y=o("2d00"),b=m("isConcatSpreadable"),x=9007199254740991,S="Maximum allowed index exceeded",w=y>=51||!l(function(){var E=[];return E[b]=!1,E.concat()[0]!==E}),k=g("concat"),T=function(E){if(!u(E))return!1;var _=E[b];return _!==void 0?!!_:c(E)},C=!w||!k;a({target:"Array",proto:!0,forced:C},{concat:function(_){var O=d(this),A=p(O,0),P=0,$,z,D,U,J;for($=-1,D=arguments.length;$<D;$++)if(J=$===-1?O:arguments[$],T(J)){if(U=f(J.length),P+U>x)throw TypeError(S);for(z=0;z<U;z++,P++)z in J&&h(A,P,J[z])}else{if(P>=x)throw TypeError(S);h(A,P++,J)}return A.length=P,A}})},"9bdd":function(r,i,o){var a=o("825a");r.exports=function(l,c,u,d){try{return d?c(a(u)[0],u[1]):c(u)}catch(h){var f=l.return;throw f!==void 0&&a(f.call(l)),h}}},"9bf2":function(r,i,o){var a=o("83ab"),l=o("0cfb"),c=o("825a"),u=o("c04e"),d=Object.defineProperty;i.f=a?d:function(h,p,g){if(c(h),p=u(p,!0),c(g),l)try{return d(h,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(h[p]=g.value),h}},"9ed3":function(r,i,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),c=o("5c6c"),u=o("d44e"),d=o("3f8c"),f=function(){return this};r.exports=function(h,p,g){var m=p+" Iterator";return h.prototype=l(a,{next:c(1,g)}),u(h,m,!1,!0),d[m]=f,h}},"9f7f":function(r,i,o){var a=o("d039");function l(c,u){return RegExp(c,u)}i.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),i.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(r,i,o){var a=o("e8b5"),l=o("50c4"),c=o("0366"),u=function(d,f,h,p,g,m,y,b){for(var x=g,S=0,w=y?c(y,b,3):!1,k;S<p;){if(S in h){if(k=w?w(h[S],S,f):h[S],m>0&&a(k))x=u(d,f,k,l(k.length),x,m-1)-1;else{if(x>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[x]=k}x++}S++}return x};r.exports=u},a352:function(r,i){r.exports=s},a434:function(r,i,o){var a=o("23e7"),l=o("23cb"),c=o("a691"),u=o("50c4"),d=o("7b0b"),f=o("65f0"),h=o("8418"),p=o("1dde"),g=o("ae40"),m=p("splice"),y=g("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,x=Math.min,S=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!y},{splice:function(T,C){var E=d(this),_=u(E.length),O=l(T,_),A=arguments.length,P,$,z,D,U,J;if(A===0?P=$=0:A===1?(P=0,$=_-O):(P=A-2,$=x(b(c(C),0),_-O)),_+P-$>S)throw TypeError(w);for(z=f(E,$),D=0;D<$;D++)U=O+D,U in E&&h(z,D,E[U]);if(z.length=$,P<$){for(D=O;D<_-$;D++)U=D+$,J=D+P,U in E?E[J]=E[U]:delete E[J];for(D=_;D>_-$+P;D--)delete E[D-1]}else if(P>$)for(D=_-$;D>O;D--)U=D+$-1,J=D+P-1,U in E?E[J]=E[U]:delete E[J];for(D=0;D<P;D++)E[D+O]=arguments[D+2];return E.length=_-$+P,z}})},a4d3:function(r,i,o){var a=o("23e7"),l=o("da84"),c=o("d066"),u=o("c430"),d=o("83ab"),f=o("4930"),h=o("fdbf"),p=o("d039"),g=o("5135"),m=o("e8b5"),y=o("861d"),b=o("825a"),x=o("7b0b"),S=o("fc6a"),w=o("c04e"),k=o("5c6c"),T=o("7c73"),C=o("df75"),E=o("241c"),_=o("057f"),O=o("7418"),A=o("06cf"),P=o("9bf2"),$=o("d1e7"),z=o("9112"),D=o("6eeb"),U=o("5692"),J=o("f772"),be=o("d012"),Ge=o("90e3"),ue=o("b622"),G=o("e538"),oe=o("746f"),Xe=o("d44e"),at=o("69f3"),$e=o("b727").forEach,H=J("hidden"),de="Symbol",ie="prototype",ye=ue("toPrimitive"),et=at.set,ft=at.getterFor(de),M=Object[ie],I=l.Symbol,j=c("JSON","stringify"),Y=A.f,W=P.f,Z=_.f,fe=$.f,se=U("symbols"),re=U("op-symbols"),ee=U("string-to-symbol-registry"),Te=U("symbol-to-string-registry"),pe=U("wks"),we=l.QObject,Me=!we||!we[ie]||!we[ie].findChild,Ye=d&&p(function(){return T(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a!=7})?function(Re,Ee,De){var lt=Y(M,Ee);lt&&delete M[Ee],W(Re,Ee,De),lt&&Re!==M&&W(M,Ee,lt)}:W,gt=function(Re,Ee){var De=se[Re]=T(I[ie]);return et(De,{type:de,tag:Re,description:Ee}),d||(De.description=Ee),De},N=h?function(Re){return typeof Re=="symbol"}:function(Re){return Object(Re)instanceof I},F=function(Ee,De,lt){Ee===M&&F(re,De,lt),b(Ee);var ht=w(De,!0);return b(lt),g(se,ht)?(lt.enumerable?(g(Ee,H)&&Ee[H][ht]&&(Ee[H][ht]=!1),lt=T(lt,{enumerable:k(0,!1)})):(g(Ee,H)||W(Ee,H,k(1,{})),Ee[H][ht]=!0),Ye(Ee,ht,lt)):W(Ee,ht,lt)},V=function(Ee,De){b(Ee);var lt=S(De),ht=C(lt).concat(Fe(lt));return $e(ht,function(ms){(!d||he.call(lt,ms))&&F(Ee,ms,lt[ms])}),Ee},q=function(Ee,De){return De===void 0?T(Ee):V(T(Ee),De)},he=function(Ee){var De=w(Ee,!0),lt=fe.call(this,De);return this===M&&g(se,De)&&!g(re,De)?!1:lt||!g(this,De)||!g(se,De)||g(this,H)&&this[H][De]?lt:!0},Oe=function(Ee,De){var lt=S(Ee),ht=w(De,!0);if(!(lt===M&&g(se,ht)&&!g(re,ht))){var ms=Y(lt,ht);return ms&&g(se,ht)&&!(g(lt,H)&&lt[H][ht])&&(ms.enumerable=!0),ms}},je=function(Ee){var De=Z(S(Ee)),lt=[];return $e(De,function(ht){!g(se,ht)&&!g(be,ht)&&lt.push(ht)}),lt},Fe=function(Ee){var De=Ee===M,lt=Z(De?re:S(Ee)),ht=[];return $e(lt,function(ms){g(se,ms)&&(!De||g(M,ms))&&ht.push(se[ms])}),ht};if(f||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor");var Ee=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),De=Ge(Ee),lt=function(ht){this===M&&lt.call(re,ht),g(this,H)&&g(this[H],De)&&(this[H][De]=!1),Ye(this,De,k(1,ht))};return d&&Me&&Ye(M,De,{configurable:!0,set:lt}),gt(De,Ee)},D(I[ie],"toString",function(){return ft(this).tag}),D(I,"withoutSetter",function(Re){return gt(Ge(Re),Re)}),$.f=he,P.f=F,A.f=Oe,E.f=_.f=je,O.f=Fe,G.f=function(Re){return gt(ue(Re),Re)},d&&(W(I[ie],"description",{configurable:!0,get:function(){return ft(this).description}}),u||D(M,"propertyIsEnumerable",he,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:I}),$e(C(pe),function(Re){oe(Re)}),a({target:de,stat:!0,forced:!f},{for:function(Re){var Ee=String(Re);if(g(ee,Ee))return ee[Ee];var De=I(Ee);return ee[Ee]=De,Te[De]=Ee,De},keyFor:function(Ee){if(!N(Ee))throw TypeError(Ee+" is not a symbol");if(g(Te,Ee))return Te[Ee]},useSetter:function(){Me=!0},useSimple:function(){Me=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:q,defineProperty:F,defineProperties:V,getOwnPropertyDescriptor:Oe}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:je,getOwnPropertySymbols:Fe}),a({target:"Object",stat:!0,forced:p(function(){O.f(1)})},{getOwnPropertySymbols:function(Ee){return O.f(x(Ee))}}),j){var mt=!f||p(function(){var Re=I();return j([Re])!="[null]"||j({a:Re})!="{}"||j(Object(Re))!="{}"});a({target:"JSON",stat:!0,forced:mt},{stringify:function(Ee,De,lt){for(var ht=[Ee],ms=1,zg;arguments.length>ms;)ht.push(arguments[ms++]);if(zg=De,!(!y(De)&&Ee===void 0||N(Ee)))return m(De)||(De=function(SI,Vd){if(typeof zg=="function"&&(Vd=zg.call(this,SI,Vd)),!N(Vd))return Vd}),ht[1]=De,j.apply(null,ht)}})}I[ie][ye]||z(I[ie],ye,I[ie].valueOf),Xe(I,de),be[H]=!0},a630:function(r,i,o){var a=o("23e7"),l=o("4df4"),c=o("1c7e"),u=!c(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(r,i,o){var a=o("d039");r.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(r,i){var o=Math.ceil,a=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(r,i,o){var a=o("b622"),l=a("match");r.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(r,i,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(r,i,o){var a=o("825a");r.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(r,i,o){var a=o("83ab"),l=o("d039"),c=o("5135"),u=Object.defineProperty,d={},f=function(h){throw h};r.exports=function(h,p){if(c(d,h))return d[h];p||(p={});var g=[][h],m=c(p,"ACCESSORS")?p.ACCESSORS:!1,y=c(p,0)?p[0]:f,b=c(p,1)?p[1]:void 0;return d[h]=!!g&&!l(function(){if(m&&!a)return!0;var x={length:-1};m?u(x,1,{enumerable:!0,get:f}):x[1]=1,g.call(x,y,b)})}},ae93:function(r,i,o){var a=o("e163"),l=o("9112"),c=o("5135"),u=o("b622"),d=o("c430"),f=u("iterator"),h=!1,p=function(){return this},g,m,y;[].keys&&(y=[].keys(),"next"in y?(m=a(a(y)),m!==Object.prototype&&(g=m)):h=!0),g==null&&(g={}),!d&&!c(g,f)&&l(g,f,p),r.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:h}},b041:function(r,i,o){var a=o("00ee"),l=o("f5df");r.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(r,i,o){var a=o("83ab"),l=o("9bf2").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/,f="name";a&&!(f in c)&&l(c,f,{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},b622:function(r,i,o){var a=o("da84"),l=o("5692"),c=o("5135"),u=o("90e3"),d=o("4930"),f=o("fdbf"),h=l("wks"),p=a.Symbol,g=f?p:p&&p.withoutSetter||u;r.exports=function(m){return c(h,m)||(d&&c(p,m)?h[m]=p[m]:h[m]=g("Symbol."+m)),h[m]}},b64b:function(r,i,o){var a=o("23e7"),l=o("7b0b"),c=o("df75"),u=o("d039"),d=u(function(){c(1)});a({target:"Object",stat:!0,forced:d},{keys:function(h){return c(l(h))}})},b727:function(r,i,o){var a=o("0366"),l=o("44ad"),c=o("7b0b"),u=o("50c4"),d=o("65f0"),f=[].push,h=function(p){var g=p==1,m=p==2,y=p==3,b=p==4,x=p==6,S=p==5||x;return function(w,k,T,C){for(var E=c(w),_=l(E),O=a(k,T,3),A=u(_.length),P=0,$=C||d,z=g?$(w,A):m?$(w,0):void 0,D,U;A>P;P++)if((S||P in _)&&(D=_[P],U=O(D,P,E),p)){if(g)z[P]=U;else if(U)switch(p){case 3:return!0;case 5:return D;case 6:return P;case 2:f.call(z,D)}else if(b)return!1}return x?-1:y||b?b:z}};r.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(r,i,o){var a=o("861d");r.exports=function(l,c){if(!a(l))return l;var u,d;if(c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(d=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(r,i){r.exports=!1},c6b6:function(r,i){var o={}.toString;r.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(r,i,o){var a=o("da84"),l=o("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});r.exports=u},c740:function(r,i,o){var a=o("23e7"),l=o("b727").findIndex,c=o("44d2"),u=o("ae40"),d="findIndex",f=!0,h=u(d);d in[]&&Array(1)[d](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!h},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(r,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}r.exports=o},c975:function(r,i,o){var a=o("23e7"),l=o("4d64").indexOf,c=o("a640"),u=o("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=c("indexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(m){return f?d.apply(this,arguments)||0:l(this,m,arguments.length>1?arguments[1]:void 0)}})},ca84:function(r,i,o){var a=o("5135"),l=o("fc6a"),c=o("4d64").indexOf,u=o("d012");r.exports=function(d,f){var h=l(d),p=0,g=[],m;for(m in h)!a(u,m)&&a(h,m)&&g.push(m);for(;f.length>p;)a(h,m=f[p++])&&(~c(g,m)||g.push(m));return g}},caad:function(r,i,o){var a=o("23e7"),l=o("4d64").includes,c=o("44d2"),u=o("ae40"),d=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(r,i,o){var a=o("da84"),l=o("861d"),c=a.document,u=l(c)&&l(c.createElement);r.exports=function(d){return u?c.createElement(d):{}}},ce4e:function(r,i,o){var a=o("da84"),l=o("9112");r.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(r,i){r.exports={}},d039:function(r,i){r.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(r,i,o){var a=o("428f"),l=o("da84"),c=function(u){return typeof u=="function"?u:void 0};r.exports=function(u,d){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][d]||l[u]&&l[u][d]}},d1e7:function(r,i,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);i.f=c?function(d){var f=l(this,d);return!!f&&f.enumerable}:a},d28b:function(r,i,o){var a=o("746f");a("iterator")},d2bb:function(r,i,o){var a=o("825a"),l=o("3bbe");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(u,[]),c=u instanceof Array}catch{}return function(h,p){return a(h),l(p),c?d.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(r,i,o){var a=o("00ee"),l=o("6eeb"),c=o("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(r,i,o){var a=o("9bf2").f,l=o("5135"),c=o("b622"),u=c("toStringTag");r.exports=function(d,f,h){d&&!l(d=h?d:d.prototype,u)&&a(d,u,{configurable:!0,value:f})}},d58f:function(r,i,o){var a=o("1c0b"),l=o("7b0b"),c=o("44ad"),u=o("50c4"),d=function(f){return function(h,p,g,m){a(p);var y=l(h),b=c(y),x=u(y.length),S=f?x-1:0,w=f?-1:1;if(g<2)for(;;){if(S in b){m=b[S],S+=w;break}if(S+=w,f?S<0:x<=S)throw TypeError("Reduce of empty array with no initial value")}for(;f?S>=0:x>S;S+=w)S in b&&(m=p(m,b[S],S,y));return m}};r.exports={left:d(!1),right:d(!0)}},d784:function(r,i,o){o("ac1f");var a=o("6eeb"),l=o("d039"),c=o("b622"),u=o("9263"),d=o("9112"),f=c("species"),h=!l(function(){var b=/./;return b.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(b,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=c("replace"),m=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),y=!l(function(){var b=/(?:)/,x=b.exec;b.exec=function(){return x.apply(this,arguments)};var S="ab".split(b);return S.length!==2||S[0]!=="a"||S[1]!=="b"});r.exports=function(b,x,S,w){var k=c(b),T=!l(function(){var P={};return P[k]=function(){return 7},""[b](P)!=7}),C=T&&!l(function(){var P=!1,$=/a/;return b==="split"&&($={},$.constructor={},$.constructor[f]=function(){return $},$.flags="",$[k]=/./[k]),$.exec=function(){return P=!0,null},$[k](""),!P});if(!T||!C||b==="replace"&&!(h&&p&&!m)||b==="split"&&!y){var E=/./[k],_=S(k,""[b],function(P,$,z,D,U){return $.exec===u?T&&!U?{done:!0,value:E.call($,z,D)}:{done:!0,value:P.call(z,$,D)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),O=_[0],A=_[1];a(String.prototype,b,O),a(RegExp.prototype,k,x==2?function(P,$){return A.call(P,this,$)}:function(P){return A.call(P,this)})}w&&d(RegExp.prototype[k],"sham",!0)}},d81d:function(r,i,o){var a=o("23e7"),l=o("b727").map,c=o("1dde"),u=o("ae40"),d=c("map"),f=u("map");a({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(r,i,o){(function(a){var l=function(c){return c&&c.Math==Math&&c};r.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(r,i,o){var a=o("23e7"),l=o("83ab"),c=o("56ef"),u=o("fc6a"),d=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var g=u(p),m=d.f,y=c(g),b={},x=0,S,w;y.length>x;)w=m(g,S=y[x++]),w!==void 0&&f(b,S,w);return b}})},dbf1:function(r,i,o){(function(a){o.d(i,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,o("c8ba"))},ddb0:function(r,i,o){var a=o("da84"),l=o("fdbc"),c=o("e260"),u=o("9112"),d=o("b622"),f=d("iterator"),h=d("toStringTag"),p=c.values;for(var g in l){var m=a[g],y=m&&m.prototype;if(y){if(y[f]!==p)try{u(y,f,p)}catch{y[f]=p}if(y[h]||u(y,h,g),l[g]){for(var b in c)if(y[b]!==c[b])try{u(y,b,c[b])}catch{y[b]=c[b]}}}}},df75:function(r,i,o){var a=o("ca84"),l=o("7839");r.exports=Object.keys||function(u){return a(u,l)}},e01a:function(r,i,o){var a=o("23e7"),l=o("83ab"),c=o("da84"),u=o("5135"),d=o("861d"),f=o("9bf2").f,h=o("e893"),p=c.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},m=function(){var k=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),T=this instanceof m?new p(k):k===void 0?p():p(k);return k===""&&(g[T]=!0),T};h(m,p);var y=m.prototype=p.prototype;y.constructor=m;var b=y.toString,x=String(p("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var k=d(this)?this.valueOf():this,T=b.call(k);if(u(g,k))return"";var C=x?T.slice(7,-1):T.replace(S,"$1");return C===""?void 0:C}}),a({global:!0,forced:!0},{Symbol:m})}},e163:function(r,i,o){var a=o("5135"),l=o("7b0b"),c=o("f772"),u=o("e177"),d=c("IE_PROTO"),f=Object.prototype;r.exports=u?Object.getPrototypeOf:function(h){return h=l(h),a(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(r,i,o){var a=o("d039");r.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(r,i,o){var a=o("fc6a"),l=o("44d2"),c=o("3f8c"),u=o("69f3"),d=o("7dd0"),f="Array Iterator",h=u.set,p=u.getterFor(f);r.exports=d(Array,"Array",function(g,m){h(this,{type:f,target:a(g),index:0,kind:m})},function(){var g=p(this),m=g.target,y=g.kind,b=g.index++;return!m||b>=m.length?(g.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:m[b],done:!1}:{value:[b,m[b]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(r,i,o){var a=o("23e7"),l=o("d039"),c=o("fc6a"),u=o("06cf").f,d=o("83ab"),f=l(function(){u(1)}),h=!d||f;a({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(g,m){return u(c(g),m)}})},e538:function(r,i,o){var a=o("b622");i.f=a},e893:function(r,i,o){var a=o("5135"),l=o("56ef"),c=o("06cf"),u=o("9bf2");r.exports=function(d,f){for(var h=l(f),p=u.f,g=c.f,m=0;m<h.length;m++){var y=h[m];a(d,y)||p(d,y,g(f,y))}}},e8b5:function(r,i,o){var a=o("c6b6");r.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(r,i,o){var a=o("b622"),l=o("3f8c"),c=a("iterator"),u=Array.prototype;r.exports=function(d){return d!==void 0&&(l.Array===d||u[c]===d)}},f5df:function(r,i,o){var a=o("00ee"),l=o("c6b6"),c=o("b622"),u=c("toStringTag"),d=l(function(){return arguments}())=="Arguments",f=function(h,p){try{return h[p]}catch{}};r.exports=a?l:function(h){var p,g,m;return h===void 0?"Undefined":h===null?"Null":typeof(g=f(p=Object(h),u))=="string"?g:d?l(p):(m=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":m}},f772:function(r,i,o){var a=o("5692"),l=o("90e3"),c=a("keys");r.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(r,i,o){if(o.r(i),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(o.p=c[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function u(N,F,V){return F in N?Object.defineProperty(N,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):N[F]=V,N}function d(N,F){var V=Object.keys(N);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(N);F&&(q=q.filter(function(he){return Object.getOwnPropertyDescriptor(N,he).enumerable})),V.push.apply(V,q)}return V}function f(N){for(var F=1;F<arguments.length;F++){var V=arguments[F]!=null?arguments[F]:{};F%2?d(Object(V),!0).forEach(function(q){u(N,q,V[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(V)):d(Object(V)).forEach(function(q){Object.defineProperty(N,q,Object.getOwnPropertyDescriptor(V,q))})}return N}function h(N){if(Array.isArray(N))return N}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(N,F){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(N)))){var V=[],q=!0,he=!1,Oe=void 0;try{for(var je=N[Symbol.iterator](),Fe;!(q=(Fe=je.next()).done)&&(V.push(Fe.value),!(F&&V.length===F));q=!0);}catch(mt){he=!0,Oe=mt}finally{try{!q&&je.return!=null&&je.return()}finally{if(he)throw Oe}}return V}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(N,F){(F==null||F>N.length)&&(F=N.length);for(var V=0,q=new Array(F);V<F;V++)q[V]=N[V];return q}function m(N,F){if(N){if(typeof N=="string")return g(N,F);var V=Object.prototype.toString.call(N).slice(8,-1);if(V==="Object"&&N.constructor&&(V=N.constructor.name),V==="Map"||V==="Set")return Array.from(N);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return g(N,F)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(N,F){return h(N)||p(N,F)||m(N,F)||y()}function x(N){if(Array.isArray(N))return g(N)}function S(N){if(typeof Symbol<"u"&&Symbol.iterator in Object(N))return Array.from(N)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(N){return x(N)||S(N)||m(N)||w()}var T=o("a352"),C=o.n(T);function E(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function _(N,F,V){var q=V===0?N.children[0]:N.children[V-1].nextSibling;N.insertBefore(F,q)}var O=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function A(N){var F=Object.create(null);return function(q){var he=F[q];return he||(F[q]=N(q))}}var P=/-(\w)/g,$=A(function(N){return N.replace(P,function(F,V){return V.toUpperCase()})});o("5db7"),o("73d9");var z=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],U=["Move"],J=[U,z,D].flatMap(function(N){return N}).map(function(N){return"on".concat(N)}),be={manage:U,manageAndEmit:z,emit:D};function Ge(N){return J.indexOf(N)!==-1}o("caad"),o("2ca0");var ue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function G(N){return ue.includes(N)}function oe(N){return["transition-group","TransitionGroup"].includes(N)}function Xe(N){return["id","class","role","style"].includes(N)||N.startsWith("data-")||N.startsWith("aria-")||N.startsWith("on")}function at(N){return N.reduce(function(F,V){var q=b(V,2),he=q[0],Oe=q[1];return F[he]=Oe,F},{})}function $e(N){var F=N.$attrs,V=N.componentData,q=V===void 0?{}:V,he=at(Object.entries(F).filter(function(Oe){var je=b(Oe,2),Fe=je[0];return je[1],Xe(Fe)}));return f(f({},he),q)}function H(N){var F=N.$attrs,V=N.callBackBuilder,q=at(de(F));Object.entries(V).forEach(function(Oe){var je=b(Oe,2),Fe=je[0],mt=je[1];be[Fe].forEach(function(Re){q["on".concat(Re)]=mt(Re)})});var he="[data-draggable]".concat(q.draggable||"");return f(f({},q),{},{draggable:he})}function de(N){return Object.entries(N).filter(function(F){var V=b(F,2),q=V[0];return V[1],!Xe(q)}).map(function(F){var V=b(F,2),q=V[0],he=V[1];return[$(q),he]}).filter(function(F){var V=b(F,2),q=V[0];return V[1],!Ge(q)})}o("c740");function ie(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function ye(N,F){for(var V=0;V<F.length;V++){var q=F[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(N,q.key,q)}}function et(N,F,V){return ye(N.prototype,F),N}var ft=function(F){var V=F.el;return V},M=function(F,V){return F.__draggable_context=V},I=function(F){return F.__draggable_context},j=function(){function N(F){var V=F.nodes,q=V.header,he=V.default,Oe=V.footer,je=F.root,Fe=F.realList;ie(this,N),this.defaultNodes=he,this.children=[].concat(k(q),k(he),k(Oe)),this.externalComponent=je.externalComponent,this.rootTransition=je.transition,this.tag=je.tag,this.realList=Fe}return et(N,[{key:"render",value:function(V,q){var he=this.tag,Oe=this.children,je=this._isRootComponent,Fe=je?{default:function(){return Oe}}:Oe;return V(he,q,Fe)}},{key:"updated",value:function(){var V=this.defaultNodes,q=this.realList;V.forEach(function(he,Oe){M(ft(he),{element:q[Oe],index:Oe})})}},{key:"getUnderlyingVm",value:function(V){return I(V)}},{key:"getVmIndexFromDomIndex",value:function(V,q){var he=this.defaultNodes,Oe=he.length,je=q.children,Fe=je.item(V);if(Fe===null)return Oe;var mt=I(Fe);if(mt)return mt.index;if(Oe===0)return 0;var Re=ft(he[0]),Ee=k(je).findIndex(function(De){return De===Re});return V<Ee?0:Oe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),N}(),Y=o("8bbf");function W(N,F){var V=N[F];return V?V():[]}function Z(N){var F=N.$slots,V=N.realList,q=N.getKey,he=V||[],Oe=["header","footer"].map(function(De){return W(F,De)}),je=b(Oe,2),Fe=je[0],mt=je[1],Re=F.item;if(!Re)throw new Error("draggable element must have an item slot");var Ee=he.flatMap(function(De,lt){return Re({element:De,index:lt}).map(function(ht){return ht.key=q(De),ht.props=f(f({},ht.props||{}),{},{"data-draggable":!0}),ht})});if(Ee.length!==he.length)throw new Error("Item slot must have only one child");return{header:Fe,footer:mt,default:Ee}}function fe(N){var F=oe(N),V=!G(N)&&!F;return{transition:F,externalComponent:V,tag:V?Object(Y.resolveComponent)(N):F?Y.TransitionGroup:N}}function se(N){var F=N.$slots,V=N.tag,q=N.realList,he=N.getKey,Oe=Z({$slots:F,realList:q,getKey:he}),je=fe(V);return new j({nodes:Oe,root:je,realList:q})}function re(N,F){var V=this;Object(Y.nextTick)(function(){return V.$emit(N.toLowerCase(),F)})}function ee(N){var F=this;return function(V,q){if(F.realList!==null)return F["onDrag".concat(N)](V,q)}}function Te(N){var F=this,V=ee.call(this,N);return function(q,he){V.call(F,q,he),re.call(F,N,q)}}var pe=null,we={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(F){return F}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Me=["update:modelValue","change"].concat(k([].concat(k(be.manageAndEmit),k(be.emit)).map(function(N){return N.toLowerCase()}))),Ye=Object(Y.defineComponent)({name:"draggable",inheritAttrs:!1,props:we,emits:Me,data:function(){return{error:!1}},render:function(){try{this.error=!1;var F=this.$slots,V=this.$attrs,q=this.tag,he=this.componentData,Oe=this.realList,je=this.getKey,Fe=se({$slots:F,tag:q,realList:Oe,getKey:je});this.componentStructure=Fe;var mt=$e({$attrs:V,componentData:he});return Fe.render(Y.h,mt)}catch(Re){return this.error=!0,Object(Y.h)("pre",{style:{color:"red"}},Re.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&O.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var F=this;if(!this.error){var V=this.$attrs,q=this.$el,he=this.componentStructure;he.updated();var Oe=H({$attrs:V,callBackBuilder:{manageAndEmit:function(mt){return Te.call(F,mt)},emit:function(mt){return re.bind(F,mt)},manage:function(mt){return ee.call(F,mt)}}}),je=q.nodeType===1?q:q.parentElement;this._sortable=new C.a(je,Oe),this.targetDomElement=je,je.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var F=this.list;return F||this.modelValue},getKey:function(){var F=this.itemKey;return typeof F=="function"?F:function(V){return V[F]}}},watch:{$attrs:{handler:function(F){var V=this._sortable;V&&de(F).forEach(function(q){var he=b(q,2),Oe=he[0],je=he[1];V.option(Oe,je)})},deep:!0}},methods:{getUnderlyingVm:function(F){return this.componentStructure.getUnderlyingVm(F)||null},getUnderlyingPotencialDraggableComponent:function(F){return F.__draggable_component__},emitChanges:function(F){var V=this;Object(Y.nextTick)(function(){return V.$emit("change",F)})},alterList:function(F){if(this.list){F(this.list);return}var V=k(this.modelValue);F(V),this.$emit("update:modelValue",V)},spliceList:function(){var F=arguments,V=function(he){return he.splice.apply(he,k(F))};this.alterList(V)},updatePosition:function(F,V){var q=function(Oe){return Oe.splice(V,0,Oe.splice(F,1)[0])};this.alterList(q)},getRelatedContextFromMoveEvent:function(F){var V=F.to,q=F.related,he=this.getUnderlyingPotencialDraggableComponent(V);if(!he)return{component:he};var Oe=he.realList,je={list:Oe,component:he};if(V!==q&&Oe){var Fe=he.getUnderlyingVm(q)||{};return f(f({},Fe),je)}return je},getVmIndexFromDomIndex:function(F){return this.componentStructure.getVmIndexFromDomIndex(F,this.targetDomElement)},onDragStart:function(F){this.context=this.getUnderlyingVm(F.item),F.item._underlying_vm_=this.clone(this.context.element),pe=F.item},onDragAdd:function(F){var V=F.item._underlying_vm_;if(V!==void 0){E(F.item);var q=this.getVmIndexFromDomIndex(F.newIndex);this.spliceList(q,0,V);var he={element:V,newIndex:q};this.emitChanges({added:he})}},onDragRemove:function(F){if(_(this.$el,F.item,F.oldIndex),F.pullMode==="clone"){E(F.clone);return}var V=this.context,q=V.index,he=V.element;this.spliceList(q,1);var Oe={element:he,oldIndex:q};this.emitChanges({removed:Oe})},onDragUpdate:function(F){E(F.item),_(F.from,F.item,F.oldIndex);var V=this.context.index,q=this.getVmIndexFromDomIndex(F.newIndex);this.updatePosition(V,q);var he={element:this.context.element,oldIndex:V,newIndex:q};this.emitChanges({moved:he})},computeFutureIndex:function(F,V){if(!F.element)return 0;var q=k(V.to.children).filter(function(Fe){return Fe.style.display!=="none"}),he=q.indexOf(V.related),Oe=F.component.getVmIndexFromDomIndex(he),je=q.indexOf(pe)!==-1;return je||!V.willInsertAfter?Oe:Oe+1},onDragMove:function(F,V){var q=this.move,he=this.realList;if(!q||!he)return!0;var Oe=this.getRelatedContextFromMoveEvent(F),je=this.computeFutureIndex(Oe,F),Fe=f(f({},this.context),{},{futureIndex:je}),mt=f(f({},F),{},{relatedContext:Oe,draggedContext:Fe});return q(mt,V)},onDragEnd:function(){pe=null}}}),gt=Ye;i.default=gt},fb6a:function(r,i,o){var a=o("23e7"),l=o("861d"),c=o("e8b5"),u=o("23cb"),d=o("50c4"),f=o("fc6a"),h=o("8418"),p=o("b622"),g=o("1dde"),m=o("ae40"),y=g("slice"),b=m("slice",{ACCESSORS:!0,0:0,1:2}),x=p("species"),S=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!y||!b},{slice:function(T,C){var E=f(this),_=d(E.length),O=u(T,_),A=u(C===void 0?_:C,_),P,$,z;if(c(E)&&(P=E.constructor,typeof P=="function"&&(P===Array||c(P.prototype))?P=void 0:l(P)&&(P=P[x],P===null&&(P=void 0)),P===Array||P===void 0))return S.call(E,O,A);for($=new(P===void 0?Array:P)(w(A-O,0)),z=0;O<A;O++,z++)O in E&&h($,z,E[O]);return $.length=z,$}})},fc6a:function(r,i,o){var a=o("44ad"),l=o("1d80");r.exports=function(c){return a(l(c))}},fdbc:function(r,i){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(r,i,o){var a=o("4930");r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(Zf)),Zf.exports}var BU=jU();const VU=FT(BU),zU={class:"flex flex-col items-center gap-4 p-4 min-h-screen dark:bg-gray-900"},UU={class:"mr-12 flex items-center gap-4 relative"},HU={key:0,id:"tips",class:"bg-bg-accent-dark p-4 rounded-lg shadow-md shadow-black flex flex-col gap-3 absolute left-12 top-0 z-50"},WU={class:"grid grid-cols-3 gap-4"},KU={class:"flex justify-center"},GU={class:"text-center text-white"},XU={class:"relative"},JU={key:0,class:"transition-opacity duration-300"},YU={key:1,class:"absolute inset-0 flex items-center justify-center"},qU={key:0,class:"text-center text-zinc-800 dark:text-gray-400 mt-4"},QU={key:1,class:"mt-10 w-full px-4 flex justify-center"},ZU={key:0},eH={class:"flex items-center gap-2 mb-2"},tH={key:0,class:"overflow-x-auto pb-4"},nH={class:"flex gap-4 min-h-[200px]"},sH=Ke({__name:"KanbanBoard",props:{projectId:{type:String,required:!0,default:""},projectName:{type:String,required:!0,default:""}},setup(n){const e=B(!1),t=js(),r=wi().query.projectId,i=B([]),o=B({}),a=B(!1),l=B([]);let c=0;const u=(_,O="success")=>{const A=`notify-${c++}`;l.value.unshift({id:A,message:_,type:O}),l.value.length>5&&l.value.pop(),setTimeout(()=>{d(A)},3e3)},d=_=>{l.value=l.value.filter(O=>O.id!==_)},f=async _=>{i.value.find(O=>O.id===_)},h=async _=>{o.value[_]=!0;const O=i.value.find(A=>A.id===_);if(O)try{await _e.deleteTask(_),i.value=i.value.filter(A=>A.id!==_),u(`Задача "${O.name}" удалена`,"success")}catch(A){u("Ошибка удаления задачи","error"),console.error("Ошибка при удалении задачи:",A)}},p=async _=>{try{const O=i.value.find(A=>A.id===_);if(O){const A=!O.isVisible;await _e.updateTask(_,{isVisible:A}),O.isVisible=A,u(`Задача "${O.name}" ${A?"снова доступна":"теперь скрыта"}`,"success")}}catch(O){u("Ошибка скрытия задачи","error"),console.error("Ошибка при изменении состояния задачи:",O)}},g=xt(()=>i.value.filter(_=>!_.isVisible)),m=async _=>{try{const O=i.value.find(A=>A.id===_);if(O){const A=!O.isFrozen;await _e.updateTask(_,{isFrozen:A}),O.isFrozen=A,u(`Задача "${O.name}" ${A?"заморожена":"разморожена"}`,"success")}}catch(O){u("Ошибка заморозки задачи","error"),console.error("Ошибка при изменении состояния задачи:",O)}},y=n,b=Ba([{id:"planned",title:"Запланировано",icon:"fa-regular fa-calendar"},{id:"progress",title:"В работе",icon:"fa-solid fa-bars-staggered"},{id:"done",title:"Завершено",icon:"fa-solid fa-check"}]),x=xt(()=>{const _={planned:[],progress:[],done:[]};return i.value.filter(O=>O.isVisible).forEach(O=>{_[O.status].push(O)}),_}),S=async()=>{r&&(i.value=await _e.fetchTasks(r))},w=()=>{t.push({name:"create-task",query:{id:y.projectId,name:y.projectName}})},k=_=>!_.draggedContext.element.isFrozen,T=async(_,O)=>{const{added:A,moved:P}=_,$=(A==null?void 0:A.element)||(P==null?void 0:P.element);$&&($.status=O,await _e.updateTask($.id,{status:O}))},C=_=>{const{related:O}=_,A=O.element;i.value.forEach(P=>P.isIndicator=!1),A&&(A.isIndicator=!0)},E=()=>{i.value.forEach(_=>_.isIndicator=!1)};return zt(async()=>{await S()}),(_,O)=>(R(),L(Pe,null,[v("div",zU,[O[6]||(O[6]=v("div",{class:"flex flex-col items-center gap-1"},[v("span",{class:"text-sm text-zinc-700 dark:text-gray-400"},"Перемещайте задачи между колонками с помощью перетаскивания"),v("span",{class:"text-sm text-zinc-700 dark:text-gray-400"},"Для более подробного просмотра задач нажмите на задачу")],-1)),v("div",{class:"flex gap-6 items-center justify-center"},[O[3]||(O[3]=v("span",{class:"text-zinc-900 dark:text-white"},"Добавить задачу",-1)),v("button",{onClick:w,class:"w-12 h-8 flex items-center justify-center text-xl cursor-pointer border-2 border-gray-700 rounded-lg hover:border-blue-500 hover:text-blue-500 transition-colors"}," + ")]),v("div",UU,[v("i",{id:"info",class:"fa-solid fa-circle-info text-2xl text-zinc-700 flex justify-center items-center w-8 h-8 rounded-full hover:bg-gray-700 hover:text-zinc-500 duration-150",onMouseenter:O[0]||(O[0]=A=>e.value=!0),onMouseleave:O[1]||(O[1]=A=>e.value=!1)},null,32),le(yn,{name:"fade"},{default:Ht(()=>[e.value?(R(),L("div",HU,O[4]||(O[4]=[v("div",{class:"flex items-center gap-2"},[v("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[v("i",{class:"fa-solid fa-pen-to-square text-gray-400"})]),v("span",{class:"text-sm text-gray-400"},"Редактировать задачу")],-1),v("div",{class:"flex items-center gap-2"},[v("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[v("i",{class:"fa-solid fa-snowflake text-gray-400"})]),v("span",{class:"text-sm text-gray-400"},"Заморозить задачу")],-1),v("div",{class:"flex items-center gap-2"},[v("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[v("i",{class:"fa-solid fa-eye-slash text-gray-400"})]),v("span",{class:"text-sm text-gray-400"},"Скрыть задачу")],-1),v("div",{class:"flex items-center gap-2"},[v("button",{class:"hover:bg-gray-600 w-8 h-8 flex items-center justify-center rounded-full duration-150"},[v("i",{class:"fa-regular fa-trash-can text-gray-400"})]),v("span",{class:"text-sm text-gray-400"},"Удалить задачу")],-1)]))):Ce("",!0)]),_:1}),v("div",WU,[(R(!0),L(Pe,null,Et(b,A=>(R(),L("div",{key:A.id,class:"flex-1 bg-zinc-500 dark:bg-gray-800 rounded-lg p-4 shadow-md shadow-black flex flex-col min-h-[600px] max-h-[600px] min-w-[450px]"},[v("div",KU,[v("i",{class:ke([A.icon,"text-3xl text-gray-400 mb-2"])},null,2)]),v("h3",GU,ae(A.title),1),le(te(VU),{list:x.value[A.id],move:k,group:"tasks","item-key":"id",class:"mt-10 flex flex-col gap-2 p-4 overflow-y-auto flex-1 custom-scrollbar",onChange:P=>T(P,A.id),onMove:C,onEnd:E},{item:Ht(({element:P})=>[le(yn,{name:"fade"},{default:Ht(()=>[v("div",XU,[o.value[P.id]?Ce("",!0):(R(),L("div",JU,[le(te(tk),{task:P,onHide:p,onFreeze:m,onDelete:h,class:ke([{"border-indicator":P.isIndicator},"cursor-move"])},null,8,["task","class"])])),o.value[P.id]?(R(),L("div",YU,[le(te(Ad))])):Ce("",!0)])]),_:2},1024)]),_:2},1032,["list","onChange"])]))),128))])]),i.value.length===0?(R(),L("div",qU," В этом проекте пока нет задач. Нажмите на кнопку выше, чтобы добавить новую задачу. ")):Ce("",!0),i.value.length>0?(R(),L("div",QU,[g.value.length>0?(R(),L("div",ZU,[v("div",eH,[O[5]||(O[5]=v("span",{class:"text-2xl text-zinc-800 dark:text-gray-300"},"Скрытые задачи",-1)),v("button",{onClick:O[2]||(O[2]=A=>a.value=!a.value),class:"text-gray-400 hover:text-white transition-colors"},[v("i",{class:ke(a.value?"fa-solid fa-chevron-down":"fa-solid fa-chevron-up")},null,2)])]),le(yn,{name:"slide"},{default:Ht(()=>[a.value?(R(),L("div",tH,[v("div",nH,[(R(!0),L(Pe,null,Et(g.value,A=>(R(),Qn(te(tk),{key:A.id,task:A,class:"flex-shrink-0 w-72",onEdit:f,onHide:p,onFreeze:m,onDelete:h},null,8,["task"]))),128))])])):Ce("",!0)]),_:1})])):Ce("",!0)])):Ce("",!0)]),le(te(Gb),{notifications:l.value,onClose:d},null,8,["notifications"])],64))}}),rH={class:"flex items-center justify-center bg-gray-200 dark:bg-bg-accent-dark rounded-md hover:bg-zinc-600 duration-150"},iH={class:"inline-block text-[12px] truncate max-w-[90%]"},Cv=Ke({__name:"Label",props:{label:{type:String,required:!0}},setup(n){return(e,t)=>(R(),L("div",rH,[v("span",iH,ae(n.label),1)]))}}),hA=n=>{switch(n){case"pdf":return"fa-solid fa-file-pdf";case"doc":case"docx":return"fa-solid fa-file-word";case"xls":case"xlsx":return"fa-solid fa-file-excel";case"jpg":case"jpeg":case"png":case"gif":return"fa-solid fa-file-image";case"txt":return"fa-solid fa-file-lines";case"cpp":case"py":case"js":case"ts":case"kt":case"dart":case"cs":case"java":return"fa-solid fa-file-code";case"rar":case"zip":return"fa-solid fa-file-zipper";case"mp4":return"fa-solid fa-file-video";case"mp3":return"fa-solid fa-file-audio";default:return"fa-solid fa-file"}},oH={key:0,class:"fixed inset-0 w-full max-w-[420px] bg-neutral-800 shadow-2xl z-50 overflow-y-auto border-r-2 border-neutral-700 animate-glow"},aH={class:"sticky top-0 bg-neutral-800/90 backdrop-blur-sm z-10 p-6 pb-4 border-b border-neutral-700"},lH={class:"flex justify-between items-start gap-4"},cH={class:"text-2xl font-bold text-white truncate drop-shadow-md"},uH={class:"flex gap-2 mt-3 flex-wrap"},dH={class:"p-6 space-y-6"},fH={class:"space-y-2"},hH=["innerHTML"],pH={class:"space-y-3"},gH={class:"space-y-2"},mH={class:"flex justify-between items-center hover:bg-neutral-700/30 p-2 rounded transition-colors duration-200"},yH={class:"text-neutral-300 font-medium"},bH={key:0,class:"flex justify-between items-center hover:bg-neutral-700/30 p-2 rounded transition-colors duration-200"},vH={key:0,class:"ml-1 text-xs text-red-400 animate-pulse"},xH={key:0,class:"space-y-3"},wH={class:"grid grid-cols-[repeat(auto-fill,minmax(100px,1fr))] gap-2"},SH={class:"space-y-3"},EH={key:0,class:"flex items-center justify-center py-4"},kH={key:1,class:"bg-red-900/20 border border-red-800/50 rounded-lg p-3 text-center animate-fade-in"},_H={key:2,class:"text-center py-4 text-neutral-500 text-sm animate-fade-in"},TH={key:3,class:"space-y-2 animate-fade-in"},CH={class:"flex-1 min-w-0"},OH={class:"text-sm font-medium text-neutral-300 truncate"},AH={class:"text-xs text-neutral-500"},MH=["onClick","title"],IH=Ke({__name:"TaskDetail",props:{task:{type:Object,required:!0},isOpen:{type:Boolean}},emits:["close"],setup(n,{emit:e}){const t=n,s=B([]),r=B(!1),i=B(!1),o=m=>{var y;return((y=m.split(".").pop())==null?void 0:y.toLowerCase())||"file"},a=m=>{const y=["jpg","jpeg","png","gif","webp"],b=["zip","rar","7z","tar","gz"],x=["pdf","doc","docx","xls","xlsx","ppt","pptx"],S=["js","ts","html","css","json","xml"];return y.includes(m)?"bg-blue-500/20 group-hover:bg-blue-500/30":b.includes(m)?"bg-purple-500/20 group-hover:bg-purple-500/30":x.includes(m)?"bg-emerald-500/20 group-hover:bg-emerald-500/30":S.includes(m)?"bg-amber-500/20 group-hover:bg-amber-500/30":"bg-neutral-700 group-hover:bg-neutral-600"},l={planned:"Запланировано",progress:"В работе",done:"Завершено"},c=m=>l[m]||m,u=m=>{switch(m){case 1:return"Низкий";case 2:return"Средний";case 3:return"Высокий";default:return"Не указан"}},d=m=>new Date(m).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),f=m=>new Date(m)<new Date,h=m=>m?m<1024?`${m} Б`:m<1048576?`${(m/1024).toFixed(1)} КБ`:`${(m/1048576).toFixed(1)} МБ`:"Неизвестный размер",p=async m=>{try{const y=document.createElement("a");y.href=m.url,y.download=m.name,document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(y){console.error("Ошибка скачивания файла:",y)}},g=async()=>{try{r.value=!0,i.value=!1;const m=await _e.fetchTaskFiles(t.task.projectId,t.task.id);s.value=m.map(y=>({...y,size:y.size||0}))}catch(m){i.value=!0,console.error("Attachment loading failed:",m)}finally{r.value=!1}};return sn(()=>t.task,async m=>{m&&t.isOpen&&await g()},{immediate:!0}),sn(()=>t.isOpen,m=>{m&&g()}),(m,y)=>(R(),L(Pe,null,[le(yn,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Ht(()=>[n.isOpen?(R(),L("div",{key:0,onClick:y[0]||(y[0]=b=>m.$emit("close")),class:"fixed inset-0 z-40 backdrop-blur-sm bg-black/30"})):Ce("",!0)]),_:1}),le(yn,{"enter-active-class":"transition-transform duration-300 ease-out","leave-active-class":"transition-transform duration-200 ease-in","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:Ht(()=>{var b;return[n.isOpen?(R(),L("div",oH,[v("div",aH,[v("div",lH,[v("h2",cH,ae(n.task.name),1),v("button",{onClick:y[1]||(y[1]=x=>m.$emit("close")),class:"flex-shrink-0 p-1 text-neutral-400 hover:text-white transition-all duration-200 rounded-full hover:bg-neutral-700 active:scale-90"},y[2]||(y[2]=[v("i",{class:"fa-solid fa-xmark text-xl"},null,-1)]))]),v("div",uH,[v("span",{class:ke(["px-3 py-1 rounded-full text-xs font-medium tracking-wide transition-all duration-200",{"bg-neutral-700 text-neutral-300 hover:bg-neutral-600":n.task.status==="planned","bg-amber-500/20 text-amber-400 hover:bg-amber-500/30":n.task.status==="progress","bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":n.task.status==="done"}])},ae(c(n.task.status)),3),v("span",{class:ke(["px-3 py-1 rounded-full text-xs font-medium tracking-wide transition-all duration-200",{"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":n.task.priority===1,"bg-amber-500/20 text-amber-400 hover:bg-amber-500/30":n.task.priority===2,"bg-red-500/20 text-red-400 hover:bg-red-500/30":n.task.priority===3}])},ae(u(n.task.priority)),3)])]),v("div",dH,[v("div",fH,[y[3]||(y[3]=v("h3",{class:"text-sm font-semibold text-neutral-400 uppercase tracking-wider"},"Описание",-1)),v("div",{class:"text-neutral-300 prose prose-invert prose-sm break-words bg-neutral-700/50 rounded-lg p-4 transition-all duration-200 hover:bg-neutral-700/70",innerHTML:n.task.description||"<p class='text-neutral-500'>Нет описания</p>"},null,8,hH)]),v("div",pH,[y[6]||(y[6]=v("h3",{class:"text-sm font-semibold text-neutral-400 uppercase tracking-wider"},"Даты",-1)),v("div",gH,[v("div",mH,[y[4]||(y[4]=v("span",{class:"text-neutral-400"},"Создана:",-1)),v("span",yH,ae(d(n.task.createdAt)),1)]),n.task.deadline?(R(),L("div",bH,[y[5]||(y[5]=v("span",{class:"text-neutral-400"},"Дедлайн:",-1)),v("span",{class:ke(["font-medium",f(n.task.deadline)?"text-red-400":"text-neutral-300"])},[Xn(ae(d(n.task.deadline))+" ",1),f(n.task.deadline)?(R(),L("span",vH," (просрочено) ")):Ce("",!0)],2)])):Ce("",!0)])]),(b=n.task.labels)!=null&&b.length?(R(),L("div",xH,[y[7]||(y[7]=v("h3",{class:"text-sm font-semibold text-neutral-400 uppercase tracking-wider"},"Метки",-1)),v("div",wH,[(R(!0),L(Pe,null,Et(n.task.labels,x=>(R(),Qn(te(Cv),{key:x,label:x,class:"h-7 transition-transform duration-200 hover:scale-105"},null,8,["label"]))),128))])])):Ce("",!0),v("div",SH,[y[11]||(y[11]=v("h3",{class:"text-sm font-semibold text-neutral-400 uppercase tracking-wider"},"Вложения",-1)),r.value?(R(),L("div",EH,y[8]||(y[8]=[v("div",{class:"animate-spin text-neutral-500"},[v("i",{class:"fa-solid fa-spinner"})],-1),v("span",{class:"ml-2 text-neutral-400 animate-pulse"},"Загрузка файлов...",-1)]))):i.value?(R(),L("div",kH,[y[9]||(y[9]=v("p",{class:"text-red-400 text-sm"},"Ошибка загрузки файлов",-1)),v("button",{onClick:g,class:"mt-2 text-xs text-red-300 hover:text-white underline transition-colors duration-200"}," Попробовать снова ")])):s.value.length?(R(),L("ul",TH,[le(bb,{name:"list"},{default:Ht(()=>[(R(!0),L(Pe,null,Et(s.value,(x,S)=>(R(),L("li",{key:S,class:"group flex items-center gap-3 p-2 rounded-lg hover:bg-neutral-700/50 transition-all duration-200 hover:shadow-lg"},[v("div",{class:ke(["flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-300 group-hover:scale-110",a(o(x.name))])},[v("i",{class:ke([te(hA)(o(x.name)),"text-lg text-white/80 transition-transform duration-300 group-hover:scale-125"])},null,2)],2),v("div",CH,[v("p",OH,ae(x.name),1),v("p",AH,ae(h(x.size)),1)]),v("button",{onClick:ln(w=>p(x),["stop"]),class:"opacity-0 group-hover:opacity-100 transition-all duration-300 p-2 text-neutral-400 hover:text-white hover:bg-neutral-600/50 rounded-full",title:`Скачать ${x.name}`},y[10]||(y[10]=[v("i",{class:"fa-solid fa-download"},null,-1)]),8,MH)]))),128))]),_:1})])):(R(),L("div",_H," Нет прикрепленных файлов "))])])])):Ce("",!0)]}),_:1})],64))}}),PH=Cn(IH,[["__scopeId","data-v-16428cf5"]]);function In(n){this.content=n}In.prototype={constructor:In,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var s=t&&t!=n?this.remove(t):this,r=s.find(n),i=s.content.slice();return r==-1?i.push(t||n,e):(i[r+1]=e,t&&(i[r]=t)),new In(i)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new In(t)},addToStart:function(n,e){return new In([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new In(t)},addBefore:function(n,e,t){var s=this.remove(e),r=s.content.slice(),i=s.find(n);return r.splice(i==-1?r.length:i,0,e,t),new In(r)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=In.from(n),n.size?new In(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=In.from(n),n.size?new In(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=In.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};In.from=function(n){if(n instanceof In)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new In(e)};function pA(n,e,t){for(let s=0;;s++){if(s==n.childCount||s==e.childCount)return n.childCount==e.childCount?null:t;let r=n.child(s),i=e.child(s);if(r==i){t+=r.nodeSize;continue}if(!r.sameMarkup(i))return t;if(r.isText&&r.text!=i.text){for(let o=0;r.text[o]==i.text[o];o++)t++;return t}if(r.content.size||i.content.size){let o=pA(r.content,i.content,t+1);if(o!=null)return o}t+=r.nodeSize}}function gA(n,e,t,s){for(let r=n.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:t,b:s};let o=n.child(--r),a=e.child(--i),l=o.nodeSize;if(o==a){t-=l,s-=l;continue}if(!o.sameMarkup(a))return{a:t,b:s};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,s--;return{a:t,b:s}}if(o.content.size||a.content.size){let c=gA(o.content,a.content,t-1,s-1);if(c)return c}t-=l,s-=l}}class Q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,t,s,r=0,i){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&s(l,r+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),s,r+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,s,r){let i="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&s&&(o?o=!1:i+=s),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,s=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(s)&&(r[r.length-1]=t.withText(t.text+s.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new Q(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let s=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),s.push(a),r+=a.nodeSize),o=l}return new Q(s,r)}cutByIndex(e,t){return e==t?Q.empty:e==0&&t==this.content.length?this:new Q(this.content.slice(e,t))}replaceChild(e,t){let s=this.content[e];if(s==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-s.nodeSize;return r[e]=t,new Q(r,i)}addToStart(e){return new Q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,s=0;t<this.content.length;t++){let r=this.content[t];e(r,s,t),s+=r.nodeSize}}findDiffStart(e,t=0){return pA(this,e,t)}findDiffEnd(e,t=this.size,s=e.size){return gA(this,e,t,s)}findIndex(e,t=-1){if(e==0)return Of(0,e);if(e==this.size)return Of(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,r=0;;s++){let i=this.child(s),o=r+i.nodeSize;if(o>=e)return o==e||t>0?Of(s+1,o):Of(s,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Q.empty;let t,s=0;for(let r=0;r<e.length;r++){let i=e[r];s+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new Q(t||e,s)}static from(e){if(!e)return Q.empty;if(e instanceof Q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Q.empty=new Q([],0);const Fm={index:0,offset:0};function Of(n,e){return Fm.index=n,Fm.offset=e,Fm}function qh(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(!qh(n[s],e[s]))return!1}else{for(let s in n)if(!(s in e)||!qh(n[s],e[s]))return!1;for(let s in e)if(!(s in n))return!1}return!0}let Tt=class g0{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,s=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!s&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),s=!0),t&&t.push(i)}}return t||(t=e.slice()),s||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[t.type];if(!s)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=s.create(t.attrs);return s.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(t[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return g0.none;if(e instanceof g0)return[e];let t=e.slice();return t.sort((s,r)=>s.type.rank-r.type.rank),t}};Tt.none=[];class Qh extends Error{}class me{constructor(e,t,s){this.content=e,this.openStart=t,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let s=yA(this.content,e+this.openStart,t);return s&&new me(s,this.openStart,this.openEnd)}removeBetween(e,t){return new me(mA(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return me.empty;let s=t.openStart||0,r=t.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(Q.fromJSON(e,t.content),s,r)}static maxOpen(e,t=!0){let s=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)s++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new me(e,s,r)}}me.empty=new me(Q.empty,0,0);function mA(n,e,t){let{index:s,offset:r}=n.findIndex(e),i=n.maybeChild(s),{index:o,offset:a}=n.findIndex(t);if(r==e||i.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(s!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(s,i.copy(mA(i.content,e-r-1,t-r-1)))}function yA(n,e,t,s){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r);if(i==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=yA(o.content,e-i-1,t);return a&&n.replaceChild(r,o.copy(a))}function DH(n,e,t){if(t.openStart>n.depth)throw new Qh("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Qh("Inconsistent open depths");return bA(n,e,t,0)}function bA(n,e,t,s){let r=n.index(s),i=n.node(s);if(r==e.index(s)&&s<n.depth-t.openStart){let o=bA(n,e,t,s+1);return i.copy(i.content.replaceChild(r,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==s&&e.depth==s){let o=n.parent,a=o.content;return Sa(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=RH(t,n);return Sa(i,xA(n,o,a,e,s))}else return Sa(i,Zh(n,e,s))}function vA(n,e){if(!e.type.compatibleContent(n.type))throw new Qh("Cannot join "+e.type.name+" onto "+n.type.name)}function m0(n,e,t){let s=n.node(t);return vA(s,e.node(t)),s}function wa(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function bu(n,e,t,s){let r=(e||n).node(t),i=0,o=e?e.index(t):r.childCount;n&&(i=n.index(t),n.depth>t?i++:n.textOffset&&(wa(n.nodeAfter,s),i++));for(let a=i;a<o;a++)wa(r.child(a),s);e&&e.depth==t&&e.textOffset&&wa(e.nodeBefore,s)}function Sa(n,e){return n.type.checkContent(e),n.copy(e)}function xA(n,e,t,s,r){let i=n.depth>r&&m0(n,e,r+1),o=s.depth>r&&m0(t,s,r+1),a=[];return bu(null,n,r,a),i&&o&&e.index(r)==t.index(r)?(vA(i,o),wa(Sa(i,xA(n,e,t,s,r+1)),a)):(i&&wa(Sa(i,Zh(n,e,r+1)),a),bu(e,t,r,a),o&&wa(Sa(o,Zh(t,s,r+1)),a)),bu(s,null,r,a),new Q(a)}function Zh(n,e,t){let s=[];if(bu(null,n,t,s),n.depth>t){let r=m0(n,e,t+1);wa(Sa(r,Zh(n,e,t+1)),s)}return bu(e,null,t,s),new Q(s)}function RH(n,e){let t=e.depth-n.openStart,r=e.node(t).copy(n.content);for(let i=t-1;i>=0;i--)r=e.node(i).copy(Q.from(r));return{start:r.resolveNoCache(n.openStart+t),end:r.resolveNoCache(r.content.size-n.openEnd-t)}}class td{constructor(e,t,s){this.pos=e,this.path=t,this.parentOffset=s,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=e.child(t);return s?e.child(t).cut(s):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let s=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let i=0;i<e;i++)r+=s.child(i).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Tt.none;if(this.textOffset)return e.child(t).marks;let s=e.maybeChild(t-1),r=e.maybeChild(t);if(!s){let a=s;s=r,r=a}let i=s.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let s=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!r||!s[i].isInSet(r.marks))&&(s=s[i--].removeFromSet(s));return s}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!t||t(this.node(s))))return new ep(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let s=[],r=0,i=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(s.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;i=c-1,r+=l+1}return new td(t,s,i)}static resolveCached(e,t){let s=RS.get(e);if(s)for(let i=0;i<s.elts.length;i++){let o=s.elts[i];if(o.pos==t)return o}else RS.set(e,s=new NH);let r=s.elts[s.i]=td.resolve(e,t);return s.i=(s.i+1)%LH,r}}class NH{constructor(){this.elts=[],this.i=0}}const LH=12,RS=new WeakMap;class ep{constructor(e,t,s){this.$from=e,this.$to=t,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $H=Object.create(null);let go=class y0{constructor(e,t,s,r=Tt.none){this.type=e,this.attrs=t,this.marks=r,this.content=s||Q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,s,r=0){this.content.nodesBetween(e,t,s,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,s,r){return this.content.textBetween(e,t,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,s){return this.type==e&&qh(this.attrs,t||e.defaultAttrs||$H)&&Tt.sameSet(this.marks,s||Tt.none)}copy(e=null){return e==this.content?this:new y0(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new y0(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,s=!1){if(e==t)return me.empty;let r=this.resolve(e),i=this.resolve(t),o=s?0:r.sharedDepth(t),a=r.start(o),c=r.node(o).content.cut(r.pos-a,i.pos-a);return new me(c,r.depth-o,i.depth-o)}replace(e,t,s){return DH(this.resolve(e),this.resolve(t),s)}nodeAt(e){for(let t=this;;){let{index:s,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(s),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(t),index:t,offset:s};let r=this.content.child(t-1);return{node:r,index:t-1,offset:s-r.nodeSize}}resolve(e){return td.resolveCached(this,e)}resolveNoCache(e){return td.resolve(this,e)}rangeHasMark(e,t,s){let r=!1;return t>e&&this.nodesBetween(e,t,i=>(s.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wA(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,s=Q.empty,r=0,i=s.childCount){let o=this.contentMatchAt(e).matchFragment(s,r,i),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=r;l<i;l++)if(!this.type.allowsMarks(s.child(l).marks))return!1;return!0}canReplaceWith(e,t,s,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(s),o=i&&i.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Tt.none;for(let t=0;t<this.marks.length;t++){let s=this.marks[t];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!Tt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let s;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,s)}let r=Q.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,r,s);return i.type.checkAttrs(i.attrs),i}};go.prototype.text=void 0;class tp extends go{constructor(e,t,s,r){if(super(e,t,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tp(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wA(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ra{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let s=new FH(e,t);if(s.next==null)return Ra.empty;let r=SA(s);s.next&&s.err("Unexpected trailing text");let i=WH(HH(r));return KH(i,s),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,s=e.childCount){let r=this;for(let i=t;r&&i<s;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let s=0;s<e.next.length;s++)if(this.next[t].type==e.next[s].type)return!0;return!1}fillBefore(e,t=!1,s=0){let r=[this];function i(o,a){let l=o.matchFragment(e,s);if(l&&(!t||l.validEnd))return Q.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),i=r.match;if(i.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!r.type||l.validEnd)&&(s.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(s){e.push(s);for(let r=0;r<s.next.length;r++)e.indexOf(s.next[r].next)==-1&&t(s.next[r].next)}return t(this),e.map((s,r)=>{let i=r+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)i+=(o?", ":"")+s.next[o].type.name+"->"+e.indexOf(s.next[o].next);return i}).join(`
`)}}Ra.empty=new Ra(!0);class FH{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SA(n){let e=[];do e.push(jH(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function jH(n){let e=[];do e.push(BH(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BH(n){let e=UH(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=VH(n,e);else break;return e}function NS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function VH(n,e){let t=NS(n),s=t;return n.eat(",")&&(n.next!="}"?s=NS(n):s=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:s,expr:e}}function zH(n,e){let t=n.nodeTypes,s=t[e];if(s)return[s];let r=[];for(let i in t){let o=t[i];o.isInGroup(e)&&r.push(o)}return r.length==0&&n.err("No node type or group '"+e+"' found"),r}function UH(n){if(n.eat("(")){let e=SA(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=zH(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function HH(n){let e=[[]];return r(i(n,0),t()),e;function t(){return e.push([])-1}function s(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=t())}else if(o.type=="star"){let l=t();return s(a,l),r(i(o.expr,l),l),[s(l)]}else if(o.type=="plus"){let l=t();return r(i(o.expr,a),l),r(i(o.expr,l),l),[s(l)]}else{if(o.type=="opt")return[s(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();r(i(o.expr,l),u),l=u}if(o.max==-1)r(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();s(l,u),r(i(o.expr,l),u),l=u}return[s(l)]}else{if(o.type=="name")return[s(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function EA(n,e){return e-n}function LS(n,e){let t=[];return s(e),t.sort(EA);function s(r){let i=n[r];if(i.length==1&&!i[0].term)return s(i[0].to);t.push(r);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&t.indexOf(l)==-1&&s(l)}}}function WH(n){let e=Object.create(null);return t(LS(n,0));function t(s){let r=[];s.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<r.length;u++)r[u][0]==a&&(c=r[u][1]);LS(n,l).forEach(u=>{c||r.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[s.join(",")]=new Ra(s.indexOf(n.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(EA);i.next.push({type:r[o][0],next:e[a.join(",")]||t(a)})}return i}}function KH(n,e){for(let t=0,s=[n];t<s.length;t++){let r=s[t],i=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),s.indexOf(c)==-1&&s.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kA(n){let e=Object.create(null);for(let t in n){let s=n[t];if(!s.hasDefault)return null;e[t]=s.default}return e}function _A(n,e){let t=Object.create(null);for(let s in n){let r=e&&e[s];if(r===void 0){let i=n[s];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+s)}t[s]=r}return t}function TA(n,e,t,s){for(let r in e)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in n){let i=n[r];i.validate&&i.validate(e[r])}}function CA(n,e){let t=Object.create(null);if(e)for(let s in e)t[s]=new XH(n,s,e[s]);return t}let $S=class OA{constructor(e,t,s){this.name=e,this.schema=t,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=CA(e,s.attrs),this.defaultAttrs=kA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ra.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_A(this.attrs,e)}create(e=null,t,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new go(this,this.computeAttrs(e),Q.from(t),Tt.setFrom(s))}createChecked(e=null,t,s){return t=Q.from(t),this.checkContent(t),new go(this,this.computeAttrs(e),t,Tt.setFrom(s))}createAndFill(e=null,t,s){if(e=this.computeAttrs(e),t=Q.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(Q.empty,!0);return i?new go(this,e,t.append(i),Tt.setFrom(s)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TA(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?t&&t.push(e[s]):t||(t=e.slice(0,s));return t?t.length?t:Tt.none:e}static compile(e,t){let s=Object.create(null);e.forEach((i,o)=>s[i]=new OA(i,t,o));let r=t.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let i in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function GH(n,e,t){let s=t.split("|");return r=>{let i=r===null?"null":typeof r;if(s.indexOf(i)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${n}, got ${i}`)}}class XH{constructor(e,t,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?GH(e,t,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class Cg{constructor(e,t,s,r){this.name=e,this.rank=t,this.schema=s,this.spec=r,this.attrs=CA(e,r.attrs),this.excluded=null;let i=kA(this.attrs);this.instance=i?new Tt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Tt(this,_A(this.attrs,e))}static compile(e,t){let s=Object.create(null),r=0;return e.forEach((i,o)=>s[i]=new Cg(i,r++,t,o)),s}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){TA(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class AA{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=In.from(e.nodes),t.marks=In.from(e.marks||{}),this.nodes=$S.compile(this.spec.nodes,this),this.marks=Cg.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=s[o]||(s[o]=Ra.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?FS(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:FS(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,s,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof $S){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,s,r)}text(e,t){let s=this.nodes.text;return new tp(s,s.defaultAttrs,e,Tt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return go.fromJSON(this,e)}markFromJSON(e){return Tt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function FS(n,e){let t=[];for(let s=0;s<e.length;s++){let r=e[s],i=n.marks[r],o=i;if(i)t.push(i);else for(let a in n.marks){let l=n.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return t}function JH(n){return n.tag!=null}function YH(n){return n.style!=null}class mo{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let s=this.matchedStyles=[];t.forEach(r=>{if(JH(r))this.tags.push(r);else if(YH(r)){let i=/[^=]*/.exec(r.style)[0];s.indexOf(i)<0&&s.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let s=new BS(this,t,!1);return s.addAll(e,Tt.none,t.from,t.to),s.finish()}parseSlice(e,t={}){let s=new BS(this,t,!0);return s.addAll(e,Tt.none,t.from,t.to),me.maxOpen(s.finish())}matchTag(e,t,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(ZH(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,t,s,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!s.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function s(r){let i=r.priority==null?50:r.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<i)break}t.splice(o,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(o=>{s(o=VS(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(o=>{s(o=VS(o)),o.node||o.ignore||o.mark||(o.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new mo(e,mo.schemaRules(e)))}}const MA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},qH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},IA={ol:!0,ul:!0},nd=1,b0=2,dh=4;function jS(n,e,t){return e!=null?(e?nd:0)|(e==="full"?b0:0):n&&n.whitespace=="pre"?nd|b0:t&-5}class Af{constructor(e,t,s,r,i,o){this.type=e,this.attrs=t,this.marks=s,this.solid=r,this.options=o,this.content=[],this.activeMarks=Tt.none,this.match=i||(o&dh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(e.type))?(this.match=s,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nd)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let i=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let t=Q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!MA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class BS{constructor(e,t,s){this.parser=e,this.options=t,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let r=t.topNode,i,o=jS(null,t.preserveWhitespace,0)|(s?dh:0);r?i=new Af(r.type,r.attrs,Tt.none,!0,t.topMatch||r.type.contentMatch,o):s?i=new Af(null,null,Tt.none,!0,null,o):i=new Af(e.schema.topNodeType,null,Tt.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let s=e.nodeValue,r=this.top,i=r.options&b0?"full":this.localPreserveWS||(r.options&nd)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(i)i!=="full"?s=s.replace(/\r?\n|\r/g," "):s=s.replace(/\r\n?/g,`
`);else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(s=s.slice(1))}s&&this.insertNode(this.parser.schema.text(s),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,s){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;IA.hasOwnProperty(o)&&this.parser.normalizeLists&&QH(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,s));e:if(l?l.ignore:qH.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(MA.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let d=l&&l.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let s=e.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],o=s.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,s,r){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),s)||this.leafFallback(e,s);else{let l=this.enter(o,t.attrs||null,s,t.preserveWhitespace);l&&(i=!0,s=l)}else{let l=this.parser.schema.marks[t.mark];s=s.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,s,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,s));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,s),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,t,s,r){let i=s||0;for(let o=s?e.childNodes[s]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t){let s,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!s||s.length>a.length)&&(s=a,r=o,!a.length)||o.solid)break}if(!s)return null;this.sync(r);for(let i=0;i<s.length;i++)t=this.enterInner(s[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(t=this.enterInner(r,null,t))}let s=this.findPlace(e,t);if(s){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=Tt.none;for(let o of s.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):zS(o.type,e.type))&&(i=o.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,t,s,r){let i=this.findPlace(e.create(t),s);return i&&(i=this.enterInner(e,t,s,!0,r)),i}enterInner(e,t,s,r=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=jS(e,i,o.options);o.options&dh&&o.content.length==0&&(a|=dh);let l=Tt.none;return s=s.filter(c=>(o.type?o.type.allowsMarkType(c.type):zS(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Af(e,t,l,r,null,a)),this.open++,s}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=nd)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let s=this.nodes[t].content;for(let r=s.length-1;r>=0;r--)e+=s[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==t&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,s){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),i=-(s?s.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&r?this.nodes[l].type:s&&l>=i?s.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let t in this.parser.schema.nodes){let s=this.parser.schema.nodes[t];if(s.isTextblock&&s.defaultAttrs)return s}}}function QH(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&IA.hasOwnProperty(s)&&t?(t.appendChild(e),e=t):s=="li"?t=e:s&&(t=null)}}function ZH(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function VS(n){let e={};for(let t in n)e[t]=n[t];return e}function zS(n,e){let t=e.schema.nodes;for(let s in t){let r=t[s];if(!r.allowsMarkType(n))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(r.contentMatch))return!0}}class Ka{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},s){s||(s=jm(t).createDocumentFragment());let r=s,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)r=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(i.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(o,t))}),s}serializeNodeInner(e,t){let{dom:s,contentDOM:r}=fh(jm(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return s}serializeNode(e,t={}){let s=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(s),s=i.dom)}return s}serializeMark(e,t,s={}){let r=this.marks[e.type.name];return r&&fh(jm(s),r(e,t),null,e.attrs)}static renderSpec(e,t,s=null,r){return fh(e,t,s,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ka(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=US(e.nodes);return t.text||(t.text=s=>s.text),t}static marksFromSchema(e){return US(e.marks)}}function US(n){let e={};for(let t in n){let s=n[t].spec.toDOM;s&&(e[t]=s)}return e}function jm(n){return n.document||window.document}const HS=new WeakMap;function e8(n){let e=HS.get(n);return e===void 0&&HS.set(n,e=t8(n)),e}function t8(n){let e=null;function t(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let r=0;r<s.length;r++)t(s[r]);else for(let r in s)t(s[r])}return t(n),e}function fh(n,e,t,s){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(i=e8(s))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(t=r.slice(0,o),r=r.slice(o+1));let a,l=t?n.createElementNS(t,r):n.createElement(r),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=fh(n,f,t,s);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const PA=65535,DA=Math.pow(2,16);function n8(n,e){return n+e*DA}function WS(n){return n&PA}function s8(n){return(n-(n&PA))/DA}const RA=1,NA=2,hh=4,LA=8;class v0{constructor(e,t,s){this.pos=e,this.delInfo=t,this.recover=s}get deleted(){return(this.delInfo&LA)>0}get deletedBefore(){return(this.delInfo&(RA|hh))>0}get deletedAfter(){return(this.delInfo&(NA|hh))>0}get deletedAcross(){return(this.delInfo&hh)>0}}class Ns{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ns.empty)return Ns.empty}recover(e){let t=0,s=WS(e);if(!this.inverted)for(let r=0;r<s;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+t+s8(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,s){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:t:t,h=l+r+(f<0?0:u);if(s)return h;let p=e==(t<0?l:d)?null:n8(a/3,e-l),g=e==l?NA:e==d?RA:hh;return(t<0?e!=l:e!=d)&&(g|=LA),new v0(h,g,p)}r+=u-c}return s?e+r:new v0(e+r,0,null)}touches(e,t){let s=0,r=WS(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==r*3)return!0;s+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[r+t],u=this.ranges[r+s];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Ns(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ns.empty:new Ns(e<0?[0,-e,0]:[0,0,e])}}Ns.empty=new Ns([]);class El{constructor(e=[],t,s=0,r=e.length){this.maps=e,this.mirror=t,this.from=s,this.to=r}slice(e=0,t=this.maps.length){return new El(this.maps,this.mirror,e,t)}copy(){return new El(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,s=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],r!=null&&r<t?s+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,s=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),r!=null&&r>t?s-r-1:void 0)}}invert(){let e=new El;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,s){let r=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return s?e:new v0(e,r,null)}}const Bm=Object.create(null);class es{getMap(){return Ns.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Bm[t.stepType];if(!s)throw new RangeError(`No step type ${t.stepType} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in Bm)throw new RangeError("Duplicate use of step JSON ID "+e);return Bm[e]=t,t.prototype.jsonID=e,t}}class cn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new cn(e,null)}static fail(e){return new cn(null,e)}static fromReplace(e,t,s,r){try{return cn.ok(e.replace(t,s,r))}catch(i){if(i instanceof Qh)return cn.fail(i.message);throw i}}}function Ov(n,e,t){let s=[];for(let r=0;r<n.childCount;r++){let i=n.child(r);i.content.size&&(i=i.copy(Ov(i.content,e,i))),i.isInline&&(i=e(i,t,r)),s.push(i)}return Q.fromArray(s)}class io extends es{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=e.resolve(this.from),r=s.node(s.sharedDepth(this.to)),i=new me(Ov(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,i)}invert(){return new Pr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new io(t.pos,s.pos,this.mark)}merge(e){return e instanceof io&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new io(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new io(t.from,t.to,e.markFromJSON(t.mark))}}es.jsonID("addMark",io);class Pr extends es{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=new me(Ov(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,s)}invert(){return new io(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new Pr(t.pos,s.pos,this.mark)}merge(e){return e instanceof Pr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Pr(t.from,t.to,e.markFromJSON(t.mark))}}es.jsonID("removeMark",Pr);class oo extends es{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new me(Q.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let s=this.mark.addToSet(t.marks);if(s.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(s))return new oo(this.pos,t.marks[r]);return new oo(this.pos,this.mark)}}return new ec(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new oo(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new oo(t.pos,e.markFromJSON(t.mark))}}es.jsonID("addNodeMark",oo);class ec extends es{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new me(Q.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new oo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ec(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ec(t.pos,e.markFromJSON(t.mark))}}es.jsonID("removeNodeMark",ec);class bn extends es{constructor(e,t,s,r=!1){super(),this.from=e,this.to=t,this.slice=s,this.structure=r}apply(e){return this.structure&&x0(e,this.from,this.to)?cn.fail("Structure replace would overwrite content"):cn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ns([this.from,this.to-this.from,this.slice.size])}invert(e){return new bn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deletedAcross&&s.deletedAcross?null:new bn(t.pos,Math.max(t.pos,s.pos),this.slice)}merge(e){if(!(e instanceof bn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new bn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new bn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new bn(t.from,t.to,me.fromJSON(e,t.slice),!!t.structure)}}es.jsonID("replace",bn);class Sn extends es{constructor(e,t,s,r,i,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=s,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(x0(e,this.from,this.gapFrom)||x0(e,this.gapTo,this.to)))return cn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return cn.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,t.content);return s?cn.fromReplace(e,this.from,this.to,s):cn.fail("Content does not fit in gap")}getMap(){return new Ns([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Sn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return t.deletedAcross&&s.deletedAcross||r<t.pos||i>s.pos?null:new Sn(t.pos,s.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Sn(t.from,t.to,t.gapFrom,t.gapTo,me.fromJSON(e,t.slice),t.insert,!!t.structure)}}es.jsonID("replaceAround",Sn);function x0(n,e,t){let s=n.resolve(e),r=t-e,i=s.depth;for(;r>0&&i>0&&s.indexAfter(i)==s.node(i).childCount;)i--,r--;if(r>0){let o=s.node(i).maybeChild(s.indexAfter(i));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function r8(n,e,t,s){let r=[],i=[],o,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!s.isInSet(d)&&u.type.allowsMarkType(s.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,t),p=s.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:r.push(o=new Pr(f,h,d[g])));a&&a.to==f?a.to=h:i.push(a=new io(f,h,s))}}),r.forEach(l=>n.step(l)),i.forEach(l=>n.step(l))}function i8(n,e,t,s){let r=[],i=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(s instanceof Cg){let c=o.marks,u;for(;u=s.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else s?s.isInSet(o.marks)&&(l=[s]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<r.length;h++){let p=r[h];p.step==i-1&&d.eq(r[h].style)&&(f=p)}f?(f.to=c,f.step=i):r.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),r.forEach(o=>n.step(new Pr(o.from,o.to,o.style)))}function Av(n,e,t,s=t.contentMatch,r=!0){let i=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=s.matchType(c.type);if(!d)o.push(new bn(a,u,me.empty));else{s=d;for(let f=0;f<c.marks.length;f++)t.allowsMarkType(c.marks[f].type)||n.step(new Pr(a,u,c.marks[f]));if(r&&c.isText&&t.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new me(Q.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new bn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!s.validEnd){let l=s.fillBefore(Q.empty,!0);n.replace(a,a,new me(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function o8(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function dc(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let s=n.depth;;--s){let r=n.$from.node(s),i=n.$from.index(s),o=n.$to.indexAfter(s);if(s<n.depth&&r.canReplace(i,o,t))return s;if(s==0||r.type.spec.isolating||!o8(r,i,o))break}return null}function a8(n,e,t){let{$from:s,$to:r,depth:i}=e,o=s.before(i+1),a=r.after(i+1),l=o,c=a,u=Q.empty,d=0;for(let p=i,g=!1;p>t;p--)g||s.index(p)>0?(g=!0,u=Q.from(s.node(p).copy(u)),d++):l--;let f=Q.empty,h=0;for(let p=i,g=!1;p>t;p--)g||r.after(p+1)<r.end(p)?(g=!0,f=Q.from(r.node(p).copy(f)),h++):c++;n.step(new Sn(l,c,o,a,new me(u.append(f),d,h),u.size-d,!0))}function Mv(n,e,t=null,s=n){let r=l8(n,e),i=r&&c8(s,e);return i?r.map(KS).concat({type:e,attrs:t}).concat(i.map(KS)):null}function KS(n){return{type:n,attrs:null}}function l8(n,e){let{parent:t,startIndex:s,endIndex:r}=n,i=t.contentMatchAt(s).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return t.canReplaceWith(s,r,o)?i:null}function c8(n,e){let{parent:t,startIndex:s,endIndex:r}=n,i=t.child(s),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=s;l&&c<r;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function u8(n,e,t){let s=Q.empty;for(let o=t.length-1;o>=0;o--){if(s.size){let a=t[o].type.contentMatch.matchFragment(s);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Q.from(t[o].type.create(t[o].attrs,s))}let r=e.start,i=e.end;n.step(new Sn(r,i,r,i,new me(s,0,0),t.length,!0))}function d8(n,e,t,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(s,l)&&f8(n.doc,n.mapping.slice(i).map(a),s)){let c=null;if(s.schema.linebreakReplacement){let h=s.whitespace=="pre",p=!!s.contentMatch.matchType(s.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&FA(n,o,a,i),Av(n,n.mapping.slice(i).map(a,1),s,void 0,c===null);let u=n.mapping.slice(i),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return n.step(new Sn(d,f,d+1,f-1,new me(Q.from(s.create(l,null,o.marks)),0,0),1,!0)),c===!0&&$A(n,o,a,i),!1}})}function $A(n,e,t,s){e.forEach((r,i)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=n.mapping.slice(s).map(t+1+i+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function FA(n,e,t,s){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let o=n.mapping.slice(s).map(t+1+i);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function f8(n,e,t){let s=n.resolve(e),r=s.index();return s.parent.canReplaceWith(r,r+1,t)}function h8(n,e,t,s,r){let i=n.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);let o=t.create(s,null,r||i.marks);if(i.isLeaf)return n.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Sn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new me(Q.from(o),0,0),1,!0))}function kl(n,e,t=1,s){let r=n.resolve(e),i=r.depth-t,o=s&&s[s.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=t-2;c>i;c--,u--){let d=r.node(c),f=r.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=s&&s[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=s&&s[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=r.indexAfter(i),l=s&&s[0];return r.node(i).canReplaceWith(a,a,l?l.type:r.node(i+1).type)}function p8(n,e,t=1,s){let r=n.doc.resolve(e),i=Q.empty,o=Q.empty;for(let a=r.depth,l=r.depth-t,c=t-1;a>l;a--,c--){i=Q.from(r.node(a).copy(i));let u=s&&s[c];o=Q.from(u?u.type.create(u.attrs,o):r.node(a).copy(o))}n.step(new bn(e,e,new me(i.append(o),t,t),!0))}function Po(n,e){let t=n.resolve(e),s=t.index();return jA(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(s,s+1)}function g8(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:s}=n.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),o=i.type==s?n.type.schema.nodes.text:i.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(i.marks))return!1}return t.validEnd}function jA(n,e){return!!(n&&e&&!n.isLeaf&&g8(n,e))}function Og(n,e,t=-1){let s=n.resolve(e);for(let r=s.depth;;r--){let i,o,a=s.index(r);if(r==s.depth?(i=s.nodeBefore,o=s.nodeAfter):t>0?(i=s.node(r+1),a++,o=s.node(r).maybeChild(a)):(i=s.node(r).maybeChild(a-1),o=s.node(r+1)),i&&!i.isTextblock&&jA(i,o)&&s.node(r).canReplace(a,a+1))return e;if(r==0)break;e=t<0?s.before(r):s.after(r)}}function m8(n,e,t){let s=null,{linebreakReplacement:r}=n.doc.type.schema,i=n.doc.resolve(e-t),o=i.node().type;if(r&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(r);u&&!d?s=!1:!u&&d&&(s=!0)}let a=n.steps.length;if(s===!1){let u=n.doc.resolve(e+t);FA(n,u.node(),u.before(),a)}o.inlineContent&&Av(n,e+t-1,o,i.node().contentMatchAt(i.index()),s==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new bn(c,l.map(e+t,-1),me.empty,!0)),s===!0){let u=n.doc.resolve(c);$A(n,u.node(),u.before(),n.steps.length)}return n}function y8(n,e,t){let s=n.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),t))return e;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let i=s.index(r);if(s.node(r).canReplaceWith(i,i,t))return s.before(r+1);if(i>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let i=s.indexAfter(r);if(s.node(r).canReplaceWith(i,i,t))return s.after(r+1);if(i<s.node(r).childCount)return null}return null}function BA(n,e,t){let s=n.resolve(e);if(!t.content.size)return e;let r=t.content;for(let i=0;i<t.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(t.openStart==0&&t.size?2:1);i++)for(let o=s.depth;o>=0;o--){let a=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,l=s.index(o)+(a>0?1:0),c=s.node(o),u=!1;if(i==1)u=c.canReplace(l,l,r);else{let d=c.contentMatchAt(l).findWrapping(r.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?s.pos:a<0?s.before(o+1):s.after(o+1)}return null}function Ag(n,e,t=e,s=me.empty){if(e==t&&!s.size)return null;let r=n.resolve(e),i=n.resolve(t);return VA(r,i,s)?new bn(e,t,s):new b8(r,i,s).fit()}function VA(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class b8{constructor(e,t,s){this.$from=e,this.$to=t,this.unplaced=s,this.frontier=[],this.placed=Q.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Q.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(e<0?this.$to:s.doc.resolve(e));if(!r)return null;let i=this.placed,o=s.depth,a=r.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new me(i,o,a);return e>-1?new Sn(s.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||s.pos!=this.$to.pos?new bn(s.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<e;s++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=s){e=s;break}t=i.content}for(let t=1;t<=2;t++)for(let s=t==1?e:this.unplaced.openStart;s>=0;s--){let r,i=null;s?(i=Vm(this.unplaced.content,s-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(t==1&&(o?c.matchType(o.type)||(d=c.fillBefore(Q.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:a,parent:i,inject:d};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:s}=this.unplaced,r=Vm(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new me(e,t+1,Math.max(s,r.size+t>=e.size-s?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:s}=this.unplaced,r=Vm(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new me(Gc(e,t-1,1),t-1,i?t-1:s)}else this.unplaced=new me(Gc(e,t,1),t,s)}placeNodes({sliceDepth:e,frontierDepth:t,parent:s,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,a=s?s.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[t];if(r){for(let g=0;g<r.childCount;g++)u.push(r.child(g));d=d.matchFragment(r)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),m=d.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(d=m,u.push(zA(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Xc(this.placed,t,Q.from(u)),this.frontier[t].match=d,p&&h<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<h;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?e==0?me.empty:new me(Gc(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new me(Gc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!zm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:s,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=zm(e,t,r,s,i);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=zm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Xc(this.placed,t.depth,t.fit)),e=t.move;for(let s=t.depth+1;s<=e.depth;s++){let r=e.node(s),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(s));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,t=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Xc(this.placed,this.depth,Q.from(e.create(t,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Q.empty,!0);t.childCount&&(this.placed=Xc(this.placed,this.frontier.length,t))}}function Gc(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Gc(n.firstChild.content,e-1,t)))}function Xc(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Xc(n.lastChild.content,e-1,t)))}function Vm(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function zA(n,e,t){if(e<=0)return n;let s=n.content;return e>1&&(s=s.replaceChild(0,zA(s.firstChild,e-1,s.childCount==1?t-1:0))),e>0&&(s=n.type.contentMatch.fillBefore(s).append(s),t<=0&&(s=s.append(n.type.contentMatch.matchFragment(s).fillBefore(Q.empty,!0)))),n.copy(s)}function zm(n,e,t,s,r){let i=n.node(e),o=r?n.indexAfter(e):n.index(e);if(o==i.childCount&&!t.compatibleContent(i.type))return null;let a=s.fillBefore(i.content,!0,o);return a&&!v8(t,i.content,o)?a:null}function v8(n,e,t){for(let s=t;s<e.childCount;s++)if(!n.allowsMarks(e.child(s).marks))return!0;return!1}function x8(n){return n.spec.defining||n.spec.definingForContent}function w8(n,e,t,s){if(!s.size)return n.deleteRange(e,t);let r=n.doc.resolve(e),i=n.doc.resolve(t);if(VA(r,i,s))return n.step(new bn(e,t,s));let o=HA(r,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let f=r.depth,h=r.pos-1;f>0;f--,h--){let p=r.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:r.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=s.openStart;for(let f=s.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==s.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=x8(h.type);if(p&&!h.sameMarkup(r.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=s.openStart;f>=0;f--){let h=(f+u+1)%(s.openStart+1),p=c[h];if(p)for(let g=0;g<o.length;g++){let m=o[(g+l)%o.length],y=!0;m<0&&(y=!1,m=-m);let b=r.node(m-1),x=r.index(m-1);if(b.canReplaceWith(x,x,p.type,p.marks))return n.replace(r.before(m),y?i.after(m):t,new me(UA(s.content,0,s.openStart,h),h,s.openEnd))}}let d=n.steps.length;for(let f=o.length-1;f>=0&&(n.replace(e,t,s),!(n.steps.length>d));f--){let h=o[f];h<0||(e=r.before(h),t=i.after(h))}}function UA(n,e,t,s,r){if(e<t){let i=n.firstChild;n=n.replaceChild(0,i.copy(UA(i.content,e+1,t,s,i)))}if(e>s){let i=r.contentMatchAt(0),o=i.fillBefore(n).append(n);n=o.append(i.matchFragment(o).fillBefore(Q.empty,!0))}return n}function S8(n,e,t,s){if(!s.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let r=y8(n.doc,e,s.type);r!=null&&(e=t=r)}n.replaceRange(e,t,new me(Q.from(s),0,0))}function E8(n,e,t){let s=n.doc.resolve(e),r=n.doc.resolve(t),i=HA(s,r);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||s.node(a).type.contentMatch.validEnd)return n.delete(s.start(a),r.end(a));if(a>0&&(l||s.node(a-1).canReplace(s.index(a-1),r.indexAfter(a-1))))return n.delete(s.before(a),r.after(a))}for(let o=1;o<=s.depth&&o<=r.depth;o++)if(e-s.start(o)==s.depth-o&&t>s.end(o)&&r.end(o)-t!=r.depth-o&&s.start(o-1)==r.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),r.index(o-1)))return n.delete(s.before(o),t);n.delete(e,t)}function HA(n,e){let t=[],s=Math.min(n.depth,e.depth);for(let r=s;r>=0;r--){let i=n.start(r);if(i<n.pos-(n.depth-r)||e.end(r)>e.pos+(e.depth-r)||n.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==n.depth&&r==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&t.push(r)}return t}class _l extends es{constructor(e,t,s){super(),this.pos=e,this.attr=t,this.value=s}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at attribute step's position");let s=Object.create(null);for(let i in t.attrs)s[i]=t.attrs[i];s[this.attr]=this.value;let r=t.type.create(s,null,t.marks);return cn.fromReplace(e,this.pos,this.pos+1,new me(Q.from(r),0,t.isLeaf?0:1))}getMap(){return Ns.empty}invert(e){return new _l(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _l(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _l(t.pos,t.attr,t.value)}}es.jsonID("attr",_l);class sd extends es{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let s=e.type.create(t,e.content,e.marks);return cn.ok(s)}getMap(){return Ns.empty}invert(e){return new sd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sd(t.attr,t.value)}}es.jsonID("docAttr",sd);let tc=class extends Error{};tc=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};tc.prototype=Object.create(Error.prototype);tc.prototype.constructor=tc;tc.prototype.name="TransformError";class WA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new El}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new tc(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,s=me.empty){let r=Ag(this.doc,e,t,s);return r&&this.step(r),this}replaceWith(e,t,s){return this.replace(e,t,new me(Q.from(s),0,0))}delete(e,t){return this.replace(e,t,me.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,s){return w8(this,e,t,s),this}replaceRangeWith(e,t,s){return S8(this,e,t,s),this}deleteRange(e,t){return E8(this,e,t),this}lift(e,t){return a8(this,e,t),this}join(e,t=1){return m8(this,e,t),this}wrap(e,t){return u8(this,e,t),this}setBlockType(e,t=e,s,r=null){return d8(this,e,t,s,r),this}setNodeMarkup(e,t,s=null,r){return h8(this,e,t,s,r),this}setNodeAttribute(e,t,s){return this.step(new _l(e,t,s)),this}setDocAttribute(e,t){return this.step(new sd(e,t)),this}addNodeMark(e,t){return this.step(new oo(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Tt)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(t=t.isInSet(s.marks),!t)return this}return this.step(new ec(e,t)),this}split(e,t=1,s){return p8(this,e,t,s),this}addMark(e,t,s){return r8(this,e,t,s),this}removeMark(e,t,s){return i8(this,e,t,s),this}clearIncompatible(e,t,s){return Av(this,e,t,s),this}}const Um=Object.create(null);class Je{constructor(e,t,s){this.$anchor=e,this.$head=t,this.ranges=s||[new k8(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=me.empty){let s=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=s,s=s.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?me.empty:t),a==0&&JS(e,i,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let s=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],l=e.mapping.slice(s),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),JS(e,s,t.isInline?-1:1))}}static findFrom(e,t,s=!1){let r=e.parent.inlineContent?new ze(e):ul(e.node(0),e.parent,e.pos,e.index(),t,s);if(r)return r;for(let i=e.depth-1;i>=0;i--){let o=t<0?ul(e.node(0),e.node(i),e.before(i+1),e.index(i),t,s):ul(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,s);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Zs(e.node(0))}static atStart(e){return ul(e,e,0,0,1)||new Zs(e)}static atEnd(e){return ul(e,e,e.content.size,e.childCount,-1)||new Zs(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Um[t.type];if(!s)throw new RangeError(`No selection type ${t.type} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in Um)throw new RangeError("Duplicate use of selection JSON ID "+e);return Um[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ze.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class k8{constructor(e,t){this.$from=e,this.$to=t}}let GS=!1;function XS(n){!GS&&!n.parent.inlineContent&&(GS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ze extends Je{constructor(e,t=e){XS(e),XS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let s=e.resolve(t.map(this.head));if(!s.parent.inlineContent)return Je.near(s);let r=e.resolve(t.map(this.anchor));return new ze(r.parent.inlineContent?r:s,s)}replace(e,t=me.empty){if(super.replace(e,t),t==me.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof ze&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Mg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ze(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,s=t){let r=e.resolve(t);return new this(r,s==t?r:e.resolve(s))}static between(e,t,s){let r=e.pos-t.pos;if((!s||r)&&(s=r>=0?1:-1),!t.parent.inlineContent){let i=Je.findFrom(t,s,!0)||Je.findFrom(t,-s,!0);if(i)t=i.$head;else return Je.near(t,s)}return e.parent.inlineContent||(r==0?e=t:(e=(Je.findFrom(e,-s,!0)||Je.findFrom(e,s,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new ze(e,t)}}Je.jsonID("text",ze);class Mg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Mg(e.map(this.anchor),e.map(this.head))}resolve(e){return ze.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ae extends Je{constructor(e){let t=e.nodeAfter,s=e.node(0).resolve(e.pos+t.nodeSize);super(e,s),this.node=t}map(e,t){let{deleted:s,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return s?Je.near(i):new Ae(i)}content(){return new me(Q.from(this.node),0,0)}eq(e){return e instanceof Ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Iv(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ae(e.resolve(t.anchor))}static create(e,t){return new Ae(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ae.prototype.visible=!1;Je.jsonID("node",Ae);class Iv{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:s}=e.mapResult(this.anchor);return t?new Mg(s,s):new Iv(s)}resolve(e){let t=e.resolve(this.anchor),s=t.nodeAfter;return s&&Ae.isSelectable(s)?new Ae(t):Je.near(t)}}class Zs extends Je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=me.empty){if(t==me.empty){e.delete(0,e.doc.content.size);let s=Je.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Zs(e)}map(e){return new Zs(e)}eq(e){return e instanceof Zs}getBookmark(){return _8}}Je.jsonID("all",Zs);const _8={map(){return this},resolve(n){return new Zs(n)}};function ul(n,e,t,s,r,i=!1){if(e.inlineContent)return ze.create(n,t);for(let o=s-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!i&&Ae.isSelectable(a))return Ae.create(n,t-(r<0?a.nodeSize:0))}else{let l=ul(n,a,t+r,r<0?a.childCount:0,r,i);if(l)return l}t+=a.nodeSize*r}return null}function JS(n,e,t){let s=n.steps.length-1;if(s<e)return;let r=n.steps[s];if(!(r instanceof bn||r instanceof Sn))return;let i=n.mapping.maps[s],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),n.setSelection(Je.near(n.doc.resolve(o),t))}const YS=1,qS=2,QS=4;class T8 extends WA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|YS)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&YS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qS,this}ensureMarks(e){return Tt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qS)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let s=this.selection;return t&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Tt.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,s){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(s==null&&(s=t),s=s??t,!e)return this.deleteRange(t,s);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=s==t?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(t,s,r.text(e,i)),this.selection.empty||this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=QS,this}get scrolledIntoView(){return(this.updated&QS)>0}}function ZS(n,e){return!e||!n?n:n.bind(e)}class Jc{constructor(e,t,s){this.name=e,this.init=ZS(t.init,s),this.apply=ZS(t.apply,s)}}const C8=[new Jc("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Jc("selection",{init(n,e){return n.selection||Je.atStart(e.doc)},apply(n){return n.selection}}),new Jc("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,s){return s.selection.$cursor?n.storedMarks:null}}),new Jc("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Hm{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C8.slice(),t&&t.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Jc(s.key,s.spec.state,s))})}}class ml{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=t){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],s=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,s);if(u&&s.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<o?{state:s,n:t.length}:{state:this,n:0})}t.push(u),s=s.applyInner(u),i=!0}r&&(r[o]={state:s,n:t.length})}}if(!i)return{state:s,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ml(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let i=s[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new T8(this)}static create(e){let t=new Hm(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new ml(t);for(let r=0;r<t.fields.length;r++)s[t.fields[r].name]=t.fields[r].init(e,s);return s}reconfigure(e){let t=new Hm(this.schema,e.plugins),s=t.fields,r=new ml(t);for(let i=0;i<s.length;i++){let o=s[i].name;r[o]=this.hasOwnProperty(o)?this[o]:s[i].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[s],i=r.spec.state;i&&i.toJSON&&(t[s]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,s){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Hm(e.schema,e.plugins),i=new ml(r);return r.fields.forEach(o=>{if(o.name=="doc")i.doc=go.fromJSON(e.schema,t.doc);else if(o.name=="selection")i.selection=Je.fromJSON(i.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let a in s){let l=s[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){i[o.name]=c.fromJSON.call(l,e,t[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function KA(n,e,t){for(let s in n){let r=n[s];r instanceof Function?r=r.bind(e):s=="handleDOMEvents"&&(r=KA(r,e,{})),t[s]=r}return t}class Rn{constructor(e){this.spec=e,this.props={},e.props&&KA(e.props,this,this.props),this.key=e.key?e.key.key:GA("plugin")}getState(e){return e[this.key]}}const Wm=Object.create(null);function GA(n){return n in Wm?n+"$"+ ++Wm[n]:(Wm[n]=0,n+"$")}class Bs{constructor(e="key"){this.key=GA(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Pn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},rd=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let w0=null;const ti=function(n,e,t){let s=w0||(w0=document.createRange());return s.setEnd(n,t??n.nodeValue.length),s.setStart(n,e||0),s},O8=function(){w0=null},Na=function(n,e,t,s){return t&&(eE(n,e,t,s,-1)||eE(n,e,t,s,1))},A8=/^(img|br|input|textarea|hr)$/i;function eE(n,e,t,s,r){for(;;){if(n==t&&e==s)return!0;if(e==(r<0?0:Xs(n))){let i=n.parentNode;if(!i||i.nodeType!=1||$d(n)||A8.test(n.nodeName)||n.contentEditable=="false")return!1;e=Pn(n)+(r<0?0:1),n=i}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.contentEditable=="false")return!1;e=r<0?Xs(n):0}else return!1}}function Xs(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function M8(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Xs(n)}else if(n.parentNode&&!$d(n))e=Pn(n),n=n.parentNode;else return null}}function I8(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!$d(n))e=Pn(n)+1,n=n.parentNode;else return null}}function P8(n,e,t){for(let s=e==0,r=e==Xs(n);s||r;){if(n==t)return!0;let i=Pn(n);if(n=n.parentNode,!n)return!1;s=s&&i==0,r=r&&i==Xs(n)}}function $d(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Ig=function(n){return n.focusNode&&Na(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function qo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function D8(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function R8(n,e,t){if(n.caretPositionFromPoint)try{let s=n.caretPositionFromPoint(e,t);if(s)return{node:s.offsetNode,offset:Math.min(Xs(s.offsetNode),s.offset)}}catch{}if(n.caretRangeFromPoint){let s=n.caretRangeFromPoint(e,t);if(s)return{node:s.startContainer,offset:Math.min(Xs(s.startContainer),s.startOffset)}}}const $r=typeof navigator<"u"?navigator:null,tE=typeof document<"u"?document:null,Do=$r&&$r.userAgent||"",S0=/Edge\/(\d+)/.exec(Do),XA=/MSIE \d/.exec(Do),E0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Do),Cs=!!(XA||E0||S0),yo=XA?document.documentMode:E0?+E0[1]:S0?+S0[1]:0,vr=!Cs&&/gecko\/(\d+)/i.test(Do);vr&&+(/Firefox\/(\d+)/.exec(Do)||[0,0])[1];const k0=!Cs&&/Chrome\/(\d+)/.exec(Do),Yn=!!k0,JA=k0?+k0[1]:0,fs=!Cs&&!!$r&&/Apple Computer/.test($r.vendor),nc=fs&&(/Mobile\/\w+/.test(Do)||!!$r&&$r.maxTouchPoints>2),Gs=nc||($r?/Mac/.test($r.platform):!1),N8=$r?/Win/.test($r.platform):!1,di=/Android \d/.test(Do),Fd=!!tE&&"webkitFontSmoothing"in tE.documentElement.style,L8=Fd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $8(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Wr(n,e){return typeof n=="number"?n:n[e]}function F8(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,s=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*s}}function nE(n,e,t){let s=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,i=n.dom.ownerDocument;for(let o=t||n.dom;o;o=rd(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?$8(i):F8(a),u=0,d=0;if(e.top<c.top+Wr(s,"top")?d=-(c.top-e.top+Wr(r,"top")):e.bottom>c.bottom-Wr(s,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Wr(r,"top")-c.top:e.bottom-c.bottom+Wr(r,"bottom")),e.left<c.left+Wr(s,"left")?u=-(c.left-e.left+Wr(r,"left")):e.right>c.right-Wr(s,"right")&&(u=e.right-c.right+Wr(r,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function j8(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),s,r;for(let i=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(i,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){s=a,r=l.top;break}}return{refDOM:s,refTop:r,stack:YA(n.dom)}}function YA(n){let e=[],t=n.ownerDocument;for(let s=n;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),n!=t);s=rd(s));return e}function B8({refDOM:n,refTop:e,stack:t}){let s=n?n.getBoundingClientRect().top:0;qA(t,s==0?0:s-e)}function qA(n,e){for(let t=0;t<n.length;t++){let{dom:s,top:r,left:i}=n[t];s.scrollTop!=r+e&&(s.scrollTop=r+e),s.scrollLeft!=i&&(s.scrollLeft=i)}}let rl=null;function V8(n){if(n.setActive)return n.setActive();if(rl)return n.focus(rl);let e=YA(n);n.focus(rl==null?{get preventScroll(){return rl={preventScroll:!0},!0}}:void 0),rl||(rl=!1,qA(e,0))}function QA(n,e){let t,s=2e8,r,i=0,o=e.top,a=e.top,l,c;for(let u=n.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ti(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<s){t=u,s=g,r=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(i=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=d+1)}}return!t&&l&&(t=l,r=c,s=0),t&&t.nodeType==3?z8(t,r):!t||s&&t.nodeType==1?{node:n,offset:i}:QA(t,r)}function z8(n,e){let t=n.nodeValue.length,s=document.createRange();for(let r=0;r<t;r++){s.setEnd(n,r+1),s.setStart(n,r);let i=Ii(s,1);if(i.top!=i.bottom&&Pv(e,i))return{node:n,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:n,offset:0}}function Pv(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function U8(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function H8(n,e,t){let{node:s,offset:r}=QA(e,t),i=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();i=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(s,r,i)}function W8(n,e,t,s){let r=-1;for(let i=e,o=!1;i!=n.dom;){let a=n.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>s.left||l.top>s.top?r=a.posBefore:(!o&&l.right<s.left||l.bottom<s.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?s.top<(l.top+l.bottom)/2:s.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return r>-1?r:n.docView.posFromDOM(e,t,-1)}function ZA(n,e,t){let s=n.childNodes.length;if(s&&t.top<t.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-t.top)/(t.bottom-t.top))-2)),i=r;;){let o=n.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Pv(e,c))return ZA(o,e,c)}}if((i=(i+1)%s)==r)break}return n}function K8(n,e){let t=n.dom.ownerDocument,s,r=0,i=R8(t,e.left,e.top);i&&({node:s,offset:r}=i);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!Pv(e,c)||(o=ZA(n.dom,e,c),!o))return null}if(fs)for(let c=o;s&&c;c=rd(c))c.draggable&&(s=void 0);if(o=U8(o,e),s){if(vr&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let u=s.childNodes[r],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let c;Fd&&r&&s.nodeType==1&&(c=s.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,s==n.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(a=W8(n,s,r,e))}a==null&&(a=H8(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function sE(n){return n.top<n.bottom||n.left<n.right}function Ii(n,e){let t=n.getClientRects();if(t.length){let s=t[e<0?0:t.length-1];if(sE(s))return s}return Array.prototype.find.call(t,sE)||n.getBoundingClientRect()}const G8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eM(n,e,t){let{node:s,offset:r,atom:i}=n.docView.domFromPos(e,t<0?-1:1),o=Fd||vr;if(s.nodeType==3)if(o&&(G8.test(s.nodeValue)||(t<0?!r:r==s.nodeValue.length))){let l=Ii(ti(s,r,r),t);if(vr&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let c=Ii(ti(s,r-1,r-1),-1);if(c.top==l.top){let u=Ii(ti(s,r,r+1),-1);if(u.top!=l.top)return Pc(u,u.left<c.left)}}return l}else{let l=r,c=r,u=t<0?1:-1;return t<0&&!r?(c++,u=-1):t>=0&&r==s.nodeValue.length?(l--,u=1):t<0?l--:c++,Pc(Ii(ti(s,l,c),u),u<0)}if(!n.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(t<0||r==Xs(s))){let l=s.childNodes[r-1];if(l.nodeType==1)return Km(l.getBoundingClientRect(),!1)}if(i==null&&r<Xs(s)){let l=s.childNodes[r];if(l.nodeType==1)return Km(l.getBoundingClientRect(),!0)}return Km(s.getBoundingClientRect(),t>=0)}if(i==null&&r&&(t<0||r==Xs(s))){let l=s.childNodes[r-1],c=l.nodeType==3?ti(l,Xs(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Pc(Ii(c,1),!1)}if(i==null&&r<Xs(s)){let l=s.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ti(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Pc(Ii(c,-1),!0)}return Pc(Ii(s.nodeType==3?ti(s):s,-t),t>=0)}function Pc(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Km(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function tM(n,e,t){let s=n.state,r=n.root.activeElement;s!=e&&n.updateState(e),r!=n.dom&&n.focus();try{return t()}finally{s!=e&&n.updateState(s),r!=n.dom&&r&&r.focus()}}function X8(n,e,t){let s=e.selection,r=t=="up"?s.$from:s.$to;return tM(n,e,()=>{let{node:i}=n.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=eM(n,r.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ti(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const J8=/[\u0590-\u08ac]/;function Y8(n,e,t){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,i=!r,o=r==s.parent.content.size,a=n.domSelection();return a?!J8.test(s.parent.textContent)||!a.modify?t=="left"||t=="backward"?i:o:tM(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=n.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",t,"character");let h=s.depth?n.docView.domAfterPos(s.before()):n.dom,{focusNode:p,focusOffset:g}=n.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),m}):s.pos==s.start()||s.pos==s.end()}let rE=null,iE=null,oE=!1;function q8(n,e,t){return rE==e&&iE==t?oE:(rE=e,iE=t,oE=t=="up"||t=="down"?X8(n,e,t):Y8(n,e,t))}const er=0,aE=1,ta=2,Fr=3;class jd{constructor(e,t,s,r){this.parent=e,this.children=t,this.dom=s,this.contentDOM=r,this.dirty=er,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,s=this.posAtStart;;t++){let r=this.children[t];if(r==e)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>Pn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let s=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),o;if(i&&(!t||i.node))if(s&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))s=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let s=t;s;s=s.parent)if(s==this)return t}posFromDOM(e,t,s){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,s)}return-1}descAt(e){for(let t=0,s=0;t<this.children.length;t++){let r=this.children[t],i=s+r.size;if(s==e&&i!=s){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<i)return r.descAt(e-s-r.border);s=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,r=0;for(let i=0;s<this.children.length;s++){let o=this.children[s],a=i+o.size;if(a>e||o instanceof sM){r=e-i;break}i=a}if(r)return this.children[s].domFromPos(r-this.children[s].border,t);for(let i;s&&!(i=this.children[s-1]).size&&i instanceof nM&&i.side>=0;s--);if(t<=0){let i,o=!0;for(;i=s?this.children[s-1]:null,!(!i||i.dom.parentNode==this.contentDOM);s--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?Pn(i.dom)+1:0}}else{let i,o=!0;for(;i=s<this.children.length?this.children[s]:null,!(!i||i.dom.parentNode==this.contentDOM);s++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?Pn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=s,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=Pn(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Pn(d.dom);break}t+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:s}=this.domFromPos(e,0);if(t.nodeType!=1||s==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[s]}setSelection(e,t,s,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(i>p&&o<m)return g.setSelection(e-p-g.border,t-p-g.border,s,r);p=m}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=s.root.getSelection(),u=s.domSelectionRange(),d=!1;if((vr||fs)&&e==t){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Pn(m)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[p-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(vr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||d&&fs)&&Na(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Na(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==t)&&!d){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let s=0,r=0;r<this.children.length;r++){let i=this.children[r],o=s+i.size;if(s==o?e<=o&&t>=s:e<o&&t>s){let a=s+i.border,l=o-i.border;if(e>=a&&t<=l){this.dirty=e==s||t==o?ta:aE,e==a&&t==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Fr:i.markDirty(e-a,t-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?ta:Fr}s=o}this.dirty=ta}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let s=e==1?ta:aE;t.dirty<s&&(t.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class nM extends jd{constructor(e,t,s,r){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==er&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Q8 extends jd{constructor(e,t,s,r){super(e,[],t,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class La extends jd{constructor(e,t,s,r,i){super(e,[],s,r),this.mark=t,this.spec=i}static create(e,t,s,r){let i=r.nodeViews[t.type.name],o=i&&i(t,r,s);return(!o||!o.dom)&&(o=Ka.renderSpec(document,t.type.spec.toDOM(t,s),null,t.attrs)),new La(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Fr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Fr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=er){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=er}}slice(e,t,s){let r=La.create(this.parent,this.mark,!0,s),i=this.children,o=this.size;t<o&&(i=T0(i,t,o,s)),e>0&&(i=T0(i,0,e,s));for(let a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bo extends jd{constructor(e,t,s,r,i,o,a,l,c){super(e,[],i,o),this.node=t,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=a}static create(e,t,s,r,i,o){let a=i.nodeViews[t.type.name],l,c=a&&a(t,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},s,r),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ka.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let f=u;return u=oM(u,s,t),c?l=new Z8(e,t,s,r,u,d||null,f,c,i,o+1):t.isText?new Pg(e,t,s,r,u,f,i):new bo(e,t,s,r,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let s=this.children[t];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Q.empty)}return e}matchesNode(e,t,s){return this.dirty==er&&e.eq(this.node)&&np(t,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let s=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new t7(this,o&&o.node,e);r7(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,s,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Tt.none:this.node.child(u).marks,s,e),l.placeWidget(c,e,r)},(c,u,d,f)=>{l.syncToMarks(c.marks,s,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(h=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,r)||l.addNode(c,u,d,e,r),r+=c.nodeSize}),l.syncToMarks([],s,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ta)&&(o&&this.protectLocalComposition(e,o),rM(this.contentDOM,this.children,e),nc&&i7(this.dom))}localCompositionInfo(e,t){let{from:s,to:r}=e.state.selection;if(!(e.state.selection instanceof ze)||s<t||r>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=o7(this.node.content,o,s-t,r-t);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:s,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Q8(this,i,t,r);e.input.compositionNodes.push(o),this.children=T0(this.children,s,s+r.length,e,o)}update(e,t,s,r){return this.dirty==Fr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,s,r),!0)}updateInner(e,t,s,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=er}updateOuterDeco(e){if(np(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=iM(this.dom,this.nodeDOM,_0(this.outerDeco,this.node,t),_0(e,this.node,t)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function lE(n,e,t,s,r){oM(s,e,n);let i=new bo(void 0,n,e,t,s,s,s,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class Pg extends bo{constructor(e,t,s,r,i,o,a){super(e,t,s,r,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,s,r){return this.dirty==Fr||this.dirty!=er&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=er||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=er,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,s){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,s){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new Pg(this.parent,r,this.outerDeco,this.innerDeco,i,i,s)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Fr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sM extends jd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==er&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Z8 extends bo{constructor(e,t,s,r,i,o,a,l,c,u){super(e,t,s,r,i,o,a,c,u),this.spec=l}update(e,t,s,r){if(this.dirty==Fr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,s);return i&&this.updateInner(e,t,s,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,s,r){this.spec.setSelection?this.spec.setSelection(e,t,s.root):super.setSelection(e,t,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function rM(n,e,t){let s=n.firstChild,r=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==n){for(;a!=s;)s=cE(s),r=!0;s=s.nextSibling}else r=!0,n.insertBefore(a,s);if(o instanceof La){let l=s?s.previousSibling:n.lastChild;rM(o.contentDOM,o.children,t),s=l?l.nextSibling:n.firstChild}}for(;s;)s=cE(s),r=!0;r&&t.trackWrites==n&&(t.trackWrites=null)}const vu=function(n){n&&(this.nodeName=n)};vu.prototype=Object.create(null);const na=[new vu];function _0(n,e,t){if(n.length==0)return na;let s=t?na[0]:new vu,r=[s];for(let i=0;i<n.length;i++){let o=n[i].type.attrs;if(o){o.nodeName&&r.push(s=new vu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&r.length==1&&r.push(s=new vu(e.isInline?"span":"div")),a=="class"?s.class=(s.class?s.class+" ":"")+l:a=="style"?s.style=(s.style?s.style+";":"")+l:a!="nodeName"&&(s[a]=l))}}}return r}function iM(n,e,t,s){if(t==na&&s==na)return e;let r=e;for(let i=0;i<s.length;i++){let o=s[i],a=t[i];if(i){let l;a&&a.nodeName==o.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=na[0]),r=l}e7(r,a||na[0],o)}return r}function e7(n,e,t){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in t)&&n.removeAttribute(s);for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&t[s]!=e[s]&&n.setAttribute(s,t[s]);if(e.class!=t.class){let s=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&n.classList.remove(s[i]);for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&n.classList.add(r[i]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(e.style);)n.style.removeProperty(r[1])}t.style&&(n.style.cssText+=t.style)}}function oM(n,e,t){return iM(n,n,na,_0(e,t,n.nodeType!=1))}function np(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function cE(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class t7{constructor(e,t,s){this.lock=t,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=n7(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let s=e;s<t;s++)this.top.children[s].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,s){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=er,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=La.create(this.top,e[i],t,s);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,s,r){let i=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,s))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,s)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,s,r,i){let o=this.top.children[r];return o.dirty==Fr&&o.dom==o.contentDOM&&(o.dirty=ta),o.update(e,t,s,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}e=t}}updateNextNode(e,t,s,r,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof bo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Fr&&np(t,l.outerDeco));if(!f&&l.update(e,t,s,r))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,t,s,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ta,d.updateChildren(r,o+1),d.dirty=er),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,s,r,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!np(s,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=bo.create(this.top,t,s,r,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,s,r,i){let o=bo.create(this.top,e,t,s,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new nM(this.top,e,t,s);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof La;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Pg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fs||Yn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new sM(this.top,[],s,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function n7(n,e){let t=e,s=t.children.length,r=n.childCount,i=new Map,o=[];e:for(;r>0;){let a;for(;;)if(s){let c=t.children[s-1];if(c instanceof La)t=c,s=c.children.length;else{a=c,s--;break}}else{if(t==e)break e;s=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(r-1))break;--r,i.set(a,r),o.push(a)}}return{index:r,matched:i,matches:o.reverse()}}function s7(n,e){return n.type.side-e.type.side}function r7(n,e,t,s){let r=e.locals(n),i=0;if(r.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);s(u,r,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<r.length&&r[o].to==i;){let m=r[o++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(s7);for(let m=0;m<d.length;m++)t(d[m],c,!!l)}else t(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<n.childCount)h=c,f=n.child(c++);else break;for(let m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);for(;o<r.length&&r[o].from<=i&&r[o].to>i;)a.push(r[o++]);let p=i+f.nodeSize;if(f.isText){let m=p;o<r.length&&r[o].from<m&&(m=r[o].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<p&&(l=f.cut(m-i),f=f.cut(0,m-i),p=m,h=-1)}else for(;o<r.length&&r[o].to<p;)o++;let g=f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice();s(f,g,e.forChild(i,f),h),i=p}}function i7(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function o7(n,e,t,s){for(let r=0,i=0;r<n.childCount&&i<=s;){let o=n.child(r++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<n.childCount;){let c=n.child(r++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=t){if(i>=s&&l.slice(s-e.length-a,s-a)==e)return s-e.length;let c=a<s?l.lastIndexOf(e,s-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==s&&l.length>=s+e.length-a&&l.slice(s-a,s-a+e.length)==e)return s}}return-1}function T0(n,e,t,s,r){let i=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,u=a+=l.size;c>=t||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,s)),r&&(i.push(r),r=void 0),u>t&&i.push(l.slice(t-c,l.size,s)))}return i}function Dv(n,e=null){let t=n.domSelectionRange(),s=n.state.doc;if(!t.focusNode)return null;let r=n.docView.nearestDesc(t.focusNode),i=r&&r.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=s.resolve(o),l,c;if(Ig(t)){for(l=o;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&Ae.isSelectable(d)&&r.parent&&!(d.isInline&&P8(t.focusNode,t.focusOffset,r.dom))){let f=r.posBefore;c=new Ae(o==f?a:s.resolve(f))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=o,f=o;for(let h=0;h<t.rangeCount;h++){let p=t.getRangeAt(h);d=Math.min(d,n.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=f==n.state.selection.anchor?[f,d]:[d,f],a=s.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=s.resolve(l);if(!c){let d=e=="pointer"||n.state.selection.head<a.pos&&!i?1:-1;c=Rv(n,u,a,d)}return c}function aM(n){return n.editable?n.hasFocus():cM(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function mi(n,e=!1){let t=n.state.selection;if(lM(n,t),!!aM(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Yn){let s=n.domSelectionRange(),r=n.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&Na(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)l7(n);else{let{anchor:s,head:r}=t,i,o;uE&&!(t instanceof ze)&&(t.$from.parent.inlineContent||(i=dE(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=dE(n,t.to))),n.docView.setSelection(s,r,n,e),uE&&(i&&fE(i),o&&fE(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&a7(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const uE=fs||Yn&&JA<63;function dE(n,e){let{node:t,offset:s}=n.docView.domFromPos(e,0),r=s<t.childNodes.length?t.childNodes[s]:null,i=s?t.childNodes[s-1]:null;if(fs&&r&&r.contentEditable=="false")return Gm(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Gm(r);if(i)return Gm(i)}}function Gm(n){return n.contentEditable="true",fs&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function fE(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function a7(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),s=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=s||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!aM(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function l7(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let s=n.cursorWrapper.dom,r=s.nodeName=="IMG";r?t.setStart(s.parentNode,Pn(s)+1):t.setStart(s,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!r&&!n.state.selection.visible&&Cs&&yo<=11&&(s.disabled=!0,s.disabled=!1)}function lM(n,e){if(e instanceof Ae){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(hE(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else hE(n)}function hE(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Rv(n,e,t,s){return n.someProp("createSelectionBetween",r=>r(n,e,t))||ze.between(e,t,s)}function pE(n){return n.editable&&!n.hasFocus()?!1:cM(n)}function cM(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function c7(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Na(e.node,e.offset,t.anchorNode,t.anchorOffset)}function C0(n,e){let{$anchor:t,$head:s}=n.selection,r=e>0?t.max(s):t.min(s),i=r.parent.inlineContent?r.depth?n.doc.resolve(e>0?r.after():r.before()):null:r;return i&&Je.findFrom(i,e)}function Vi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function gE(n,e,t){let s=n.state.selection;if(s instanceof ze)if(t.indexOf("s")>-1){let{$head:r}=s,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=n.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Vi(n,new ze(s.$anchor,o))}else if(s.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let r=C0(n.state,e);return r&&r instanceof Ae?Vi(n,r):!1}else if(!(Gs&&t.indexOf("m")>-1)){let r=s.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Ae.isSelectable(i)?Vi(n,new Ae(e<0?n.state.doc.resolve(r.pos-i.nodeSize):r)):Fd?Vi(n,new ze(n.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(s instanceof Ae&&s.node.isInline)return Vi(n,new ze(e>0?s.$to:s.$from));{let r=C0(n.state,e);return r?Vi(n,r):!1}}}function sp(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function xu(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function il(n,e){return e<0?u7(n):d7(n)}function u7(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let r,i,o=!1;for(vr&&t.nodeType==1&&s<sp(t)&&xu(t.childNodes[s],-1)&&(o=!0);;)if(s>0){if(t.nodeType!=1)break;{let a=t.childNodes[s-1];if(xu(a,-1))r=t,i=--s;else if(a.nodeType==3)t=a,s=t.nodeValue.length;else break}}else{if(uM(t))break;{let a=t.previousSibling;for(;a&&xu(a,-1);)r=t.parentNode,i=Pn(a),a=a.previousSibling;if(a)t=a,s=sp(t);else{if(t=t.parentNode,t==n.dom)break;s=0}}}o?O0(n,t,s):r&&O0(n,r,i)}function d7(n){let e=n.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let r=sp(t),i,o;for(;;)if(s<r){if(t.nodeType!=1)break;let a=t.childNodes[s];if(xu(a,1))i=t,o=++s;else break}else{if(uM(t))break;{let a=t.nextSibling;for(;a&&xu(a,1);)i=a.parentNode,o=Pn(a)+1,a=a.nextSibling;if(a)t=a,s=0,r=sp(t);else{if(t=t.parentNode,t==n.dom)break;s=r=0}}}i&&O0(n,i,o)}function uM(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function f7(n,e){for(;n&&e==n.childNodes.length&&!$d(n);)e=Pn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function h7(n,e){for(;n&&!e&&!$d(n);)e=Pn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function O0(n,e,t){if(e.nodeType!=3){let i,o;(o=f7(e,t))?(e=o,t=0):(i=h7(e,t))&&(e=i,t=i.nodeValue.length)}let s=n.domSelection();if(!s)return;if(Ig(s)){let i=document.createRange();i.setEnd(e,t),i.setStart(e,t),s.removeAllRanges(),s.addRange(i)}else s.extend&&s.extend(e,t);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&mi(n)},50)}function mE(n,e){let t=n.state.doc.resolve(e);if(!(Yn||N8)&&t.parent.inlineContent){let r=n.coordsAtPos(e);if(e>t.start()){let i=n.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<t.end()){let i=n.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function yE(n,e,t){let s=n.state.selection;if(s instanceof ze&&!s.empty||t.indexOf("s")>-1||Gs&&t.indexOf("m")>-1)return!1;let{$from:r,$to:i}=s;if(!r.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=C0(n.state,e);if(o&&o instanceof Ae)return Vi(n,o)}if(!r.parent.inlineContent){let o=e<0?r:i,a=s instanceof Zs?Je.near(o,e):Je.findFrom(o,e);return a?Vi(n,a):!1}return!1}function bE(n,e){if(!(n.state.selection instanceof ze))return!0;let{$head:t,$anchor:s,empty:r}=n.state.selection;if(!t.sameParent(s))return!0;if(!r)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(i&&!i.isText){let o=n.state.tr;return e<0?o.delete(t.pos-i.nodeSize,t.pos):o.delete(t.pos,t.pos+i.nodeSize),n.dispatch(o),!0}return!1}function vE(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function p7(n){if(!fs||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;vE(n,s,"true"),setTimeout(()=>vE(n,s,"false"),20)}return!1}function g7(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function m7(n,e){let t=e.keyCode,s=g7(e);if(t==8||Gs&&t==72&&s=="c")return bE(n,-1)||il(n,-1);if(t==46&&!e.shiftKey||Gs&&t==68&&s=="c")return bE(n,1)||il(n,1);if(t==13||t==27)return!0;if(t==37||Gs&&t==66&&s=="c"){let r=t==37?mE(n,n.state.selection.from)=="ltr"?-1:1:-1;return gE(n,r,s)||il(n,r)}else if(t==39||Gs&&t==70&&s=="c"){let r=t==39?mE(n,n.state.selection.from)=="ltr"?1:-1:1;return gE(n,r,s)||il(n,r)}else{if(t==38||Gs&&t==80&&s=="c")return yE(n,-1,s)||il(n,-1);if(t==40||Gs&&t==78&&s=="c")return p7(n)||yE(n,1,s)||il(n,1);if(s==(Gs?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function dM(n,e){n.someProp("transformCopied",h=>{e=h(e,n)});let t=[],{content:s,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,i--;let h=s.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),s=h.content}let o=n.someProp("clipboardSerializer")||Ka.fromSchema(n.state.schema),a=yM(),l=a.createElement("div");l.appendChild(o.serializeFragment(s,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=mM[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",h=>h(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function fM(n,e,t,s,r){let i=r.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(s||i||!t);if(l){if(n.someProp("transformPastedText",f=>{e=f(e,i||s,n)}),i)return e?new me(Q.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):me.empty;let d=n.someProp("clipboardTextParser",f=>f(e,r,s,n));if(d)a=d;else{let f=r.marks(),{schema:h}=n.state,p=Ka.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=o.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,f)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),o=x7(t),Fd&&w7(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||mo.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!y7.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=S7(xE(a,+u[1],+u[2]),u[4]);else if(a=me.maxOpen(b7(a.content,r),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=xE(a,d,f)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const y7=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function b7(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),i,o=[];if(n.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&pM(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=gM(o[o.length-1],i.length));let u=hM(a,l);o.push(u),r=r.matchType(u.type),i=l}}),o)return Q.from(o)}return n}function hM(n,e,t=0){for(let s=e.length-1;s>=t;s--)n=e[s].create(null,Q.from(n));return n}function pM(n,e,t,s,r){if(r<n.length&&r<e.length&&n[r]==e[r]){let i=pM(n,e,t,s.lastChild,r+1);if(i)return s.copy(s.content.replaceChild(s.childCount-1,i));if(s.contentMatchAt(s.childCount).matchType(r==n.length-1?t.type:n[r+1]))return s.copy(s.content.append(Q.from(hM(t,n,r+1))))}}function gM(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,gM(n.lastChild,e-1)),s=n.contentMatchAt(n.childCount).fillBefore(Q.empty,!0);return n.copy(t.append(s))}function A0(n,e,t,s,r,i){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(i=0),r<s-1&&(a=A0(a,e,t,s,r+1,i)),r>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Q.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function xE(n,e,t){return e<n.openStart&&(n=new me(A0(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new me(A0(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const mM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wE=null;function yM(){return wE||(wE=document.implementation.createHTMLDocument("title"))}let Xm=null;function v7(n){let e=window.trustedTypes;return e?(Xm||(Xm=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Xm.createHTML(n)):n}function x7(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=yM().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(n),r;if((r=s&&mM[s[1].toLowerCase()])&&(n=r.map(i=>"<"+i+">").join("")+n+r.map(i=>"</"+i+">").reverse().join("")),t.innerHTML=v7(n),r)for(let i=0;i<r.length;i++)t=t.querySelector(r[i])||t;return t}function w7(n){let e=n.querySelectorAll(Yn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let s=e[t];s.childNodes.length==1&&s.textContent==" "&&s.parentNode&&s.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),s)}}function S7(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return n}let{content:r,openStart:i,openEnd:o}=n;for(let a=s.length-2;a>=0;a-=2){let l=t.nodes[s[a]];if(!l||l.hasRequiredAttrs())break;r=Q.from(l.create(s[a+1],r)),i++,o++}return new me(r,i,o)}const hs={},ps={},E7={touchstart:!0,touchmove:!0};class k7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _7(n){for(let e in hs){let t=hs[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=s=>{C7(n,s)&&!Nv(n,s)&&(n.editable||!(s.type in ps))&&t(n,s)},E7[e]?{passive:!0}:void 0)}fs&&n.dom.addEventListener("input",()=>null),M0(n)}function ao(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function T7(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function M0(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=s=>Nv(n,s))})}function Nv(n,e){return n.someProp("handleDOMEvents",t=>{let s=t[e.type];return s?s(n,e)||e.defaultPrevented:!1})}function C7(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function O7(n,e){!Nv(n,e)&&hs[e.type]&&(n.editable||!(e.type in ps))&&hs[e.type](n,e)}ps.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!vM(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(di&&Yn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),nc&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let s=Date.now();n.input.lastIOSEnter=s,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==s&&(n.someProp("handleKeyDown",r=>r(n,qo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",s=>s(n,t))||m7(n,t)?t.preventDefault():ao(n,"key")};ps.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ps.keypress=(n,e)=>{let t=e;if(vM(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Gs&&t.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,t))){t.preventDefault();return}let s=n.state.selection;if(!(s instanceof ze)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(t.charCode);!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",i=>i(n,s.$from.pos,s.$to.pos,r))&&n.dispatch(n.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}};function Dg(n){return{left:n.clientX,top:n.clientY}}function A7(n,e){let t=e.x-n.clientX,s=e.y-n.clientY;return t*t+s*s<100}function Lv(n,e,t,s,r){if(s==-1)return!1;let i=n.state.doc.resolve(s);for(let o=i.depth+1;o>0;o--)if(n.someProp(e,a=>o>i.depth?a(n,t,i.nodeAfter,i.before(o),r,!0):a(n,t,i.node(o),i.before(o),r,!1)))return!0;return!1}function Tl(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let s=n.state.tr.setSelection(e);s.setMeta("pointer",!0),n.dispatch(s)}function M7(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),s=t.nodeAfter;return s&&s.isAtom&&Ae.isSelectable(s)?(Tl(n,new Ae(t)),!0):!1}function I7(n,e){if(e==-1)return!1;let t=n.state.selection,s,r;t instanceof Ae&&(s=t.node);let i=n.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(Ae.isSelectable(a)){s&&t.$from.depth>0&&o>=t.$from.depth&&i.before(t.$from.depth+1)==t.$from.pos?r=i.before(t.$from.depth):r=i.before(o);break}}return r!=null?(Tl(n,Ae.create(n.state.doc,r)),!0):!1}function P7(n,e,t,s,r){return Lv(n,"handleClickOn",e,t,s)||n.someProp("handleClick",i=>i(n,e,s))||(r?I7(n,t):M7(n,t))}function D7(n,e,t,s){return Lv(n,"handleDoubleClickOn",e,t,s)||n.someProp("handleDoubleClick",r=>r(n,e,s))}function R7(n,e,t,s){return Lv(n,"handleTripleClickOn",e,t,s)||n.someProp("handleTripleClick",r=>r(n,e,s))||N7(n,t,s)}function N7(n,e,t){if(t.button!=0)return!1;let s=n.state.doc;if(e==-1)return s.inlineContent?(Tl(n,ze.create(s,0,s.content.size)),!0):!1;let r=s.resolve(e);for(let i=r.depth+1;i>0;i--){let o=i>r.depth?r.nodeAfter:r.node(i),a=r.before(i);if(o.inlineContent)Tl(n,ze.create(s,a+1,a+1+o.content.size));else if(Ae.isSelectable(o))Tl(n,Ae.create(s,a));else continue;return!0}}function $v(n){return rp(n)}const bM=Gs?"metaKey":"ctrlKey";hs.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let s=$v(n),r=Date.now(),i="singleClick";r-n.input.lastClick.time<500&&A7(t,n.input.lastClick)&&!t[bM]&&(n.input.lastClick.type=="singleClick"?i="doubleClick":n.input.lastClick.type=="doubleClick"&&(i="tripleClick")),n.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:i};let o=n.posAtCoords(Dg(t));o&&(i=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new L7(n,o,t,!!s)):(i=="doubleClick"?D7:R7)(n,o.pos,o.inside,t)?t.preventDefault():ao(n,"pointer"))};class L7{constructor(e,t,s,r){this.view=e,this.pos=t,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[bM],this.allowDefault=s.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);i=u.parent,o=u.depth?u.before():0}const a=r?null:s.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(s.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Ae&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ao(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Dg(e))),this.updateAllowDefault(e),this.allowDefault||!t?ao(this.view,"pointer"):P7(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fs&&this.mightDrag&&!this.mightDrag.node.isAtom||Yn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Tl(this.view,Je.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):ao(this.view,"pointer")}move(e){this.updateAllowDefault(e),ao(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hs.touchstart=n=>{n.input.lastTouch=Date.now(),$v(n),ao(n,"pointer")};hs.touchmove=n=>{n.input.lastTouch=Date.now(),ao(n,"pointer")};hs.contextmenu=n=>$v(n);function vM(n,e){return n.composing?!0:fs&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const $7=di?5e3:-1;ps.compositionstart=ps.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ze&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),rp(n,!0),n.markCursor=null;else if(rp(n,!e.selection.empty),vr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let s=n.domSelectionRange();for(let r=s.focusNode,i=s.focusOffset;r&&r.nodeType==1&&i!=0;){let o=i<0?r.lastChild:r.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,i=-1}}n.input.composing=!0}xM(n,$7)};ps.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,xM(n,20))};function xM(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>rp(n),e))}function wM(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=j7());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function F7(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=M8(e.focusNode,e.focusOffset),s=I8(e.focusNode,e.focusOffset);if(t&&s&&t!=s){let r=s.pmViewDesc,i=n.domObserver.lastChangedTextNode;if(t==i||s==i)return i;if(!r||!r.isText(s.nodeValue))return s;if(n.input.compositionNode==s){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return s}}return t||s}function j7(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function rp(n,e=!1){if(!(di&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),wM(n),e||n.docView&&n.docView.dirty){let t=Dv(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function B7(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(e),n.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const id=Cs&&yo<15||nc&&L8<604;hs.copy=ps.cut=(n,e)=>{let t=e,s=n.state.selection,r=t.type=="cut";if(s.empty)return;let i=id?null:t.clipboardData,o=s.content(),{dom:a,text:l}=dM(n,o);i?(t.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):B7(n,a),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function V7(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function z7(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,s=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),s.parentNode&&s.parentNode.removeChild(s),t?od(n,s.value,null,r,e):od(n,s.textContent,s.innerHTML,r,e)},50)}function od(n,e,t,s,r){let i=fM(n,e,t,s,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,i||me.empty)))return!0;if(!i)return!1;let o=V7(i),a=o?n.state.tr.replaceSelectionWith(o,s):n.state.tr.replaceSelection(i);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function SM(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ps.paste=(n,e)=>{let t=e;if(n.composing&&!di)return;let s=id?null:t.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;s&&od(n,SM(s),s.getData("text/html"),r,t)?t.preventDefault():z7(n,t)};class EM{constructor(e,t,s){this.slice=e,this.move=t,this.node=s}}const kM=Gs?"altKey":"ctrlKey";hs.dragstart=(n,e)=>{let t=e,s=n.input.mouseDown;if(s&&s.done(),!t.dataTransfer)return;let r=n.state.selection,i=r.empty?null:n.posAtCoords(Dg(t)),o;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof Ae?r.to-1:r.to))){if(s&&s.mightDrag)o=Ae.create(n.state.doc,s.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(o=Ae.create(n.state.doc,d.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:u}=dM(n,a);(!t.dataTransfer.files.length||!Yn||JA>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(id?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",id||t.dataTransfer.setData("text/plain",c),n.dragging=new EM(u,!t[kM],o)};hs.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ps.dragover=ps.dragenter=(n,e)=>e.preventDefault();ps.drop=(n,e)=>{let t=e,s=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let r=n.posAtCoords(Dg(t));if(!r)return;let i=n.state.doc.resolve(r.pos),o=s&&s.slice;o?n.someProp("transformPasted",p=>{o=p(o,n)}):o=fM(n,SM(t.dataTransfer),id?null:t.dataTransfer.getData("text/html"),!1,i);let a=!!(s&&!t[kM]);if(n.someProp("handleDrop",p=>p(n,t,o||me.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?BA(n.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=n.state.tr;if(a){let{node:p}=s;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&Ae.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Ae(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,y,b)=>p=b),c.setSelection(Rv(n,h,c.doc.resolve(p)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};hs.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&mi(n)},20))};hs.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};hs.beforeinput=(n,e)=>{if(Yn&&di&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:s}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=s||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",i=>i(n,qo(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in ps)hs[n]=ps[n];function ad(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ip{constructor(e,t){this.toDOM=e,this.spec=t||Ea,this.side=this.spec.side||0}map(e,t,s,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Js(i-s,i-s,this)}valid(){return!0}eq(e){return this==e||e instanceof ip&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ad(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vo{constructor(e,t){this.attrs=e,this.spec=t||Ea}map(e,t,s,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-s,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-s;return i>=o?null:new Js(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof vo&&ad(this.attrs,e.attrs)&&ad(this.spec,e.spec)}static is(e){return e.type instanceof vo}destroy(){}}class Fv{constructor(e,t){this.attrs=e,this.spec=t||Ea}map(e,t,s,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Js(i.pos-s,o.pos-s,this)}valid(e,t){let{index:s,offset:r}=e.content.findIndex(t.from),i;return r==t.from&&!(i=e.child(s)).isText&&r+i.nodeSize==t.to}eq(e){return this==e||e instanceof Fv&&ad(this.attrs,e.attrs)&&ad(this.spec,e.spec)}destroy(){}}class Js{constructor(e,t,s){this.from=e,this.to=t,this.type=s}copy(e,t){return new Js(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,s){return this.type.map(e,this,t,s)}static widget(e,t,s){return new Js(e,e,new ip(t,s))}static inline(e,t,s,r){return new Js(e,t,new vo(s,r))}static node(e,t,s,r){return new Js(e,t,new Fv(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof vo}get widget(){return this.type instanceof ip}}const dl=[],Ea={};class dn{constructor(e,t){this.local=e.length?e:dl,this.children=t.length?t:dl}static create(e,t){return t.length?op(t,e,0,Ea):Bn}find(e,t,s){let r=[];return this.findInner(e??0,t??1e9,r,0,s),r}findInner(e,t,s,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!i||i(a.spec))&&s.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,s,r+a,i)}}map(e,t,s){return this==Bn||e.maps.length==0?this:this.mapInner(e,t,0,0,s||Ea)}mapInner(e,t,s,r,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,s,r);l&&l.type.valid(t,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?U7(this.children,o||[],e,t,s,r,i):o?new dn(o.sort(ka),dl):Bn}add(e,t){return t.length?this==Bn?dn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,s){let r,i=0;e.forEach((a,l)=>{let c=l+s,u;if(u=TM(t,a,c)){for(r||(r=this.children.slice());i<r.length&&r[i]<l;)i+=3;r[i]==l?r[i+2]=r[i+2].addInner(a,u,c+1):r.splice(i,0,l,l+a.nodeSize,op(u,a,c+1,Ea)),i+=3}});let o=_M(i?CM(t):t,-s);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new dn(o.length?this.local.concat(o).sort(ka):this.local,r||this.children)}remove(e){return e.length==0||this==Bn?this:this.removeInner(e,0)}removeInner(e,t){let s=this.children,r=this.local;for(let i=0;i<s.length;i+=3){let o,a=s[i]+t,l=s[i+1]+t;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;s==this.children&&(s=this.children.slice());let c=s[i+2].removeInner(o,a+1);c!=Bn?s[i+2]=c:(s.splice(i,3),i-=3)}if(r.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<r.length;a++)r[a].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new dn(r,s):Bn}forChild(e,t){if(this==Bn)return this;if(t.isLeaf)return dn.empty;let s,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(s=this.children[a+2]);break}let i=e+1,o=i+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof vo){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){let a=new dn(r.sort(ka),dl);return s?new Ki([a,s]):a}return s||Bn}eq(e){if(this==e)return!0;if(!(e instanceof dn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return jv(this.localsInner(e))}localsInner(e){if(this==Bn)return dl;if(e.inlineContent||!this.local.some(vo.is))return this.local;let t=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof vo||t.push(this.local[s]);return t}forEachSet(e){e(this)}}dn.empty=new dn([],[]);dn.removeOverlap=jv;const Bn=dn.empty;class Ki{constructor(e){this.members=e}map(e,t){const s=this.members.map(r=>r.map(e,t,Ea));return Ki.from(s)}forChild(e,t){if(t.isLeaf)return dn.empty;let s=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Bn&&(i instanceof Ki?s=s.concat(i.members):s.push(i))}return Ki.from(s)}eq(e){if(!(e instanceof Ki)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,s=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!t)t=i;else{s&&(t=t.slice(),s=!1);for(let o=0;o<i.length;o++)t.push(i[o])}}return t?jv(s?t:t.sort(ka)):dl}static from(e){switch(e.length){case 0:return Bn;case 1:return e[0];default:return new Ki(e.every(t=>t instanceof dn)?e:e.reduce((t,s)=>t.concat(s instanceof dn?s:s.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function U7(n,e,t,s,r,i,o){let a=n.slice();for(let c=0,u=i;c<t.maps.length;c++){let d=0;t.maps[c].forEach((f,h,p,g)=>{let m=g-p-(h-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let x=a[y]+u-d;h>=x?a[y+1]=f<=x?-2:-1:f>=u&&m&&(a[y]+=m,a[y+1]+=m)}d+=m}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+i),d=u-r;if(d<0||d>=s.content.size){l=!0;continue}let f=t.map(n[c+1]+i,-1),h=f-r,{index:p,offset:g}=s.content.findIndex(d),m=s.maybeChild(p);if(m&&g==d&&g+m.nodeSize==h){let y=a[c+2].mapInner(t,m,u+1,n[c]+i+1,o);y!=Bn?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=H7(a,n,e,t,r,i,o),u=op(c,s,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new dn(e.sort(ka),a)}function _M(n,e){if(!e||!n.length)return n;let t=[];for(let s=0;s<n.length;s++){let r=n[s];t.push(new Js(r.from+e,r.to+e,r.type))}return t}function H7(n,e,t,s,r,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(s,r,c);d?t.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+i+1);return t}function TM(n,e,t){if(e.isLeaf)return null;let s=t+e.nodeSize,r=null;for(let i=0,o;i<n.length;i++)(o=n[i])&&o.from>t&&o.to<s&&((r||(r=[])).push(o),n[i]=null);return r}function CM(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function op(n,e,t,s){let r=[],i=!1;e.forEach((a,l)=>{let c=TM(n,a,l+t);if(c){i=!0;let u=op(c,a,t+l+1,s);u!=Bn&&r.push(l,l+a.nodeSize,u)}});let o=_M(i?CM(n):n,-t).sort(ka);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(s.onRemove&&s.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new dn(o,r):Bn}function ka(n,e){return n.from-e.from||n.to-e.to}function jv(n){let e=n;for(let t=0;t<e.length-1;t++){let s=e[t];if(s.from!=s.to)for(let r=t+1;r<e.length;r++){let i=e[r];if(i.from==s.from){i.to!=s.to&&(e==n&&(e=n.slice()),e[r]=i.copy(i.from,s.to),SE(e,r+1,i.copy(s.to,i.to)));continue}else{i.from<s.to&&(e==n&&(e=n.slice()),e[t]=s.copy(s.from,i.from),SE(e,r,s.copy(i.from,s.to)));break}}}return e}function SE(n,e,t){for(;e<n.length&&ka(t,n[e])>0;)e++;n.splice(e,0,t)}function Jm(n){let e=[];return n.someProp("decorations",t=>{let s=t(n.state);s&&s!=Bn&&e.push(s)}),n.cursorWrapper&&e.push(dn.create(n.state.doc,[n.cursorWrapper.deco])),Ki.from(e)}const W7={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},K7=Cs&&yo<=11;class G7{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class X7{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new G7,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);Cs&&yo<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),K7&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,W7)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pE(this.view)){if(this.suppressingSelectionUpdates)return mi(this.view);if(Cs&&yo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Na(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,s;for(let i=e.focusNode;i;i=rd(i))t.add(i);for(let i=e.anchorNode;i;i=rd(i))if(t.has(i)){s=i;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let s=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&pE(e)&&!this.ignoreSelectionChange(s),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let d=this.registerMutation(t[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(vr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||q7(e,d)!=h)&&f.remove()}}}let c=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ig(s)&&(c=Dv(e))&&c.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mi(e),this.currentSelection.set(s),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),J7(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||mi(e),this.currentSelection.set(s))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let r=e.previousSibling,i=e.nextSibling;if(Cs&&yo<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=r&&r.parentNode==e.target?Pn(r)+1:0,a=s.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?Pn(i):e.target.childNodes.length,c=s.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let EE=new WeakMap,kE=!1;function J7(n){if(!EE.has(n)&&(EE.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=vr,kE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kE=!0}}function _E(n,e){let t=e.startContainer,s=e.startOffset,r=e.endContainer,i=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Na(o.node,o.offset,r,i)&&([t,s,r,i]=[r,i,t,s]),{anchorNode:t,anchorOffset:s,focusNode:r,focusOffset:i}}function Y7(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return _E(n,r)}let t;function s(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",s,!0),t?_E(n,t):null}function q7(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let s=n.docView.nearestDesc(t,!0);if(s&&s.node.isBlock)return t}return null}function Q7(n,e,t){let{node:s,fromOffset:r,toOffset:i,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Ig(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Yn&&n.input.lastKeyCode===8)for(let m=i;m>r;m--){let y=s.childNodes[m-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){i=m;break}if(!b||b.size)break}let d=n.state.doc,f=n.someProp("domParser")||mo.fromSchema(n.state.schema),h=d.resolve(o),p=null,g=f.parse(s,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Z7,context:h});if(c&&c[0].pos!=null){let m=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=m),p={anchor:m+o,head:y+o}}return{doc:g,sel:p,from:o,to:a}}function Z7(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(fs&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||fs&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const eW=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tW(n,e,t,s,r){let i=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let E=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,_=Dv(n,E);if(_&&!n.state.selection.eq(_)){if(Yn&&di&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",A=>A(n,qo(13,"Enter"))))return;let O=n.state.tr.setSelection(_);E=="pointer"?O.setMeta("pointer",!0):E=="key"&&O.scrollIntoView(),i&&O.setMeta("composition",i),n.dispatch(O)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=Q7(n,e,t),u=n.state.doc,d=u.slice(c.from,c.to),f,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,h="end"):(f=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let p=rW(d.content,c.doc.content,c.from,f,h);if(p&&n.input.domChangeCount++,(nc&&n.input.lastIOSEnter>Date.now()-225||di)&&r.some(E=>E.nodeType==1&&!eW.test(E.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",E=>E(n,qo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(s&&l instanceof ze&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=TE(n,n.state.doc,c.sel);if(E&&!E.eq(n.state.selection)){let _=n.state.tr.setSelection(E);i&&_.setMeta("composition",i),n.dispatch(_)}}return}n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof ze&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),Cs&&yo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA,x;if((nc&&n.input.lastIOSEnter>Date.now()-225&&(!b||r.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&!g.sameParent(m)&&(x=Je.findFrom(c.doc.resolve(g.pos+1),1,!0))&&x.head==m.pos)&&n.someProp("handleKeyDown",E=>E(n,qo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&sW(u,p.start,p.endA,g,m)&&n.someProp("handleKeyDown",E=>E(n,qo(8,"Backspace")))){di&&Yn&&n.domObserver.suppressSelectionUpdates();return}Yn&&p.endB==p.start&&(n.input.lastChromeDelete=Date.now()),di&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(E){return E(n,qo(13,"Enter"))})},20));let S=p.start,w=p.endA,k,T,C;if(b){if(g.pos==m.pos)Cs&&yo<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>mi(n),20)),k=n.state.tr.delete(S,w),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(C=nW(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))k=n.state.tr,C.type=="add"?k.addMark(S,w,C.mark):k.removeMark(S,w,C.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let E=g.parent.textBetween(g.parentOffset,m.parentOffset);if(n.someProp("handleTextInput",_=>_(n,S,w,E)))return;k=n.state.tr.insertText(E,S,w)}}if(k||(k=n.state.tr.replace(S,w,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let E=TE(n,k.doc,c.sel);E&&!(Yn&&n.composing&&E.empty&&(p.start!=p.endB||n.input.lastChromeDelete<Date.now()-100)&&(E.head==S||E.head==k.mapping.map(w)-1)||Cs&&E.empty&&E.head==S)&&k.setSelection(E)}T&&k.ensureMarks(T),i&&k.setMeta("composition",i),n.dispatch(k.scrollIntoView())}function TE(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Rv(n,e.resolve(t.anchor),e.resolve(t.head))}function nW(n,e){let t=n.firstChild.marks,s=e.firstChild.marks,r=t,i=s,o,a,l;for(let u=0;u<s.length;u++)r=s[u].removeFromSet(r);for(let u=0;u<t.length;u++)i=t[u].removeFromSet(i);if(r.length==1&&i.length==0)a=r[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(r.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(Q.from(c).eq(n))return{mark:a,type:o}}function sW(n,e,t,s,r){if(t-e<=r.pos-s.pos||Ym(s,!0,!1)<r.pos)return!1;let i=n.resolve(e);if(!s.parent.isTextblock){let a=i.nodeAfter;return a!=null&&t==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=n.resolve(Ym(i,!0,!0));return!o.parent.isTextblock||o.pos>t||Ym(o,!0,!1)<t?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function Ym(n,e,t){let s=n.depth,r=e?n.end():n.pos;for(;s>0&&(e||n.indexAfter(s)==n.node(s).childCount);)s--,r++,e=!1;if(t){let i=n.node(s).maybeChild(n.indexAfter(s));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function rW(n,e,t,s,r){let i=n.findDiffStart(e,t);if(i==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(r=="end"){let l=Math.max(0,i-Math.min(o,a));s-=o+l-i}if(o<i&&n.size<e.size){let l=s<=i&&s>=o?i-s:0;i-=l,i&&i<e.size&&CE(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=s<=i&&s>=a?i-s:0;i-=l,i&&i<n.size&&CE(n.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function CE(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class iW{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new k7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(PE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ME(this),AE(this),this.nodeViews=IE(this),this.docView=lE(this.state.doc,OE(this),Jm(this),this.dom,this),this.domObserver=new X7(this,(s,r,i,o)=>tW(this,s,r,i,o)),this.domObserver.start(),_7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&M0(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(PE),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let s in this._props)t[s]=this._props[s];t.state=this.state;for(let s in e)t[s]=e[s];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var s;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(wM(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=IE(this);aW(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&M0(this),this.editable=ME(this),AE(this);let l=Jm(this),c=OE(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(r.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&j8(this);if(o){this.domObserver.stop();let h=d&&(Cs||Yn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&oW(r.selection,e.selection);if(d){let p=Yn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=F7(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=lE(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&c7(this))?mi(this,h):(lM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&B8(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ae){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&nE(this,t.getBoundingClientRect(),e)}else nE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let s=this.directPlugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let s=this.state.plugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let s=this.pluginViews[t];s.update&&s.update(this,e)}}updateDraggedNode(e,t){let s=e.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let i=s.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==s.node&&(r=i)}this.dragging=new EM(e.slice,e.move,r<0?void 0:Ae.create(this.state.doc,r))}someProp(e,t){let s=this._props&&this._props[e],r;if(s!=null&&(r=t?t(s):s))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=t?t(a):a))return r}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(Cs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&V8(this.dom),mi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return K8(this,e)}coordsAtPos(e,t=1){return eM(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,s=-1){let r=this.docView.posFromDOM(e,t,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return q8(this,t||this.state,e)}pasteHTML(e,t){return od(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return od(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(T7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,O8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return O7(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?fs&&this.root.nodeType===11&&D8(this.dom.ownerDocument)==this.dom&&Y7(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function OE(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let s in t)s=="class"?e.class+=" "+t[s]:s=="style"?e.style=(e.style?e.style+";":"")+t[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(t[s]))}),e.translate||(e.translate="no"),[Js.node(0,n.state.doc.content.size,e)]}function AE(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Js.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function ME(n){return!n.someProp("editable",e=>e(n.state)===!1)}function oW(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function IE(n){let e=Object.create(null);function t(s){for(let r in s)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=s[r])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function aW(n,e){let t=0,s=0;for(let r in n){if(n[r]!=e[r])return!0;t++}for(let r in e)s++;return t!=s}function PE(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var _o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ap={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lW=typeof navigator<"u"&&/Mac/.test(navigator.platform),cW=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Dn=0;Dn<10;Dn++)_o[48+Dn]=_o[96+Dn]=String(Dn);for(var Dn=1;Dn<=24;Dn++)_o[Dn+111]="F"+Dn;for(var Dn=65;Dn<=90;Dn++)_o[Dn]=String.fromCharCode(Dn+32),ap[Dn]=String.fromCharCode(Dn);for(var qm in _o)ap.hasOwnProperty(qm)||(ap[qm]=_o[qm]);function uW(n){var e=lW&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||cW&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ap:_o)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const dW=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function fW(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let s,r,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))s=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))dW?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return s&&(t="Alt-"+t),r&&(t="Ctrl-"+t),o&&(t="Meta-"+t),i&&(t="Shift-"+t),t}function hW(n){let e=Object.create(null);for(let t in n)e[fW(t)]=n[t];return e}function Qm(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function pW(n){return new Rn({props:{handleKeyDown:OM(n)}})}function OM(n){let e=hW(n);return function(t,s){let r=uW(s),i,o=e[Qm(r,s)];if(o&&o(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let a=e[Qm(r,s,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((s.shiftKey||s.altKey||s.metaKey||r.charCodeAt(0)>127)&&(i=_o[s.keyCode])&&i!=r){let a=e[Qm(i,s)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const gW=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function AM(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const mW=(n,e,t)=>{let s=AM(n,t);if(!s)return!1;let r=Bv(s);if(!r){let o=s.blockRange(),a=o&&dc(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let i=r.nodeBefore;if(DM(n,r,e,-1))return!0;if(s.parent.content.size==0&&(sc(i,"end")||Ae.isSelectable(i)))for(let o=s.depth;;o--){let a=Ag(n.doc,s.before(o),s.after(o),me.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(sc(i,"end")?Je.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Ae.create(l.doc,r.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return i.isAtom&&r.depth==s.depth-1?(e&&e(n.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},yW=(n,e,t)=>{let s=AM(n,t);if(!s)return!1;let r=Bv(s);return r?MM(n,r,e):!1},bW=(n,e,t)=>{let s=IM(n,t);if(!s)return!1;let r=Vv(s);return r?MM(n,r,e):!1};function MM(n,e,t){let s=e.nodeBefore,r=s,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Ag(n.doc,i,l,me.empty);if(!c||c.from!=i||c instanceof bn&&c.slice.size>=l-i)return!1;if(t){let u=n.tr.step(c);u.setSelection(ze.create(u.doc,i)),t(u.scrollIntoView())}return!0}function sc(n,e,t=!1){for(let s=n;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(t&&s.childCount!=1)return!1}return!1}const vW=(n,e,t)=>{let{$head:s,empty:r}=n.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):s.parentOffset>0)return!1;i=Bv(s)}let o=i&&i.nodeBefore;return!o||!Ae.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Bv(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function IM(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const xW=(n,e,t)=>{let s=IM(n,t);if(!s)return!1;let r=Vv(s);if(!r)return!1;let i=r.nodeAfter;if(DM(n,r,e,1))return!0;if(s.parent.content.size==0&&(sc(i,"start")||Ae.isSelectable(i))){let o=Ag(n.doc,s.before(),s.after(),me.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(sc(i,"start")?Je.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):Ae.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&r.depth==s.depth-1?(e&&e(n.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},wW=(n,e,t)=>{let{$head:s,empty:r}=n.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):s.parentOffset<s.parent.content.size)return!1;i=Vv(s)}let o=i&&i.nodeAfter;return!o||!Ae.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,i.pos)).scrollIntoView()),!0)};function Vv(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const SW=(n,e)=>{let t=n.selection,s=t instanceof Ae,r;if(s){if(t.node.isTextblock||!Po(n.doc,t.from))return!1;r=t.from}else if(r=Og(n.doc,t.from,-1),r==null)return!1;if(e){let i=n.tr.join(r);s&&i.setSelection(Ae.create(i.doc,r-n.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},EW=(n,e)=>{let t=n.selection,s;if(t instanceof Ae){if(t.node.isTextblock||!Po(n.doc,t.to))return!1;s=t.to}else if(s=Og(n.doc,t.to,1),s==null)return!1;return e&&e(n.tr.join(s).scrollIntoView()),!0},kW=(n,e)=>{let{$from:t,$to:s}=n.selection,r=t.blockRange(s),i=r&&dc(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},_W=(n,e)=>{let{$head:t,$anchor:s}=n.selection;return!t.parent.type.spec.code||!t.sameParent(s)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function PM(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const TW=(n,e)=>{let{$head:t,$anchor:s}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(s))return!1;let r=t.node(-1),i=t.indexAfter(-1),o=PM(r.contentMatchAt(i));if(!o||!r.canReplaceWith(i,i,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Je.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},CW=(n,e)=>{let t=n.selection,{$from:s,$to:r}=t;if(t instanceof Zs||s.parent.inlineContent||r.parent.inlineContent)return!1;let i=PM(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,a=n.tr.insert(o,i.createAndFill());a.setSelection(ze.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},OW=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let i=t.before();if(kl(n.doc,i))return e&&e(n.tr.split(i).scrollIntoView()),!0}let s=t.blockRange(),r=s&&dc(s);return r==null?!1:(e&&e(n.tr.lift(s,r).scrollIntoView()),!0)},AW=(n,e)=>{let{$from:t,to:s}=n.selection,r,i=t.sharedDepth(s);return i==0?!1:(r=t.before(i),e&&e(n.tr.setSelection(Ae.create(n.doc,r))),!0)};function MW(n,e,t){let s=e.nodeBefore,r=e.nodeAfter,i=e.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&e.parent.canReplace(i-1,i)?(t&&t(n.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Po(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function DM(n,e,t,s){let r=e.nodeBefore,i=e.nodeAfter,o,a,l=r.type.spec.isolating||i.type.spec.isolating;if(!l&&MW(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(t){let h=e.pos+i.nodeSize,p=Q.empty;for(let y=o.length-1;y>=0;y--)p=Q.from(o[y].create(null,p));p=Q.from(r.copy(p));let g=n.tr.step(new Sn(e.pos-1,h,e.pos,h,new me(p,1,0),o.length,!0)),m=g.doc.resolve(h+2*o.length);m.nodeAfter&&m.nodeAfter.type==r.type&&Po(g.doc,m.pos)&&g.join(m.pos),t(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||s>0&&l?null:Je.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&dc(d);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(d,f).scrollIntoView()),!0;if(c&&sc(i,"start",!0)&&sc(r,"end")){let h=r,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=i,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(t){let y=Q.empty;for(let x=p.length-1;x>=0;x--)y=Q.from(p[x].copy(y));let b=n.tr.step(new Sn(e.pos-p.length,e.pos+i.nodeSize,e.pos+m,e.pos+i.nodeSize-m,new me(y,p.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function RM(n){return function(e,t){let s=e.selection,r=n<0?s.$from:s.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(t&&t(e.tr.setSelection(ze.create(e.doc,n<0?r.start(i):r.end(i)))),!0):!1}}const IW=RM(-1),PW=RM(1);function DW(n,e=null){return function(t,s){let{$from:r,$to:i}=t.selection,o=r.blockRange(i),a=o&&Mv(o,n,e);return a?(s&&s(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function DE(n,e=null){return function(t,s){let r=!1;for(let i=0;i<t.selection.ranges.length&&!r;i++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[i];t.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)r=!0;else{let u=t.doc.resolve(c),d=u.index();r=u.parent.canReplaceWith(d,d+1,n)}})}if(!r)return!1;if(s){let i=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];i.setBlockType(a,l,n,e)}s(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function RW(n,e=null){return function(t,s){let{$from:r,$to:i}=t.selection,o=r.blockRange(i);if(!o)return!1;let a=s?t.tr:null;return NW(a,o,n,e)?(s&&s(a.scrollIntoView()),!0):!1}}function NW(n,e,t,s=null){let r=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);i=new ep(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new ep(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=Mv(i,t,s,e);return a?(n&&LW(n,e,a,r,t),!0):!1}function LW(n,e,t,s,r){let i=Q.empty;for(let u=t.length-1;u>=0;u--)i=Q.from(t[u].type.create(t[u].attrs,i));n.step(new Sn(e.start-(s?2:0),e.end,e.start,e.end,new me(i,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==r&&(o=u+1);let a=t.length-o,l=e.start+t.length-(s?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&kl(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function $W(n){return function(e,t){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,o=>o.childCount>0&&o.firstChild.type==n);return i?t?s.node(i.depth-1).type==n?FW(e,t,n,i):jW(e,t,i):!0:!1}}function FW(n,e,t,s){let r=n.tr,i=s.end,o=s.$to.end(s.depth);i<o&&(r.step(new Sn(i-1,o,i,o,new me(Q.from(t.create(null,s.parent.copy())),1,0),1,!0)),s=new ep(r.doc.resolve(s.$from.pos),r.doc.resolve(o),s.depth));const a=dc(s);if(a==null)return!1;r.lift(s,a);let l=r.mapping.map(i,-1)-1;return Po(r.doc,l)&&r.join(l),e(r.scrollIntoView()),!0}function jW(n,e,t){let s=n.tr,r=t.parent;for(let h=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)h-=r.child(p).nodeSize,s.delete(h-1,h+1);let i=s.doc.resolve(t.start),o=i.nodeAfter;if(s.mapping.map(t.end)!=t.start+i.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==r.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?Q.empty:Q.from(r))))return!1;let d=i.pos,f=d+o.nodeSize;return s.step(new Sn(d-(a?1:0),f+(l?1:0),d+1,f-1,new me((a?Q.empty:Q.from(r.copy(Q.empty))).append(l?Q.empty:Q.from(r.copy(Q.empty))),a?0:1,l?0:1),a?0:1)),e(s.scrollIntoView()),!0}function BW(n){return function(e,t){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,c=>c.childCount>0&&c.firstChild.type==n);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=Q.from(c?n.create():null),d=new me(Q.from(n.create(null,Q.from(a.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;t(e.tr.step(new Sn(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Rg(n){const{state:e,transaction:t}=n;let{selection:s}=t,{doc:r}=t,{storedMarks:i}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return s},get doc(){return r},get tr(){return s=t.selection,r=t.doc,i=t.storedMarks,t}}}class Ng{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:s}=this,{view:r}=t,{tr:i}=s,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:s,editor:r,state:i}=this,{view:o}=r,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(s).map(([f,h])=>[f,(...g)=>{const m=this.buildProps(c,t),y=h(...g)(m);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:s}=this,r=!1,i=e||s.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:s,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:Rg({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class VW{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const s=this.callbacks[e];return s&&s.forEach(r=>r.apply(this,t)),this}off(e,t){const s=this.callbacks[e];return s&&(t?this.callbacks[e]=s.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const s=(...r)=>{this.off(e,s),t.apply(this,r)};return this.on(e,s)}removeAllListeners(){this.callbacks={}}}function xe(n,e,t){return n.config[e]===void 0&&n.parent?xe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?xe(n.parent,e,t):null}):n.config[e]}function Lg(n){const e=n.filter(r=>r.type==="extension"),t=n.filter(r=>r.type==="node"),s=n.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:s}}function NM(n){const e=[],{nodeExtensions:t,markExtensions:s}=Lg(n),r=[...t,...s],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=xe(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=xe(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function kn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function _n(...n){return n.filter(e=>!!e).reduce((e,t)=>{const s={...e};return Object.entries(t).forEach(([r,i])=>{if(!s[r]){s[r]=i;return}if(r==="class"){const a=i?String(i).split(" "):[],l=s[r]?s[r].split(" "):[],c=a.filter(u=>!l.includes(u));s[r]=[...l,...c].join(" ")}else if(r==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=s[r]?s[r].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),s[r]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else s[r]=i}),s},{})}function I0(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,s)=>_n(t,s),{})}function LM(n){return typeof n=="function"}function Ze(n,e=void 0,...t){return LM(n)?e?n.bind(e)(...t):n(...t):n}function zW(n={}){return Object.keys(n).length===0&&n.constructor===Object}function UW(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function RE(n,e){return"style"in n?n:{...n,getAttrs:t=>{const s=n.getAttrs?n.getAttrs(t):n.attrs;if(s===!1)return!1;const r=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):UW(t.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...s,...r}}}}function NE(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&zW(t)?!1:t!=null))}function HW(n,e){var t;const s=NM(n),{nodeExtensions:r,markExtensions:i}=Lg(n),o=(t=r.find(c=>xe(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(r.map(c=>{const u=s.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((y,b)=>{const x=xe(b,"extendNodeSchema",d);return{...y,...x?x(c):{}}},{}),h=NE({...f,content:Ze(xe(c,"content",d)),marks:Ze(xe(c,"marks",d)),group:Ze(xe(c,"group",d)),inline:Ze(xe(c,"inline",d)),atom:Ze(xe(c,"atom",d)),selectable:Ze(xe(c,"selectable",d)),draggable:Ze(xe(c,"draggable",d)),code:Ze(xe(c,"code",d)),whitespace:Ze(xe(c,"whitespace",d)),linebreakReplacement:Ze(xe(c,"linebreakReplacement",d)),defining:Ze(xe(c,"defining",d)),isolating:Ze(xe(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),p=Ze(xe(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>RE(y,u)));const g=xe(c,"renderHTML",d);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:I0(y,u)}));const m=xe(c,"renderText",d);return m&&(h.toText=m),[c.name,h]})),l=Object.fromEntries(i.map(c=>{const u=s.filter(m=>m.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((m,y)=>{const b=xe(y,"extendMarkSchema",d);return{...m,...b?b(c):{}}},{}),h=NE({...f,inclusive:Ze(xe(c,"inclusive",d)),excludes:Ze(xe(c,"excludes",d)),group:Ze(xe(c,"group",d)),spanning:Ze(xe(c,"spanning",d)),code:Ze(xe(c,"code",d)),attrs:Object.fromEntries(u.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Ze(xe(c,"parseHTML",d));p&&(h.parseDOM=p.map(m=>RE(m,u)));const g=xe(c,"renderHTML",d);return g&&(h.toDOM=m=>g({mark:m,HTMLAttributes:I0(m,u)})),[c.name,h]}));return new AA({topNode:o,nodes:a,marks:l})}function Zm(n,e){return e.nodes[n]||e.marks[n]||null}function LE(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function zv(n,e){const t=Ka.fromSchema(e).serializeFragment(n),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}const WW=(n,e=500)=>{let t="";const s=n.parentOffset;return n.parent.nodesBetween(Math.max(0,s-e),s,(r,i,o,a)=>{var l,c;const u=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:i,parent:o,index:a}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,s-i))}),t};function Uv(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class $g{constructor(e){this.find=e.find,this.handler=e.handler}}const KW=(n,e)=>{if(Uv(e))return e.exec(n);const t=e(n);if(!t)return null;const s=[t.text];return s.index=t.index,s.input=n,s.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(t.replaceWith)),s};function Mf(n){var e;const{editor:t,from:s,to:r,text:i,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(s);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=WW(c)+i;return o.forEach(f=>{if(u)return;const h=KW(d,f.find);if(!h)return;const p=l.state.tr,g=Rg({state:l.state,transaction:p}),m={from:s-(h[0].length-i.length),to:r},{commands:y,chain:b,can:x}=new Ng({editor:t,state:g});f.handler({state:g,range:m,match:h,commands:y,chain:b,can:x})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:s,to:r,text:i}),l.dispatch(p),u=!0)}),u}function GW(n){const{editor:e,rules:t}=n,s=new Rn({state:{init(){return null},apply(r,i,o){const a=r.getMeta(s);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=zv(Q.from(u),o.schema);const{from:d}=l,f=d+u.length;Mf({editor:e,from:d,to:f,text:u,rules:t,plugin:s})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,o,a){return Mf({editor:e,from:i,to:o,text:a,rules:t,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Mf({editor:e,from:i.pos,to:i.pos,text:"",rules:t,plugin:s})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?Mf({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:s}):!1}},isInputRules:!0});return s}function XW(n){return Object.prototype.toString.call(n).slice(8,-1)}function If(n){return XW(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Fg(n,e){const t={...n};return If(n)&&If(e)&&Object.keys(e).forEach(s=>{If(e[s])&&If(n[s])?t[s]=Fg(n[s],e[s]):t[s]=e[s]}),t}class jr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(xe(this,"addOptions",{name:this.name}))),this.storage=Ze(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Fg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(xe(t,"addOptions",{name:t.name})),t.storage=Ze(xe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:s}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&s.removeStoredMark(l),s.insertText(" ",r.pos),e.view.dispatch(s),!0}return!1}}function JW(n){return typeof n=="number"}class YW{constructor(e){this.find=e.find,this.handler=e.handler}}const qW=(n,e,t)=>{if(Uv(e))return[...n.matchAll(e)];const s=e(n,t);return s?s.map(r=>{const i=[r.text];return i.index=r.index,i.input=n,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function QW(n){const{editor:e,state:t,from:s,to:r,rule:i,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:u}=new Ng({editor:e,state:t}),d=[];return t.doc.nodesBetween(s,r,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(s,p),m=Math.min(r,p+h.content.size),y=h.textBetween(g-p,m-p,void 0,"￼");qW(y,i.find,o).forEach(x=>{if(x.index===void 0)return;const S=g+x.index+1,w=S+x[0].length,k={from:t.tr.mapping.map(S),to:t.tr.mapping.map(w)},T=i.handler({state:t,range:k,match:x,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(T)})}),d.every(h=>h!==null)}let Pf=null;const ZW=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function eK(n){const{editor:e,rules:t}=n;let s=null,r=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const g=u.tr,m=Rg({state:u,transaction:g});if(!(!QW({editor:e,state:m,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new Rn({view(d){const f=p=>{var g;s=!((g=d.dom.parentElement)===null||g===void 0)&&g.contains(p.target)?d.dom.parentElement:null,s&&(Pf=e)},h=()=>{Pf&&(Pf=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=s===d.dom.parentElement,a=f,!i){const h=Pf;h&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,r=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!r,m=p.getMeta("uiEvent")==="drop"&&!i,y=p.getMeta("applyPasteRules"),b=!!y;if(!g&&!m&&!b)return;if(b){let{text:w}=y;typeof w=="string"?w=w:w=zv(Q.from(w),h.schema);const{from:k}=y,T=k+w.length,C=ZW(w);return l({rule:u,state:h,from:k,to:{b:T},pasteEvt:C})}const x=f.doc.content.findDiffStart(h.doc.content),S=f.doc.content.findDiffEnd(h.doc.content);if(!(!JW(x)||!S||x===S.b))return l({rule:u,state:h,from:x,to:S,pasteEvt:o})}}))}function tK(n){const e=n.filter((t,s)=>n.indexOf(t)!==s);return Array.from(new Set(e))}class yl{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=yl.resolve(e),this.schema=HW(this.extensions,t),this.setupExtensions()}static resolve(e){const t=yl.sort(yl.flatten(e)),s=tK(t.map(r=>r.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const s={name:t.name,options:t.options,storage:t.storage},r=xe(t,"addExtensions",s);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(e){return e.sort((s,r)=>{const i=xe(s,"priority")||100,o=xe(r,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const s={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Zm(t.name,this.schema)},r=xe(t,"addCommands",s);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,t=yl.sort([...this.extensions].reverse()),s=[],r=[],i=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Zm(o.name,this.schema)},l=[],c=xe(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&xe(o,"exitable",a)&&(u.ArrowRight=()=>jr.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([m,y])=>[m,()=>y({editor:e})]));u={...u,...g}}const d=pW(u);l.push(d);const f=xe(o,"addInputRules",a);LE(o,e.options.enableInputRules)&&f&&s.push(...f());const h=xe(o,"addPasteRules",a);LE(o,e.options.enablePasteRules)&&h&&r.push(...h());const p=xe(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[GW({editor:e,rules:s}),...eK({editor:e,rules:r}),...i]}get attributes(){return NM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Lg(this.extensions);return Object.fromEntries(t.filter(s=>!!xe(s,"addNodeView")).map(s=>{const r=this.attributes.filter(l=>l.type===s.name),i={name:s.name,options:s.options,storage:s.storage,editor:e,type:kn(s.name,this.schema)},o=xe(s,"addNodeView",i);if(!o)return[];const a=(l,c,u,d,f)=>{const h=I0(l,r);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:s,HTMLAttributes:h})};return[s.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const s={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Zm(e.name,this.schema)};e.type==="mark"&&(!((t=Ze(xe(e,"keepOnSplit",s)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const r=xe(e,"onBeforeCreate",s),i=xe(e,"onCreate",s),o=xe(e,"onUpdate",s),a=xe(e,"onSelectionUpdate",s),l=xe(e,"onTransaction",s),c=xe(e,"onFocus",s),u=xe(e,"onBlur",s),d=xe(e,"onDestroy",s);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class gs{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(xe(this,"addOptions",{name:this.name}))),this.storage=Ze(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gs(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Fg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new gs({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(xe(t,"addOptions",{name:t.name})),t.storage=Ze(xe(t,"addStorage",{name:t.name,options:t.options})),t}}function $M(n,e,t){const{from:s,to:r}=e,{blockSeparator:i=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(s,r,(l,c,u,d)=>{var f;l.isBlock&&c>s&&(a+=i);const h=o==null?void 0:o[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(s,c)-c,r-c))}),a}function FM(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const nK=gs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Rn({key:new Bs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:s,selection:r}=e,{ranges:i}=r,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=FM(t);return $M(s,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),sK=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),rK=(n=!1)=>({commands:e})=>e.setContent("",n),iK=()=>({state:n,tr:e,dispatch:t})=>{const{selection:s}=e,{ranges:r}=s;return t&&r.forEach(({$from:i,$to:o})=>{n.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=dc(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},oK=n=>e=>n(e),aK=()=>({state:n,dispatch:e})=>CW(n,e),lK=(n,e)=>({editor:t,tr:s})=>{const{state:r}=t,i=r.doc.slice(n.from,n.to);s.deleteRange(n.from,n.to);const o=s.mapping.map(e);return s.insert(o,i.content),s.setSelection(new ze(s.doc.resolve(o-1))),!0},cK=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,s=t.$anchor.node();if(s.content.size>0)return!1;const r=n.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===s.type){if(e){const a=r.before(i),l=r.after(i);n.delete(a,l).scrollIntoView()}return!0}return!1},uK=n=>({tr:e,state:t,dispatch:s})=>{const r=kn(n,t.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r){if(s){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},dK=n=>({tr:e,dispatch:t})=>{const{from:s,to:r}=n;return t&&e.delete(s,r),!0},fK=()=>({state:n,dispatch:e})=>gW(n,e),hK=()=>({commands:n})=>n.keyboardShortcut("Enter"),pK=()=>({state:n,dispatch:e})=>TW(n,e);function lp(n,e,t={strict:!0}){const s=Object.keys(e);return s.length?s.every(r=>t.strict?e[r]===n[r]:Uv(e[r])?e[r].test(n[r]):e[r]===n[r]):!0}function jM(n,e,t={}){return n.find(s=>s.type===e&&lp(Object.fromEntries(Object.keys(t).map(r=>[r,s.attrs[r]])),t))}function $E(n,e,t={}){return!!jM(n,e,t)}function Hv(n,e,t){var s;if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=n.parent.childBefore(n.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(t=t||((s=r.node.marks[0])===null||s===void 0?void 0:s.attrs),!jM([...r.node.marks],e,t)))return;let o=r.index,a=n.start()+r.offset,l=o+1,c=a+r.node.nodeSize;for(;o>0&&$E([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&$E([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Ro(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const gK=(n,e={})=>({tr:t,state:s,dispatch:r})=>{const i=Ro(n,s.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(r){const d=Hv(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=ze.create(o,d.from,d.to);t.setSelection(f)}}return!0},mK=n=>e=>{const t=typeof n=="function"?n(e):n;for(let s=0;s<t.length;s+=1)if(t[s](e))return!0;return!1};function BM(n){return n instanceof ze}function sa(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function VM(n,e=null){if(!e)return null;const t=Je.atStart(n),s=Je.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return s;const r=t.from,i=s.to;return e==="all"?ze.create(n,sa(0,r,i),sa(n.content.size,r,i)):ze.create(n,sa(e,r,i),sa(e,r,i))}function yK(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Wv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const bK=(n=null,e={})=>({editor:t,view:s,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(Wv()||yK())&&s.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(s.hasFocus()&&n===null||n===!1)return!0;if(i&&n===null&&!BM(t.state.selection))return o(),!0;const a=VM(r.doc,n)||t.state.selection,l=t.state.selection.eq(a);return i&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},vK=(n,e)=>t=>n.every((s,r)=>e(s,{...t,index:r})),xK=(n,e)=>({tr:t,commands:s})=>s.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),zM=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const s=e[t];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?n.removeChild(s):s.nodeType===1&&zM(s)}return n};function Df(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return zM(t)}function cp(n,e,t){if(n instanceof go||n instanceof Q)return n;t={slice:!0,parseOptions:{},...t};const s=typeof n=="object"&&n!==null,r=typeof n=="string";if(s)try{if(Array.isArray(n)&&n.length>0)return Q.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(i){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",i),cp("",e,t)}if(r){if(t.errorOnInvalidContent){let o=!1,a="";const l=new AA({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?mo.fromSchema(l).parseSlice(Df(n),t.parseOptions):mo.fromSchema(l).parse(Df(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=mo.fromSchema(e);return t.slice?i.parseSlice(Df(n),t.parseOptions).content:i.parse(Df(n),t.parseOptions)}return cp("",e,t)}function wK(n,e,t){const s=n.steps.length-1;if(s<e)return;const r=n.steps[s];if(!(r instanceof bn||r instanceof Sn))return;const i=n.mapping.maps[s];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),n.setSelection(Je.near(n.doc.resolve(o),t))}const SK=n=>!("type"in n),EK=(n,e,t)=>({tr:s,dispatch:r,editor:i})=>{var o;if(r){t={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=cp(e,i.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(p){return i.emit("contentError",{editor:i,error:p,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,d=!0;if((SK(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=s.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let h;if(u){if(Array.isArray(e))h=e.map(p=>p.text||"").join("");else if(e instanceof Q){let p="";e.forEach(g=>{g.text&&(p+=g.text)}),h=p}else typeof e=="object"&&e&&e.text?h=e.text:h=e;s.insertText(h,l,c)}else h=a,s.replaceWith(l,c,h);t.updateSelection&&wK(s,s.steps.length-1,-1),t.applyInputRules&&s.setMeta("applyInputRules",{from:l,text:h}),t.applyPasteRules&&s.setMeta("applyPasteRules",{from:l,text:h})}return!0},kK=()=>({state:n,dispatch:e})=>SW(n,e),_K=()=>({state:n,dispatch:e})=>EW(n,e),TK=()=>({state:n,dispatch:e})=>mW(n,e),CK=()=>({state:n,dispatch:e})=>xW(n,e),OK=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Og(n.doc,n.selection.$from.pos,-1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},AK=()=>({state:n,dispatch:e,tr:t})=>{try{const s=Og(n.doc,n.selection.$from.pos,1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}},MK=()=>({state:n,dispatch:e})=>yW(n,e),IK=()=>({state:n,dispatch:e})=>bW(n,e);function UM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PK(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let s,r,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))s=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Wv()||UM()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return s&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),i&&(t=`Shift-${t}`),t}const DK=n=>({editor:e,view:t,tr:s,dispatch:r})=>{const i=PK(n).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(s.mapping);u&&r&&s.maybeStep(u)}),!0};function ld(n,e,t={}){const{from:s,to:r,empty:i}=n.selection,o=e?kn(e,n.schema):null,a=[];n.doc.nodesBetween(s,r,(d,f)=>{if(d.isText)return;const h=Math.max(s,f),p=Math.min(r,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=r-s,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>lp(d.node.attrs,t,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const RK=(n,e={})=>({state:t,dispatch:s})=>{const r=kn(n,t.schema);return ld(t,r,e)?kW(t,s):!1},NK=()=>({state:n,dispatch:e})=>OW(n,e),LK=n=>({state:e,dispatch:t})=>{const s=kn(n,e.schema);return $W(s)(e,t)},$K=()=>({state:n,dispatch:e})=>_W(n,e);function jg(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function FE(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((s,r)=>(t.includes(r)||(s[r]=n[r]),s),{})}const FK=(n,e)=>({tr:t,state:s,dispatch:r})=>{let i=null,o=null;const a=jg(typeof n=="string"?n:n.name,s.schema);return a?(a==="node"&&(i=kn(n,s.schema)),a==="mark"&&(o=Ro(n,s.schema)),r&&t.selection.ranges.forEach(l=>{s.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&t.setNodeMarkup(u,void 0,FE(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&t.addMark(u,u+c.nodeSize,o.create(FE(d.attrs,e)))})})}),!0):!1},jK=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),BK=()=>({tr:n,dispatch:e})=>{if(e){const t=new Zs(n.doc);n.setSelection(t)}return!0},VK=()=>({state:n,dispatch:e})=>vW(n,e),zK=()=>({state:n,dispatch:e})=>wW(n,e),UK=()=>({state:n,dispatch:e})=>AW(n,e),HK=()=>({state:n,dispatch:e})=>PW(n,e),WK=()=>({state:n,dispatch:e})=>IW(n,e);function P0(n,e,t={},s={}){return cp(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:s.errorOnInvalidContent})}const KK=(n,e=!1,t={},s={})=>({editor:r,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(t.preserveWhitespace!=="full"){const d=P0(n,r.schema,t,{errorOnInvalidContent:(l=s.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=s.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function HM(n,e){const t=Ro(e,n.schema),{from:s,to:r,empty:i}=n.selection,o=[];i?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(s,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function GK(n,e){const t=new WA(n);return e.forEach(s=>{s.steps.forEach(r=>{t.step(r)})}),t}function XK(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function JK(n,e,t){const s=[];return n.nodesBetween(e.from,e.to,(r,i)=>{t(r)&&s.push({node:r,pos:i})}),s}function YK(n,e){for(let t=n.depth;t>0;t-=1){const s=n.node(t);if(e(s))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:s}}}function Kv(n){return e=>YK(e.$from,n)}function qK(n,e){const t={from:0,to:n.content.size};return $M(n,t,e)}function QK(n,e){const t=kn(e,n.schema),{from:s,to:r}=n.selection,i=[];n.doc.nodesBetween(s,r,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function WM(n,e){const t=jg(typeof e=="string"?e:e.name,n.schema);return t==="node"?QK(n,e):t==="mark"?HM(n,e):{}}function ZK(n,e=JSON.stringify){const t={};return n.filter(s=>{const r=e(s);return Object.prototype.hasOwnProperty.call(t,r)?!1:t[r]=!0})}function e9(n){const e=ZK(n);return e.length===1?e:e.filter((t,s)=>!e.filter((i,o)=>o!==s).some(i=>t.oldRange.from>=i.oldRange.from&&t.oldRange.to<=i.oldRange.to&&t.newRange.from>=i.newRange.from&&t.newRange.to<=i.newRange.to))}function t9(n){const{mapping:e,steps:t}=n,s=[];return e.maps.forEach((r,i)=>{const o=[];if(r.ranges.length)r.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[i];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);s.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),e9(s)}function Gv(n,e,t){const s=[];return n===e?t.resolve(n).marks().forEach(r=>{const i=t.resolve(n),o=Hv(i,r.type);o&&s.push({mark:r,...o})}):t.nodesBetween(n,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||s.push(...r.marks.map(o=>({from:i,to:i+r.nodeSize,mark:o})))}),s}function ph(n,e,t){return Object.fromEntries(Object.entries(t).filter(([s])=>{const r=n.find(i=>i.type===e&&i.name===s);return r?r.attribute.keepOnSplit:!1}))}function D0(n,e,t={}){const{empty:s,ranges:r}=n.selection,i=e?Ro(e,n.schema):null;if(s)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>lp(d.attrs,t,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;n.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,m),b=Math.min(p,m+g.nodeSize),x=b-y;o+=x,a.push(...g.marks.map(S=>({mark:S,from:y,to:b})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>lp(d.mark.attrs,t,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function n9(n,e,t={}){if(!e)return ld(n,null,t)||D0(n,null,t);const s=jg(e,n.schema);return s==="node"?ld(n,e,t):s==="mark"?D0(n,e,t):!1}function jE(n,e){const{nodeExtensions:t}=Lg(e),s=t.find(o=>o.name===n);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},i=Ze(xe(s,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function Xv(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var s;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((s=n.text)!==null&&s!==void 0?s:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let r=!0;return n.content.forEach(i=>{r!==!1&&(Xv(i,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function s9(n){return n instanceof Ae}function r9(n,e,t){var s;const{selection:r}=e;let i=null;if(BM(r)&&(i=r.$cursor),i){const a=(s=n.storedMarks)!==null&&s!==void 0?s:i.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(t),p=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=h&&p}return!c}),c})}const i9=(n,e={})=>({tr:t,state:s,dispatch:r})=>{const{selection:i}=t,{empty:o,ranges:a}=i,l=Ro(n,s.schema);if(r)if(o){const c=HM(s,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;s.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&t.addMark(p,g,l.create({...y.attrs,...e}))}):t.addMark(p,g,l.create(e))})});return r9(s,t,l)},o9=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),a9=(n,e={})=>({state:t,dispatch:s,chain:r})=>{const i=kn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:a})=>DE(i,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>DE(i,{...o,...e})(a,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},l9=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,r=sa(n,0,s.content.size),i=Ae.create(s,r);e.setSelection(i)}return!0},c9=n=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,{from:r,to:i}=typeof n=="number"?{from:n,to:n}:n,o=ze.atStart(s).from,a=ze.atEnd(s).to,l=sa(r,o,a),c=sa(i,o,a),u=ze.create(s,l,c);e.setSelection(u)}return!0},u9=n=>({state:e,dispatch:t})=>{const s=kn(n,e.schema);return BW(s)(e,t)};function BE(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const s=t.filter(r=>e==null?void 0:e.includes(r.type.name));n.tr.ensureMarks(s)}}const d9=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:s,editor:r})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=r.extensionManager.attributes,u=ph(c,a.node().type.name,a.node().attrs);if(i instanceof Ae&&i.node.isBlock)return!a.parentOffset||!kl(o,a.pos)?!1:(s&&(n&&BE(t,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:XK(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=kl(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&kl(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),s){if(p&&(i instanceof ze&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),m=e.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}n&&BE(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return p},f9=(n,e={})=>({tr:t,state:s,dispatch:r,editor:i})=>{var o;const a=kn(n,s.schema),{$from:l,$to:c}=s.selection,u=s.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let y=Q.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-b;C>=l.depth-3;C-=1)y=Q.from(l.node(C).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...ph(f,l.node().type.name,l.node().attrs),...e},w=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;y=y.append(Q.from(a.createAndFill(null,w)||void 0));const k=l.before(l.depth-(b-1));t.replace(k,l.after(-x),new me(y,4-b,0));let T=-1;t.doc.nodesBetween(k,t.doc.content.size,(C,E)=>{if(T>-1)return!1;C.isTextblock&&C.content.size===0&&(T=E+1)}),T>-1&&t.setSelection(ze.near(t.doc.resolve(T))),t.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...ph(f,d.type.name,d.attrs),...e},g={...ph(f,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const m=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];if(!kl(t.doc,l.pos,2))return!1;if(r){const{selection:y,storedMarks:b}=s,{splittableMarks:x}=i.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(t.split(l.pos,2,m).scrollIntoView(),!S||!r)return!0;const w=S.filter(k=>x.includes(k.type.name));t.ensureMarks(w)}return!0},ey=(n,e)=>{const t=Kv(o=>o.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(s===void 0)return!0;const r=n.doc.nodeAt(s);return t.node.type===(r==null?void 0:r.type)&&Po(n.doc,t.pos)&&n.join(t.pos),!0},ty=(n,e)=>{const t=Kv(o=>o.type===e)(n.selection);if(!t)return!0;const s=n.doc.resolve(t.start).after(t.depth);if(s===void 0)return!0;const r=n.doc.nodeAt(s);return t.node.type===(r==null?void 0:r.type)&&Po(n.doc,s)&&n.join(s),!0},h9=(n,e,t,s={})=>({editor:r,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=r.extensionManager,h=kn(n,o.schema),p=kn(e,o.schema),{selection:g,storedMarks:m}=o,{$from:y,$to:b}=g,x=y.blockRange(b),S=m||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const w=Kv(k=>jE(k.type.name,d))(g);if(x.depth>=1&&w&&x.depth-w.depth<=1){if(w.node.type===h)return c.liftListItem(p);if(jE(w.node.type.name,d)&&h.validContent(w.node.content)&&a)return l().command(()=>(i.setNodeMarkup(w.pos,h),!0)).command(()=>ey(i,h)).command(()=>ty(i,h)).run()}return!t||!S||!a?l().command(()=>u().wrapInList(h,s)?!0:c.clearNodes()).wrapInList(h,s).command(()=>ey(i,h)).command(()=>ty(i,h)).run():l().command(()=>{const k=u().wrapInList(h,s),T=S.filter(C=>f.includes(C.type.name));return i.ensureMarks(T),k?!0:c.clearNodes()}).wrapInList(h,s).command(()=>ey(i,h)).command(()=>ty(i,h)).run()},p9=(n,e={},t={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:i=!1}=t,o=Ro(n,s.schema);return D0(s,o,e)?r.unsetMark(o,{extendEmptyMarkRange:i}):r.setMark(o,e)},g9=(n,e,t={})=>({state:s,commands:r})=>{const i=kn(n,s.schema),o=kn(e,s.schema),a=ld(s,i,t);let l;return s.selection.$anchor.sameParent(s.selection.$head)&&(l=s.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(i,{...l,...t})},m9=(n,e={})=>({state:t,commands:s})=>{const r=kn(n,t.schema);return ld(t,r,e)?s.lift(r):s.wrapIn(r,e)},y9=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let s=0;s<t.length;s+=1){const r=t[s];let i;if(r.spec.isInputRules&&(i=r.getState(n))){if(e){const o=n.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,n.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},b9=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:s,ranges:r}=t;return s||e&&r.forEach(i=>{n.removeMark(i.$from.pos,i.$to.pos)}),!0},v9=(n,e={})=>({tr:t,state:s,dispatch:r})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Ro(n,s.schema),{$from:c,empty:u,ranges:d}=a;if(!r)return!0;if(u&&o){let{from:f,to:h}=a;const p=(i=c.marks().find(m=>m.type===l))===null||i===void 0?void 0:i.attrs,g=Hv(c,l,p);g&&(f=g.from,h=g.to),t.removeMark(f,h,l)}else d.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,l)});return t.removeStoredMark(l),!0},x9=(n,e={})=>({tr:t,state:s,dispatch:r})=>{let i=null,o=null;const a=jg(typeof n=="string"?n:n.name,s.schema);return a?(a==="node"&&(i=kn(n,s.schema)),a==="mark"&&(o=Ro(n,s.schema)),r&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,p;t.selection.empty?s.doc.nodesBetween(c,u,(g,m)=>{i&&i===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),d=m,f=g)}):s.doc.nodesBetween(c,u,(g,m)=>{m<c&&i&&i===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),d=m,f=g),m>=c&&m<=u&&(i&&i===g.type&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(y=>{if(o===y.type){const b=Math.max(m,c),x=Math.min(m+g.nodeSize,u);t.addMark(b,x,o.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&t.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&t.addMark(h,p,o.create({...g.attrs,...e}))}))}),!0):!1},w9=(n,e={})=>({state:t,dispatch:s})=>{const r=kn(n,t.schema);return DW(r,e)(t,s)},S9=(n,e={})=>({state:t,dispatch:s})=>{const r=kn(n,t.schema);return RW(r,e)(t,s)};var E9=Object.freeze({__proto__:null,blur:sK,clearContent:rK,clearNodes:iK,command:oK,createParagraphNear:aK,cut:lK,deleteCurrentNode:cK,deleteNode:uK,deleteRange:dK,deleteSelection:fK,enter:hK,exitCode:pK,extendMarkRange:gK,first:mK,focus:bK,forEach:vK,insertContent:xK,insertContentAt:EK,joinBackward:TK,joinDown:_K,joinForward:CK,joinItemBackward:OK,joinItemForward:AK,joinTextblockBackward:MK,joinTextblockForward:IK,joinUp:kK,keyboardShortcut:DK,lift:RK,liftEmptyBlock:NK,liftListItem:LK,newlineInCode:$K,resetAttributes:FK,scrollIntoView:jK,selectAll:BK,selectNodeBackward:VK,selectNodeForward:zK,selectParentNode:UK,selectTextblockEnd:HK,selectTextblockStart:WK,setContent:KK,setMark:i9,setMeta:o9,setNode:a9,setNodeSelection:l9,setTextSelection:c9,sinkListItem:u9,splitBlock:d9,splitListItem:f9,toggleList:h9,toggleMark:p9,toggleNode:g9,toggleWrap:m9,undoInputRule:y9,unsetAllMarks:b9,unsetMark:v9,updateAttributes:x9,wrapIn:w9,wrapInList:S9});const k9=gs.create({name:"commands",addCommands(){return{...E9}}}),_9=gs.create({name:"drop",addProseMirrorPlugins(){return[new Rn({key:new Bs("tiptapDrop"),props:{handleDrop:(n,e,t,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:s})}}})]}}),T9=gs.create({name:"editable",addProseMirrorPlugins(){return[new Rn({key:new Bs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),C9=gs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Rn({key:new Bs("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const s=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,t)=>{n.isFocused=!1;const s=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),O9=gs.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,m=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?m===d.pos:Je.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},i={...s,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Wv()||UM()?i:r},addProseMirrorPlugins(){return[new Rn({key:new Bs("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const s=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),r=n.some(g=>g.getMeta("preventClearDocument"));if(!s||r)return;const{empty:i,from:o,to:a}=e.selection,l=Je.atStart(e.doc).from,c=Je.atEnd(e.doc).to;if(i||!(o===l&&a===c)||!Xv(t.doc))return;const f=t.tr,h=Rg({state:t,transaction:f}),{commands:p}=new Ng({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),A9=gs.create({name:"paste",addProseMirrorPlugins(){return[new Rn({key:new Bs("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),M9=gs.create({name:"tabindex",addProseMirrorPlugins(){return[new Rn({key:new Bs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Qo{get name(){return this.node.type.name}constructor(e,t,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=t,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:t,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Qo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,s)=>{const r=t.isBlock&&!t.isTextblock,i=t.isAtom&&!t.isText,o=this.pos+s+(i?0:1),a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new Qo(a,this.editor,r,r?t:null);r&&(l.actualDepth=this.depth+1),e.push(new Qo(a,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===e)if(Object.keys(t).length>0){const i=r.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==t[l])break}}else s=r;r=r.parent}return s}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(t);return this.children.forEach(o=>{s&&r.length>0||(o.node.type.name===e&&i.every(l=>t[l]===o.node.attrs[l])&&r.push(o),!(s&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,t,s))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const I9=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function P9(n,e,t){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}let D9=class extends VW{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:s,moved:r})=>this.options.onDrop(t,s,r)),this.on("paste",({event:t,slice:s})=>this.options.onPaste(t,s)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=P9(I9,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const s=LM(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:s});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let s=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;s=t.filter(a=>!a.key.startsWith(o))}),t.length===s.length)return;const r=this.state.reconfigure({plugins:s});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[T9,nK.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),k9,C9,O9,M9,_9,A9].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new yl(r,this)}createCommandManager(){this.commandManager=new Ng({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=P0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=P0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const s=VM(t,this.options.autofocus);this.view=new iW(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ml.create({doc:t,selection:s||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),s=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return WM(this.state,e)}isActive(e,t){const s=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return n9(this.state,s,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zv(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:s={}}=e||{};return qK(this.state.doc,{blockSeparator:t,textSerializers:{...FM(this.schema),...s}})}get isEmpty(){return Xv(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelector(e,t))||null}$nodes(e,t){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Qo(t,this)}get $doc(){return this.$pos(0)}};function rc(n){return new $g({find:n.find,handler:({state:e,range:t,match:s})=>{const r=Ze(n.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:i}=e,o=s[s.length-1],a=s[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(Gv(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===n.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<t.to&&i.delete(u,t.to),c>t.from&&i.delete(t.from+l,c);const f=t.from+l+o.length;i.addMark(t.from+l,f,n.type.create(r||{})),i.removeStoredMark(n.type)}}})}function R9(n){return new $g({find:n.find,handler:({state:e,range:t,match:s})=>{const r=Ze(n.getAttributes,void 0,s)||{},{tr:i}=e,o=t.from;let a=t.to;const l=n.type.create(r);if(s[1]){const c=s[0].lastIndexOf(s[1]);let u=o+c;u>a?u=a:a=u+s[1].length;const d=s[0][s[0].length-1];i.insertText(d,o+s[0].length-1),i.replaceWith(u,a,l)}else if(s[0]){const c=n.type.isInline?o:o-1;i.insert(c,n.type.create(r)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function R0(n){return new $g({find:n.find,handler:({state:e,range:t,match:s})=>{const r=e.doc.resolve(t.from),i=Ze(n.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,i)}})}function cd(n){return new $g({find:n.find,handler:({state:e,range:t,match:s,chain:r})=>{const i=Ze(n.getAttributes,void 0,s)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&Mv(l,n.type,i);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=n.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(m=>h.includes(m.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(d,i).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Po(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(s,u))&&o.join(t.from-1)}})}class Os{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ze(xe(this,"addOptions",{name:this.name}))),this.storage=Ze(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Os(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Fg(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Os(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ze(xe(t,"addOptions",{name:t.name})),t.storage=Ze(xe(t,"addStorage",{name:t.name,options:t.options})),t}}function $a(n){return new YW({find:n.find,handler:({state:e,range:t,match:s,pasteEvent:r})=>{const i=Ze(n.getAttributes,void 0,s,r);if(i===!1||i===null)return null;const{tr:o}=e,a=s[s.length-1],l=s[0];let c=t.to;if(a){const u=l.search(/\S/),d=t.from+l.indexOf(a),f=d+a.length;if(Gv(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===n.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;f<t.to&&o.delete(f,t.to),d>t.from&&o.delete(t.from+u,d),c=t.from+u+a.length,o.addMark(t.from+u,c,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function VE(n){return rb((e,t)=>({get(){return e(),n},set(s){n=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}class N9 extends D9{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=VE(this.view.state),this.reactiveExtensionStorage=VE(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),nb(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const s=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=s),s}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}const L9=Ke({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const e=B(),t=Fs();return F_(()=>{const s=n.editor;s&&s.options.element&&e.value&&Br(()=>{if(!e.value||!s.options.element.firstChild)return;const r=te(e.value);e.value.append(...s.options.element.childNodes),s.contentComponent=t.ctx._,t&&(s.appContext={...t.appContext,provides:t.provides}),s.setOptions({element:r}),s.createNodeViews()})}),ac(()=>{const s=n.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:e}},render(){return Ed("div",{ref:n=>{this.rootEl=n}})}}),$9=(n={})=>{const e=Xp();return zt(()=>{e.value=new N9(n)}),ac(()=>{var t,s,r;const i=(t=e.value)===null||t===void 0?void 0:t.options.element,o=i==null?void 0:i.cloneNode(!0);(s=i==null?void 0:i.parentNode)===null||s===void 0||s.replaceChild(o,i),(r=e.value)===null||r===void 0||r.destroy()}),e},F9=/^\s*>\s$/,KM=Os.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[cd({find:F9,type:this.type})]}}),j9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,B9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,V9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,z9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,GM=jr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rc({find:j9,type:this.type}),rc({find:V9,type:this.type})]},addPasteRules(){return[$a({find:B9,type:this.type}),$a({find:z9,type:this.type})]}}),U9="listItem",zE="textStyle",UE=/^\s*([-+*])\s$/,XM=Os.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(U9,this.editor.getAttributes(zE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=cd({find:UE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=cd({find:UE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(zE),editor:this.editor})),[n]}}),H9=/(^|[^`])`([^`]+)`(?!`)/,W9=/(^|[^`])`([^`]+)`(?!`)/g,K9=jr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rc({find:H9,type:this.type})]},addPasteRules(){return[$a({find:W9,type:this.type})]}}),G9=/^```([a-z]+)?[\s\n]$/,X9=/^~~~([a-z]+)?[\s\n]$/,J9=Os.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,i=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",_n(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:s,empty:r}=t;if(!r||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!i||!o?!1:n.chain().command(({tr:a})=>(a.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:s}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:s.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(Je.near(s.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[R0({find:G9,type:this.type,getAttributes:n=>({language:n[1]})}),R0({find:X9,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Rn({key:new Bs("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,i=r==null?void 0:r.mode;if(!t||!i)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(ze.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),Y9=Os.create({name:"doc",topNode:!0,content:"block+"});function q9(n={}){return new Rn({view(e){return new Q9(e,n)}})}class Q9{constructor(e,t){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=t.width)!==null&&s!==void 0?s:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,s;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!s){let a=this.editorView.coordsAtPos(this.cursorPos);s={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=r.getBoundingClientRect();i=a.left-r.scrollLeft,o=a.top-r.scrollTop}this.element.style.left=s.left-i+"px",this.element.style.top=s.top-o+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=s&&s.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=BA(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Z9=gs.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[q9(this.options)]}});class Yt extends Je{constructor(e){super(e,e)}map(e,t){let s=e.resolve(t.map(this.head));return Yt.valid(s)?new Yt(s):Je.near(s)}content(){return me.empty}eq(e){return e instanceof Yt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Yt(e.resolve(t.pos))}getBookmark(){return new Jv(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!eG(e)||!tG(e))return!1;let s=t.type.spec.allowGapCursor;if(s!=null)return s;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,s=!1){e:for(;;){if(!s&&Yt.valid(e))return e;let r=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=t;let l=e.doc.resolve(r);if(Yt.valid(l))return l}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Ae.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),s=!1;continue e}break}i=o,r+=t;let a=e.doc.resolve(r);if(Yt.valid(a))return a}return null}}}Yt.prototype.visible=!1;Yt.findFrom=Yt.findGapCursorFrom;Je.jsonID("gapcursor",Yt);class Jv{constructor(e){this.pos=e}map(e){return new Jv(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Yt.valid(t)?new Yt(t):Je.near(t)}}function eG(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),s=n.node(e);if(t==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function tG(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),s=n.node(e);if(t==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function nG(){return new Rn({props:{decorations:oG,createSelectionBetween(n,e,t){return e.pos==t.pos&&Yt.valid(t)?new Yt(t):null},handleClick:rG,handleKeyDown:sG,handleDOMEvents:{beforeinput:iG}}})}const sG=OM({ArrowLeft:Rf("horiz",-1),ArrowRight:Rf("horiz",1),ArrowUp:Rf("vert",-1),ArrowDown:Rf("vert",1)});function Rf(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,r,i){let o=s.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ze){if(!i.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=s.doc.resolve(e>0?a.after():a.before())}let c=Yt.findGapCursorFrom(a,e,l);return c?(r&&r(s.tr.setSelection(new Yt(c))),!0):!1}}function rG(n,e,t){if(!n||!n.editable)return!1;let s=n.state.doc.resolve(e);if(!Yt.valid(s))return!1;let r=n.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&Ae.isSelectable(n.state.doc.nodeAt(r.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Yt(s))),!0)}function iG(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Yt))return!1;let{$from:t}=n.state.selection,s=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!s)return!1;let r=Q.empty;for(let o=s.length-1;o>=0;o--)r=Q.from(s[o].createAndFill(null,r));let i=n.state.tr.replace(t.pos,t.pos,new me(r,0,0));return i.setSelection(ze.near(i.doc.resolve(t.pos+1))),n.dispatch(i),!1}function oG(n){if(!(n.selection instanceof Yt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dn.create(n.doc,[Js.widget(n.selection.head,e,{key:"gapcursor"})])}const aG=gs.create({name:"gapCursor",addProseMirrorPlugins(){return[nG()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ze(xe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),lG=Os.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",_n(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:s})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:r,storedMarks:i}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=s.extensionManager,l=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cG=Os.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,_n(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>R0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var up=200,En=function(){};En.prototype.append=function(e){return e.length?(e=En.from(e),!this.length&&e||e.length<up&&this.leafAppend(e)||this.length<up&&e.leafPrepend(this)||this.appendInner(e)):this};En.prototype.prepend=function(e){return e.length?En.from(e).append(this):this};En.prototype.appendInner=function(e){return new uG(this,e)};En.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?En.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};En.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};En.prototype.forEach=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length),t<=s?this.forEachInner(e,t,s,0):this.forEachInvertedInner(e,t,s,0)};En.prototype.map=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(i,o){return r.push(e(i,o))},t,s),r};En.from=function(e){return e instanceof En?e:e&&e.length?new JM(e):En.empty};var JM=function(n){function e(s){n.call(this),this.values=s}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,o,a){for(var l=i;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){for(var l=i-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=up)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=up)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(En);En.empty=new JM([]);var uG=function(n){function e(t,s){n.call(this),this.left=t,this.right=s,this.length=t.length+s.length,this.depth=Math.max(t.depth,s.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,r,i,o){var a=this.left.length;if(r<a&&this.left.forEachInner(s,r,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(s,Math.max(r-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,i,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(s,r-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(s,Math.min(r,a),i,o)===!1)return!1},e.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(s,r):s>=i?this.right.slice(s-i,r-i):this.left.slice(s,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new e(r,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(En);const dG=500;class fr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,i;t&&(r=this.remapping(s,this.items.length),i=r.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(s,f+1),i=r.maps.length),i--,u.push(d);return}if(r){u.push(new _r(d.map));let h=d.step.map(r.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new _r(p,void 0,void 0,c.length+u.length))),i--,p&&r.appendMap(p,i)}else o.maybeStep(d.step);if(d.selection)return a=r?d.selection.map(r.slice(i)):d.selection,l=new fr(this.items.slice(0,s).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,s,r){let i=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new _r(e.mapping.maps[u],d,t),h;(h=l&&l.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),t&&(o++,t=void 0),r||(l=f)}let c=o-s.depth;return c>hG&&(a=fG(a,c),o-=c),new fr(a.append(i),o)}remapping(e,t){let s=new El;return this.items.forEach((r,i)=>{let o=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},e,t),s}addMaps(e){return this.eventCount==0?this:new fr(this.items.append(e.map(t=>new _r(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=t;this.items.forEach(f=>{let h=i.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),m=f.selection&&f.selection.map(i.slice(l+1,h));m&&a++,s.push(new _r(p,g,m))}else s.push(new _r(p))},r);let c=[];for(let f=t;f<o;f++)c.push(new _r(i.maps[f]));let u=this.items.slice(0,r).append(c).append(s),d=new fr(u,a);return d.emptyItemCount()>dG&&(d=d.compress(this.items.length-s.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),s=t.maps.length,r=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(t.slice(s)),c=l&&l.getMap();if(s--,c&&t.appendMap(c,s),l){let u=o.selection&&o.selection.map(t.slice(s));u&&i++;let d=new _r(c.invert(),l,u),f,h=r.length-1;(f=r.length&&r[h].merge(d))?r[h]=f:r.push(d)}}else o.map&&s--},this.items.length,0),new fr(En.from(r.reverse()),i)}}fr.empty=new fr(En.empty,0);function fG(n,e){let t;return n.forEach((s,r)=>{if(s.selection&&e--==0)return t=r,!1}),n.slice(t)}class _r{constructor(e,t,s,r){this.map=e,this.step=t,this.selection=s,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new _r(t.getMap().invert(),t,this.selection)}}}class zi{constructor(e,t,s,r,i){this.done=e,this.undone=t,this.prevRanges=s,this.prevTime=r,this.prevComposition=i}}const hG=20;function pG(n,e,t,s){let r=t.getMeta(_a),i;if(r)return r.historyState;t.getMeta(yG)&&(n=new zi(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(_a))return o.getMeta(_a).redo?new zi(n.done.addTransform(t,void 0,s,gh(e)),n.undone,HE(t.mapping.maps),n.prevTime,n.prevComposition):new zi(n.done,n.undone.addTransform(t,void 0,s,gh(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-s.newGroupDelay||!gG(t,n.prevRanges)),c=o?ny(n.prevRanges,t.mapping):HE(t.mapping.maps);return new zi(n.done.addTransform(t,l?e.selection.getBookmark():void 0,s,gh(e)),fr.empty,c,t.time,a??n.prevComposition)}else return(i=t.getMeta("rebased"))?new zi(n.done.rebased(t,i),n.undone.rebased(t,i),ny(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new zi(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),ny(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function gG(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((s,r)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&r>=e[i]&&(t=!0)}),t}function HE(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((s,r,i,o)=>e.push(i,o));return e}function ny(n,e){if(!n)return null;let t=[];for(let s=0;s<n.length;s+=2){let r=e.map(n[s],1),i=e.map(n[s+1],-1);r<=i&&t.push(r,i)}return t}function mG(n,e,t){let s=gh(e),r=_a.get(e).spec.config,i=(t?n.undone:n.done).popEvent(e,s);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(t?n.done:n.undone).addTransform(i.transform,e.selection.getBookmark(),r,s),l=new zi(t?a:i.remaining,t?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(_a,{redo:t,historyState:l})}let sy=!1,WE=null;function gh(n){let e=n.plugins;if(WE!=e){sy=!1,WE=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){sy=!0;break}}return sy}const _a=new Bs("history"),yG=new Bs("closeHistory");function bG(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Rn({key:_a,state:{init(){return new zi(fr.empty,fr.empty,null,0,-1)},apply(e,t,s){return pG(t,s,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let s=t.inputType,r=s=="historyUndo"?qM:s=="historyRedo"?QM:null;return r?(t.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function YM(n,e){return(t,s)=>{let r=_a.getState(t);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(s){let i=mG(r,t,n);i&&s(e?i.scrollIntoView():i)}return!0}}const qM=YM(!1,!0),QM=YM(!0,!0),vG=gs.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>qM(n,e),redo:()=>({state:n,dispatch:e})=>QM(n,e)}},addProseMirrorPlugins(){return[bG(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),xG=Os.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",_n(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:s,$to:r}=t,i=n();return s.parentOffset===0?i.insertContentAt({from:Math.max(s.pos-1,0),to:r.pos},{type:this.name}):s9(t)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(ze.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ae.create(o.doc,c.pos)):o.setSelection(ze.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(ze.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[R9({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),wG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,EG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,ZM=jr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rc({find:wG,type:this.type}),rc({find:EG,type:this.type})]},addPasteRules(){return[$a({find:SG,type:this.type}),$a({find:kG,type:this.type})]}}),_G=Os.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",_n(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),TG="listItem",KE="textStyle",GE=/^(\d+)\.\s$/,eI=Os.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",_n(this.options.HTMLAttributes,t),0]:["ol",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(TG,this.editor.getAttributes(KE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=cd({find:GE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=cd({find:GE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(KE)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),CG=Os.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),OG=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,AG=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tI=jr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rc({find:OG,type:this.type})]},addPasteRules(){return[$a({find:AG,type:this.type})]}}),MG=Os.create({name:"text",group:"inline"}),IG=gs.create({name:"starterKit",addExtensions(){var n,e,t,s,r,i,o,a,l,c,u,d,f,h,p,g,m,y;const b=[];return this.options.bold!==!1&&b.push(GM.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&b.push(KM.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&b.push(XM.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&b.push(K9.configure((s=this.options)===null||s===void 0?void 0:s.code)),this.options.codeBlock!==!1&&b.push(J9.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&b.push(Y9.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&b.push(Z9.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&b.push(aG.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(lG.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(cG.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&b.push(vG.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&b.push(xG.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&b.push(ZM.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&b.push(_G.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&b.push(eI.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&b.push(CG.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(tI.configure((m=this.options)===null||m===void 0?void 0:m.strike)),this.options.text!==!1&&b.push(MG.configure((y=this.options)===null||y===void 0?void 0:y.text)),b}}),PG="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",DG="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ic=(n,e)=>{for(const t in e)n[t]=e[t];return n},N0="numeric",L0="ascii",$0="alpha",wu="asciinumeric",Yc="alphanumeric",F0="domain",nI="emoji",RG="scheme",NG="slashscheme",ry="whitespace";function LG(n,e){return n in e||(e[n]=[]),e[n]}function ra(n,e,t){e[N0]&&(e[wu]=!0,e[Yc]=!0),e[L0]&&(e[wu]=!0,e[$0]=!0),e[wu]&&(e[Yc]=!0),e[$0]&&(e[Yc]=!0),e[Yc]&&(e[F0]=!0),e[nI]&&(e[F0]=!0);for(const s in e){const r=LG(s,t);r.indexOf(n)<0&&r.push(n)}}function $G(n,e){const t={};for(const s in e)e[s].indexOf(n)>=0&&(t[s]=!0);return t}function ks(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}ks.groups={};ks.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let s=0;s<e.jr.length;s++){const r=e.jr[s][0],i=e.jr[s][1];if(i&&r.test(n))return i}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,s){for(let r=0;r<n.length;r++)this.tt(n[r],e,t,s)},tr(n,e,t,s){s=s||ks.groups;let r;return e&&e.j?r=e:(r=new ks(e),t&&s&&ra(e,t,s)),this.jr.push([n,r]),r},ts(n,e,t,s){let r=this;const i=n.length;if(!i)return r;for(let o=0;o<i-1;o++)r=r.tt(n[o]);return r.tt(n[i-1],e,t,s)},tt(n,e,t,s){s=s||ks.groups;const r=this;if(e&&e.j)return r.j[n]=e,e;const i=e;let o,a=r.go(n);if(a?(o=new ks,ic(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ks,i){if(s)if(o.t&&typeof o.t=="string"){const l=ic($G(o.t,s),t);ra(i,l,s)}else t&&ra(i,t,s);o.t=i}return r.j[n]=o,o}};const qe=(n,e,t,s,r)=>n.ta(e,t,s,r),Wt=(n,e,t,s,r)=>n.tr(e,t,s,r),XE=(n,e,t,s,r)=>n.ts(e,t,s,r),ne=(n,e,t,s,r)=>n.tt(e,t,s,r),qr="WORD",j0="UWORD",sI="ASCIINUMERICAL",rI="ALPHANUMERICAL",ud="LOCALHOST",B0="TLD",V0="UTLD",mh="SCHEME",fl="SLASH_SCHEME",Yv="NUM",z0="WS",qv="NL",Su="OPENBRACE",Eu="CLOSEBRACE",dp="OPENBRACKET",fp="CLOSEBRACKET",hp="OPENPAREN",pp="CLOSEPAREN",gp="OPENANGLEBRACKET",mp="CLOSEANGLEBRACKET",yp="FULLWIDTHLEFTPAREN",bp="FULLWIDTHRIGHTPAREN",vp="LEFTCORNERBRACKET",xp="RIGHTCORNERBRACKET",wp="LEFTWHITECORNERBRACKET",Sp="RIGHTWHITECORNERBRACKET",Ep="FULLWIDTHLESSTHAN",kp="FULLWIDTHGREATERTHAN",_p="AMPERSAND",Qv="APOSTROPHE",Tp="ASTERISK",Ui="AT",Cp="BACKSLASH",Op="BACKTICK",Ap="CARET",Gi="COLON",Zv="COMMA",Mp="DOLLAR",Tr="DOT",Ip="EQUALS",ex="EXCLAMATION",Ws="HYPHEN",ku="PERCENT",Pp="PIPE",Dp="PLUS",Rp="POUND",_u="QUERY",tx="QUOTE",iI="FULLWIDTHMIDDLEDOT",nx="SEMI",Cr="SLASH",Tu="TILDE",Np="UNDERSCORE",oI="EMOJI",Lp="SYM";var aI=Object.freeze({__proto__:null,WORD:qr,UWORD:j0,ASCIINUMERICAL:sI,ALPHANUMERICAL:rI,LOCALHOST:ud,TLD:B0,UTLD:V0,SCHEME:mh,SLASH_SCHEME:fl,NUM:Yv,WS:z0,NL:qv,OPENBRACE:Su,CLOSEBRACE:Eu,OPENBRACKET:dp,CLOSEBRACKET:fp,OPENPAREN:hp,CLOSEPAREN:pp,OPENANGLEBRACKET:gp,CLOSEANGLEBRACKET:mp,FULLWIDTHLEFTPAREN:yp,FULLWIDTHRIGHTPAREN:bp,LEFTCORNERBRACKET:vp,RIGHTCORNERBRACKET:xp,LEFTWHITECORNERBRACKET:wp,RIGHTWHITECORNERBRACKET:Sp,FULLWIDTHLESSTHAN:Ep,FULLWIDTHGREATERTHAN:kp,AMPERSAND:_p,APOSTROPHE:Qv,ASTERISK:Tp,AT:Ui,BACKSLASH:Cp,BACKTICK:Op,CARET:Ap,COLON:Gi,COMMA:Zv,DOLLAR:Mp,DOT:Tr,EQUALS:Ip,EXCLAMATION:ex,HYPHEN:Ws,PERCENT:ku,PIPE:Pp,PLUS:Dp,POUND:Rp,QUERY:_u,QUOTE:tx,FULLWIDTHMIDDLEDOT:iI,SEMI:nx,SLASH:Cr,TILDE:Tu,UNDERSCORE:Np,EMOJI:oI,SYM:Lp});const Kr=/[a-z]/,Dc=new RegExp("\\p{L}","u"),iy=new RegExp("\\p{Emoji}","u"),Gr=/\d/,oy=/\s/,JE="\r",ay=`
`,FG="️",jG="‍",ly="￼";let Nf=null,Lf=null;function BG(n=[]){const e={};ks.groups=e;const t=new ks;Nf==null&&(Nf=YE(PG)),Lf==null&&(Lf=YE(DG)),ne(t,"'",Qv),ne(t,"{",Su),ne(t,"}",Eu),ne(t,"[",dp),ne(t,"]",fp),ne(t,"(",hp),ne(t,")",pp),ne(t,"<",gp),ne(t,">",mp),ne(t,"（",yp),ne(t,"）",bp),ne(t,"「",vp),ne(t,"」",xp),ne(t,"『",wp),ne(t,"』",Sp),ne(t,"＜",Ep),ne(t,"＞",kp),ne(t,"&",_p),ne(t,"*",Tp),ne(t,"@",Ui),ne(t,"`",Op),ne(t,"^",Ap),ne(t,":",Gi),ne(t,",",Zv),ne(t,"$",Mp),ne(t,".",Tr),ne(t,"=",Ip),ne(t,"!",ex),ne(t,"-",Ws),ne(t,"%",ku),ne(t,"|",Pp),ne(t,"+",Dp),ne(t,"#",Rp),ne(t,"?",_u),ne(t,'"',tx),ne(t,"/",Cr),ne(t,";",nx),ne(t,"~",Tu),ne(t,"_",Np),ne(t,"\\",Cp),ne(t,"・",iI);const s=Wt(t,Gr,Yv,{[N0]:!0});Wt(s,Gr,s);const r=Wt(s,Kr,sI,{[wu]:!0}),i=Wt(s,Dc,rI,{[Yc]:!0}),o=Wt(t,Kr,qr,{[L0]:!0});Wt(o,Gr,r),Wt(o,Kr,o),Wt(r,Gr,r),Wt(r,Kr,r);const a=Wt(t,Dc,j0,{[$0]:!0});Wt(a,Kr),Wt(a,Gr,i),Wt(a,Dc,a),Wt(i,Gr,i),Wt(i,Kr),Wt(i,Dc,i);const l=ne(t,ay,qv,{[ry]:!0}),c=ne(t,JE,z0,{[ry]:!0}),u=Wt(t,oy,z0,{[ry]:!0});ne(t,ly,u),ne(c,ay,l),ne(c,ly,u),Wt(c,oy,u),ne(u,JE),ne(u,ay),Wt(u,oy,u),ne(u,ly,u);const d=Wt(t,iy,oI,{[nI]:!0});ne(d,"#"),Wt(d,iy,d),ne(d,FG,d);const f=ne(d,jG);ne(f,"#"),Wt(f,iy,d);const h=[[Kr,o],[Gr,r]],p=[[Kr,null],[Dc,a],[Gr,i]];for(let g=0;g<Nf.length;g++)Ci(t,Nf[g],B0,qr,h);for(let g=0;g<Lf.length;g++)Ci(t,Lf[g],V0,j0,p);ra(B0,{tld:!0,ascii:!0},e),ra(V0,{utld:!0,alpha:!0},e),Ci(t,"file",mh,qr,h),Ci(t,"mailto",mh,qr,h),Ci(t,"http",fl,qr,h),Ci(t,"https",fl,qr,h),Ci(t,"ftp",fl,qr,h),Ci(t,"ftps",fl,qr,h),ra(mh,{scheme:!0,ascii:!0},e),ra(fl,{slashscheme:!0,ascii:!0},e),n=n.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<n.length;g++){const m=n[g][0],b=n[g][1]?{[RG]:!0}:{[NG]:!0};m.indexOf("-")>=0?b[F0]=!0:Kr.test(m)?Gr.test(m)?b[wu]=!0:b[L0]=!0:b[N0]=!0,XE(t,m,m,b)}return XE(t,"localhost",ud,{ascii:!0}),t.jd=new ks(Lp),{start:t,tokens:ic({groups:e},aI)}}function lI(n,e){const t=VG(e.replace(/[A-Z]/g,a=>a.toLowerCase())),s=t.length,r=[];let i=0,o=0;for(;o<s;){let a=n,l=null,c=0,u=null,d=-1,f=-1;for(;o<s&&(l=a.go(t[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=t[o].length,f++),c+=t[o].length,i+=t[o].length,o++;i-=d,o-=f,c-=d,r.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return r}function VG(n){const e=[],t=n.length;let s=0;for(;s<t;){let r=n.charCodeAt(s),i,o=r<55296||r>56319||s+1===t||(i=n.charCodeAt(s+1))<56320||i>57343?n[s]:n.slice(s,s+2);e.push(o),s+=o.length}return e}function Ci(n,e,t,s,r){let i;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?i=n.j[l]:(i=new ks(s),i.jr=r.slice(),n.j[l]=i),n=i}return i=new ks(t),i.jr=r.slice(),n.j[e[o-1]]=i,i}function YE(n){const e=[],t=[];let s=0,r="0123456789";for(;s<n.length;){let i=0;for(;r.indexOf(n[s+i])>=0;)i++;if(i>0){e.push(t.join(""));for(let o=parseInt(n.substring(s,s+i),10);o>0;o--)t.pop();s+=i}else t.push(n[s]),s++}return e}const dd={defaultProtocol:"http",events:null,format:qE,formatHref:qE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function sx(n,e=null){let t=ic({},dd);n&&(t=ic(t,n instanceof sx?n.o:n));const s=t.ignoreTags,r=[];for(let i=0;i<s.length;i++)r.push(s[i].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}sx.prototype={o:dd,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const s=e!=null;let r=this.o[n];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:dd[n],typeof r=="function"&&s&&(r=r(e,t))):typeof r=="function"&&s&&(r=r(e,t.t,t)),r)},getObj(n,e,t){let s=this.o[n];return typeof s=="function"&&e!=null&&(s=s(e,t.t,t)),s},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function qE(n){return n}function cI(n,e){this.t="token",this.v=n,this.tk=e}cI.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),s=n.get("format",e,this);return t&&s.length>t?s.substring(0,t)+"…":s},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=dd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),s=n.get("formatHref",t,this),r=n.get("tagName",t,e),i=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),u=n.getObj("attributes",t,e),d=n.getObj("events",t,e);return o.href=s,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&ic(o,u),{tagName:r,attributes:o,content:i,eventListeners:d}}};function Bg(n,e){class t extends cI{constructor(r,i){super(r,i),this.t=n}}for(const s in e)t.prototype[s]=e[s];return t.t=n,t}const QE=Bg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ZE=Bg("text"),zG=Bg("nl"),$f=Bg("url",{isLink:!0,toHref(n=dd.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==ud&&n[1].t===Gi}}),Hs=n=>new ks(n);function UG({groups:n}){const e=n.domain.concat([_p,Tp,Ui,Cp,Op,Ap,Mp,Ip,Ws,Yv,ku,Pp,Dp,Rp,Cr,Lp,Tu,Np]),t=[Gi,Zv,Tr,ex,ku,_u,tx,nx,gp,mp,Su,Eu,fp,dp,hp,pp,yp,bp,vp,xp,wp,Sp,Ep,kp],s=[_p,Qv,Tp,Cp,Op,Ap,Mp,Ip,Ws,Su,Eu,ku,Pp,Dp,Rp,_u,Cr,Lp,Tu,Np],r=Hs(),i=ne(r,Tu);qe(i,s,i),qe(i,n.domain,i);const o=Hs(),a=Hs(),l=Hs();qe(r,n.domain,o),qe(r,n.scheme,a),qe(r,n.slashscheme,l),qe(o,s,i),qe(o,n.domain,o);const c=ne(o,Ui);ne(i,Ui,c),ne(a,Ui,c),ne(l,Ui,c);const u=ne(i,Tr);qe(u,s,i),qe(u,n.domain,i);const d=Hs();qe(c,n.domain,d),qe(d,n.domain,d);const f=ne(d,Tr);qe(f,n.domain,d);const h=Hs(QE);qe(f,n.tld,h),qe(f,n.utld,h),ne(c,ud,h);const p=ne(d,Ws);ne(p,Ws,p),qe(p,n.domain,d),qe(h,n.domain,d),ne(h,Tr,f),ne(h,Ws,p);const g=ne(h,Gi);qe(g,n.numeric,QE);const m=ne(o,Ws),y=ne(o,Tr);ne(m,Ws,m),qe(m,n.domain,o),qe(y,s,i),qe(y,n.domain,o);const b=Hs($f);qe(y,n.tld,b),qe(y,n.utld,b),qe(b,n.domain,o),qe(b,s,i),ne(b,Tr,y),ne(b,Ws,m),ne(b,Ui,c);const x=ne(b,Gi),S=Hs($f);qe(x,n.numeric,S);const w=Hs($f),k=Hs();qe(w,e,w),qe(w,t,k),qe(k,e,w),qe(k,t,k),ne(b,Cr,w),ne(S,Cr,w);const T=ne(a,Gi),C=ne(l,Gi),E=ne(C,Cr),_=ne(E,Cr);qe(a,n.domain,o),ne(a,Tr,y),ne(a,Ws,m),qe(l,n.domain,o),ne(l,Tr,y),ne(l,Ws,m),qe(T,n.domain,w),ne(T,Cr,w),ne(T,_u,w),qe(_,n.domain,w),qe(_,e,w),ne(_,Cr,w);const O=[[Su,Eu],[dp,fp],[hp,pp],[gp,mp],[yp,bp],[vp,xp],[wp,Sp],[Ep,kp]];for(let A=0;A<O.length;A++){const[P,$]=O[A],z=ne(w,P);ne(k,P,z),ne(z,$,w);const D=Hs($f);qe(z,e,D);const U=Hs();qe(z,t),qe(D,e,D),qe(D,t,U),qe(U,e,D),qe(U,t,U),ne(D,$,w),ne(U,$,w)}return ne(r,ud,b),ne(r,qv,zG),{start:r,tokens:aI}}function HG(n,e,t){let s=t.length,r=0,i=[],o=[];for(;r<s;){let a=n,l=null,c=null,u=0,d=null,f=-1;for(;r<s&&!(l=a.go(t[r].t));)o.push(t[r++]);for(;r<s&&(c=l||a.go(t[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,u++;if(f<0)r-=u,r<s&&(o.push(t[r]),r++);else{o.length>0&&(i.push(cy(ZE,e,o)),o=[]),r-=f,u-=f;const h=d.t,p=t.slice(r-u,r);i.push(cy(h,e,p))}}return o.length>0&&i.push(cy(ZE,e,o)),i}function cy(n,e,t){const s=t[0].s,r=t[t.length-1].e,i=e.slice(s,r);return new n(i,t)}const WG=typeof console<"u"&&console&&console.warn||(()=>{}),KG="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Pt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function GG(){return ks.groups={},Pt.scanner=null,Pt.parser=null,Pt.tokenQueue=[],Pt.pluginQueue=[],Pt.customSchemes=[],Pt.initialized=!1,Pt}function ek(n,e=!1){if(Pt.initialized&&WG(`linkifyjs: already initialized - will not register custom scheme "${n}" ${KG}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Pt.customSchemes.push([n,e])}function XG(){Pt.scanner=BG(Pt.customSchemes);for(let n=0;n<Pt.tokenQueue.length;n++)Pt.tokenQueue[n][1]({scanner:Pt.scanner});Pt.parser=UG(Pt.scanner.tokens);for(let n=0;n<Pt.pluginQueue.length;n++)Pt.pluginQueue[n][1]({scanner:Pt.scanner,parser:Pt.parser});return Pt.initialized=!0,Pt}function rx(n){return Pt.initialized||XG(),HG(Pt.parser.start,n,lI(Pt.scanner.start,n))}rx.scan=lI;function uI(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const s=new sx(t),r=rx(n),i=[];for(let o=0;o<r.length;o++){const a=r[o];a.isLink&&(!e||a.t===e)&&s.check(a)&&i.push(a.toFormattedObject(s))}return i}function JG(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function YG(n){return new Rn({key:new Bs("autolink"),appendTransaction:(e,t,s)=>{const r=e.some(c=>c.docChanged)&&!t.doc.eq(s.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!r||i)return;const{tr:o}=s,a=GK(t.doc,[...e]);if(t9(a).forEach(({newRange:c})=>{const u=JK(s.doc,c,h=>h.isTextblock);let d,f;if(u.length>1?(d=u[0],f=s.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&s.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],f=s.doc.textBetween(d.pos,c.to,void 0," ")),d&&f){const h=f.split(" ").filter(y=>y!=="");if(h.length<=0)return!1;const p=h[h.length-1],g=d.pos+f.lastIndexOf(p);if(!p)return!1;const m=rx(p).map(y=>y.toObject(n.defaultProtocol));if(!JG(m))return!1;m.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>s.schema.marks.code?!s.doc.rangeHasMark(y.from,y.to,s.schema.marks.code):!0).filter(y=>n.validate(y.value)).filter(y=>n.shouldAutoLink(y.value)).forEach(y=>{Gv(y.from,y.to,s.doc).some(b=>b.mark.type===n.type)||o.addMark(y.from,y.to,n.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function qG(n){return new Rn({key:new Bs("handleClickLink"),props:{handleClick:(e,t,s)=>{var r,i;if(s.button!==0||!e.editable)return!1;let o=s.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(f=>f.nodeName==="A"))return!1;const l=WM(e.state,n.type.name),c=s.target,u=(r=c==null?void 0:c.href)!==null&&r!==void 0?r:l.href,d=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function QG(n){return new Rn({key:new Bs("handlePasteLink"),props:{handlePaste:(e,t,s)=>{const{state:r}=e,{selection:i}=r,{empty:o}=i;if(o)return!1;let a="";s.content.forEach(c=>{a+=c.textContent});const l=uI(a,{defaultProtocol:n.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:n.editor.commands.setMark(n.type,{href:l.href})}}})}const ZG=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ho(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const r=typeof s=="string"?s:s.scheme;r&&t.push(r)}),!n||n.replace(ZG,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const eX=jr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){ek(n);return}ek(n.scheme,n.optionalSlashes)})},onDestroy(){GG()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Ho(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Ho(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Ho(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",_n(this.options.HTMLAttributes,n),0]:["a",_n(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:s=>!!Ho(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:s=>!!Ho(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[$a({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:s}=this.options,r=uI(n).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Ho(o,t),protocols:t,defaultProtocol:s}));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(YG({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:r=>!!Ho(r,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(qG({type:this.type})),this.options.linkOnPaste&&n.push(QG({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),tX=jr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function nX(n){const e=$9({content:n,extensions:[IG,eX.configure({HTMLAttributes:{class:"text-blue-500 underline"}}),GM,ZM,tX,tI,XM,eI,KM]});return{editor:e,toggleBold:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBold().run()},toggleItalic:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleItalic().run()},toggleUnderline:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleUnderline().run()},toggleStrike:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleStrike().run()},toggleLink:()=>{var d;const u=window.prompt("Введите URL: ");u&&((d=e.value)==null||d.chain().focus().toggleLink({href:u}).run())},toggleBulletList:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBulletList().run()},toggleOrderedList:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleOrderedList().run()},toggleBlockquote:()=>{var u;return(u=e.value)==null?void 0:u.chain().focus().toggleBlockquote().run()}}}const sX={class:"flex flex-col gap-4"},rX={class:"bg-white dark:bg-gray-800 rounded-lg p-2 flex flex-wrap justify-between gap-2 px-4 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700"},iX={class:"flex flex-wrap gap-2"},oX={class:"flex flex-wrap gap-2"},aX={class:"bg-white dark:bg-gray-800 rounded-lg p-4 flex justify-between gap-4 text-gray-800 dark:text-gray-200 overflow-y-auto max-h-[650px] border border-gray-200 dark:border-gray-700"},lX={class:"w-full h-full"},cX=Ke({__name:"TextEditor",props:{modelValue:String},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,{editor:r,toggleBold:i,toggleItalic:o,toggleUnderline:a,toggleStrike:l,toggleLink:c,toggleBulletList:u,toggleOrderedList:d,toggleBlockquote:f}=nX(t.modelValue||"");return sn(()=>{var h;return(h=r.value)==null?void 0:h.getHTML()},h=>{s("update:modelValue",h||"")}),(h,p)=>{var g,m,y,b,x,S,w,k;return R(),L("div",sX,[v("div",rX,[v("div",iX,[v("button",{onClick:p[0]||(p[0]=(...T)=>te(i)&&te(i)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(g=te(r))!=null&&g.isActive("bold")?"bg-gray-100 dark:bg-gray-700":""]),title:"Жирный"},p[8]||(p[8]=[v("span",{class:"fa-solid fa-bold"},null,-1)]),2),v("button",{onClick:p[1]||(p[1]=(...T)=>te(o)&&te(o)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(m=te(r))!=null&&m.isActive("italic")?"bg-gray-100 dark:bg-gray-700":""]),title:"Курсив"},p[9]||(p[9]=[v("span",{class:"fa-solid fa-italic"},null,-1)]),2),v("button",{onClick:p[2]||(p[2]=(...T)=>te(a)&&te(a)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(y=te(r))!=null&&y.isActive("underline")?"bg-gray-100 dark:bg-gray-700":""]),title:"Подчеркивание"},p[10]||(p[10]=[v("span",{class:"fa-solid fa-underline"},null,-1)]),2),v("button",{onClick:p[3]||(p[3]=(...T)=>te(l)&&te(l)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(b=te(r))!=null&&b.isActive("strike")?"bg-gray-100 dark:bg-gray-700":""]),title:"Зачеркивание"},p[11]||(p[11]=[v("span",{class:"fa-solid fa-strikethrough"},null,-1)]),2),v("button",{onClick:p[4]||(p[4]=(...T)=>te(c)&&te(c)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(x=te(r))!=null&&x.isActive("link")?"bg-gray-100 dark:bg-gray-700":""]),title:"Ссылка"},p[12]||(p[12]=[v("span",{class:"fa-solid fa-link"},null,-1)]),2)]),v("div",oX,[v("button",{onClick:p[5]||(p[5]=(...T)=>te(u)&&te(u)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(S=te(r))!=null&&S.isActive("bulletList")?"bg-gray-100 dark:bg-gray-700":""]),title:"Маркированный список"},p[13]||(p[13]=[v("span",{class:"fa-solid fa-list-ul"},null,-1)]),2),v("button",{onClick:p[6]||(p[6]=(...T)=>te(d)&&te(d)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(w=te(r))!=null&&w.isActive("orderedList")?"bg-gray-100 dark:bg-gray-700":""]),title:"Нумерованный список"},p[14]||(p[14]=[v("span",{class:"fa-solid fa-list-ol"},null,-1)]),2),v("button",{onClick:p[7]||(p[7]=(...T)=>te(f)&&te(f)(...T)),class:ke(["p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",(k=te(r))!=null&&k.isActive("blockquote")?"bg-gray-100 dark:bg-gray-700":""]),title:"Цитата"},p[15]||(p[15]=[v("span",{class:"fa-solid fa-quote-left"},null,-1)]),2)])]),v("div",aX,[v("div",lX,[le(te(L9),{editor:te(r),class:"h-full break-words"},null,8,["editor"])])])])}}}),dI=Cn(cX,[["__scopeId","data-v-db539d62"]]),uX={key:0,class:"fixed right-0 top-0 bottom-0 w-full max-w-[420px] bg-neutral-800 shadow-2xl z-50 overflow-y-auto border-l border-neutral-700 animate-glow"},dX={class:"flex flex-col gap-6"},fX={class:"flex gap-4 justify-end"},hX=["disabled"],pX={key:0},gX={key:1},mX=Ke({__name:"TaskEditPanel",props:{task:{type:Object,required:!0},isOpen:Boolean},emits:["close","updated","notify"],setup(n,{emit:e}){const t=n,s=e,r=B({name:t.task.name,description:t.task.description,status:t.task.status,priority:t.task.priority,deadline:t.task.deadline?o(t.task.deadline):void 0}),i=B(!1);function o(l){return new Date(l).toISOString().slice(0,16)}sn(()=>t.task,l=>{r.value={name:l.name,description:l.description,status:l.status,priority:l.priority,deadline:l.deadline?o(l.deadline):void 0}});const a=async()=>{try{i.value=!0;const l={...r.value,deadline:r.value.deadline?r.value.deadline:void 0};await _e.updateTask(t.task.id,l),s("updated",{...t.task,...l}),s("notify",{type:"success",message:"Задача успешно обновлена"}),s("close")}catch(l){console.error("Ошибка обновления задачи:",l),s("notify",{type:"error",message:"Ошибка при обновлении задачи"})}finally{i.value=!1}};return(l,c)=>(R(),L(Pe,null,[le(yn,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Ht(()=>[n.isOpen?(R(),L("div",{key:0,onClick:c[0]||(c[0]=u=>l.$emit("close")),class:"fixed inset-0 z-40 backdrop-blur-sm bg-black/30"})):Ce("",!0)]),_:1}),le(yn,{"enter-active-class":"transition-transform duration-300 ease-out","leave-active-class":"transition-transform duration-200 ease-in","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:Ht(()=>[n.isOpen?(R(),L("div",uX,[v("button",{onClick:c[1]||(c[1]=u=>l.$emit("close")),class:"absolute top-4 right-4 text-neutral-400 hover:text-white transition-all duration-200 rounded-full hover:bg-neutral-700 active:scale-90 p-1"},c[9]||(c[9]=[v("i",{class:"fa-solid fa-xmark text-xl"},null,-1)])),v("div",dX,[c[17]||(c[17]=v("div",{class:"sticky top-0 bg-neutral-800/90 backdrop-blur-sm z-10 p-6 pb-4 border-b border-neutral-700"},[v("h2",{class:"text-2xl font-bold text-white truncate drop-shadow-md"},"Редактирование задачи")],-1)),v("form",{onSubmit:ln(a,["prevent"]),class:"space-y-6 p-6"},[v("div",null,[c[10]||(c[10]=v("label",{class:"block text-sm font-medium text-neutral-300 mb-2"}," Название задачи ",-1)),jt(v("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>r.value.name=u),type:"text",required:"",class:"w-full bg-neutral-700 rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},null,512),[[vn,r.value.name]])]),v("div",null,[c[11]||(c[11]=v("label",{class:"block text-sm font-medium text-neutral-300 mb-2"}," Описание ",-1)),le(te(dI),{onClick:c[3]||(c[3]=ln(()=>{},["stop"])),modelValue:r.value.description,"onUpdate:modelValue":c[4]||(c[4]=u=>r.value.description=u),class:"bg-neutral-700 rounded-md transition-all duration-200"},null,8,["modelValue"])]),v("div",null,[c[13]||(c[13]=v("label",{class:"block text-sm font-medium text-neutral-300 mb-2"}," Статус ",-1)),jt(v("select",{"onUpdate:modelValue":c[5]||(c[5]=u=>r.value.status=u),class:"w-full bg-neutral-700 rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},c[12]||(c[12]=[v("option",{value:"planned"},"Запланировано",-1),v("option",{value:"progress"},"В работе",-1),v("option",{value:"done"},"Завершено",-1)]),512),[[hr,r.value.status]])]),v("div",null,[c[15]||(c[15]=v("label",{class:"block text-sm font-medium text-neutral-300 mb-2"}," Приоритет ",-1)),jt(v("select",{"onUpdate:modelValue":c[6]||(c[6]=u=>r.value.priority=u),class:"w-full bg-neutral-700 rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},c[14]||(c[14]=[v("option",{value:1},"Низкий",-1),v("option",{value:2},"Средний",-1),v("option",{value:3},"Высокий",-1)]),512),[[hr,r.value.priority]])]),v("div",null,[c[16]||(c[16]=v("label",{class:"block text-sm font-medium text-neutral-300 mb-2"}," Дедлайн ",-1)),jt(v("input",{"onUpdate:modelValue":c[7]||(c[7]=u=>r.value.deadline=u),type:"datetime-local",class:"w-full bg-neutral-700 rounded-md px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},null,512),[[vn,r.value.deadline]])]),v("div",fX,[v("button",{type:"button",onClick:c[8]||(c[8]=u=>l.$emit("close")),class:"px-4 py-2 text-neutral-300 hover:text-white transition-colors duration-200"}," Отмена "),v("button",{type:"submit",class:"px-4 py-2 bg-blue-600 rounded-md text-white hover:bg-blue-700 transition-colors duration-200",disabled:i.value},[i.value?(R(),L("span",pX,"Сохранение...")):(R(),L("span",gX,"Сохранить изменения"))],8,hX)])],32)])])):Ce("",!0)]),_:1})],64))}}),yX=Cn(mX,[["__scopeId","data-v-fd60b858"]]),bX={class:"absolute top-2 right-2 flex gap-2"},vX=["title"],xX={class:"flex flex-col space-y-1"},wX={class:"text-xs text-gray-500 dark:text-gray-400"},SX={class:"text-xs text-gray-500 dark:text-gray-400"},EX={class:"text-md font-medium text-gray-900 dark:text-gray-100 truncate"},kX={class:"bg-gray-100 dark:bg-gray-700 rounded px-2 py-1 text-gray-800 dark:text-gray-200"},_X={class:"grid grid-cols-2 gap-2"},TX={class:"flex flex-col space-y-1"},CX={class:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-300"},OX={class:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-300"},AX={key:0,class:"grid grid-cols-2 gap-1"},MX={class:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"},IX=Ke({__name:"KanbanTaskCard",props:{task:{}},emits:["edit","delete","freeze","hide"],setup(n,{emit:e}){const t=n,s=e,r=B(!1),i=B(!1),o=B(!1),a=B(!1),l=B("");zt(async()=>{const w=await _e.fetchMajorTaskName(t.task.majorTaskId);l.value=w.name});const c=w=>{switch(w){case 1:return"Низкий";case 2:return"Средний";case 3:return"Высокий";default:return"Не указан"}},u=w=>{s("edit",w),o.value=!1},d=w=>new Date(w).toLocaleDateString("ru-RU"),f=async()=>{s("edit",t.task.id),o.value=!0},h=async()=>{s("delete",t.task.id),i.value=!0},p=async()=>{s("hide",t.task.id)},g=async()=>{s("freeze",t.task.id)},m=()=>{r.value=!r.value},y=()=>{r.value=!1},b=()=>{o.value=!1},x=()=>{a.value=!0},S=()=>{a.value=!1};return(w,k)=>(R(),L("div",null,[le(te(yX),{task:w.task,isOpen:o.value,onClose:b,onUpdated:u},null,8,["task","isOpen"]),v("div",{class:ke(["w-full p-4 flex flex-col justify-between rounded-lg border cursor-pointer relative transition-colors",w.task.isFrozen?"bg-gray-400 dark:bg-gray-900 border-gray-300 dark:border-gray-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-400"])},[le(te(PH),{task:w.task,isOpen:r.value,onClose:y},null,8,["task","isOpen"]),v("div",bX,[v("button",{onClick:ln(f,["stop"]),class:"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 w-6 h-6 flex items-center justify-center rounded-full transition-colors",title:"Редактировать"},k[0]||(k[0]=[v("i",{class:"fa-solid fa-pen-to-square text-sm"},null,-1)])),v("button",{onClick:ln(g,["stop"]),class:"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 w-6 h-6 flex items-center justify-center rounded-full transition-colors",title:"Заморозить"},[v("i",{class:ke(["fa-solid fa-snowflake text-sm",w.task.isFrozen?"text-blue-500":""])},null,2)]),v("button",{onClick:ln(p,["stop"]),class:"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 w-6 h-6 flex items-center justify-center rounded-full transition-colors",title:w.task.isVisible?"Скрыть":"Показать"},[v("i",{class:ke(w.task.isVisible?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)],8,vX),v("button",{onClick:ln(x,["stop"]),class:"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 w-6 h-6 flex items-center justify-center rounded-full transition-colors",title:"Удалить"},k[1]||(k[1]=[v("i",{class:"fa-regular fa-trash-can text-sm"},null,-1)]))]),v("div",{onClick:m,class:"space-y-3"},[v("div",xX,[v("span",wX,ae(w.task.id),1),v("span",SX,ae(l.value),1),v("span",EX,[v("code",kX,ae(w.task.name),1)])]),v("div",_X,[v("div",TX,[v("span",CX,[k[2]||(k[2]=v("i",{class:"fa-solid fa-chart-simple text-xs"},null,-1)),v("span",null,ae(c(w.task.priority)),1)]),v("span",OX,[k[3]||(k[3]=v("i",{class:"fa-regular fa-calendar-days text-xs"},null,-1)),v("span",null,ae(d(new Date(w.task.createdAt))),1)])]),w.task.labels&&w.task.labels.length>0?(R(),L("div",AX,[(R(!0),L(Pe,null,Et(w.task.labels.slice(0,2),(T,C)=>(R(),Qn(te(Cv),{key:C,label:T,class:"max-w-[100px] truncate text-xs"},null,8,["label"]))),128))])):Ce("",!0)]),v("div",MX,[k[4]||(k[4]=v("i",{class:"fa-solid fa-clock"},null,-1)),v("span",null,ae(d(new Date(w.task.deadline))),1)])]),le(te(Kb),{"is-open":a.value,title:"Удалить задачу?",message:`Вы уверены, что хотите удалить задачу ${w.task.name}? Это действие нельзя отменить.`,"confirm-text":"Удалить","is-loading":i.value,onConfirm:h,onCancel:S},null,8,["is-open","message","is-loading"])],2)]))}}),tk=Cn(IX,[["__scopeId","data-v-31113beb"]]),PX={name:"GanttDiagram",props:{tasks:{type:Array,required:!0,default:()=>[],validator(n){return n.every(e=>(e==null?void 0:e.id)&&typeof(e==null?void 0:e.name)=="string"&&e.name.trim()!==""&&(e.start instanceof Date||typeof e.start=="string")&&(e.end instanceof Date||typeof e.end=="string"))}},holidays:{type:Array,default:()=>[]},initialOptions:{type:Object,default:()=>({})}},data(){return{ganttInstance:null,error:null,Gantt:null}},mounted(){this.safeInitGantt()},methods:{async safeInitGantt(){try{if(this.error=null,!this.$refs.ganttContainer)throw new Error("Контейнер для диаграммы не найден");window.Gantt||await this.loadGanttLibrary(),this.Gantt=window.Gantt;const n=this.prepareTasks(this.tasks);this.createGanttInstance(n)}catch(n){this.handleError(n)}},async loadGanttLibrary(){return new Promise((n,e)=>{const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.js",t.onload=()=>{if(!window.Gantt){e(new Error("Библиотека Gantt не загрузилась"));return}n()},t.onerror=()=>e(new Error("Ошибка загрузки библиотеки Gantt")),document.head.appendChild(t)})},prepareTasks(n){return console.log("Preparing tasks:",n),n.map(e=>{try{const t={id:String(e.id),name:String(e.name).trim()||"Без названия",start:this.formatDate(e.start),end:this.formatDate(e.end),dependencies:e.dependencies?String(e.dependencies):""};return console.log("Prepared task:",t),t}catch(t){return console.error("Error preparing task:",t),{id:"task-"+Math.random().toString(36).substr(2,9),name:"Без названия",start:this.formatDate(new Date),end:this.formatDate(new Date(Date.now()+864e5)),dependencies:""}}})},formatDate(n){try{const e=n instanceof Date?n:new Date(n);return isNaN(e.getTime())?new Date().toISOString().split("T")[0]:e.toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},createGanttInstance(n){try{if(this.ganttInstance&&(this.$refs.ganttContainer.innerHTML=""),!this.$refs.ganttContainer)throw new Error("Контейнер для диаграммы не найден в DOM");if(!n||!Array.isArray(n)||n.length===0)throw new Error("Нет валидных задач для отображения");if(!this.Gantt||typeof this.Gantt!="function")throw new Error("Библиотека Gantt не загружена");const e=n[0];if(!e.id||!e.start||!e.end)throw new Error("Задачи должны содержать id, start и end поля");this.patchGanttLibrary(),this.ganttInstance=new this.Gantt(this.$refs.ganttContainer,n,{...this.initialOptions,on_view_change:t=>{this.$emit("view-change",t)}})}catch(e){throw console.error("Ошибка создания диаграммы:",e),new Error("Не удалось создать диаграмму. Проверьте данные задач.")}},patchGanttLibrary(){try{const n=this.Gantt.prototype.change_view_mode;this.Gantt.prototype.change_view_mode=function(e){if(!this.tasks||!Array.isArray(this.tasks)){console.warn("Нет задач для изменения вида");return}const t=this.tasks.map(s=>({...s,name:(s==null?void 0:s.name)||"Без названия"}));return this.tasks=t,n.call(this,e)},this.Gantt.utils=this.Gantt.utils||{},this.Gantt.utils.parse_duration=this.Gantt.utils.parse_duration||(()=>({quantity:1,scale:"d"}))}catch(n){throw console.error("Ошибка патчинга библиотеки:",n),n}},handleError(n){console.error("Ошибка:",n),this.error=n.message||"Неизвестная ошибка при загрузке диаграммы"},changeViewMode(n){this.ganttInstance&&this.ganttInstance.change_view_mode(n)},scrollToToday(){this.ganttInstance&&this.ganttInstance.scrollToToday()}},watch:{tasks:{handler(n){if(!(!this.ganttInstance||!Array.isArray(n)))try{const e=this.prepareTasks(n);this.ganttInstance.refresh(e)}catch(e){this.handleError(e)}},deep:!0}}},DX={class:"gantt-wrapper"},RX={ref:"ganttContainer",class:"gantt-container"},NX={key:0,class:"error-message"};function LX(n,e,t,s,r,i){return R(),L("div",DX,[v("div",RX,null,512),r.error?(R(),L("div",NX,[Xn(ae(r.error)+" ",1),v("button",{onClick:e[0]||(e[0]=(...o)=>i.safeInitGantt&&i.safeInitGantt(...o)),class:"retry-btn"},"Повторить")])):Ce("",!0)])}const $X=Cn(PX,[["render",LX],["__scopeId","data-v-13bdf28e"]]),FX={class:"p-4 w-full"},jX={key:0,class:"text-center"},BX={key:1},VX={class:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4"},zX={class:"flex flex-col md:flex-row gap-4 w-full md:w-auto"},UX={class:"flex flex-col md:flex-row gap-2 w-full md:w-auto"},HX={class:"w-full md:w-auto"},WX=["value"],KX=["onClick"],GX={class:"text-lg text-zinc-800 dark:text-f14-font-dark font-semibold"},XX=["onClick"],JX={key:0,class:"ml-4"},YX={class:"text-lg text-zinc-800 dark:text-f14-font-dark font-medium"},qX={class:"text-sm text-zinc-700 dark:text-gray-300 mt-2"},QX={class:"flex flex-col md:flex-row justify-between mt-4 gap-2"},ZX={class:"text-md text-zinc-700 dark:text-gray-300"},eJ={class:"text-md text-zinc-700 dark:text-gray-300"},tJ={class:"flex flex-col md:flex-row justify-between mt-2 gap-2"},nJ={class:"text-sm text-zinc-700 dark:text-gray-300"},sJ={class:"text-sm text-zinc-700 dark:text-gray-300"},rJ={key:0,class:"mt-2"},iJ={class:"flex flex-wrap gap-2 mt-1"},oJ=Ke({__name:"TaskList",props:{projectId:{type:String,required:!0}},setup(n){const e=n,t=B([]),s=B([]),r=B(!0),i=B([]),o=B(""),a=B(""),l=B(""),c=B(""),u=async()=>{try{const k=await _e.fetchMajorTasks(e.projectId);t.value=k}catch(k){console.error("Error fetching major tasks:",k)}},d=async()=>{try{const k=await _e.fetchTasks(e.projectId);s.value=k}catch(k){console.error("Error fetching tasks:",k)}},f=xt(()=>{const k={};return s.value.forEach(T=>{k[T.majorTaskId]||(k[T.majorTaskId]=[]),k[T.majorTaskId].push(T)}),k}),h=xt(()=>o.value?t.value.filter(k=>k.id===o.value):t.value.filter(k=>f.value[k.id]&&f.value[k.id].length>0)),p=xt(()=>{const k={};return Object.keys(f.value).forEach(T=>{let C=[...f.value[T]];if(a.value&&(C=C.filter(E=>E.name.toLowerCase().includes(a.value.toLowerCase()))),l.value&&c.value){const E=new Date(l.value).getTime(),_=new Date(c.value).getTime();C=C.filter(O=>{const A=new Date(O.createdAt).getTime();return A>=E&&A<=_})}k[T]=C}),k}),g=k=>new Date(k).toLocaleDateString("ru-RU"),m=k=>k?k.replace(/<[^>]*>/g,""):"",y=k=>{switch(k){case 1:return"Низкий";case 2:return"Средний";case 3:return"Высокий";default:return"Не указан"}},b=k=>{switch(k){case"planned":return"Запланировано";case"progress":return"В работе";case"done":return"Завершено";default:return"Не указан"}},x=k=>{i.value.includes(k)?i.value=i.value.filter(T=>T!==k):i.value.push(k)},S=()=>{},w=()=>{};return zt(async()=>{await u(),await d(),r.value=!1}),(k,T)=>(R(),L("div",FX,[r.value?(R(),L("div",jX,"Loading...")):(R(),L("div",BX,[v("div",VX,[v("div",zX,[jt(v("input",{"onUpdate:modelValue":T[0]||(T[0]=C=>a.value=C),placeholder:"Сортировать по названию",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-64"},null,512),[[vn,a.value]]),v("div",UX,[jt(v("input",{"onUpdate:modelValue":T[1]||(T[1]=C=>l.value=C),type:"date",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-auto"},null,512),[[vn,l.value]]),jt(v("input",{"onUpdate:modelValue":T[2]||(T[2]=C=>c.value=C),type:"date",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-auto"},null,512),[[vn,c.value]]),v("button",{onClick:S,class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md hover:bg-gray-600 w-full md:w-auto"}," Сортировать по дате ")])]),v("div",HX,[jt(v("select",{"onUpdate:modelValue":T[3]||(T[3]=C=>o.value=C),onChange:w,class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-auto"},[T[4]||(T[4]=v("option",{value:""},"Все группы задач",-1)),(R(!0),L(Pe,null,Et(t.value,C=>(R(),L("option",{key:C.id,value:C.id},ae(C.name),9,WX))),128))],544),[[hr,o.value]])])]),(R(!0),L(Pe,null,Et(h.value,C=>(R(),L("div",{key:C.id,class:"mb-6"},[v("div",{onClick:E=>x(C.id),class:"bg-gray-300 dark:bg-zinc-800 p-4 rounded-lg shadow-md mb-2 flex justify-between items-center hover:cursor-pointer hover:bg-zinc-700 duration-150"},[v("h2",GX,ae(C.name),1),v("button",{onClick:ln(E=>x(C.id),["stop"]),class:"text-zinc-700 dark:text-gray-400 dark:hover:text-white"},[v("i",{class:ke(i.value.includes(C.id)?"fa-solid fa-chevron-up":"fa-solid fa-chevron-down")},null,2)],8,XX)],8,KX),i.value.includes(C.id)?(R(),L("div",JX,[(R(!0),L(Pe,null,Et(p.value[C.id],E=>(R(),L("div",{key:E.id,class:"bg-zinc-300 dark:bg-bg-dark p-4 rounded-lg shadow-sm mb-2 transition-all duration-300 hover:shadow-lg"},[v("h3",YX,ae(E.name),1),v("p",qX,ae(m(E.description||"")),1),v("div",QX,[v("span",ZX,"Создано: "+ae(g(new Date(E.createdAt))),1),v("span",eJ,"Дедлайн: "+ae(g(new Date(E.deadline))),1)]),v("div",tJ,[v("span",nJ,"Приоритет: "+ae(y(E.priority)),1),v("span",sJ,"Статус: "+ae(b(E.status)),1)]),E.labels&&E.labels.length>0?(R(),L("div",rJ,[T[5]||(T[5]=v("span",{class:"text-sm text-zinc-700 dark:text-gray-300"},"Метки:",-1)),v("div",iJ,[(R(!0),L(Pe,null,Et(E.labels,(_,O)=>(R(),L("span",{key:O,class:"bg-blue-500 text-white text-md px-2 py-1 rounded-md min-w-20 text-center"},ae(_),1))),128))])])):Ce("",!0)]))),128))])):Ce("",!0)]))),128))]))]))}}),aJ=Cn(oJ,[["__scopeId","data-v-b9b18335"]]),lJ={class:"p-4 w-full"},cJ={key:0,class:"text-center"},uJ={key:1},dJ={class:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4"},fJ={class:"flex flex-col md:flex-row gap-4 w-full md:w-auto"},hJ={class:"flex flex-col md:flex-row gap-2 w-full md:w-auto"},pJ={class:"mb-6"},gJ={class:"text-lg text-zinc-800 dark:text-f14-font-dark font-medium"},mJ={class:"text-zinc-800 dark:text-gray-300 ml-4"},yJ={class:"flex flex-col md:flex-row justify-between mt-4 gap-2"},bJ={class:"text-md text-zinc-700 dark:text-gray-300"},vJ={class:"text-md text-zinc-700 dark:text-gray-300"},xJ=Ke({__name:"LogList",props:{projectId:{type:String,required:!0}},setup(n){const e=n,t=B([]),s=B(!0),r=B(""),i=B(""),o=B(""),a=B(""),l=B(""),c=B({}),u=async()=>{try{const m=await _e.fetchLogs(e.projectId);t.value=m,await d()}catch(m){console.error("Error fetching logs:",m)}},d=async()=>{try{const m=[...new Set(t.value.map(y=>y.userId))];for(const y of m){const b=await _e.getUserEmail(y);c.value[y]=b.split("@")[0]}}catch(m){console.error("Error fetching usernames:",m)}},f=m=>c.value[m]||m,h=xt(()=>{let m=[...t.value];if(r.value&&(m=m.filter(y=>y.action.toLowerCase().includes(r.value.toLowerCase()))),i.value&&(m=m.filter(y=>{var b;return(b=y.name)==null?void 0:b.toLowerCase().includes(i.value.toLowerCase())})),o.value&&(m=m.filter(y=>f(y.userId).toLowerCase().includes(o.value.toLowerCase()))),a.value&&l.value){const y=new Date(a.value).getTime(),b=new Date(l.value).getTime();m=m.filter(x=>{const S=new Date(x.createdAt).getTime();return S>=y&&S<=b})}return m}),p=m=>new Date(m).toLocaleDateString("ru-RU"),g=()=>{};return zt(async()=>{await u(),s.value=!1}),(m,y)=>(R(),L("div",lJ,[s.value?(R(),L("div",cJ,"Loading...")):(R(),L("div",uJ,[v("div",dJ,[v("div",fJ,[jt(v("input",{"onUpdate:modelValue":y[0]||(y[0]=b=>r.value=b),placeholder:"Сортировать по действию",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-64"},null,512),[[vn,r.value]]),jt(v("input",{"onUpdate:modelValue":y[1]||(y[1]=b=>i.value=b),placeholder:"Сортировать по имени",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-64"},null,512),[[vn,i.value]]),jt(v("input",{"onUpdate:modelValue":y[2]||(y[2]=b=>o.value=b),placeholder:"Сортировать по пользователю",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md w-full md:w-64"},null,512),[[vn,o.value]]),v("div",hJ,[jt(v("input",{"onUpdate:modelValue":y[3]||(y[3]=b=>a.value=b),type:"date",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white py-2 rounded-md w-full md:w-auto"},null,512),[[vn,a.value]]),jt(v("input",{"onUpdate:modelValue":y[4]||(y[4]=b=>l.value=b),type:"date",class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white py-2 rounded-md w-full md:w-auto"},null,512),[[vn,l.value]]),v("button",{onClick:g,class:"bg-gray-300 dark:bg-gray-700 text-zinc-800 dark:text-white px-4 py-2 rounded-md hover:bg-gray-600 w-full md:w-auto"}," Сортировать по дате ")])])]),v("div",pJ,[(R(!0),L(Pe,null,Et(h.value,b=>(R(),L("div",{key:b.id,class:"bg-gray-300 dark:bg-bg-dark p-4 rounded-lg shadow-sm mb-2 transition-all duration-300 hover:shadow-lg"},[v("h3",gJ,[Xn(ae(b.action)+" ",1),v("span",mJ,ae(b.name),1)]),y[5]||(y[5]=v("p",{class:"text-sm text-gray-300 mt-2"},null,-1)),v("div",yJ,[v("span",bJ,"Пользователь: "+ae(f(b.userId)),1),v("span",vJ,ae(p(new Date(b.createdAt))),1)])]))),128))])]))]))}}),wJ=Cn(xJ,[["__scopeId","data-v-e156de95"]]),SJ={class:"flex flex-col items-center"},EJ={class:"flex flex-col items-center justify-center px-2 py-1 gap-4"},kJ={class:"text-2xl"},_J={class:"bg-bg-accent-dark text-white rounded-md px-2 py-1"},TJ={class:"bg-gray-200 dark:bg-zinc-900 w-full max-w-[1500px] h-[1000px] rounded-md mt-4 mb-20 flex flex-col"},CJ={class:"w-full flex justify-center items-center p-4 shadow-lg"},OJ={class:"flex gap-8 items-center"},AJ=["onClick"],MJ={class:"flex-1 overflow-auto p-4"},IJ={key:1,class:"h-full flex"},PJ={key:2,class:"flex flex-col justify-center items-center"},DJ={class:"gantt-view-controls w-full"},RJ={key:1},NJ={key:3,class:"h-full"},LJ=Ke({__name:"Workspace",setup(n){const e=wi(),t=B(typeof e.query.projectId=="string"?e.query.projectId:""),s=B(typeof e.query.name=="string"?e.query.name:void 0),r=B(null),i=B("Week"),o=B(null),a=B({view_mode:i.value,bar_height:25,bar_corner_radius:5,container_height:600,language:"ru",arrow_curve:5,view_mode_select:!1,today_button:!1}),l=B([]),c=B([{date:"2023-10-04",name:"День города"},{date:"2023-11-06",name:"День народного единства"}]),u=["Все задачи","Доска задач","Диаграмма Ганта","Все действия"],d=B(0),f=h=>{i.value=h,a.value.view_mode=h,r.value&&r.value.changeViewMode(h)};return zt(async()=>{try{const h=localStorage.getItem("currentPage");if(h!==null&&(d.value=parseInt(h,10)),t.value){const p=await _e.fetchTasks(t.value);l.value=await Promise.all(p.map(async g=>{const m=await _e.fetchTaskDependencies(g.id);return{id:g.id,name:g.name,start:g.createdAt.split("T")[0],end:g.deadline.split("T")[0],dependencies:m.map(y=>y.depends_on_task_id).join(",")}}))}}catch(h){console.error("Ошибка инициализации:",h),o.value=h instanceof Error?h.message:"Ошибка загрузки диаграммы"}}),sn(d,h=>{localStorage.setItem("currentPage",h.toString())}),sn(()=>e.query.projectId,h=>{typeof h=="string"?t.value=h:t.value=""}),sn(()=>e.query.name,h=>{typeof h=="string"?s.value=h:s.value=void 0}),(h,p)=>(R(),L("div",SJ,[v("div",EJ,[v("div",null,[v("button",{onClick:p[0]||(p[0]=g=>h.$router.push({name:"projects"})),class:"flex items-center gap-2 hover:text-gray-300 duration-150"},p[4]||(p[4]=[v("i",{class:"fa-solid fa-chevron-left hover:text-gray-300"},null,-1),v("span",null,"Вернуться к проектам",-1)]))]),v("div",null,[v("span",kJ,[v("code",_J,ae(s.value),1)])])]),v("div",TJ,[v("div",CJ,[v("div",OJ,[(R(),L(Pe,null,Et(u,(g,m)=>v("span",{key:m,class:ke([{"text-zinc-600 dark:text-gray-400 scale-90":m!==d.value,"scale-105":m===d.value},"cursor-pointer text-blue-700 dark:text-f14-font-dark transition-colors duration-150"]),onClick:y=>d.value=m},ae(g),11,AJ)),64))])]),v("div",MJ,[d.value===1?(R(),Qn(te(sH),{key:0,projectId:t.value,projectName:s.value,class:"h-full"},null,8,["projectId","projectName"])):d.value===0?(R(),L("div",IJ,[le(te(aJ),{projectId:t.value},null,8,["projectId"])])):d.value===2?(R(),L("div",PJ,[v("div",DJ,[v("button",{onClick:p[1]||(p[1]=g=>f("Day")),class:ke({active:i.value==="Day"})},"День",2),v("button",{onClick:p[2]||(p[2]=g=>f("Week")),class:ke({active:i.value==="Week"})},"Неделя",2),v("button",{onClick:p[3]||(p[3]=g=>f("Month")),class:ke({active:i.value==="Month"})},"Месяц",2)]),l.value.length>0?(R(),Qn(te($X),{key:0,ref_key:"ganttRef",ref:r,tasks:l.value,holidays:c.value,"initial-options":a.value},null,8,["tasks","holidays","initial-options"])):(R(),L("div",RJ,p[5]||(p[5]=[v("p",null,"Loading tasks...",-1)])))])):d.value===3?(R(),L("div",NJ,[le(te(wJ),{projectId:t.value},null,8,["projectId"])])):Ce("",!0)])])]))}}),$J=Cn(LJ,[["__scopeId","data-v-6923ba0f"]]),FJ={class:"relative"},jJ=["value"],BJ={key:0,class:"absolute z-10 mt-2 bg-bg-accent-dark border border-gray-700 rounded-lg shadow-lg"},VJ={class:"flex justify-between items-center p-4 bg-gray-800 rounded-t-lg"},zJ={class:"flex gap-2"},UJ=["value"],HJ=["value"],WJ={class:"grid grid-cols-7 gap-2 p-4"},KJ=["onClick"],GJ=Ke({__name:"DatePicker",props:{modelValue:{type:Date,default:()=>new Date}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,r=B(!1),i=B(new Date(t.modelValue)),o=B(i.value.getMonth()),a=B(i.value.getFullYear()),l=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],c=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],u=xt(()=>{const S=new Date().getFullYear(),w=2025,k=S+20;return Array.from({length:k-w+1},(T,C)=>w+C)}),d=xt(()=>{const S=i.value.getFullYear(),w=i.value.getMonth(),k=new Date(S,w,1),C=new Date(S,w+1,0).getDate(),E=k.getDay()||7,_=[];for(let O=1;O<E;O++)_.push({day:"",date:null,isCurrentMonth:!1,isSelected:!1});for(let O=1;O<=C;O++){const A=new Date(S,w,O);_.push({day:O,date:A,isCurrentMonth:!0,isSelected:A.toDateString()===t.modelValue.toDateString()})}return _}),f=xt(()=>t.modelValue.toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})),h=()=>{r.value=!r.value},p=()=>{i.value.setMonth(i.value.getMonth()-1),b()},g=()=>{i.value.setMonth(i.value.getMonth()+1),b()},m=()=>{i.value.setMonth(o.value),b()},y=()=>{i.value.setFullYear(a.value),b()},b=()=>{i.value=new Date(i.value)},x=S=>{S&&(s("update:modelValue",S),r.value=!1)};return(S,w)=>(R(),L("div",FJ,[v("input",{type:"text",value:f.value,onClick:h,class:"w-full px-4 py-2 border border-gray-700 bg-gray-200 dark:bg-bg-accent-dark text-zinc-800 dark:text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",placeholder:"Выберите дату",readonly:""},null,8,jJ),r.value?(R(),L("div",BJ,[v("div",VJ,[v("button",{onClick:p,class:"p-2 hover:bg-gray-700 rounded-full text-white"},w[2]||(w[2]=[v("i",{class:"fas fa-chevron-left"},null,-1)])),v("div",zJ,[jt(v("select",{"onUpdate:modelValue":w[0]||(w[0]=k=>o.value=k),onChange:m,class:"bg-gray-700 text-white rounded-md px-2 py-1"},[(R(),L(Pe,null,Et(c,(k,T)=>v("option",{key:T,value:T},ae(k),9,UJ)),64))],544),[[hr,o.value]]),jt(v("select",{"onUpdate:modelValue":w[1]||(w[1]=k=>a.value=k),onChange:y,class:"bg-gray-700 text-white rounded-md px-2 py-1"},[(R(!0),L(Pe,null,Et(u.value,k=>(R(),L("option",{key:k,value:k},ae(k),9,HJ))),128))],544),[[hr,a.value]])]),v("button",{onClick:g,class:"p-2 hover:bg-gray-700 rounded-full text-white"},w[3]||(w[3]=[v("i",{class:"fas fa-chevron-right"},null,-1)]))]),v("div",WJ,[(R(),L(Pe,null,Et(l,k=>v("div",{key:k,class:"text-center text-sm text-gray-400"},ae(k),1)),64)),(R(!0),L(Pe,null,Et(d.value,k=>{var T;return R(),L("div",{key:((T=k.date)==null?void 0:T.toISOString())||"empty",onClick:C=>x(k.date),class:ke(["text-center p-2 rounded-full cursor-pointer",k.isCurrentMonth?"text-white":"text-gray-500",k.isSelected?"bg-blue-500 text-white":"hover:bg-gray-700"])},ae(k.day),11,KJ)}),128))])])):Ce("",!0)]))}}),XJ=Cn(GJ,[["__scopeId","data-v-106b8878"]]),JJ={key:0,class:"fixed inset-0 bg-black/50 dark:bg-black/70 flex justify-center items-center z-50"},YJ={class:"bg-white dark:bg-bg-accent-dark p-6 rounded-lg shadow-lg w-full max-w-md border border-gray-200 dark:border-gray-700"},qJ={class:"flex justify-end gap-2"},QJ={class:"mt-28 flex flex-col items-center gap-4 px-4 bg-bg dark:bg-bg-dark min-h-screen"},ZJ={class:"bg-white dark:bg-bg-accent-dark p-8 rounded-lg shadow-lg w-full md:w-[90%] lg:w-[70%] grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6 border border-gray-200 dark:border-gray-700"},eY={class:"space-y-4"},tY={class:"text-xl text-f14-font dark:text-gray-300 ml-2"},nY={class:"text-f14-font dark:text-f14-font-dark bg-gray-100 dark:bg-gray-800 rounded-md px-2 ml-2"},sY={class:"flex flex-col gap-4 bg-gray-100 dark:bg-gray-800 rounded-md p-4 overflow-y-auto max-h-[550px] max-w-[400px] w-full border border-gray-200 dark:border-gray-700"},rY={class:"flex mt-4 gap-4 items-center"},iY={class:"flex mt-4 gap-4 flex-col"},oY=["value"],aY={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},lY={class:"mt-4"},cY={key:0,class:"flex flex-wrap gap-2 mt-2 max-w-full overflow-hidden"},uY={class:"truncate"},dY=["onClick"],fY={key:1},hY={key:0,class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},pY={key:1},gY={key:2,class:"flex items-center justify-center gap-2"},mY={class:"flex gap-4 items-center mt-6"},yY={key:4,class:"mt-4"},bY={class:"space-y-2"},vY={class:"text-xs"},xY=["onClick"],wY={key:5,class:"mt-4"},SY=["value"],EY=Ke({__name:"CreateTask",setup(n){const e=js(),t=wi(),s=B(""),r=B("1"),i=B(t.query.name||""),o=B(t.query.id||""),a=B(""),l=B([]),c=B(!1),u=B(""),d=B(""),f=B([]),h=B([]),p=B(!1),g=B(""),m=B(!1),y=B([]),b=B(""),x=B("");zt(async()=>{var ue;f.value=await _e.fetchLabels(),l.value=await _e.fetchMajorTasks(o.value),y.value=await _e.fetchTasks(o.value),a.value=await _e.getUserId((ue=_t.value)==null?void 0:ue.email)});const S=B(""),w=B(new Date),k=B([]),T=()=>{c.value=!0},C=async()=>{if(u.value.trim())try{const ue={id:pr(),createdAt:new Date().toISOString(),name:u.value,userId:"",projectId:o.value};await _e.addMajorTask(o.value,ue),l.value=await _e.fetchMajorTasks(o.value),u.value="",c.value=!1}catch(ue){console.error("Failed to create major task:",ue)}},E=async ue=>{const G=ue.target,oe=G.files;oe&&oe.length>5?(alert("Максимальное количество файлов: 5"),G.value=""):oe&&(k.value=Array.from(oe))},_=ue=>{k.value.splice(ue,1)},O=ue=>{var oe;const G=((oe=ue.name.split(".").pop())==null?void 0:oe.toLowerCase())||"";return hA(G)},A=()=>{p.value=!0},P=async()=>{if(g.value.trim())try{const ue={id:Date.now(),label:g.value};await _e.addLabel(ue),f.value=await _e.fetchLabels(),g.value="",p.value=!1}catch(ue){console.error("Ошибка при добавлении метки:",ue)}},$=()=>{g.value="",p.value=!1},z=ue=>{D(ue)?be(ue):U(ue)},D=ue=>h.value.some(G=>G.id===ue.id),U=ue=>{h.value.push(ue)},J=ue=>{h.value.splice(ue,1)},be=ue=>{h.value=h.value.filter(G=>G.id!==ue.id)},Ge=async()=>{try{const ue=pr(),G=Array.isArray(o.value)?o.value[0]:o.value;if(!G)return alert("Проект не найден"),e.back();if(!S.value.trim()){m.value=!0;return}const oe=s.value.replace(/<[^>]+>/gm,"").trim(),Xe={id:ue,name:S.value,description:oe.length>0?s.value:null,createdAt:new Date().toISOString(),deadline:w.value.toISOString(),priority:parseInt(r.value),labels:h.value.map(at=>at.label),status:"planned",projectId:G,majorTaskId:d.value,isFrozen:!1,isVisible:!0};await _e.addTask(G,Xe),await _e.createTaskFolder(G,ue),await _e.uploadFiles(G,ue,k.value),b.value&&x.value&&await _e.addTaskDependency(ue,b.value,x.value),await _e.createLogEntry({id:pr(),action:"Создана задача",name:S.value,createdAt:new Date().toISOString(),userId:a.value,orgId:"",projectId:G,taskId:ue}),e.back()}catch(ue){console.error("Ошибка при создании задачи:",ue)}};return(ue,G)=>(R(),L(Pe,null,[le(te(Kb),{isOpen:m.value,title:"Ошибка",message:"Пожалуйста, введите название задачи",confirmText:"OK",cancelText:"",onConfirm:G[0]||(G[0]=oe=>m.value=!1),class:"dark:text-f14-font-dark"},null,8,["isOpen"]),c.value?(R(),L("div",JJ,[v("div",YJ,[G[12]||(G[12]=v("h2",{class:"text-xl mb-4 text-f14-font dark:text-f14-font-dark"},"Создать группу задач",-1)),le(te(fo),{type:"text",modelValue:u.value,"onUpdate:modelValue":G[1]||(G[1]=oe=>u.value=oe),placeholder:"Название группы задач",class:"rounded-md p-2 w-full mb-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},null,8,["modelValue"]),v("div",qJ,[v("button",{onClick:G[2]||(G[2]=oe=>c.value=!1),class:"bg-gray-500 hover:bg-gray-600 text-white rounded-md px-4 py-2 transition-colors"}," Отмена "),v("button",{onClick:C,class:"bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2 transition-colors"}," Создать ")])])])):Ce("",!0),v("div",QJ,[v("div",null,[v("button",{onClick:G[3]||(G[3]=(...oe)=>te(e).back&&te(e).back(...oe)),class:"flex items-center gap-2 text-f14-font dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},G[13]||(G[13]=[v("i",{class:"fa-solid fa-chevron-left"},null,-1),v("span",null,"Вернуться назад",-1)]))]),v("div",ZJ,[v("div",eY,[v("span",tY,[G[14]||(G[14]=Xn(" Создание задачи для проекта ")),v("code",nY,ae(i.value),1)]),le(te(fo),{type:"text",modelValue:S.value,"onUpdate:modelValue":G[4]||(G[4]=oe=>S.value=oe),placeholder:"Название",class:"rounded-md p-2 w-full max-w-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},null,8,["modelValue"]),le(te(dI),{modelValue:s.value,"onUpdate:modelValue":G[5]||(G[5]=oe=>s.value=oe)},null,8,["modelValue"])]),v("div",sY,[G[28]||(G[28]=v("span",{class:"text-f14-font dark:text-gray-300"},"Выполнить до:",-1)),le(te(XJ),{modelValue:w.value,"onUpdate:modelValue":G[6]||(G[6]=oe=>w.value=oe),placeholder:"Выберите дату",class:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600"},null,8,["modelValue"]),v("div",rY,[G[16]||(G[16]=v("span",{class:"text-f14-font dark:text-gray-300"},"Приоритет:",-1)),jt(v("select",{"onUpdate:modelValue":G[7]||(G[7]=oe=>r.value=oe),class:"bg-white dark:bg-gray-700 rounded-md p-2 cursor-pointer border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},G[15]||(G[15]=[v("option",{value:"1"},"Низкий",-1),v("option",{value:"2"},"Средний",-1),v("option",{value:"3"},"Высокий",-1)]),512),[[hr,r.value]])]),v("div",iY,[G[17]||(G[17]=v("span",{class:"text-f14-font dark:text-gray-300"},"Группа задач",-1)),l.value.length>0?jt((R(),L("select",{key:0,"onUpdate:modelValue":G[8]||(G[8]=oe=>d.value=oe),class:"bg-white dark:bg-gray-700 rounded-md p-2 cursor-pointer border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},[(R(!0),L(Pe,null,Et(l.value,oe=>(R(),L("option",{key:oe.id,value:oe.id},ae(oe.name),9,oY))),128))],512)),[[hr,d.value]]):(R(),L("div",aY," Нет доступных групп задач ")),v("button",{onClick:T,class:"bg-blue-600 hover:bg-blue-700 text-white rounded-md px-2 py-1 transition-colors"}," Добавить группу задач ")]),v("div",lY,[G[20]||(G[20]=v("span",{class:"text-f14-font dark:text-gray-300"},"Метки",-1)),h.value.length>0?(R(),L("div",cY,[(R(!0),L(Pe,null,Et(h.value,(oe,Xe)=>(R(),L("div",{key:oe.id,class:"flex items-center gap-2 bg-blue-600 text-white rounded-md px-2 py-1 text-sm max-w-[150px]"},[v("span",uY,ae(oe.label),1),v("button",{onClick:at=>J(Xe),class:"text-white hover:text-red-400 transition-colors"},G[18]||(G[18]=[v("i",{class:"fa-solid fa-xmark"},null,-1)]),8,dY)]))),128))])):(R(),L("div",fY,G[19]||(G[19]=[v("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Вы не выбрали ни одной метки",-1)])))]),f.value.length>0?(R(),L("div",hY,[(R(!0),L(Pe,null,Et(f.value,oe=>(R(),Qn(te(Cv),{class:ke(["h-8",{"opacity-50 cursor-not-allowed":D(oe)}]),key:oe.id,label:oe.label,onClick:Xe=>z(oe)},null,8,["label","class","onClick"]))),128))])):(R(),L("div",pY,[le(te(Ad))])),p.value?(R(),L("div",gY,[le(te(fo),{type:"text",modelValue:g.value,"onUpdate:modelValue":G[9]||(G[9]=oe=>g.value=oe),placeholder:"Новая метка",class:"h-9 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600"},null,8,["modelValue"]),v("button",{onClick:P,class:"w-10 h-6 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors"},G[21]||(G[21]=[v("i",{class:"fa-solid fa-check"},null,-1)])),v("button",{onClick:$,class:"w-10 h-6 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors"},G[22]||(G[22]=[v("i",{class:"fa-solid fa-xmark"},null,-1)]))])):(R(),L("button",{key:3,onClick:A,class:"h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 text-f14-font dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"},G[23]||(G[23]=[v("span",null,"+",-1)]))),v("div",mY,[G[24]||(G[24]=v("label",{for:"file-input",class:"cursor-pointer"},[v("span",{class:"bg-blue-600 hover:bg-blue-700 text-xs text-white px-4 py-2 rounded-md transition-colors"}," Прикрепить файлы ")],-1)),v("input",{id:"file-input",type:"file",multiple:"",class:"hidden",onChange:E},null,32)]),G[29]||(G[29]=v("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Максимальное количество файлов: 5",-1)),k.value.length>0?(R(),L("div",yY,[v("ul",bY,[(R(!0),L(Pe,null,Et(k.value,(oe,Xe)=>(R(),L("li",{key:Xe,class:"flex items-center text-f14-font dark:text-gray-300 gap-2"},[v("i",{class:ke(["text-md",O(oe)])},null,2),v("span",vY,ae(oe.name),1),v("button",{onClick:at=>_(Xe),class:"text-red-600 hover:text-red-700 transition-colors"},G[25]||(G[25]=[v("i",{class:"fa-solid fa-xmark"},null,-1)]),8,xY)]))),128))])])):Ce("",!0),y.value.length>=1?(R(),L("div",wY,[G[27]||(G[27]=v("span",{class:"text-f14-font dark:text-gray-300"},"Зависимости задач",-1)),jt(v("select",{"onUpdate:modelValue":G[10]||(G[10]=oe=>b.value=oe),class:"bg-white dark:bg-gray-700 rounded-md p-2 cursor-pointer w-full border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},[(R(!0),L(Pe,null,Et(y.value,oe=>(R(),L("option",{key:oe.id,value:oe.id},ae(oe.name),9,SY))),128))],512),[[hr,b.value]]),b.value?jt((R(),L("select",{key:0,"onUpdate:modelValue":G[11]||(G[11]=oe=>x.value=oe),class:"bg-white dark:bg-gray-700 rounded-md p-2 cursor-pointer w-full mt-2 border border-gray-300 dark:border-gray-600 text-f14-font dark:text-gray-300"},G[26]||(G[26]=[v("option",{value:"FS"},"Finish-to-Start",-1),v("option",{value:"SS"},"Start-to-Start",-1),v("option",{value:"FF"},"Finish-to-Finish",-1),v("option",{value:"SF"},"Start-to-Finish",-1)]),512)),[[hr,x.value]]):Ce("",!0)])):Ce("",!0),v("button",{onClick:Ge,class:"mt-10 flex justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2 transition-colors"}," Создать ")])])])],64))}}),kY=Cn(EY,[["__scopeId","data-v-8d0a9d34"]]),_Y={class:"flex flex-col items-center justify-center min-h-[calc(100vh-150px)] bg-gradient-to-b dark:from-zinc-900 dark:to-emerald-950"},TY=Ke({__name:"AuthRedirect",setup(n){const e=js();return zt(()=>{e.push({name:"dashboard"})}),(t,s)=>(R(),L("div",_Y,s[0]||(s[0]=[mb('<div class="absolute inset-0 flex items-center justify-center" data-v-a0bebc16><div class="animate-pulse absolute w-64 h-64 rounded-full bg-gray-800 opacity-20 animate-blob" data-v-a0bebc16></div><div class="animate-pulse absolute w-64 h-64 rounded-full bg-emerald-500 opacity-20 animate-blob animation-delay-2000" data-v-a0bebc16></div><div class="animate-pulse absolute w-64 h-64 rounded-full bg-blue-900 opacity-20 animate-blob animation-delay-4000" data-v-a0bebc16></div></div><div class="bg-gray-200 dark:bg-bg-accent-dark mt-4 p-8 rounded-lg shadow-lg w-full max-w-lg z-10 animate__animated animate__fadeIn" data-v-a0bebc16><div class="flex flex-col items-center" data-v-a0bebc16><i class="fa-solid text-zinc-800 dark:text-f14-font-dark fa-envelope text-2xl" data-v-a0bebc16></i><h2 class="text-2xl text-zinc-800 dark:text-f14-font-dark font-bold mb-6 text-center" data-v-a0bebc16>Подтвердите почту</h2></div><p class="text-sm text-zinc-700 dark:text-gray-400 text-wrap line-clamp-4 text-center" data-v-a0bebc16> Мы отправили вам ссылку для входа на указанную почту </p></div>',2)])))}}),CY=Cn(TY,[["__scopeId","data-v-a0bebc16"]]),OY={class:"w-full max-w-3xl bg-bg-dark p-4 rounded-md shadow-sm shadow-f14-font-dark flex flex-col items-center"},AY={class:"text-center text-white mb-4"},MY={class:"w-full h-64"},IY=Ke({__name:"ActivityChart",props:{graphName:{type:String,required:!0}},setup(n){const e=n;as.register(...Wb);const t=B(null);return zt(()=>{t.value&&new as(t.value,{type:"bar",data:{labels:["27.01.2025","28.01.2025","29.01.2025"],datasets:[{label:"Добавлено задач",data:[3,6,9,12,15,18,21],backgroundColor:"#8090F4"},{label:"Внесено изменений",data:[2,4,6,8,10,12,14],backgroundColor:"#37DC74"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255, 255, 255, 0.3)"}},y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.3)"}}}}})}),(s,r)=>(R(),L("div",OY,[v("h3",AY,ae(e.graphName),1),v("div",MY,[v("canvas",{ref_key:"chartCanvas",ref:t,class:"w-full h-full"},null,512)])]))}}),PY={class:"px-20 py-10 min-h-[calc(100vh-180px)]"},DY={class:"flex items-center justify-center"},RY={class:"min-w-[800px] max-w-[1200px]"},NY={class:"mt-10 bg-gray-200 dark:bg-bg-accent-dark p-8 rounded-lg shadow-lg"},LY={class:"grid grid-cols-2 items-center"},$Y={class:"flex flex-col gap-4"},FY={class:"grid grid-cols-2 items-center"},jY={class:"flex flex-col gap-4"},BY={class:"mt-10 bg-gray-200 dark:bg-bg-accent-dark p-8 rounded-lg shadow-lg"},VY={class:"grid grid-cols-1 items-center mb-10"},zY={class:"flex flex-col gap-2"},UY={class:"flex flex-col gap-4"},HY=Ke({__name:"Profile",setup(n){return(e,t)=>{var s,r;return R(),L("div",PY,[v("div",DY,[v("div",RY,[t[4]||(t[4]=v("h2",{class:"text-3xl mt-4 py-2 mb-4 border-b-2 text-zinc-800 dark:text-f14-font-dark border-zinc-800 dark:border-gray-700"},"Профиль",-1)),t[5]||(t[5]=v("span",{class:"text-md text-zinc-700 dark:text-gray-400"},"Персональная информация",-1)),v("div",NY,[v("div",LY,[t[0]||(t[0]=v("div",{class:"flex flex-col gap-4"},[v("span",{class:"text-zinc-800 dark:text-f14-font-dark"},"User ID")],-1)),v("div",$Y,[le(te(fo),{type:"text","model-value":(s=te(_t))==null?void 0:s.id,error:"",placeholder:"",disabled:""},null,8,["model-value"])])]),v("div",FY,[t[1]||(t[1]=v("div",{class:"flex flex-col gap-4"},[v("span",{class:"text-zinc-800 dark:text-f14-font-dark"},"Электронная почта")],-1)),v("div",jY,[le(te(fo),{type:"text","model-value":(r=te(_t))==null?void 0:r.email,error:"",placeholder:"E-mail",enabled:""},null,8,["model-value"])])])]),v("div",BY,[v("div",VY,[v("div",zY,[t[3]||(t[3]=v("div",{class:"flex flex-col"},[v("span",{class:"text-zinc-800 dark:text-f14-font-dark"},"Рабочих проектов: 0"),v("span",{class:"text-zinc-800 dark:text-f14-font-dark"},"Завершенных задач: 0")],-1)),v("div",UY,[t[2]||(t[2]=v("span",{class:"text-zinc-800 dark:text-gray-400"},"Личная продуктивность",-1)),le(te(IY),{"graph-name":"",class:"min-w-[400px] min-h-[200px]"})])])])])])])])}}}),WY={class:"flex flex-col items-center justify-center overflow-hidden"},KY={class:"mt-52"},GY={class:"bg-gray-200 dark:bg-bg-accent-dark mt-4 p-8 rounded-lg shadow-lg w-full max-w-md"},XY=["disabled"],JY=Ke({__name:"CreateOrg",setup(n){const e=B(!1),t=B(_t.value.email),s=B(""),r=B(""),i=js(),o=async()=>{try{if(e.value=!0,await _e.createOrg(s.value,t.value),r.value)throw new Error(r.value);i.push({name:"projects"})}catch(a){a instanceof Error&&(r.value=a.message)}finally{e.value=!1}};return(a,l)=>(R(),L("div",WY,[v("div",KY,[v("button",{onClick:l[0]||(l[0]=(...c)=>te(i).back&&te(i).back(...c)),class:"flex items-center gap-2 text-zinc-800 dark:text-gray-400 hover:text-zinc-600 dark:hover:text-gray-300 duration-150"},l[2]||(l[2]=[v("i",{class:"fa-solid fa-chevron-left"},null,-1),v("span",null,"Вернуться назад",-1)])),v("div",GY,[l[4]||(l[4]=v("h2",{class:"text-2xl text-zinc-900 dark:text-f14-font-dark font-bold mb-6 text-center"},"Создание организации",-1)),v("form",{onSubmit:ln(o,["prevent"])},[le(te(fo),{type:"text",modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=c=>s.value=c),placeholder:"Название"},null,8,["modelValue"]),l[3]||(l[3]=v("div",{class:"mb-10"},null,-1)),v("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:e.value},ae(e.value?"Загрузка...":"Создать организацию"),9,XY)],32)])])]))}}),YY={class:"flex items-center justify-between mb-2"},qY={class:"text-sm font-medium text-zinc-700 dark:text-gray-400"},QY={class:"text-2xl font-bold text-zinc-700 dark:text-gray-200"},uy=Ke({__name:"StatCard",props:{title:{},value:{},icon:{},color:{},trend:{}},setup(n){return(e,t)=>(R(),L("div",{class:ke(["flex flex-col p-4 rounded-lg transition-all",{"border-l-4 border-blue-500":e.color==="blue","border-l-4 border-green-500":e.color==="green","border-l-4 border-yellow-500":e.color==="yellow","border-l-4 border-purple-500":e.color==="purple","border-l-4 border-red-500":e.color==="red"}])},[v("div",YY,[v("h3",qY,ae(e.title),1),v("div",{class:ke(["p-2 rounded-md",{"bg-blue-500/20 text-blue-400":e.color==="blue","bg-green-500/20 text-green-400":e.color==="green","bg-yellow-500/20 text-yellow-400":e.color==="yellow","bg-purple-500/20 text-purple-400":e.color==="purple","bg-red-500/20 text-red-400":e.color==="red"}])},[v("i",{class:ke(["text-sm",{"fa-solid fa-users":e.icon==="users","fa-solid fa-folder":e.icon==="folder","fa-solid fa-chart-line":e.icon==="activity","fa-solid fa-tasks":e.icon==="tasks","fa-solid fa-calendar":e.icon==="calendar"}])},null,2)],2)]),v("p",QY,ae(e.value),1),e.trend?(R(),L("div",{key:0,class:ke(["flex items-center mt-2 text-xs",{"text-green-400":e.trend.direction==="up","text-red-400":e.trend.direction==="down"}])},[v("span",null,ae(e.trend.value),1),v("i",{class:ke(["ml-1",{"fa-solid fa-arrow-up":e.trend.direction==="up","fa-solid fa-arrow-down":e.trend.direction==="down"}])},null,2)],2)):Ce("",!0)],2))}}),ZY={class:"flex flex-col"},eq={class:"text-lg text-zinc-900 dark:text-f14-font-dark"},tq={class:"text-sm text-zinc-800 dark:text-gray-300"},nq={class:"text-sm text-zinc-800 dark:text-gray-300"},sq={key:0,class:"font-semibold text-teal-600 dark:text-teal-700"},rq={class:"flex gap-2 mt-2"},iq=["title"],oq=Ke({__name:"OPanelCard",props:{org:{},isSelected:{type:Boolean}},emits:["select"],setup(n,{emit:e}){const t=n,s=e,r=B({}),i=B({}),o=B(""),a=xt(()=>o.value===_t.value.email),l=()=>{s("select",t.org)},c=d=>{if(!d)return"#FFFFFF";d=d.replace("#","");const f=parseInt(d.substring(0,2),16),h=parseInt(d.substring(2,4),16),p=parseInt(d.substring(4,6),16);return(f*299+h*587+p*114)/1e3>128?"#000000":"#FFFFFF"};zt(async()=>{try{const d=await _e.getUserEmail(t.org.leaderId);r.value[t.org.leaderId]=d,o.value=d;for(const f of t.org.membersIds){const h=await _e.getUserEmail(f);r.value[f]=h}for(const f of t.org.membersIds){const h=await _e.getUserColor(f);i.value[f]=h}}catch(d){console.error("Ошибка при получении почты пользователей:",d)}});function u(d,f){return d%10===1&&d%100!==11?f[0]:d%10>=1&&d%10<=4&&(d%100<10||d%100>=20)?f[1]:f[2]}return(d,f)=>(R(),L("div",{onClick:l,class:ke(["w-full flex items-center bg-zinc-300 dark:bg-bg-dark hover:bg-zinc-400 dark:hover:bg-zinc-800 cursor-pointer p-4 rounded-md duration-150",{"bg-bg-accent-darker border-l-4 border-blue-500":d.isSelected}])},[v("div",ZY,[v("span",eq,ae(d.org.name),1),v("span",tq,ae(d.org.members_count)+" "+ae(u(d.org.members_count,["участник","участника","участников"])),1),v("span",nq,[Xn(" Лидер: "+ae(o.value),1),a.value?(R(),L("span",sq," (Вы)")):Ce("",!0)]),v("div",rq,[(R(!0),L(Pe,null,Et(r.value,(h,p)=>(R(),L("div",{key:p,class:"w-8 h-8 flex items-center justify-center rounded-full",style:ja({backgroundColor:i.value[p],color:c(i.value[p])}),title:h},ae(h.charAt(0).toUpperCase()),13,iq))),128))])])],2))}}),aq={class:"bg-gray-200 dark:bg-bg-accent-dark p-5 rounded-lg shadow-lg w-full"},lq={class:"flex flex-col gap-5"},cq={key:0,class:"space-y-3"},uq={key:1,class:"space-y-3"},dq=Ke({__name:"OPanel",props:{selectedOrgId:{}},emits:["select"],setup(n,{emit:e}){const t=e,s=B([]),r=B(!1),i=js(),o=async()=>{try{r.value=!0,s.value=await _e.fetchOrgs(_t.value.email),s.value.length>0&&t("select",s.value[0])}catch(c){console.error("Error fetching orgs:",c)}finally{r.value=!1}},a=c=>{t("select",c)},l=()=>{i.push({name:"create-organization"})};return o(),(c,u)=>(R(),L("div",aq,[v("div",lq,[v("div",{class:"flex justify-between items-center border-b border-zinc-800 dark:border-gray-700 pb-3"},[u[1]||(u[1]=v("h2",{class:"text-xl font-semibold text-zinc-800 dark:text-gray-300"},"Организации",-1)),v("button",{onClick:l,class:"p-2 text-zinc-800 dark:text-gray-400 hover:text-blue-500 transition-colors",title:"Создать организацию"},u[0]||(u[0]=[v("i",{class:"fa-solid fa-plus"},null,-1)]))]),r.value?(R(),L("div",cq,[(R(),L(Pe,null,Et(3,d=>v("div",{key:d,class:"h-24 bg-zinc-800 dark:bg-gray-600 rounded-md animate-pulse"})),64))])):(R(),L("div",uq,[(R(!0),L(Pe,null,Et(s.value,d=>(R(),Qn(oq,{key:d.id,org:d,"is-selected":c.selectedOrgId===d.id,onSelect:f=>a(d)},null,8,["org","is-selected","onSelect"]))),128))]))])]))}}),fq={class:"min-h-[calc(100vh-180px)] w-full p-4 md:p-6"},hq={class:"flex flex-col md:flex-row gap-20 justify-center items-start"},pq={class:"w-full md:w-1/3 lg:w-3/4 space-y-6"},gq={key:0,class:"relative bg-gradient-to-r from-teal-600/30 to-gray-200 dark:from-teal-900/30 dark:to-bg-accent-dark rounded-lg shadow-lg p-5 flex items-center justify-between border-l-4 border-teal-500 overflow-hidden"},mq={key:0,class:"relative bg-gradient-to-r from-red-500/30 to-gray-200 dark:from-red-900/30 dark:to-bg-accent-dark rounded-lg shadow-lg p-5 flex items-center justify-between border-l-4 border-red-500 overflow-hidden mt-4"},yq={key:"org-info",class:"bg-gray-200 dark:bg-bg-accent-dark rounded-lg shadow-lg p-5"},bq={class:"flex justify-between items-start"},vq={class:"text-xl font-bold text-zinc-800 dark:text-gray-200"},xq={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},wq={key:"no-orgs",class:"bg-gray-200 dark:bg-bg-accent-dark rounded-lg shadow-lg p-5 text-center"},Sq={key:"loading",class:"bg-bg-accent-dark rounded-lg shadow-lg p-5 h-48 flex items-center justify-center"},Eq={key:0,class:"bg-gray-200 dark:bg-bg-accent-dark rounded-lg shadow-lg p-5"},kq={key:0},_q={class:"flex space-x-2 mb-4"},Tq={class:"bg-gray-200 dark:bg-bg-accent-dark rounded-lg shadow-lg p-5"},Cq={class:"h-64 relative"},Oq={class:"relative bg-gray-300 dark:bg-bg-accent-dark rounded-xl shadow-2xl max-w-md w-full"},Aq={class:"p-6 space-y-4"},Mq={key:0,class:"mt-4"},Iq={class:"p-4 border-t border-gray-800 flex justify-end gap-2"},Pq=["disabled"],Dq=Ke({__name:"Dashboard",setup(n){as.register(...Wb);const e=B([]),t=B(null),s=B(!1),r=js(),i=B(!1),o=B(!1),a=B(!1),l=B(""),c=B("week"),u=B(null);let d=null;const f=xt(()=>{var E;return((E=t.value)==null?void 0:E.leaderId)===_t.value.id}),h=async()=>{try{s.value=!0,e.value=await _e.fetchOrgs(_t.value.email),e.value.length>0?t.value=e.value[0]:t.value=null}catch(E){console.error("Не удалось загрузить организации"),console.error("Error fetching orgs:",E)}finally{s.value=!1}},p=()=>{var E;(E=t.value)!=null&&E.id&&r.push({name:"projects",params:{orgId:t.value.id}})},g=E=>{t.value=E},m=()=>{i.value=!0,document.body.style.overflow="hidden"},y=()=>{i.value=!1,document.body.style.overflow=""},b=()=>{o.value=!0,document.body.style.overflow="hidden"},x=()=>{o.value=!1,a.value=!1,l.value="",document.body.style.overflow=""},S=async()=>{if(t.value&&l.value===t.value.name)try{await _e.deleteOrg(t.value.id),x(),await h(),console.log("Организация успешно удалена"),window.location.reload()}catch(E){console.error("Ошибка при удалении организации:",E)}},w=async()=>{r.push({name:"create-organization"})},k=E=>{c.value=E},T={today:{labels:["Час 1","Час 2","Час 3","Час 4","Час 5","Час 6","Час 7"],actions:[2,3,1,4,3,2,1],completedTasks:[1,2,1,3,2,1,1],changes:[1,1,0,2,1,1,0]},week:{labels:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],actions:[12,19,8,15,22,13,7],completedTasks:[10,15,6,12,18,10,5],changes:[5,8,4,9,12,7,3]},month:{labels:["Неделя 1","Неделя 2","Неделя 3","Неделя 4"],actions:[45,50,40,55],completedTasks:[35,40,30,45],changes:[20,25,20,30]}},C=()=>{const E=T[c.value],_={type:"bar",data:{labels:E.labels,datasets:[{label:"Действия",data:E.actions,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Выполненные задачи",data:E.completedTasks,backgroundColor:"rgba(16, 185, 129, 0.7)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:1},{label:"Изменения",data:E.changes,backgroundColor:"rgba(245, 158, 11, 0.7)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}};d&&d.destroy(),u.value&&(d=new as(u.value,_))};return sn(c,()=>{C()}),zt(()=>{h(),setTimeout(()=>{C()},100)}),(E,_)=>{var O;return R(),L("div",fq,[v("div",hq,[le(te(dq),{"selected-org-id":(O=t.value)==null?void 0:O.id,onSelect:g,class:"w-full md:w-1/3 lg:w-1/4"},null,8,["selected-org-id"]),v("div",pq,[le(yn,{name:"fade-slide"},{default:Ht(()=>[!f.value&&t.value?(R(),L("div",gq,[_[6]||(_[6]=v("div",{class:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,var(--tw-gradient-stops))] from-teal-500/10 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500"},null,-1)),_[7]||(_[7]=v("div",{class:"flex items-center gap-3 z-10"},[v("div",{class:"p-2 bg-teal-500/20 rounded-full transition-all duration-300 hover:bg-teal-500/30 hover:scale-105"},[v("i",{class:"fa-solid fa-crown text-teal-800 dark:text-teal-400 text-lg transition-all duration-500 hover:text-teal-300"})]),v("div",null,[v("h3",{class:"text-lg font-semibold text-gray-200 flex items-center"},[v("span",{class:"text-teal-600 dark:text-teal-400 font-bold mr-1 transition-colors duration-300 hover:text-teal-500 dark:hover:text-teal-300"},"Вы"),v("span",{class:"text-zinc-800 dark:text-gray-400 transition-colors duration-300 hover:text-zinc-600 dark:hover:text-gray-300"},"— лидер этой организации")]),v("p",{class:"text-sm text-zinc-700 dark:text-gray-500 mt-1 transition-colors duration-300 hover:text-gray-400"}," У вас есть полные права управления организацией ")])],-1)),v("button",{onClick:m,class:"relative z-10 text-xs bg-teal-500/10 hover:bg-teal-500/20 text-teal-600 dark:text-teal-400 hover:text-teal-500 dark:hover:text-teal-300 px-3 py-1 rounded-md transition-all duration-300 flex items-center gap-1 group"},_[5]||(_[5]=[v("i",{class:"fa-solid fa-info-circle transition-transform duration-300 group-hover:rotate-12"},null,-1),v("span",{class:"transition-all duration-300 group-hover:translate-x-0.5"},"Руководство",-1)]))])):Ce("",!0)]),_:1}),le(yn,{name:"fade-slide"},{default:Ht(()=>[!f.value&&t.value?(R(),L("div",mq,[_[9]||(_[9]=v("div",{class:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,var(--tw-gradient-stops))] from-red-500/10 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500"},null,-1)),_[10]||(_[10]=v("div",{class:"flex items-center gap-3 z-10"},[v("div",{class:"p-2 bg-red-500/20 rounded-full transition-all duration-300 hover:bg-red-500/30 hover:scale-105"},[v("i",{class:"fa-solid fa-trash text-red-900 dark:text-red-400 text-lg transition-all duration-500 hover:text-red-300"})]),v("div",null,[v("h3",{class:"text-lg font-semibold text-gray-200 flex items-center"},[v("span",{class:"text-red-600 dark:text-red-400 font-bold mr-1 transition-colors duration-300 hover:text-red-400 dark:hover:text-red-300"},"Удалить организацию")]),v("p",{class:"text-sm text-zinc-700 dark:text-gray-500 mt-1 transition-colors duration-300 hover:text-zinc-400 dark:hover:text-gray-400"}," Это действие нельзя будет отменить ")])],-1)),v("button",{onClick:b,class:"relative z-10 text-xs bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 px-3 py-1 rounded-md transition-all duration-300 flex items-center gap-1 group"},_[8]||(_[8]=[v("i",{class:"fa-solid fa-trash transition-transform duration-300 group-hover:rotate-12"},null,-1),v("span",{class:"transition-all duration-300 group-hover:translate-x-0.5"},"Удалить",-1)]))])):Ce("",!0)]),_:1}),le(yn,{name:"fade",mode:"out-in"},{default:Ht(()=>[t.value&&!s.value?(R(),L("div",yq,[v("div",bq,[v("h2",vq,ae(t.value.name),1),_[11]||(_[11]=v("div",{class:"flex gap-2"},[v("button",{class:"p-2 text-zinc-800 dark:text-gray-400 hover:text-blue-500 transition-colors"},[v("i",{class:"fa-solid fa-pen-to-square"})])],-1))]),v("div",xq,[le(te(uy),{title:"Участники",value:t.value.members_count,icon:"users",color:"blue"},null,8,["value"]),le(te(uy),{title:"Проекты",value:t.value.projects_count||0,icon:"folder",color:"green"},null,8,["value"]),le(te(uy),{title:"Активность",value:"Высокая",icon:"activity",color:"yellow"})])])):!s.value&&e.value.length===0?(R(),L("div",wq,[_[12]||(_[12]=v("p",{class:"text-zinc-800 dark:text-gray-400"},"У вас нет организаций",-1)),v("button",{onClick:w,class:"mt-4 px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-md text-white transition-colors duration-300"}," Создать новую организацию ")])):(R(),L("div",Sq,[le(te(Ad),{class:"text-teal-400 text-2xl"})]))]),_:1}),le(yn,{name:"fade"},{default:Ht(()=>[t.value?(R(),L("div",Eq,[v("button",{onClick:p,class:"w-full py-2 px-4 bg-blue-800/10 dark:bg-blue-500/10 hover:bg-blue-500/20 text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 rounded-md transition-colors duration-300 flex items-center justify-between"},_[13]||(_[13]=[v("span",null,"Подробнее об организации",-1),v("i",{class:"fa-solid fa-arrow-right"},null,-1)]))])):Ce("",!0)]),_:1}),le(yn,{name:"fade",appear:""},{default:Ht(()=>[t.value?(R(),L("div",kq,[v("div",_q,[v("button",{onClick:_[0]||(_[0]=A=>k("today")),class:ke([{"bg-blue-500 text-white":c.value==="today","bg-gray-200":c.value!=="today"},"px-4 py-2 rounded-md transition-colors duration-300"])}," Сегодня ",2),v("button",{onClick:_[1]||(_[1]=A=>k("week")),class:ke([{"bg-blue-500 text-white":c.value==="week","bg-gray-200":c.value!=="week"},"px-4 py-2 rounded-md transition-colors duration-300"])}," За неделю ",2),v("button",{onClick:_[2]||(_[2]=A=>k("month")),class:ke([{"bg-blue-500 text-white":c.value==="month","bg-gray-200":c.value!=="month"},"px-4 py-2 rounded-md transition-colors duration-300"])}," За месяц ",2)]),v("div",Tq,[_[14]||(_[14]=v("h3",{class:"text-lg font-semibold text-zinc-800 dark:text-gray-300 mb-4"},"Статистика",-1)),v("div",Cq,[le(yn,{name:"fade",mode:"out-in"},{default:Ht(()=>[v("canvas",{key:"chart",ref_key:"chartCanvas",ref:u,class:"w-full h-full"},null,512)]),_:1})])])])):Ce("",!0)]),_:1})])]),le(yn,{name:"modal"},{default:Ht(()=>[i.value?(R(),L("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:ln(y,["self"])},[v("div",{class:"relative bg-gray-200 dark:bg-bg-accent-dark rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},[v("div",{class:"sticky top-0 bg-gray-300 dark:bg-bg-accent-dark p-5 border-b border-gray-400 dark:border-gray-800 flex justify-between items-center"},[_[16]||(_[16]=v("h2",{class:"text-xl font-bold text-teal-600 dark:text-teal-400 flex items-center gap-2"},[v("i",{class:"fa-solid fa-crown"}),Xn(" Руководство для лидера организации ")],-1)),v("button",{onClick:y,class:"text-zinc-800 dark:text-gray-400 hover:text-zinc-600 dark:hover:text-white p-1 transition-colors"},_[15]||(_[15]=[v("i",{class:"fa-solid fa-xmark text-xl"},null,-1)]))]),_[17]||(_[17]=v("div",{class:"p-6 space-y-6"},[v("section",{class:"space-y-4"},[v("h3",{class:"text-lg font-semibold text-zinc-800 dark:text-gray-200 flex items-center gap-2"},[v("i",{class:"fa-solid fa-users text-blue-400"}),Xn(" Управление участниками ")]),v("ul",{class:"space-y-3 pl-5"},[v("li",{class:"flex gap-3"},[v("i",{class:"fa-solid fa-user-plus text-green-400 mt-1"}),v("div",null,[v("p",{class:"text-zinc-800 dark:text-gray-200"},"Добавление участников"),v("p",{class:"text-gray-500 text-sm mt-1"},' Перейдите в раздел "Участники" и нажмите "Пригласить". ')])]),v("li",{class:"flex gap-3"},[v("i",{class:"fa-solid fa-user-slash text-red-400 mt-1"}),v("div",null,[v("p",{class:"text-zinc-800 dark:text-gray-200"},"Управление правами"),v("p",{class:"text-gray-500 text-sm mt-1"}," В карточке участника вы можете изменить его роль или исключить из организации. ")])])])]),v("section",{class:"space-y-4"},[v("h3",{class:"text-lg font-semibold text-zinc-800 dark:text-gray-200 flex items-center gap-2"},[v("i",{class:"fa-solid fa-folder-open text-purple-400"}),Xn(" Управление проектами ")]),v("ul",{class:"space-y-3 pl-5"},[v("li",{class:"flex gap-3"},[v("i",{class:"fa-solid fa-plus-circle text-teal-400 mt-1"}),v("div",null,[v("p",{class:"text-zinc-800 dark:text-gray-200"},"Создание проектов"),v("p",{class:"text-gray-500 text-sm mt-1"},' Нажмите "Новый проект" в верхней панели. ')])]),v("li",{class:"flex gap-3"},[v("i",{class:"fa-solid fa-lock text-yellow-400 mt-1"}),v("div",null,[v("p",{class:"text-zinc-800 dark:text-gray-200"},"Настройки доступа"),v("p",{class:"text-gray-500 text-sm mt-1"}," В настройках проекта вы можете назначить ответственных. ")])])])])],-1)),v("div",{class:"sticky bottom-0 bg-gray-300 dark:bg-bg-accent-dark p-4 border-t border-gray-400 dark:border-gray-800 flex justify-end"},[v("button",{onClick:y,class:"px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-md text-white transition-colors duration-300"}," Понятно ")])])])):Ce("",!0)]),_:1}),le(yn,{name:"modal"},{default:Ht(()=>{var A;return[o.value?(R(),L("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:ln(x,["self"])},[v("div",Oq,[v("div",Aq,[_[18]||(_[18]=v("h2",{class:"text-xl font-bold text-red-700 dark:text-red-400 flex items-center gap-2"},[v("i",{class:"fa-solid fa-exclamation-triangle"}),Xn(" Подтверждение удаления ")],-1)),_[19]||(_[19]=v("p",{class:"text-zinc-800 dark:text-gray-300"},"Вы уверены, что хотите удалить организацию?",-1)),a.value?(R(),L("div",Mq,[jt(v("input",{"onUpdate:modelValue":_[3]||(_[3]=P=>l.value=P),type:"text",placeholder:"Введите название организации",class:"w-full p-2 border border-gray-600 rounded bg-gray-200 dark:bg-bg-accent-dark text-zinc-900 dark:text-white"},null,512),[[vn,l.value]])])):Ce("",!0)]),v("div",Iq,[v("button",{onClick:x,class:"px-4 py-2 bg-zinc-600 dark:bg-gray-600 hover:bg-gray-700 rounded-md text-white transition-colors duration-300"}," Отмена "),a.value?(R(),L("button",{key:1,onClick:S,disabled:l.value!==((A=t.value)==null?void 0:A.name),class:"px-4 py-2 bg-red-700 dark:bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-300 disabled:opacity-50"}," Подтвердить ",8,Pq)):(R(),L("button",{key:0,onClick:_[4]||(_[4]=P=>a.value=!0),class:"px-4 py-2 bg-red-700 dark:bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-300"}," Да "))])])])):Ce("",!0)]}),_:1})])}}}),Rq=Cn(Dq,[["__scopeId","data-v-202cf98a"]]),Nq={class:"flex flex-col items-center justify-center min-h-[calc(100vh-180px)] bg-bg-dark text-white"},Lq={class:"bg-bg-accent-dark p-8 rounded-lg shadow-lg max-w-md w-full"},$q={key:0,class:"flex flex-col items-center"},Fq={key:1,class:"text-red-500 text-center"},jq={key:2,class:"text-center"},Bq=Ke({__name:"ConfirmEmail",setup(n){const e=B(!0),t=B(null),s=B(!1),r=wi(),i=js(),o=()=>{i.push({name:"dashboard"})};return zt(async()=>{try{const{data:{user:a},error:l}=await ve.auth.getUser();if(l||!a)throw new Error("Пользователь не аутентифицирован");const c=r.query.orgId||window.location.hash.split("orgId=")[1];if(!c)throw new Error("ID организации не найден");await _e.addOrgMember(c,a.email),s.value=!0}catch(a){console.error("Ошибка подтверждения email:",a),t.value=a instanceof Error?a.message:"Произошла неизвестная ошибка"}finally{e.value=!1}}),(a,l)=>(R(),L("div",Nq,[v("div",Lq,[l[3]||(l[3]=v("h1",{class:"text-2xl font-bold mb-4 text-center"},"Подтверждение email",-1)),e.value?(R(),L("div",$q,[le(Ad,{class:"mb-4"}),l[0]||(l[0]=v("p",null,"Проверяем вашу почту...",-1))])):Ce("",!0),t.value?(R(),L("div",Fq,ae(t.value),1)):Ce("",!0),s.value?(R(),L("div",jq,[l[1]||(l[1]=v("i",{class:"fas fa-check-circle text-green-500 text-5xl mb-4"},null,-1)),l[2]||(l[2]=v("p",{class:"mb-4"}," Вы успешно подтвердили email и добавлены в организацию! ",-1)),v("button",{onClick:o,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors"}," Перейти в Dashboard ")])):Ce("",!0)])]))}}),fI=CN({history:nN(),routes:[{path:"/",name:"main",component:rF},{path:"/:pathMatch(.*)*",redirect:"/"},{path:"/auth",name:"auth",component:gF},{path:"/auth/auth-redirect",name:"auth-redirect",component:CY},{path:"/dashboard",name:"dashboard",component:Rq,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:HY,meta:{requiresAuth:!0}},{path:"/create-organization",name:"create-organization",component:JY,meta:{requiresAuth:!0}},{path:"/dashboard/:orgId/projects",name:"projects",component:n6,meta:{requiresAuth:!0}},{path:"/dashboard/:orgId/projects/create-new-project",name:"create-new-project",component:SF,meta:{requiresAuth:!0}},{path:"/dashboard/:orgId/projects/workspace",name:"workspace",component:$J,meta:{requiresAuth:!0}},{path:"/dashboard/:orgId/projects/workspace/create-task",name:"create-task",component:kY,meta:{requiresAuth:!0}},{path:"/confirm-email",name:"confirm-email",component:Bq}]});fI.beforeEach(async(n,e,t)=>{Uy.value||await new Promise(s=>{const r=()=>{Uy.value?s(!0):setTimeout(r,50)};r()}),n.meta.requiresAuth?_t.value?t():t("/auth"):n.path==="/auth"&&_t.value||n.path==="/"&&_t.value?t("/dashboard"):t()});var Vg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bd=typeof window>"u"||"Deno"in globalThis;function or(){}function Vq(n,e){return typeof n=="function"?n(e):n}function zq(n){return typeof n=="number"&&n>=0&&n!==1/0}function Uq(n,e){return Math.max(n+(e||0)-Date.now(),0)}function nk(n,e){return typeof n=="function"?n(e):n}function Hq(n,e){return typeof n=="function"?n(e):n}function sk(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==ix(o,e.options))return!1}else if(!hd(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function rk(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(fd(e.options.mutationKey)!==fd(i))return!1}else if(!hd(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function ix(n,e){return((e==null?void 0:e.queryKeyHashFn)||fd)(n)}function fd(n){return JSON.stringify(n,(e,t)=>U0(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function hd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!hd(n[t],e[t])):!1}function hI(n,e){if(n===e)return n;const t=ik(n)&&ik(e);if(t||U0(n)&&U0(e)){const s=t?n:Object.keys(n),r=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:i[c];(!t&&s.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=hI(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function ik(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function U0(n){if(!ok(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ok(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ok(n){return Object.prototype.toString.call(n)==="[object Object]"}function Wq(n){return new Promise(e=>{setTimeout(e,n)})}function Kq(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?hI(n,e):e}function Gq(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function Xq(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var ox=Symbol();function pI(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===ox?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var ia,Xi,Cl,ck,Jq=(ck=class extends Vg{constructor(){super();yt(this,ia);yt(this,Xi);yt(this,Cl);Ue(this,Cl,e=>{if(!Bd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){X(this,Xi)||this.setEventListener(X(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Xi))==null||e.call(this),Ue(this,Xi,void 0))}setEventListener(e){var t;Ue(this,Cl,e),(t=X(this,Xi))==null||t.call(this),Ue(this,Xi,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){X(this,ia)!==e&&(Ue(this,ia,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof X(this,ia)=="boolean"?X(this,ia):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ia=new WeakMap,Xi=new WeakMap,Cl=new WeakMap,ck),gI=new Jq,Ol,Ji,Al,uk,Yq=(uk=class extends Vg{constructor(){super();yt(this,Ol,!0);yt(this,Ji);yt(this,Al);Ue(this,Al,e=>{if(!Bd&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){X(this,Ji)||this.setEventListener(X(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,Ji))==null||e.call(this),Ue(this,Ji,void 0))}setEventListener(e){var t;Ue(this,Al,e),(t=X(this,Ji))==null||t.call(this),Ue(this,Ji,e(this.setOnline.bind(this)))}setOnline(e){X(this,Ol)!==e&&(Ue(this,Ol,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return X(this,Ol)}},Ol=new WeakMap,Ji=new WeakMap,Al=new WeakMap,uk),$p=new Yq;function qq(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function Qq(n){return Math.min(1e3*2**n,3e4)}function mI(n){return(n??"online")==="online"?$p.isOnline():!0}var yI=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function dy(n){return n instanceof yI}function bI(n){let e=!1,t=0,s=!1,r;const i=qq(),o=g=>{var m;s||(f(new yI(g)),(m=n.abort)==null||m.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>gI.isFocused()&&(n.networkMode==="always"||$p.isOnline())&&n.canRun(),u=()=>mI(n.networkMode)&&n.canRun(),d=g=>{var m;s||(s=!0,(m=n.onSuccess)==null||m.call(n,g),r==null||r(),i.resolve(g))},f=g=>{var m;s||(s=!0,(m=n.onError)==null||m.call(n,g),r==null||r(),i.reject(g))},h=()=>new Promise(g=>{var m;r=y=>{(s||c())&&g(y)},(m=n.onPause)==null||m.call(n)}).then(()=>{var g;r=void 0,s||(g=n.onContinue)==null||g.call(n)}),p=()=>{if(s)return;let g;const m=t===0?n.initialPromise:void 0;try{g=m??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var k;if(s)return;const b=n.retry??(Bd?0:3),x=n.retryDelay??Qq,S=typeof x=="function"?x(t,y):x,w=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,y);if(e||!w){f(y);return}t++,(k=n.onFail)==null||k.call(n,t,y),Wq(S).then(()=>c()?void 0:h()).then(()=>{e?f(y):p()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),i)}}function Zq(){let n=[],e=0,t=a=>{a()},s=a=>{a()},r=a=>setTimeout(a,0);const i=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var cs=Zq(),oa,dk,vI=(dk=class{constructor(){yt(this,oa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zq(this.gcTime)&&Ue(this,oa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Bd?1/0:5*60*1e3))}clearGcTimeout(){X(this,oa)&&(clearTimeout(X(this,oa)),Ue(this,oa,void 0))}},oa=new WeakMap,dk),Ml,Il,Ks,aa,Fn,pd,la,ar,Qr,fk,eQ=(fk=class extends vI{constructor(e){super();yt(this,ar);yt(this,Ml);yt(this,Il);yt(this,Ks);yt(this,aa);yt(this,Fn);yt(this,pd);yt(this,la);Ue(this,la,!1),Ue(this,pd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ue(this,aa,e.client),Ue(this,Ks,X(this,aa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ue(this,Ml,nQ(this.options)),this.state=e.state??X(this,Ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,Fn))==null?void 0:e.promise}setOptions(e){this.options={...X(this,pd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Ks).remove(this)}setData(e,t){const s=Kq(this.state.data,e,this.options);return Nn(this,ar,Qr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){Nn(this,ar,Qr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=X(this,Fn))==null?void 0:s.promise;return(r=X(this,Fn))==null||r.cancel(e),t?t.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Ml))}isActive(){return this.observers.some(e=>Hq(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ox||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Uq(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=X(this,Fn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=X(this,Fn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,Ks).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(X(this,Fn)&&(X(this,la)?X(this,Fn).cancel({revert:!0}):X(this,Fn).cancelRetry()),this.scheduleGc()),X(this,Ks).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nn(this,ar,Qr).call(this,{type:"invalidate"})}fetch(e,t){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(X(this,Fn))return X(this,Fn).continueRetry(),X(this,Fn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ue(this,la,!0),s.signal)})},i=()=>{const d=pI(this.options,t),f={client:X(this,aa),queryKey:this.queryKey,meta:this.meta};return r(f),Ue(this,la,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:X(this,aa),state:this.state,fetchFn:i};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ue(this,Il,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Nn(this,ar,Qr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,p,g;dy(d)&&d.silent||Nn(this,ar,Qr).call(this,{type:"error",error:d}),dy(d)||((h=(f=X(this,Ks).config).onError)==null||h.call(f,d,this),(g=(p=X(this,Ks).config).onSettled)==null||g.call(p,this.state.data,d,this)),this.scheduleGc()};return Ue(this,Fn,bI({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var f,h,p,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){a(m);return}(h=(f=X(this,Ks).config).onSuccess)==null||h.call(f,d,this),(g=(p=X(this,Ks).config).onSettled)==null||g.call(p,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{Nn(this,ar,Qr).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Nn(this,ar,Qr).call(this,{type:"pause"})},onContinue:()=>{Nn(this,ar,Qr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),X(this,Fn).start()}},Ml=new WeakMap,Il=new WeakMap,Ks=new WeakMap,aa=new WeakMap,Fn=new WeakMap,pd=new WeakMap,la=new WeakMap,ar=new WeakSet,Qr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...tQ(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return dy(r)&&r.revert&&X(this,Il)?{...X(this,Il),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),cs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),X(this,Ks).notify({query:this,type:"updated",action:e})})},fk);function tQ(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mI(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function nQ(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ar,hk,xI=(hk=class extends Vg{constructor(t={}){super();yt(this,Ar);this.config=t,Ue(this,Ar,new Map)}build(t,s,r){const i=s.queryKey,o=s.queryHash??ix(i,s);let a=this.get(o);return a||(a=new eQ({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){X(this,Ar).has(t.queryHash)||(X(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=X(this,Ar).get(t.queryHash);s&&(t.destroy(),s===t&&X(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,Ar).get(t)}getAll(){return[...X(this,Ar).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>sk(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>sk(t,r)):s}notify(t){cs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){cs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,hk),Mr,ss,ca,Ir,Pi,pk,sQ=(pk=class extends vI{constructor(e){super();yt(this,Ir);yt(this,Mr);yt(this,ss);yt(this,ca);this.mutationId=e.mutationId,Ue(this,ss,e.mutationCache),Ue(this,Mr,[]),this.state=e.state||rQ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,Mr).includes(e)||(X(this,Mr).push(e),this.clearGcTimeout(),X(this,ss).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ue(this,Mr,X(this,Mr).filter(t=>t!==e)),this.scheduleGc(),X(this,ss).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():X(this,ss).remove(this))}continue(){var e;return((e=X(this,ca))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,i,o,a,l,c,u,d,f,h,p,g,m,y,b,x,S,w,k,T;Ue(this,ca,bI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{Nn(this,Ir,Pi).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{Nn(this,Ir,Pi).call(this,{type:"pause"})},onContinue:()=>{Nn(this,Ir,Pi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,ss).canRun(this)}));const t=this.state.status==="pending",s=!X(this,ca).canStart();try{if(!t){Nn(this,Ir,Pi).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(r=X(this,ss).config).onMutate)==null?void 0:i.call(r,e,this));const E=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));E!==this.state.context&&Nn(this,Ir,Pi).call(this,{type:"pending",context:E,variables:e,isPaused:s})}const C=await X(this,ca).start();return await((c=(l=X(this,ss).config).onSuccess)==null?void 0:c.call(l,C,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,C,e,this.state.context)),await((h=(f=X(this,ss).config).onSettled)==null?void 0:h.call(f,C,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,C,null,e,this.state.context)),Nn(this,Ir,Pi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(m=X(this,ss).config).onError)==null?void 0:y.call(m,C,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,C,e,this.state.context)),await((w=(S=X(this,ss).config).onSettled)==null?void 0:w.call(S,void 0,C,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,C,e,this.state.context)),C}finally{Nn(this,Ir,Pi).call(this,{type:"error",error:C})}}finally{X(this,ss).runNext(this)}}},Mr=new WeakMap,ss=new WeakMap,ca=new WeakMap,Ir=new WeakSet,Pi=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cs.batch(()=>{X(this,Mr).forEach(s=>{s.onMutationUpdate(e)}),X(this,ss).notify({mutation:this,type:"updated",action:e})})},pk);function rQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var si,lr,gd,gk,wI=(gk=class extends Vg{constructor(t={}){super();yt(this,si);yt(this,lr);yt(this,gd);this.config=t,Ue(this,si,new Set),Ue(this,lr,new Map),Ue(this,gd,0)}build(t,s,r){const i=new sQ({mutationCache:this,mutationId:++zd(this,gd)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){X(this,si).add(t);const s=Ff(t);if(typeof s=="string"){const r=X(this,lr).get(s);r?r.push(t):X(this,lr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,si).delete(t)){const s=Ff(t);if(typeof s=="string"){const r=X(this,lr).get(s);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&X(this,lr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Ff(t);if(typeof s=="string"){const r=X(this,lr).get(s),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const s=Ff(t);if(typeof s=="string"){const i=(r=X(this,lr).get(s))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cs.batch(()=>{X(this,si).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,si).clear(),X(this,lr).clear()})}getAll(){return Array.from(X(this,si))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>rk(s,r))}findAll(t={}){return this.getAll().filter(s=>rk(t,s))}notify(t){cs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return cs.batch(()=>Promise.all(t.map(s=>s.continue().catch(or))))}},si=new WeakMap,lr=new WeakMap,gd=new WeakMap,gk);function Ff(n){var e;return(e=n.options.scope)==null?void 0:e.id}function ak(n){return{onFetch:(e,t)=>{var u,d,f,h,p;const s=e.options,r=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=pI(e.options,e.fetchOptions),b=async(x,S,w)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const k={client:e.client,queryKey:e.queryKey,pageParam:S,direction:w?"backward":"forward",meta:e.options.meta};m(k);const T=await y(k),{maxPages:C}=e.options,E=w?Xq:Gq;return{pages:E(x.pages,T,C),pageParams:E(x.pageParams,S,C)}};if(r&&i.length){const x=r==="backward",S=x?iQ:lk,w={pages:i,pageParams:o},k=S(s,w);a=await b(w,k,x)}else{const x=n??i.length;do{const S=l===0?o[0]??s.initialPageParam:lk(s,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function lk(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function iQ(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var Xt,Yi,qi,Pl,Dl,Qi,Rl,Nl,mk,oQ=(mk=class{constructor(e={}){yt(this,Xt);yt(this,Yi);yt(this,qi);yt(this,Pl);yt(this,Dl);yt(this,Qi);yt(this,Rl);yt(this,Nl);Ue(this,Xt,e.queryCache||new xI),Ue(this,Yi,e.mutationCache||new wI),Ue(this,qi,e.defaultOptions||{}),Ue(this,Pl,new Map),Ue(this,Dl,new Map),Ue(this,Qi,0)}mount(){zd(this,Qi)._++,X(this,Qi)===1&&(Ue(this,Rl,gI.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Xt).onFocus())})),Ue(this,Nl,$p.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Xt).onOnline())})))}unmount(){var e,t;zd(this,Qi)._--,X(this,Qi)===0&&((e=X(this,Rl))==null||e.call(this),Ue(this,Rl,void 0),(t=X(this,Nl))==null||t.call(this),Ue(this,Nl,void 0))}isFetching(e){return X(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,Yi).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=X(this,Xt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=X(this,Xt).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(nk(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return X(this,Xt).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=X(this,Xt).get(r.queryHash),o=i==null?void 0:i.state.data,a=Vq(t,o);if(a!==void 0)return X(this,Xt).build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return cs.batch(()=>X(this,Xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=X(this,Xt).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=X(this,Xt);cs.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=X(this,Xt),r={type:"active",...e};return cs.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=cs.batch(()=>X(this,Xt).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(or).catch(or)}invalidateQueries(e,t={}){return cs.batch(()=>{if(X(this,Xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const s={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(s,t)})}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=cs.batch(()=>X(this,Xt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,s);return s.throwOnError||(o=o.catch(or)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(or)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=X(this,Xt).build(this,t);return s.isStaleByTime(nk(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(or).catch(or)}fetchInfiniteQuery(e){return e.behavior=ak(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(or).catch(or)}ensureInfiniteQueryData(e){return e.behavior=ak(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $p.isOnline()?X(this,Yi).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Xt)}getMutationCache(){return X(this,Yi)}getDefaultOptions(){return X(this,qi)}setDefaultOptions(e){Ue(this,qi,e)}setQueryDefaults(e,t){X(this,Pl).set(fd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,Pl).values()],s={};return t.forEach(r=>{hd(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){X(this,Dl).set(fd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,Dl).values()];let s={};return t.forEach(r=>{hd(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,qi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ix(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ox&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,qi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,Xt).clear(),X(this,Yi).clear()}},Xt=new WeakMap,Yi=new WeakMap,qi=new WeakMap,Pl=new WeakMap,Dl=new WeakMap,Qi=new WeakMap,Rl=new WeakMap,Nl=new WeakMap,mk),aQ="VUE_QUERY_CLIENT";function lQ(n){const e=n?`:${n}`:"";return`${aQ}${e}`}function H0(n,e,t="",s=0){if(e){const r=e(n,t,s);if(r===void 0&&nn(n)||r!==void 0)return r}if(Array.isArray(n))return n.map((r,i)=>H0(r,e,String(i),s+1));if(typeof n=="object"&&uQ(n)){const r=Object.entries(n).map(([i,o])=>[i,H0(o,e,i,s+1)]);return Object.fromEntries(r)}return n}function cQ(n,e){return H0(n,e)}function nt(n,e=!1){return cQ(n,(t,s,r)=>{if(r===1&&s==="queryKey")return nt(t,!0);if(e&&dQ(t))return nt(t(),e);if(nn(t))return nt(te(t),e)})}function uQ(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function dQ(n){return typeof n=="function"}var fQ=class extends xI{find(n){return super.find(nt(n))}findAll(n={}){return super.findAll(nt(n))}},hQ=class extends wI{find(n){return super.find(nt(n))}findAll(n={}){return super.findAll(nt(n))}},pQ=class extends oQ{constructor(n={}){const e={defaultOptions:n.defaultOptions,queryCache:n.queryCache||new fQ,mutationCache:n.mutationCache||new hQ};super(e),this.isRestoring=B(!1)}isFetching(n={}){return super.isFetching(nt(n))}isMutating(n={}){return super.isMutating(nt(n))}getQueryData(n){return super.getQueryData(nt(n))}ensureQueryData(n){return super.ensureQueryData(nt(n))}getQueriesData(n){return super.getQueriesData(nt(n))}setQueryData(n,e,t={}){return super.setQueryData(nt(n),e,nt(t))}setQueriesData(n,e,t={}){return super.setQueriesData(nt(n),e,nt(t))}getQueryState(n){return super.getQueryState(nt(n))}removeQueries(n={}){return super.removeQueries(nt(n))}resetQueries(n={},e={}){return super.resetQueries(nt(n),nt(e))}cancelQueries(n={},e={}){return super.cancelQueries(nt(n),nt(e))}invalidateQueries(n={},e={}){const t=nt(n),s=nt(e);if(super.invalidateQueries({...t,refetchType:"none"},s),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return Br().then(()=>super.refetchQueries(r,s))}refetchQueries(n={},e={}){return super.refetchQueries(nt(n),nt(e))}fetchQuery(n){return super.fetchQuery(nt(n))}prefetchQuery(n){return super.prefetchQuery(nt(n))}fetchInfiniteQuery(n){return super.fetchInfiniteQuery(nt(n))}prefetchInfiniteQuery(n){return super.prefetchInfiniteQuery(nt(n))}setDefaultOptions(n){super.setDefaultOptions(nt(n))}setQueryDefaults(n,e){super.setQueryDefaults(nt(n),nt(e))}getQueryDefaults(n){return super.getQueryDefaults(nt(n))}setMutationDefaults(n,e){super.setMutationDefaults(nt(n),nt(e))}getMutationDefaults(n){return super.getMutationDefaults(nt(n))}},gQ={install:(n,e={})=>{const t=lQ(e.queryClientKey);let s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;s=new pQ(o)}Bd||s.mount();let r=()=>{};if(e.clientPersister){s.isRestoring.value=!0;const[o,a]=e.clientPersister(s);r=o,a.then(()=>{var l;s.isRestoring.value=!1,(l=e.clientPersisterOnSuccess)==null||l.call(e,s)})}const i=()=>{s.unmount(),r()};if(n.onUnmount)n.onUnmount(i);else{const o=n.unmount;n.unmount=function(){i(),o()}}n.provide(t,s)}};sC();const mQ=Ah(Q$);mQ.use(gQ).use(fI).mount("#app");export{FT as g};
